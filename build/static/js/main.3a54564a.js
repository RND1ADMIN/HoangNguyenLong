/*! For license information please see main.3a54564a.js.LICENSE.txt */
(()=>{var e={8210:function(e,t,r){var n;!function(){"use strict";var a,i=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),x={};function b(e,t){var r,n,a,i,s,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),o?_(t,h):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),i>(l=(s=Math.ceil(h/7))>l?s+1:l+1)&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((l=c.length)-(i=u.length)<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/p|0,c[i]%=p;for(r&&(c.unshift(r),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,o?_(t,h):t}function y(e,t,r){if(e!==~~e||e<t||e>r)throw Error(c+e)}function v(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(i+=T(r)),i+=n;(r=7-(n=(s=e[t])+"").length)&&(i+=T(r))}else if(0===s)return"0";for(;s%10===0;)s/=10;return i+s}x.absoluteValue=x.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},x.comparedTo=x.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,r=(n=i.d.length)<(a=e.d.length)?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1},x.decimalPlaces=x.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},x.dividedBy=x.div=function(e){return N(this,new this.constructor(e))},x.dividedToIntegerBy=x.idiv=function(e){var t=this.constructor;return _(N(this,new t(e),0,1),t.precision)},x.equals=x.eq=function(e){return!this.cmp(e)},x.exponent=function(){return j(this)},x.greaterThan=x.gt=function(e){return this.cmp(e)>0},x.greaterThanOrEqualTo=x.gte=function(e){return this.cmp(e)>=0},x.isInteger=x.isint=function(){return this.e>this.d.length-2},x.isNegative=x.isneg=function(){return this.s<0},x.isPositive=x.ispos=function(){return this.s>0},x.isZero=function(){return 0===this.s},x.lessThan=x.lt=function(e){return this.cmp(e)<0},x.lessThanOrEqualTo=x.lte=function(e){return this.cmp(e)<1},x.logarithm=x.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(a))throw Error(l+"NaN");if(r.s<1)throw Error(l+(r.s?"NaN":"-Infinity"));return r.eq(a)?new n(0):(o=!1,t=N(S(r,s),S(e,s),s),o=!0,_(t,i))},x.minus=x.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E(t,e):b(t,(e.s=-e.s,e))},x.modulo=x.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(l+"NaN");return r.s?(o=!1,t=N(r,e,0,1).times(e),o=!0,r.minus(t)):_(new n(r),a)},x.naturalExponential=x.exp=function(){return w(this)},x.naturalLogarithm=x.ln=function(){return S(this)},x.negated=x.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},x.plus=x.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?b(t,e):E(t,(e.s=-e.s,e))},x.precision=x.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=j(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},x.squareRoot=x.sqrt=function(){var e,t,r,n,a,i,s,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=j(c),o=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=v(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),n=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new u(a.toString()),a=s=(r=u.precision)+3;;)if(n=(i=n).plus(N(c,i,s+2)).times(.5),v(i.d).slice(0,s)===(t=v(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&"4999"==t){if(_(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if("9999"!=t)break;s+=4}return o=!0,_(n,r)},x.times=x.mul=function(e){var t,r,n,a,i,s,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,(c=f.length)<(u=m.length)&&(i=f,f=m,m=i,s=c,c=u,u=s),i=[],n=s=c+u;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*f[a-n-1]+t,i[a--]=l%p|0,t=l/p|0;i[a]=(i[a]+t)%p|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,o?_(e,h.precision):e},x.toDecimalPlaces=x.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(y(e,0,i),void 0===t?t=n.rounding:y(t,0,8),_(r,e+j(r)+1,t))},x.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=C(n,!0):(y(e,0,i),void 0===t?t=a.rounding:y(t,0,8),r=C(n=_(new a(n),e+1,t),!0,e+1)),r},x.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return void 0===e?C(a):(y(e,0,i),void 0===t?t=s.rounding:y(t,0,8),r=C((n=_(new s(a),e+j(a)+1,t)).abs(),!1,e+j(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},x.toInteger=x.toint=function(){var e=this,t=e.constructor;return _(new t(e),j(e)+1,t.rounding)},x.toNumber=function(){return+this},x.toPower=x.pow=function(e){var t,r,n,i,s,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(n=h.precision,e.eq(a))return _(u,n);if(c=(t=e.e)>=(r=e.d.length-1),s=u.s,c){if((r=f<0?-f:f)<=m){for(i=new h(a),t=Math.ceil(n/7+4),o=!1;r%2&&A((i=i.times(u)).d,t),0!==(r=d(r/2));)A((u=u.times(u)).d,t);return o=!0,e.s<0?new h(a).div(i):_(i,n)}}else if(s<0)throw Error(l+"NaN");return s=s<0&&1&e.d[Math.max(t,r)]?-1:1,u.s=1,o=!1,i=e.times(S(u,n+12)),o=!0,(i=w(i)).s=s,i},x.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return void 0===e?n=C(a,(r=j(a))<=s.toExpNeg||r>=s.toExpPos):(y(e,1,i),void 0===t?t=s.rounding:y(t,0,8),n=C(a=_(new s(a),e,t),e<=(r=j(a))||r<=s.toExpNeg,e)),n},x.toSignificantDigits=x.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(y(e,1,i),void 0===t?t=r.rounding:y(t,0,8)),_(new r(this),e,t)},x.toString=x.valueOf=x.val=x.toJSON=function(){var e=this,t=j(e),r=e.constructor;return C(e,t<=r.toExpNeg||t>=r.toExpPos)};var N=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%p|0,n=r/p|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,i;if(r!=n)i=r>n?1:-1;else for(a=i=0;a<r;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*p+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,i,s){var o,c,u,d,h,f,m,g,x,b,y,v,N,w,k,T,S,O,E=n.constructor,C=n.s==a.s?1:-1,A=n.d,I=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(l+"Division by zero");for(c=n.e-a.e,S=I.length,k=A.length,g=(m=new E(C)).d=[],u=0;I[u]==(A[u]||0);)++u;if(I[u]>(A[u]||0)&&--c,(v=null==i?i=E.precision:s?i+(j(n)-j(a))+1:i)<0)return new E(0);if(v=v/7+2|0,u=0,1==S)for(d=0,I=I[0],v++;(u<k||d)&&v--;u++)N=d*p+(A[u]||0),g[u]=N/I|0,d=N%I|0;else{for((d=p/(I[0]+1)|0)>1&&(I=e(I,d),A=e(A,d),S=I.length,k=A.length),w=S,b=(x=A.slice(0,S)).length;b<S;)x[b++]=0;(O=I.slice()).unshift(0),T=I[0],I[1]>=p/2&&++T;do{d=0,(o=t(I,x,S,b))<0?(y=x[0],S!=b&&(y=y*p+(x[1]||0)),(d=y/T|0)>1?(d>=p&&(d=p-1),1==(o=t(h=e(I,d),x,f=h.length,b=x.length))&&(d--,r(h,S<f?O:I,f))):(0==d&&(o=d=1),h=I.slice()),(f=h.length)<b&&h.unshift(0),r(x,h,b),-1==o&&(o=t(I,x,S,b=x.length))<1&&(d++,r(x,S<b?O:I,b)),b=x.length):0===o&&(d++,x=[0]),g[u++]=d,o&&x[0]?x[b++]=A[w]||0:(x=[A[w]],b=1)}while((w++<k||void 0!==x[0])&&v--)}return g[0]||g.shift(),m.e=c,_(m,s?i+j(m)+1:i)}}();function w(e,t){var r,n,i,s,l,c=0,d=0,f=e.constructor,p=f.precision;if(j(e)>16)throw Error(u+j(e));if(!e.s)return new f(a);for(null==t?(o=!1,l=p):l=t,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,r=n=i=new f(a),f.precision=l;;){if(n=_(n.times(e),l),r=r.times(++c),v((s=i.plus(N(n,r,l))).d).slice(0,l)===v(i.d).slice(0,l)){for(;d--;)i=_(i.times(i),l);return f.precision=p,null==t?(o=!0,_(i,p)):i}i=s}}function j(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function k(e,t,r){if(t>e.LN10.sd())throw o=!0,r&&(e.precision=r),Error(l+"LN10 precision limit exceeded");return _(new e(e.LN10),t)}function T(e){for(var t="";e--;)t+="0";return t}function S(e,t){var r,n,i,s,c,u,d,h,f,p=1,m=e,g=m.d,x=m.constructor,b=x.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new x(0);if(null==t?(o=!1,h=b):h=t,m.eq(10))return null==t&&(o=!0),k(x,h);if(h+=10,x.precision=h,n=(r=v(g)).charAt(0),s=j(m),!(Math.abs(s)<15e14))return d=k(x,h+2,b).times(s+""),m=S(new x(n+"."+r.slice(1)),h-10).plus(d),x.precision=b,null==t?(o=!0,_(m,b)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=v((m=m.times(e)).d)).charAt(0),p++;for(s=j(m),n>1?(m=new x("0."+r),s++):m=new x(n+"."+r.slice(1)),u=c=m=N(m.minus(a),m.plus(a),h),f=_(m.times(m),h),i=3;;){if(c=_(c.times(f),h),v((d=u.plus(N(c,new x(i),h))).d).slice(0,h)===v(u.d).slice(0,h))return u=u.times(2),0!==s&&(u=u.plus(k(x,h+2,b).times(s+""))),u=N(u,new x(p),h),x.precision=b,null==t?(o=!0,_(u,b)):u;u=d,i+=2}}function O(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=d(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),o&&(e.e>g||e.e<-g))throw Error(u+r)}else e.s=0,e.e=0,e.d=[0];return e}function _(e,t,r){var n,a,i,s,l,c,f,m,x=e.d;for(s=1,i=x[0];i>=10;i/=10)s++;if((n=t-s)<0)n+=7,a=t,f=x[m=0];else{if((m=Math.ceil((n+1)/7))>=(i=x.length))return e;for(f=i=x[m],s=1;i>=10;i/=10)s++;a=(n%=7)-7+s}if(void 0!==r&&(l=f/(i=h(10,s-a-1))%10|0,c=t<0||void 0!==x[m+1]||f%i,c=r<4?(l||c)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||c||6==r&&(n>0?a>0?f/h(10,s-a):0:x[m-1])%10&1||r==(e.s<0?8:7))),t<1||!x[0])return c?(i=j(e),x.length=1,t=t-i-1,x[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(0==n?(x.length=m,i=1,m--):(x.length=m+1,i=h(10,7-n),x[m]=a>0?(f/h(10,s-a)%h(10,a)|0)*i:0),c)for(;;){if(0==m){(x[0]+=i)==p&&(x[0]=1,++e.e);break}if(x[m]+=i,x[m]!=p)break;x[m--]=0,i=1}for(n=x.length;0===x[--n];)x.pop();if(o&&(e.e>g||e.e<-g))throw Error(u+j(e));return e}function E(e,t){var r,n,a,i,s,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),o?_(t,m):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n){for((d=s<0)?(r=c,s=-s,l=h.length):(r=h,n=u,l=c.length),s>(a=Math.max(Math.ceil(m/7),l)+2)&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}s=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>s;){if(c[--a]<h[a]){for(i=a;i&&0===c[--i];)c[i]=p-1;--c[i],c[a]+=p}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,o?_(t,m):t):new f(0)}function C(e,t,r){var n,a=j(e),i=v(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+T(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+T(-a-1)+i,r&&(n=r-s)>0&&(i+=T(n))):a>=s?(i+=T(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+T(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=T(n))),e.s<0?"-"+i:i}function A(e,t){if(e.length>t)return e.length=t,!0}function I(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,r,n,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(d(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(c+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(c+r+": "+n);this[r]=new this(n)}return this}s=function e(t){var r,n,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):O(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);O(t,e)}if(i.prototype=x,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=I,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return i.config(t),i}(s),s.default=s.Decimal=s,a=new s(1),void 0===(n=function(){return s}.call(t,r,t,e))||(e.exports=n)}()},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,n,i,s){if("function"!==typeof n)throw new TypeError("The listener must be a function");var o=new a(n,i||e,s),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,i=n.length,s=new Array(i);a<i;a++)s[a]=n[a].fn;return s},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,a,i,s){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,a),!0;case 5:return u.fn.call(u.context,t,n,a,i),!0;case 6:return u.fn.call(u.context,t,n,a,i,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,a){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||a&&!o.once||n&&o.context!==n||s(this,i);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||a&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},2450:function(e,t,r){var n,a,i;a=[],void 0===(i="function"===typeof(n=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){l(n.response,t,r)},n.onerror=function(){console.error("could not download file")},n.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r.g&&r.g.global===r.g?r.g:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,t,r){var o=s.URL||s.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):a(l.href)?n(e,t,r):i(l,l.target="_blank")):(l.href=o.createObjectURL(e),setTimeout((function(){o.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,r,s){if(r=r||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,s),r);else if(a(e))n(e,r,s);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout((function(){i(o)}))}}:function(e,t,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,r);var i="application/octet-stream"===e.type,l=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&l||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},u.readAsDataURL(e)}else{var d=s.URL||s.webkitURL,h=d.createObjectURL(e);a?a.location=h:location.href=h,a=null,setTimeout((function(){d.revokeObjectURL(h)}),4e4)}});s.saveAs=l.saveAs=l,e.exports=l})?n.apply(t,a):n)||(e.exports=i)},219:(e,t,r)=>{"use strict";var n=r(3763),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return n.isMemo(e)?s:o[e.$$typeof]||a}o[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[n.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(p){var a=f(r);a&&a!==p&&e(t,a,n)}var s=u(r);d&&(s=s.concat(d(r)));for(var o=l(t),m=l(r),g=0;g<s.length;++g){var x=s[g];if(!i[x]&&(!n||!n[x])&&(!m||!m[x])&&(!o||!o[x])){var b=h(r,x);try{c(t,x,b)}catch(y){}}}}return t}},4983:(e,t)=>{"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,o=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,x=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,v=r?Symbol.for("react.scope"):60119;function N(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case d:case i:case o:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case a:return t}}}function w(e){return N(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=n,t.ForwardRef=h,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=a,t.Profiler=o,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return w(e)||N(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return N(e)===c},t.isContextProvider=function(e){return N(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return N(e)===h},t.isFragment=function(e){return N(e)===i},t.isLazy=function(e){return N(e)===g},t.isMemo=function(e){return N(e)===m},t.isPortal=function(e){return N(e)===a},t.isProfiler=function(e){return N(e)===o},t.isStrictMode=function(e){return N(e)===s},t.isSuspense=function(e){return N(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===o||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===b||e.$$typeof===y||e.$$typeof===v||e.$$typeof===x)},t.typeOf=N},3763:(e,t,r)=>{"use strict";e.exports=r(4983)},9298:(e,t,r)=>{"use strict";var n=h(r(5865)),a=h(r(9224)),i=h(r(4238)),s=h(r(7908)),o=h(r(2922)),l=h(r(799)),c=h(r(1466)),u=r(3530),d=h(r(2778));function h(e){return e&&e.__esModule?e:{default:e}}var f=function(){},p=function(e,t,r){var n=new f;if("undefined"===typeof e)throw Error("No element to render on was provided.");return n._renderProperties=(0,o.default)(e),n._encodings=[],n._options=d.default,n._errorHandler=new c.default(n),"undefined"!==typeof t&&((r=r||{}).format||(r.format=b()),n.options(r)[r.format](t,r).render()),n};for(var m in p.getModule=function(e){return n.default[e]},n.default)n.default.hasOwnProperty(m)&&g(n.default,m);function g(e,t){f.prototype[t]=f.prototype[t.toUpperCase()]=f.prototype[t.toLowerCase()]=function(r,n){var i=this;return i._errorHandler.wrapBarcodeCall((function(){n.text="undefined"===typeof n.text?void 0:""+n.text;var s=(0,a.default)(i._options,n);s=(0,l.default)(s);var o=e[t],c=x(r,o,s);return i._encodings.push(c),i}))}}function x(e,t,r){var n=new t(e=""+e,r);if(!n.valid())throw new u.InvalidInputException(n.constructor.name,e);var s=n.encode();s=(0,i.default)(s);for(var o=0;o<s.length;o++)s[o].options=(0,a.default)(r,s[o].options);return s}function b(){return n.default.CODE128?"CODE128":Object.keys(n.default)[0]}function y(e,t,r){t=(0,i.default)(t);for(var n=0;n<t.length;n++)t[n].options=(0,a.default)(r,t[n].options),(0,s.default)(t[n].options);(0,s.default)(r),new(0,e.renderer)(e.element,t,r).render(),e.afterRender&&e.afterRender()}f.prototype.options=function(e){return this._options=(0,a.default)(this._options,e),this},f.prototype.blank=function(e){var t=new Array(e+1).join("0");return this._encodings.push({data:t}),this},f.prototype.init=function(){var e;if(this._renderProperties)for(var t in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){e=this._renderProperties[t];var r=(0,a.default)(this._options,e.options);"auto"==r.format&&(r.format=b()),this._errorHandler.wrapBarcodeCall((function(){var t=x(r.value,n.default[r.format.toUpperCase()],r);y(e,t,r)}))}},f.prototype.render=function(){if(!this._renderProperties)throw new u.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)y(this._renderProperties[e],this._encodings,this._options);else y(this._renderProperties,this._encodings,this._options);return this},f.prototype._defaults=d.default,"undefined"!==typeof window&&(window.JsBarcode=p),"undefined"!==typeof jQuery&&(jQuery.fn.JsBarcode=function(e,t){var r=[];return jQuery(this).each((function(){r.push(this)})),p(r,e,t)}),e.exports=p},5301:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.text=r.text||t,this.options=r}},6190:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(5301),s=(n=i)&&n.__esModule?n:{default:n},o=r(1029);var l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.substring(1),r));return n.bytes=e.split("").map((function(e){return e.charCodeAt(0)})),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var e=this.bytes,r=e.shift()-105,n=o.SET_BY_CODE[r];if(void 0===n)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&e.unshift(o.FNC1);var a=t.next(e,1,n);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:t.getBar(r)+a.result+t.getBar((a.checksum+r)%o.MODULO)+t.getBar(o.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var e=this.options.ean128||!1;return"string"===typeof e&&(e="true"===e.toLowerCase()),e}}],[{key:"getBar",value:function(e){return o.BARS[e]?o.BARS[e].toString():""}},{key:"correctIndex",value:function(e,t){if(t===o.SET_A){var r=e.shift();return r<32?r+64:r-32}return t===o.SET_B?e.shift()-32:10*(e.shift()-48)+e.shift()-48}},{key:"next",value:function(e,r,n){if(!e.length)return{result:"",checksum:0};var a=void 0,i=void 0;if(e[0]>=200){i=e.shift()-105;var s=o.SWAP[i];void 0!==s?a=t.next(e,r+1,s):(n!==o.SET_A&&n!==o.SET_B||i!==o.SHIFT||(e[0]=n===o.SET_A?e[0]>95?e[0]-96:e[0]:e[0]<32?e[0]+96:e[0]),a=t.next(e,r+1,n))}else i=t.correctIndex(e,n),a=t.next(e,r+1,n);var l=i*r;return{result:t.getBar(i)+a.result,checksum:l+a.checksum}}}]),t}(s.default);t.default=l},7587:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(6190),s=(n=i)&&n.__esModule?n:{default:n},o=r(1029);var l=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.A_START_CHAR+e,r))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"valid",value:function(){return new RegExp("^"+o.A_CHARS+"+$").test(this.data)}}]),t}(s.default);t.default=l},2182:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(6190),s=(n=i)&&n.__esModule?n:{default:n},o=r(1029);var l=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.B_START_CHAR+e,r))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"valid",value:function(){return new RegExp("^"+o.B_CHARS+"+$").test(this.data)}}]),t}(s.default);t.default=l},2901:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(6190),s=(n=i)&&n.__esModule?n:{default:n},o=r(1029);var l=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.C_START_CHAR+e,r))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"valid",value:function(){return new RegExp("^"+o.C_CHARS+"+$").test(this.data)}}]),t}(s.default);t.default=l},7754:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(6190)),a=i(r(6441));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var o=function(e){function t(e,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),/^[\x00-\x7F\xC8-\xD3]+$/.test(e))var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,a.default)(e),r));else n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return s(n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n.default);t.default=o},6441:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1029),a=function(e){return e.match(new RegExp("^"+n.A_CHARS+"*"))[0].length},i=function(e){return e.match(new RegExp("^"+n.B_CHARS+"*"))[0].length},s=function(e){return e.match(new RegExp("^"+n.C_CHARS+"*"))[0]};function o(e,t){var r=t?n.A_CHARS:n.B_CHARS,a=e.match(new RegExp("^("+r+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(a)return a[1]+String.fromCharCode(204)+l(e.substring(a[1].length));var i=e.match(new RegExp("^"+r+"+"))[0];return i.length===e.length?e:i+String.fromCharCode(t?205:206)+o(e.substring(i.length),!t)}function l(e){var t=s(e),r=t.length;if(r===e.length)return e;e=e.substring(r);var n=a(e)>=i(e);return t+String.fromCharCode(n?206:205)+o(e,n)}t.default=function(e){var t=void 0;if(s(e).length>=2)t=n.C_START_CHAR+l(e);else{var r=a(e)>i(e);t=(r?n.A_START_CHAR:n.B_START_CHAR)+o(e,r)}return t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,(function(e,t){return String.fromCharCode(203)+t}))}},1029:(e,t)=>{"use strict";var r;function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var a=t.SET_A=0,i=t.SET_B=1,s=t.SET_C=2,o=(t.SHIFT=98,t.START_A=103),l=t.START_B=104,c=t.START_C=105;t.MODULO=103,t.STOP=106,t.FNC1=207,t.SET_BY_CODE=(n(r={},o,a),n(r,l,i),n(r,c,s),r),t.SWAP={101:a,100:i,99:s},t.A_START_CHAR=String.fromCharCode(208),t.B_START_CHAR=String.fromCharCode(209),t.C_START_CHAR=String.fromCharCode(210),t.A_CHARS="[\0-_\xc8-\xcf]",t.B_CHARS="[ -\x7f\xc8-\xcf]",t.C_CHARS="(\xcf*[0-9]{2}\xcf*)",t.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},1616:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CODE128C=t.CODE128B=t.CODE128A=t.CODE128=void 0;var n=o(r(7754)),a=o(r(7587)),i=o(r(2182)),s=o(r(2901));function o(e){return e&&e.__esModule?e:{default:e}}t.CODE128=n.default,t.CODE128A=a.default,t.CODE128B=i.default,t.CODE128C=s.default},5179:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CODE39=void 0;var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(5301);var s=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=e.toUpperCase(),r.mod43&&(e+=function(e){return o[e]}(function(e){for(var t=0,r=0;r<e.length;r++)t+=u(e[r]);return t%=43}(e))),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"encode",value:function(){for(var e=c("*"),t=0;t<this.data.length;t++)e+=c(this.data[t])+"0";return{data:e+=c("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),t}(((n=i)&&n.__esModule?n:{default:n}).default),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],l=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function c(e){return function(e){return l[e].toString(2)}(u(e))}function u(e){return o.indexOf(e)}t.CODE39=s},2146:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(9938),s=r(5301);var o=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var e=this.data.split("").flatMap((function(e){return i.MULTI_SYMBOLS[e]||e})),r=e.map((function(e){return t.getEncoding(e)})).join(""),n=t.checksum(e,20),a=t.checksum(e.concat(n),15);return{text:this.text,data:t.getEncoding("\xff")+r+t.getEncoding(n)+t.getEncoding(a)+t.getEncoding("\xff")+"1"}}}],[{key:"getEncoding",value:function(e){return i.BINARIES[t.symbolValue(e)]}},{key:"getSymbol",value:function(e){return i.SYMBOLS[e]}},{key:"symbolValue",value:function(e){return i.SYMBOLS.indexOf(e)}},{key:"checksum",value:function(e,r){var n=e.slice().reverse().reduce((function(e,n,a){var i=a%r+1;return e+t.symbolValue(n)*i}),0);return t.getSymbol(n%47)}}]),t}(((n=s)&&n.__esModule?n:{default:n}).default);t.default=o},4440:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(2146);var s=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),t}(((n=i)&&n.__esModule?n:{default:n}).default);t.default=s},9938:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","\xff"],t.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],t.MULTI_SYMBOLS={"\0":["(%)","U"],"\x01":["($)","A"],"\x02":["($)","B"],"\x03":["($)","C"],"\x04":["($)","D"],"\x05":["($)","E"],"\x06":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"\t":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"\x0e":["($)","N"],"\x0f":["($)","O"],"\x10":["($)","P"],"\x11":["($)","Q"],"\x12":["($)","R"],"\x13":["($)","S"],"\x14":["($)","T"],"\x15":["($)","U"],"\x16":["($)","V"],"\x17":["($)","W"],"\x18":["($)","X"],"\x19":["($)","Y"],"\x1a":["($)","Z"],"\x1b":["(%)","A"],"\x1c":["(%)","B"],"\x1d":["(%)","C"],"\x1e":["(%)","D"],"\x1f":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"\x7f":["(%)","T"]}},8495:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CODE93FullASCII=t.CODE93=void 0;var n=i(r(2146)),a=i(r(4440));function i(e){return e&&e.__esModule?e:{default:e}}t.CODE93=n.default,t.CODE93FullASCII=a.default},9011:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(9918),i=s(r(9007));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.fontSize=!r.flat&&r.fontSize>10*r.width?10*r.width:r.fontSize,n.guardHeight=r.height+n.fontSize/2+r.textMargin,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(e,t){return this.text.substr(e,t)}},{key:"leftEncode",value:function(e,t){return(0,i.default)(e,t)}},{key:"rightText",value:function(e,t){return this.text.substr(e,t)}},{key:"rightEncode",value:function(e,t){return(0,i.default)(e,t)}},{key:"encodeGuarded",value:function(){var e={fontSize:this.fontSize},t={height:this.guardHeight};return[{data:a.SIDE_BIN,options:t},{data:this.leftEncode(),text:this.leftText(),options:e},{data:a.MIDDLE_BIN,options:t},{data:this.rightEncode(),text:this.rightText(),options:e},{data:a.SIDE_BIN,options:t}]}},{key:"encodeFlat",value:function(){return{data:[a.SIDE_BIN,this.leftEncode(),a.MIDDLE_BIN,this.rightEncode(),a.SIDE_BIN].join(""),text:this.text}}}]),t}(s(r(5301)).default);t.default=o},2179:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},s=r(9918),o=r(9011),l=(n=o)&&n.__esModule?n:{default:n};var c=function(e){return(10-e.substr(0,12).split("").map((function(e){return+e})).reduce((function(e,t,r){return r%2?e+3*t:e+t}),0)%10)%10},u=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{12}$/)&&(e+=c(e));var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.lastChar=r.lastChar,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===c(this.data)}},{key:"leftText",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var e=this.data.substr(1,6),r=s.EAN13_STRUCTURE[this.data[0]];return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,e,r)}},{key:"rightText",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var e=this.data.substr(7,6);return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,e,"RRRRRR")}},{key:"encodeGuarded",value:function(){var e=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(e.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(e.push({data:"00"}),e.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),e}}]),t}(l.default);t.default=u},917:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(9918),i=s(r(9007));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var e=a.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,i.default)(this.data,e,"01"),text:this.text}}}]),t}(s(r(5301)).default);t.default=o},2352:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(9918),i=o(r(9007)),s=o(r(5301));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var e,t=a.EAN5_STRUCTURE[(e=this.data,e.split("").map((function(e){return+e})).reduce((function(e,t,r){return r%2?e+9*t:e+3*t}),0)%10)];return{data:"1011"+(0,i.default)(this.data,t,"01"),text:this.text}}}]),t}(s.default);t.default=l},6843:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(n):void 0},s=r(9011),o=(n=s)&&n.__esModule?n:{default:n};var l=function(e){return(10-e.substr(0,7).split("").map((function(e){return+e})).reduce((function(e,t,r){return r%2?e+t:e+3*t}),0)%10)%10},c=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{7}$/)&&(e+=l(e)),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===l(this.data)}},{key:"leftText",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var e=this.data.substr(0,4);return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,e,"LLLL")}},{key:"rightText",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var e=this.data.substr(4,4);return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,e,"RRRR")}}]),t}(o.default);t.default=c},4709:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.checksum=o;var a=i(r(9007));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{11}$/)&&(e+=o(e));var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.displayValue=r.displayValue,r.fontSize>10*r.width?n.fontSize=10*r.width:n.fontSize=r.fontSize,n.guardHeight=r.height+n.fontSize/2+r.textMargin,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==o(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=(0,a.default)(this.data.substr(0,6),"LLLLLL"),e+="01010",e+=(0,a.default)(this.data.substr(6,6),"RRRRRR"),{data:e+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101"+(0,a.default)(this.data[0],"L"),options:{height:this.guardHeight}}),e.push({data:(0,a.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),e.push({data:"01010",options:{height:this.guardHeight}}),e.push({data:(0,a.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),e.push({data:(0,a.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),e}}]),t}(i(r(5301)).default);function o(e){var t,r=0;for(t=1;t<11;t+=2)r+=parseInt(e[t]);for(t=0;t<11;t+=2)r+=3*parseInt(e[t]);return(10-r%10)%10}t.default=s},422:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=o(r(9007)),i=o(r(5301)),s=r(4709);function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],u=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],d=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if(n.isValid=!1,-1!==e.search(/^[0-9]{6}$/))n.middleDigits=e,n.upcA=h(e,"0"),n.text=r.text||""+n.upcA[0]+e+n.upcA[n.upcA.length-1],n.isValid=!0;else{if(-1===e.search(/^[01][0-9]{7}$/))return l(n);if(n.middleDigits=e.substring(1,e.length-1),n.upcA=h(n.middleDigits,e[0]),n.upcA[n.upcA.length-1]!==e[e.length-1])return l(n);n.isValid=!0}return n.displayValue=r.displayValue,r.fontSize>10*r.width?n.fontSize=10*r.width:n.fontSize=r.fontSize,n.guardHeight=r.height+n.fontSize/2+r.textMargin,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=this.encodeMiddleDigits(),{data:e+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101",options:{height:this.guardHeight}}),e.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),e.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),e}},{key:"encodeMiddleDigits",value:function(){var e=this.upcA[0],t=this.upcA[this.upcA.length-1],r=u[parseInt(t)][parseInt(e)];return(0,a.default)(this.middleDigits,r)}}]),t}(i.default);function h(e,t){for(var r=parseInt(e[e.length-1]),n=c[r],a="",i=0,o=0;o<n.length;o++){var l=n[o];a+="X"===l?e[i++]:l}return""+(a=""+t+a)+(0,s.checksum)(a)}t.default=d},9918:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SIDE_BIN="101",t.MIDDLE_BIN="01010",t.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},t.EAN2_STRUCTURE=["LL","LG","GL","GG"],t.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],t.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},9007:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9918);t.default=function(e,t,r){var a=e.split("").map((function(e,r){return n.BINARIES[t[r]]})).map((function(t,r){return t?t[e[r]]:""}));if(r){var i=e.length-1;a=a.map((function(e,t){return t<i?e+r:e}))}return a.join("")}},8859:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPCE=t.UPC=t.EAN2=t.EAN5=t.EAN8=t.EAN13=void 0;var n=c(r(2179)),a=c(r(6843)),i=c(r(2352)),s=c(r(917)),o=c(r(4709)),l=c(r(422));function c(e){return e&&e.__esModule?e:{default:e}}t.EAN13=n.default,t.EAN8=a.default,t.EAN5=i.default,t.EAN2=s.default,t.UPC=o.default,t.UPCE=l.default},1257:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericBarcode=void 0;var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(5301);var s=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(((n=i)&&n.__esModule?n:{default:n}).default);t.GenericBarcode=s},5310:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(7626),s=r(5301);var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var e=this,t=this.data.match(/.{2}/g).map((function(t){return e.encodePair(t)})).join("");return{data:i.START_BIN+t+i.END_BIN,text:this.text}}},{key:"encodePair",value:function(e){var t=i.BINARIES[e[1]];return i.BINARIES[e[0]].split("").map((function(e,r){return("1"===e?"111":"1")+("1"===t[r]?"000":"0")})).join("")}}]),t}(((n=s)&&n.__esModule?n:{default:n}).default);t.default=o},8807:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(5310),s=(n=i)&&n.__esModule?n:{default:n};var o=function(e){var t=e.substr(0,13).split("").map((function(e){return parseInt(e,10)})).reduce((function(e,t,r){return e+t*(3-r%2*2)}),0);return 10*Math.ceil(t/10)-t},l=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{13}$/)&&(e+=o(e)),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===o(this.data)}}]),t}(s.default);t.default=l},7626:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.START_BIN="1010",t.END_BIN="11101",t.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},3159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITF14=t.ITF=void 0;var n=i(r(5310)),a=i(r(8807));function i(e){return e&&e.__esModule?e:{default:e}}t.ITF=n.default,t.ITF14=a.default},3498:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(5301);var s=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"encode",value:function(){for(var e="110",t=0;t<this.data.length;t++){var r=parseInt(this.data[t]).toString(2);r=o(r,4-r.length);for(var n=0;n<r.length;n++)e+="0"==r[n]?"100":"110"}return{data:e+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),t}(((n=i)&&n.__esModule?n:{default:n}).default);function o(e,t){for(var r=0;r<t;r++)e="0"+e;return e}t.default=s},4863:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(3498),i=(n=a)&&n.__esModule?n:{default:n},s=r(8997);var o=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,s.mod10)(e),r))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=o},5938:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(3498),i=(n=a)&&n.__esModule?n:{default:n},s=r(8997);var o=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e+=(0,s.mod10)(e),e+=(0,s.mod10)(e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=o},1704:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(3498),i=(n=a)&&n.__esModule?n:{default:n},s=r(8997);var o=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,s.mod11)(e),r))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=o},1573:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(3498),i=(n=a)&&n.__esModule?n:{default:n},s=r(8997);var o=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e+=(0,s.mod11)(e),e+=(0,s.mod10)(e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=o},8997:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mod10=function(e){for(var t=0,r=0;r<e.length;r++){var n=parseInt(e[r]);(r+e.length)%2===0?t+=n:t+=2*n%10+Math.floor(2*n/10)}return(10-t%10)%10},t.mod11=function(e){for(var t=0,r=[2,3,4,5,6,7],n=0;n<e.length;n++){var a=parseInt(e[e.length-1-n]);t+=r[n%r.length]*a}return(11-t%11)%11}},6825:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MSI1110=t.MSI1010=t.MSI11=t.MSI10=t.MSI=void 0;var n=l(r(3498)),a=l(r(4863)),i=l(r(1704)),s=l(r(5938)),o=l(r(1573));function l(e){return e&&e.__esModule?e:{default:e}}t.MSI=n.default,t.MSI10=a.default,t.MSI11=i.default,t.MSI1010=s.default,t.MSI1110=o.default},2956:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codabar=void 0;var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(5301);var s=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),0===e.search(/^[0-9\-\$\:\.\+\/]+$/)&&(e="A"+e+"A");var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.toUpperCase(),r));return n.text=n.options.text||n.text.replace(/[A-D]/g,""),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var e=[],t=this.getEncodings(),r=0;r<this.data.length;r++)e.push(t[this.data.charAt(r)]),r!==this.data.length-1&&e.push("0");return{text:this.text,data:e.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(((n=i)&&n.__esModule?n:{default:n}).default);t.codabar=s},5865:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5179),a=r(1616),i=r(8859),s=r(3159),o=r(6825),l=r(2546),c=r(2956),u=r(8495),d=r(1257);t.default={CODE39:n.CODE39,CODE128:a.CODE128,CODE128A:a.CODE128A,CODE128B:a.CODE128B,CODE128C:a.CODE128C,EAN13:i.EAN13,EAN8:i.EAN8,EAN5:i.EAN5,EAN2:i.EAN2,UPC:i.UPC,UPCE:i.UPCE,ITF14:s.ITF14,ITF:s.ITF,MSI:o.MSI,MSI10:o.MSI10,MSI11:o.MSI11,MSI1010:o.MSI1010,MSI1110:o.MSI1110,pharmacode:l.pharmacode,codabar:c.codabar,CODE93:u.CODE93,CODE93FullASCII:u.CODE93FullASCII,GenericBarcode:d.GenericBarcode}},2546:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pharmacode=void 0;var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(5301);var s=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.number=parseInt(e,10),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"encode",value:function(){for(var e=this.number,t="";!isNaN(e)&&0!=e;)e%2===0?(t="11100"+t,e=(e-2)/2):(t="100"+t,e=(e-1)/2);return{data:t=t.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(((n=i)&&n.__esModule?n:{default:n}).default);t.pharmacode=s},1466:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t}return r(e,[{key:"handleCatch",value:function(e){if("InvalidInputException"!==e.name)throw e;if(this.api._options.valid===this.api._defaults.valid)throw e.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(e){try{var t=e.apply(void 0,arguments);return this.api._options.valid(!0),t}catch(r){return this.handleCatch(r),this.api}}}]),e}();t.default=n},3530:(e,t)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(t,a){r(this,e);var i=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidInputException",i.symbology=t,i.input=a,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return a(e,Error),e}(),s=function(){function e(){r(this,e);var t=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.name="InvalidElementException",t.message="Not supported type to render on",t}return a(e,Error),e}(),o=function(){function e(){r(this,e);var t=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.name="NoElementException",t.message="No element to render on.",t}return a(e,Error),e}();t.InvalidInputException=i,t.InvalidElementException=s,t.NoElementException=o},7908:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}},7305:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(799)),a=i(r(2778));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t={};for(var r in a.default)a.default.hasOwnProperty(r)&&(e.hasAttribute("jsbarcode-"+r.toLowerCase())&&(t[r]=e.getAttribute("jsbarcode-"+r.toLowerCase())),e.hasAttribute("data-"+r.toLowerCase())&&(t[r]=e.getAttribute("data-"+r.toLowerCase())));return t.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),t=(0,n.default)(t)}},2922:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=o(r(7305)),i=o(r(8176)),s=r(3530);function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if("string"===typeof e)return function(e){var t=document.querySelectorAll(e);if(0===t.length)return;for(var r=[],n=0;n<t.length;n++)r.push(l(t[n]));return r}(e);if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(l(e[r]));return t}if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLImageElement)return function(e){var t=document.createElement("canvas");return{element:t,options:(0,a.default)(e),renderer:i.default.CanvasRenderer,afterRender:function(){e.setAttribute("src",t.toDataURL())}}}(e);if(e&&e.nodeName&&"svg"===e.nodeName.toLowerCase()||"undefined"!==typeof SVGElement&&e instanceof SVGElement)return{element:e,options:(0,a.default)(e),renderer:i.default.SVGRenderer};if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement)return{element:e,options:(0,a.default)(e),renderer:i.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:i.default.CanvasRenderer};if(e&&"object"===("undefined"===typeof e?"undefined":n(e))&&!e.nodeName)return{element:e,renderer:i.default.ObjectRenderer};throw new s.InvalidElementException}t.default=l},4238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];return function e(r){if(Array.isArray(r))for(var n=0;n<r.length;n++)e(r[n]);else r.text=r.text||"",r.data=r.data||"",t.push(r)}(e),t}},9224:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e,t){return r({},e,t)}},799:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var r in t)t.hasOwnProperty(r)&&"string"===typeof e[r=t[r]]&&(e[r]=parseInt(e[r],10));"string"===typeof e.displayValue&&(e.displayValue="false"!=e.displayValue);return e}},2778:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};t.default=r},2522:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(9224),s=(n=i)&&n.__esModule?n:{default:n},o=r(3531);var l=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t,this.encodings=r,this.options=n}return a(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var e=0;e<this.encodings.length;e++){var t=(0,s.default)(this.options,this.encodings[e].options);this.drawCanvasBarcode(t,this.encodings[e]),this.drawCanvasText(t,this.encodings[e]),this.moveCanvasDrawing(this.encodings[e])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var e=this.canvas.getContext("2d");e.save(),(0,o.calculateEncodingAttributes)(this.encodings,this.options,e);var t=(0,o.getTotalWidthOfEncodings)(this.encodings),r=(0,o.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=t+this.options.marginLeft+this.options.marginRight,this.canvas.height=r,e.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(e.fillStyle=this.options.background,e.fillRect(0,0,this.canvas.width,this.canvas.height)),e.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(e,t){var r,n=this.canvas.getContext("2d"),a=t.data;r="top"==e.textPosition?e.marginTop+e.fontSize+e.textMargin:e.marginTop,n.fillStyle=e.lineColor;for(var i=0;i<a.length;i++){var s=i*e.width+t.barcodePadding;"1"===a[i]?n.fillRect(s,r,e.width,e.height):a[i]&&n.fillRect(s,r,e.width,e.height*a[i])}}},{key:"drawCanvasText",value:function(e,t){var r,n,a=this.canvas.getContext("2d"),i=e.fontOptions+" "+e.fontSize+"px "+e.font;e.displayValue&&(n="top"==e.textPosition?e.marginTop+e.fontSize-e.textMargin:e.height+e.textMargin+e.marginTop+e.fontSize,a.font=i,"left"==e.textAlign||t.barcodePadding>0?(r=0,a.textAlign="left"):"right"==e.textAlign?(r=t.width-1,a.textAlign="right"):(r=t.width/2,a.textAlign="center"),a.fillText(t.text,r,n))}},{key:"moveCanvasDrawing",value:function(e){this.canvas.getContext("2d").translate(e.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),e}();t.default=l},8176:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(2522)),a=s(r(2978)),i=s(r(1157));function s(e){return e&&e.__esModule?e:{default:e}}t.default={CanvasRenderer:n.default,SVGRenderer:a.default,ObjectRenderer:i.default}},1157:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var n=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.object=t,this.encodings=r,this.options=n}return r(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();t.default=n},3531:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalWidthOfEncodings=t.calculateEncodingAttributes=t.getBarcodePadding=t.getEncodingHeight=t.getMaximumHeightOfEncodings=void 0;var n,a=r(9224),i=(n=a)&&n.__esModule?n:{default:n};function s(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function o(e,t,r){if(r.displayValue&&t<e){if("center"==r.textAlign)return Math.floor((e-t)/2);if("left"==r.textAlign)return 0;if("right"==r.textAlign)return Math.floor(e-t)}return 0}function l(e,t,r){var n;if(r)n=r;else{if("undefined"===typeof document)return 0;n=document.createElement("canvas").getContext("2d")}n.font=t.fontOptions+" "+t.fontSize+"px "+t.font;var a=n.measureText(e);return a?a.width:0}t.getMaximumHeightOfEncodings=function(e){for(var t=0,r=0;r<e.length;r++)e[r].height>t&&(t=e[r].height);return t},t.getEncodingHeight=s,t.getBarcodePadding=o,t.calculateEncodingAttributes=function(e,t,r){for(var n=0;n<e.length;n++){var a,c=e[n],u=(0,i.default)(t,c.options);a=u.displayValue?l(c.text,u,r):0;var d=c.data.length*u.width;c.width=Math.ceil(Math.max(a,d)),c.height=s(c,u),c.barcodePadding=o(a,d,u)}},t.getTotalWidthOfEncodings=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].width;return t}},2978:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(9224),s=(n=i)&&n.__esModule?n:{default:n},o=r(3531);var l="http://www.w3.org/2000/svg",c=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.svg=t,this.encodings=r,this.options=n,this.document=n.xmlDocument||document}return a(e,[{key:"render",value:function(){var e=this.options.marginLeft;this.prepareSVG();for(var t=0;t<this.encodings.length;t++){var r=this.encodings[t],n=(0,s.default)(this.options,r.options),a=this.createGroup(e,n.marginTop,this.svg);this.setGroupOptions(a,n),this.drawSvgBarcode(a,n,r),this.drawSVGText(a,n,r),e+=r.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,o.calculateEncodingAttributes)(this.encodings,this.options);var e=(0,o.getTotalWidthOfEncodings)(this.encodings),t=(0,o.getMaximumHeightOfEncodings)(this.encodings),r=e+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(r,t),this.options.background&&this.drawRect(0,0,r,t,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(e,t,r){var n,a=r.data;n="top"==t.textPosition?t.fontSize+t.textMargin:0;for(var i=0,s=0,o=0;o<a.length;o++)s=o*t.width+r.barcodePadding,"1"===a[o]?i++:i>0&&(this.drawRect(s-t.width*i,n,t.width*i,t.height,e),i=0);i>0&&this.drawRect(s-t.width*(i-1),n,t.width*i,t.height,e)}},{key:"drawSVGText",value:function(e,t,r){var n,a,i=this.document.createElementNS(l,"text");t.displayValue&&(i.setAttribute("style","font:"+t.fontOptions+" "+t.fontSize+"px "+t.font),a="top"==t.textPosition?t.fontSize-t.textMargin:t.height+t.textMargin+t.fontSize,"left"==t.textAlign||r.barcodePadding>0?(n=0,i.setAttribute("text-anchor","start")):"right"==t.textAlign?(n=r.width-1,i.setAttribute("text-anchor","end")):(n=r.width/2,i.setAttribute("text-anchor","middle")),i.setAttribute("x",n),i.setAttribute("y",a),i.appendChild(this.document.createTextNode(r.text)),e.appendChild(i))}},{key:"setSvgAttributes",value:function(e,t){var r=this.svg;r.setAttribute("width",e+"px"),r.setAttribute("height",t+"px"),r.setAttribute("x","0px"),r.setAttribute("y","0px"),r.setAttribute("viewBox","0 0 "+e+" "+t),r.setAttribute("xmlns",l),r.setAttribute("version","1.1"),r.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(e,t,r){var n=this.document.createElementNS(l,"g");return n.setAttribute("transform","translate("+e+", "+t+")"),r.appendChild(n),n}},{key:"setGroupOptions",value:function(e,t){e.setAttribute("style","fill:"+t.lineColor+";")}},{key:"drawRect",value:function(e,t,r,n,a){var i=this.document.createElementNS(l,"rect");return i.setAttribute("x",e),i.setAttribute("y",t),i.setAttribute("width",r),i.setAttribute("height",n),a.appendChild(i),i}}]),e}();t.default=c},7685:(e,t,r)=>{var n=r(7937)(r(6552),"DataView");e.exports=n},8724:(e,t,r)=>{var n=r(7615),a=r(5051),i=r(2154),s=r(8734),o=r(2662);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=s,l.prototype.set=o,e.exports=l},7160:(e,t,r)=>{var n=r(7563),a=r(9935),i=r(4190),s=r(1946),o=r(1714);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=s,l.prototype.set=o,e.exports=l},5204:(e,t,r)=>{var n=r(7937)(r(6552),"Map");e.exports=n},4816:(e,t,r)=>{var n=r(7251),a=r(7159),i=r(438),s=r(9394),o=r(6874);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=s,l.prototype.set=o,e.exports=l},5387:(e,t,r)=>{var n=r(7937)(r(6552),"Promise");e.exports=n},2070:(e,t,r)=>{var n=r(7937)(r(6552),"Set");e.exports=n},8902:(e,t,r)=>{var n=r(4816),a=r(6179),i=r(6704);function s(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}s.prototype.add=s.prototype.push=a,s.prototype.has=i,e.exports=s},5538:(e,t,r)=>{var n=r(7160),a=r(4545),i=r(793),s=r(7760),o=r(3892),l=r(6788);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=o,c.prototype.set=l,e.exports=c},9812:(e,t,r)=>{var n=r(6552).Symbol;e.exports=n},2929:(e,t,r)=>{var n=r(6552).Uint8Array;e.exports=n},6600:(e,t,r)=>{var n=r(7937)(r(6552),"WeakMap");e.exports=n},1170:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},5295:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}},7529:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}},5866:(e,t,r)=>{var n=r(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},1558:e=>{e.exports=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}},3204:(e,t,r)=>{var n=r(3343),a=r(2777),i=r(4052),s=r(4543),o=r(9194),l=r(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),u=!r&&a(e),d=!r&&!u&&s(e),h=!r&&!u&&!d&&l(e),f=r||u||d||h,p=f?n(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||o(g,m))||p.push(g);return p}},149:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}},8895:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}},2587:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},5967:e=>{e.exports=function(e){return e.split("")}},1340:(e,t,r)=>{var n=r(3211);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},1775:(e,t,r)=>{var n=r(5654);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},5652:(e,t,r)=>{var n=r(4664),a=r(6516)(n);e.exports=a},4746:(e,t,r)=>{var n=r(5652);e.exports=function(e,t){var r=!0;return n(e,(function(e,n,a){return r=!!t(e,n,a)})),r}},9742:(e,t,r)=>{var n=r(9841);e.exports=function(e,t,r){for(var a=-1,i=e.length;++a<i;){var s=e[a],o=t(s);if(null!=o&&(void 0===l?o===o&&!n(o):r(o,l)))var l=o,c=s}return c}},5816:e=>{e.exports=function(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}},755:(e,t,r)=>{var n=r(8895),a=r(7116);e.exports=function e(t,r,i,s,o){var l=-1,c=t.length;for(i||(i=a),o||(o=[]);++l<c;){var u=t[l];r>0&&i(u)?r>1?e(u,r-1,i,s,o):n(o,u):s||(o[o.length]=u)}return o}},4258:(e,t,r)=>{var n=r(5906)();e.exports=n},4664:(e,t,r)=>{var n=r(4258),a=r(8673);e.exports=function(e,t){return e&&n(e,t,a)}},2969:(e,t,r)=>{var n=r(5324),a=r(914);e.exports=function(e,t){for(var r=0,i=(t=n(t,e)).length;null!=e&&r<i;)e=e[a(t[r++])];return r&&r==i?e:void 0}},4262:(e,t,r)=>{var n=r(8895),a=r(4052);e.exports=function(e,t,r){var i=t(e);return a(e)?i:n(i,r(e))}},6913:(e,t,r)=>{var n=r(9812),a=r(4552),i=r(6095),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?a(e):i(e)}},7498:e=>{e.exports=function(e,t){return e>t}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},8468:(e,t,r)=>{var n=r(5816),a=r(644),i=r(4020);e.exports=function(e,t,r){return t===t?i(e,t,r):n(e,a,r)}},5193:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==n(e)}},6989:(e,t,r)=>{var n=r(6399),a=r(2761);e.exports=function e(t,r,i,s,o){return t===r||(null==t||null==r||!a(t)&&!a(r)?t!==t&&r!==r:n(t,r,i,s,e,o))}},6399:(e,t,r)=>{var n=r(5538),a=r(3668),i=r(9987),s=r(5752),o=r(6924),l=r(4052),c=r(4543),u=r(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,m,g,x){var b=l(e),y=l(t),v=b?h:o(e),N=y?h:o(t),w=(v=v==d?f:v)==f,j=(N=N==d?f:N)==f,k=v==N;if(k&&c(e)){if(!c(t))return!1;b=!0,w=!1}if(k&&!w)return x||(x=new n),b||u(e)?a(e,t,r,m,g,x):i(e,t,v,r,m,g,x);if(!(1&r)){var T=w&&p.call(e,"__wrapped__"),S=j&&p.call(t,"__wrapped__");if(T||S){var O=T?e.value():e,_=S?t.value():t;return x||(x=new n),g(O,_,r,m,x)}}return!!k&&(x||(x=new n),s(e,t,r,m,g,x))}},6532:(e,t,r)=>{var n=r(5538),a=r(6989);e.exports=function(e,t,r,i){var s=r.length,o=s,l=!i;if(null==e)return!o;for(e=Object(e);s--;){var c=r[s];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<o;){var u=(c=r[s])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new n;if(i)var p=i(d,h,u,e,t,f);if(!(void 0===p?a(h,d,3,i,f):p))return!1}}return!0}},644:e=>{e.exports=function(e){return e!==e}},6954:(e,t,r)=>{var n=r(1629),a=r(7857),i=r(6686),s=r(6996),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(n(e)?h:o).test(s(e))}},5428:(e,t,r)=>{var n=r(6913),a=r(6173),i=r(2761),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!s[n(e)]}},9096:(e,t,r)=>{var n=r(9256),a=r(5029),i=r(3279),s=r(4052),o=r(3932);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?s(e)?a(e[0],e[1]):n(e):o(e)}},3713:(e,t,r)=>{var n=r(6140),a=r(1143),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},61:e=>{e.exports=function(e,t){return e<t}},8883:(e,t,r)=>{var n=r(5652),a=r(6571);e.exports=function(e,t){var r=-1,i=a(e)?Array(e.length):[];return n(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}},9256:(e,t,r)=>{var n=r(6532),a=r(3781),i=r(1310);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},5029:(e,t,r)=>{var n=r(6989),a=r(3097),i=r(3366),s=r(2597),o=r(9417),l=r(1310),c=r(914);e.exports=function(e,t){return s(e)&&o(t)?l(c(e),t):function(r){var s=a(r,e);return void 0===s&&s===t?i(r,e):n(t,s,3)}}},2536:(e,t,r)=>{var n=r(149),a=r(2969),i=r(9096),s=r(8883),o=r(320),l=r(7574),c=r(5893),u=r(3279),d=r(4052);e.exports=function(e,t,r){t=t.length?n(t,(function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e})):[u];var h=-1;t=n(t,l(i));var f=s(e,(function(e,r,a){return{criteria:n(t,(function(t){return t(e)})),index:++h,value:e}}));return o(f,(function(e,t){return c(e,t,r)}))}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},2866:(e,t,r)=>{var n=r(2969);e.exports=function(e){return function(t){return n(t,e)}}},9676:e=>{var t=Math.ceil,r=Math.max;e.exports=function(e,n,a,i){for(var s=-1,o=r(t((n-e)/(a||1)),0),l=Array(o);o--;)l[i?o:++s]=e,e+=a;return l}},5647:(e,t,r)=>{var n=r(3279),a=r(5636),i=r(6350);e.exports=function(e,t){return i(a(e,t,n),e+"")}},8325:(e,t,r)=>{var n=r(2541),a=r(5654),i=r(3279),s=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:i;e.exports=s},3871:e=>{e.exports=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}},2165:(e,t,r)=>{var n=r(5652);e.exports=function(e,t){var r;return n(e,(function(e,n,a){return!(r=t(e,n,a))})),!!r}},320:e=>{e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},3343:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},8541:(e,t,r)=>{var n=r(9812),a=r(149),i=r(4052),s=r(9841),o=n?n.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(s(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},1141:(e,t,r)=>{var n=r(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(a,""):e}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},4416:(e,t,r)=>{var n=r(8902),a=r(5866),i=r(1558),s=r(8114),o=r(8182),l=r(2074);e.exports=function(e,t,r){var c=-1,u=a,d=e.length,h=!0,f=[],p=f;if(r)h=!1,u=i;else if(d>=200){var m=t?null:o(e);if(m)return l(m);h=!1,u=s,p=new n}else p=t?[]:f;e:for(;++c<d;){var g=e[c],x=t?t(g):g;if(g=r||0!==g?g:0,h&&x===x){for(var b=p.length;b--;)if(p[b]===x)continue e;t&&p.push(x),f.push(g)}else u(p,x,r)||(p!==f&&p.push(x),f.push(g))}return f}},8114:e=>{e.exports=function(e,t){return e.has(t)}},5324:(e,t,r)=>{var n=r(4052),a=r(2597),i=r(4079),s=r(1069);e.exports=function(e,t){return n(e)?e:a(e,t)?[e]:i(s(e))}},8189:(e,t,r)=>{var n=r(3871);e.exports=function(e,t,r){var a=e.length;return r=void 0===r?a:r,!t&&r>=a?e:n(e,t,r)}},6599:(e,t,r)=>{var n=r(9841);e.exports=function(e,t){if(e!==t){var r=void 0!==e,a=null===e,i=e===e,s=n(e),o=void 0!==t,l=null===t,c=t===t,u=n(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||a&&o&&c||!r&&c||!i)return 1;if(!a&&!s&&!u&&e<t||u&&r&&i&&!a&&!s||l&&r&&i||!o&&i||!c)return-1}return 0}},5893:(e,t,r)=>{var n=r(6599);e.exports=function(e,t,r){for(var a=-1,i=e.criteria,s=t.criteria,o=i.length,l=r.length;++a<o;){var c=n(i[a],s[a]);if(c)return a>=l?c:c*("desc"==r[a]?-1:1)}return e.index-t.index}},3440:(e,t,r)=>{var n=r(6552)["__core-js_shared__"];e.exports=n},6516:(e,t,r)=>{var n=r(6571);e.exports=function(e,t){return function(r,a){if(null==r)return r;if(!n(r))return e(r,a);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&!1!==a(o[s],s,o););return r}}},5906:e=>{e.exports=function(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(!1===r(i[l],l,i))break}return t}}},7676:(e,t,r)=>{var n=r(8189),a=r(6311),i=r(9115),s=r(1069);e.exports=function(e){return function(t){t=s(t);var r=a(t)?i(t):void 0,o=r?r[0]:t.charAt(0),l=r?n(r,1).join(""):t.slice(1);return o[e]()+l}}},9995:(e,t,r)=>{var n=r(9096),a=r(6571),i=r(8673);e.exports=function(e){return function(t,r,s){var o=Object(t);if(!a(t)){var l=n(r,3);t=i(t),r=function(e){return l(o[e],e,o)}}var c=e(t,r,s);return c>-1?o[l?t[c]:c]:void 0}}},3331:(e,t,r)=>{var n=r(9676),a=r(929),i=r(7303);e.exports=function(e){return function(t,r,s){return s&&"number"!=typeof s&&a(t,r,s)&&(r=s=void 0),t=i(t),void 0===r?(r=t,t=0):r=i(r),s=void 0===s?t<r?1:-1:i(s),n(t,r,s,e)}}},8182:(e,t,r)=>{var n=r(2070),a=r(5713),i=r(2074),s=n&&1/i(new n([,-0]))[1]==1/0?function(e){return new n(e)}:a;e.exports=s},5654:(e,t,r)=>{var n=r(7937),a=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},3668:(e,t,r)=>{var n=r(8902),a=r(2587),i=r(8114);e.exports=function(e,t,r,s,o,l){var c=1&r,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&r?new n:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var x=e[p],b=t[p];if(s)var y=c?s(b,x,p,t,e,l):s(x,b,p,e,t,l);if(void 0!==y){if(y)continue;m=!1;break}if(g){if(!a(t,(function(e,t){if(!i(g,t)&&(x===e||o(x,e,r,s,l)))return g.push(t)}))){m=!1;break}}else if(x!==b&&!o(x,b,r,s,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},9987:(e,t,r)=>{var n=r(9812),a=r(2929),i=r(3211),s=r(3668),o=r(4160),l=r(2074),c=n?n.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,r,n,c,d,h){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=o;case"[object Set]":var p=1&n;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;n|=2,h.set(e,t);var g=s(f(e),f(t),n,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},5752:(e,t,r)=>{var n=r(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,i,s,o){var l=1&r,c=n(e),u=c.length;if(u!=n(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:a.call(t,h)))return!1}var f=o.get(e),p=o.get(t);if(f&&p)return f==t&&p==e;var m=!0;o.set(e,t),o.set(t,e);for(var g=l;++d<u;){var x=e[h=c[d]],b=t[h];if(i)var y=l?i(b,x,h,t,e,o):i(x,b,h,e,t,o);if(!(void 0===y?x===b||s(x,b,r,i,o):y)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var v=e.constructor,N=t.constructor;v==N||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof N&&N instanceof N||(m=!1)}return o.delete(e),o.delete(t),m}},7105:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},9395:(e,t,r)=>{var n=r(4262),a=r(9621),i=r(8673);e.exports=function(e){return n(e,i,a)}},2622:(e,t,r)=>{var n=r(705);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},3781:(e,t,r)=>{var n=r(9417),a=r(8673);e.exports=function(e){for(var t=a(e),r=t.length;r--;){var i=t[r],s=e[i];t[r]=[i,s,n(s)]}return t}},7937:(e,t,r)=>{var n=r(6954),a=r(4657);e.exports=function(e,t){var r=a(e,t);return n(r)?r:void 0}},5990:(e,t,r)=>{var n=r(3028)(Object.getPrototypeOf,Object);e.exports=n},4552:(e,t,r)=>{var n=r(9812),a=Object.prototype,i=a.hasOwnProperty,s=a.toString,o=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,o),r=e[o];try{e[o]=void 0;var n=!0}catch(l){}var a=s.call(e);return n&&(t?e[o]=r:delete e[o]),a}},9621:(e,t,r)=>{var n=r(7529),a=r(7828),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(e){return null==e?[]:(e=Object(e),n(s(e),(function(t){return i.call(e,t)})))}:a;e.exports=o},6924:(e,t,r)=>{var n=r(7685),a=r(5204),i=r(5387),s=r(2070),o=r(6600),l=r(6913),c=r(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(n),g=c(a),x=c(i),b=c(s),y=c(o),v=l;(n&&v(new n(new ArrayBuffer(1)))!=p||a&&v(new a)!=u||i&&v(i.resolve())!=d||s&&v(new s)!=h||o&&v(new o)!=f)&&(v=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case m:return p;case g:return u;case x:return d;case b:return h;case y:return f}return t}),e.exports=v},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},9057:(e,t,r)=>{var n=r(5324),a=r(2777),i=r(4052),s=r(9194),o=r(6173),l=r(914);e.exports=function(e,t,r){for(var c=-1,u=(t=n(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&r(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&o(u)&&s(h,u)&&(i(e)||a(e))}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},7615:(e,t,r)=>{var n=r(5575);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},2154:(e,t,r)=>{var n=r(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return a.call(t,e)?t[e]:void 0}},8734:(e,t,r)=>{var n=r(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:a.call(t,e)}},2662:(e,t,r)=>{var n=r(5575);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},7116:(e,t,r)=>{var n=r(9812),a=r(2777),i=r(4052),s=n?n.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||a(e)||!!(s&&e&&e[s])}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},929:(e,t,r)=>{var n=r(3211),a=r(6571),i=r(9194),s=r(6686);e.exports=function(e,t,r){if(!s(r))return!1;var o=typeof t;return!!("number"==o?a(r)&&i(t,r.length):"string"==o&&t in r)&&n(r[t],e)}},2597:(e,t,r)=>{var n=r(4052),a=r(9841),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!a(e))||(s.test(e)||!i.test(e)||null!=t&&e in Object(t))}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7857:(e,t,r)=>{var n=r(3440),a=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},6140:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},9417:(e,t,r)=>{var n=r(6686);e.exports=function(e){return e===e&&!n(e)}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},9935:(e,t,r)=>{var n=r(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)}},4190:(e,t,r)=>{var n=r(1340);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},1946:(e,t,r)=>{var n=r(1340);e.exports=function(e){return n(this.__data__,e)>-1}},1714:(e,t,r)=>{var n=r(1340);e.exports=function(e,t){var r=this.__data__,a=n(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}},7251:(e,t,r)=>{var n=r(8724),a=r(7160),i=r(5204);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||a),string:new n}}},7159:(e,t,r)=>{var n=r(2622);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},438:(e,t,r)=>{var n=r(2622);e.exports=function(e){return n(this,e).get(e)}},9394:(e,t,r)=>{var n=r(2622);e.exports=function(e){return n(this,e).has(e)}},6874:(e,t,r)=>{var n=r(2622);e.exports=function(e,t){var r=n(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}},4160:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},1310:e=>{e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},8259:(e,t,r)=>{var n=r(5797);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},5575:(e,t,r)=>{var n=r(7937)(Object,"create");e.exports=n},1143:(e,t,r)=>{var n=r(3028)(Object.keys,Object);e.exports=n},6832:(e,t,r)=>{e=r.nmd(e);var n=r(7105),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,s=i&&i.exports===a&&n.process,o=function(){try{var e=i&&i.require&&i.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=o},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},3028:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},5636:(e,t,r)=>{var n=r(1170),a=Math.max;e.exports=function(e,t,r){return t=a(void 0===t?e.length-1:t,0),function(){for(var i=arguments,s=-1,o=a(i.length-t,0),l=Array(o);++s<o;)l[s]=i[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=i[s];return c[t]=r(l),n(e,this,c)}}},6552:(e,t,r)=>{var n=r(7105),a="object"==typeof self&&self&&self.Object===Object&&self,i=n||a||Function("return this")();e.exports=i},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},2074:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},6350:(e,t,r)=>{var n=r(8325),a=r(6578)(n);e.exports=a},6578:e=>{var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var a=t(),i=16-(a-n);if(n=a,i>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},4545:(e,t,r)=>{var n=r(7160);e.exports=function(){this.__data__=new n,this.size=0}},793:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},6788:(e,t,r)=>{var n=r(7160),a=r(5204),i=r(4816);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!a||s.length<199)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(s)}return r.set(e,t),this.size=r.size,this}},4020:e=>{e.exports=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}},9115:(e,t,r)=>{var n=r(5967),a=r(6311),i=r(715);e.exports=function(e){return a(e)?i(e):n(e)}},4079:(e,t,r)=>{var n=r(8259),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,r,n,a){t.push(n?a.replace(i,"$1"):r||e)})),t}));e.exports=s},914:(e,t,r)=>{var n=r(9841);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},143:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},715:e=>{var t="\\ud800-\\udfff",r="["+t+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[i,s,o].join("|")+")"+c+l+")*"),d="(?:"+[i+n+"?",n,s,o,r].join("|")+")",h=RegExp(a+"(?="+a+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},2541:e=>{e.exports=function(e){return function(){return e}}},3950:(e,t,r)=>{var n=r(6686),a=r(4757),i=r(801),s=Math.max,o=Math.min;e.exports=function(e,t,r){var l,c,u,d,h,f,p=0,m=!1,g=!1,x=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var r=l,n=c;return l=c=void 0,p=t,d=e.apply(n,r)}function y(e){var r=e-f;return void 0===f||r>=t||r<0||g&&e-p>=u}function v(){var e=a();if(y(e))return N(e);h=setTimeout(v,function(e){var r=t-(e-f);return g?o(r,u-(e-p)):r}(e))}function N(e){return h=void 0,x&&l?b(e):(l=c=void 0,d)}function w(){var e=a(),r=y(e);if(l=arguments,c=this,f=e,r){if(void 0===h)return function(e){return p=e,h=setTimeout(v,t),m?b(e):d}(f);if(g)return clearTimeout(h),h=setTimeout(v,t),b(f)}return void 0===h&&(h=setTimeout(v,t)),d}return t=i(t)||0,n(r)&&(m=!!r.leading,u=(g="maxWait"in r)?s(i(r.maxWait)||0,t):u,x="trailing"in r?!!r.trailing:x),w.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},w.flush=function(){return void 0===h?d:N(a())},w}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},7002:(e,t,r)=>{var n=r(5295),a=r(4746),i=r(9096),s=r(4052),o=r(929);e.exports=function(e,t,r){var l=s(e)?n:a;return r&&o(e,t,r)&&(t=void 0),l(e,i(t,3))}},8990:(e,t,r)=>{var n=r(9995)(r(2520));e.exports=n},2520:(e,t,r)=>{var n=r(5816),a=r(9096),i=r(9140),s=Math.max;e.exports=function(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var l=null==r?0:i(r);return l<0&&(l=s(o+l,0)),n(e,a(t,3),l)}},3538:(e,t,r)=>{var n=r(755),a=r(3411);e.exports=function(e,t){return n(a(e,t),1)}},3097:(e,t,r)=>{var n=r(2969);e.exports=function(e,t,r){var a=null==e?void 0:n(e,t);return void 0===a?r:a}},3366:(e,t,r)=>{var n=r(7894),a=r(9057);e.exports=function(e,t){return null!=e&&a(e,t,n)}},3279:e=>{e.exports=function(e){return e}},2777:(e,t,r)=>{var n=r(5193),a=r(2761),i=Object.prototype,s=i.hasOwnProperty,o=i.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return a(e)&&s.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},4052:e=>{var t=Array.isArray;e.exports=t},6571:(e,t,r)=>{var n=r(1629),a=r(6173);e.exports=function(e){return null!=e&&a(e.length)&&!n(e)}},6361:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==n(e)}},4543:(e,t,r)=>{e=r.nmd(e);var n=r(6552),a=r(14),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,o=s&&s.exports===i?n.Buffer:void 0,l=(o?o.isBuffer:void 0)||a;e.exports=l},9853:(e,t,r)=>{var n=r(6989);e.exports=function(e,t){return n(e,t)}},1629:(e,t,r)=>{var n=r(6913),a=r(6686);e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},5268:(e,t,r)=>{var n=r(9160);e.exports=function(e){return n(e)&&e!=+e}},9686:e=>{e.exports=function(e){return null==e}},9160:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==n(e)}},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2322:(e,t,r)=>{var n=r(6913),a=r(5990),i=r(2761),s=Function.prototype,o=Object.prototype,l=s.toString,c=o.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=n(e))return!1;var t=a(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==u}},620:(e,t,r)=>{var n=r(6913),a=r(4052),i=r(2761);e.exports=function(e){return"string"==typeof e||!a(e)&&i(e)&&"[object String]"==n(e)}},9841:(e,t,r)=>{var n=r(6913),a=r(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},1268:(e,t,r)=>{var n=r(5428),a=r(7574),i=r(6832),s=i&&i.isTypedArray,o=s?a(s):n;e.exports=o},8673:(e,t,r)=>{var n=r(3204),a=r(3713),i=r(6571);e.exports=function(e){return i(e)?n(e):a(e)}},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},3411:(e,t,r)=>{var n=r(149),a=r(9096),i=r(8883),s=r(4052);e.exports=function(e,t){return(s(e)?n:i)(e,a(t,3))}},1733:(e,t,r)=>{var n=r(1775),a=r(4664),i=r(9096);e.exports=function(e,t){var r={};return t=i(t,3),a(e,(function(e,a,i){n(r,a,t(e,a,i))})),r}},539:(e,t,r)=>{var n=r(9742),a=r(7498),i=r(3279);e.exports=function(e){return e&&e.length?n(e,i,a):void 0}},2794:(e,t,r)=>{var n=r(9742),a=r(7498),i=r(9096);e.exports=function(e,t){return e&&e.length?n(e,i(t,2),a):void 0}},5797:(e,t,r)=>{var n=r(4816);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(a.Cache||n),r}a.Cache=n,e.exports=a},6745:(e,t,r)=>{var n=r(9742),a=r(61),i=r(3279);e.exports=function(e){return e&&e.length?n(e,i,a):void 0}},9364:(e,t,r)=>{var n=r(9742),a=r(9096),i=r(61);e.exports=function(e,t){return e&&e.length?n(e,a(t,2),i):void 0}},5713:e=>{e.exports=function(){}},4757:(e,t,r)=>{var n=r(6552);e.exports=function(){return n.Date.now()}},3932:(e,t,r)=>{var n=r(396),a=r(2866),i=r(2597),s=r(914);e.exports=function(e){return i(e)?n(s(e)):a(e)}},6604:(e,t,r)=>{var n=r(3331)();e.exports=n},4597:(e,t,r)=>{var n=r(2587),a=r(9096),i=r(2165),s=r(4052),o=r(929);e.exports=function(e,t,r){var l=s(e)?n:i;return r&&o(e,t,r)&&(t=void 0),l(e,a(t,3))}},7424:(e,t,r)=>{var n=r(755),a=r(2536),i=r(5647),s=r(929),o=i((function(e,t){if(null==e)return[];var r=t.length;return r>1&&s(e,t[0],t[1])?t=[]:r>2&&s(t[0],t[1],t[2])&&(t=[t[0]]),a(e,n(t,1),[])}));e.exports=o},7828:e=>{e.exports=function(){return[]}},14:e=>{e.exports=function(){return!1}},9889:(e,t,r)=>{var n=r(3950),a=r(6686);e.exports=function(e,t,r){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),n(e,t,{leading:i,maxWait:t,trailing:s})}},7303:(e,t,r)=>{var n=r(801),a=1/0;e.exports=function(e){return e?(e=n(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},9140:(e,t,r)=>{var n=r(7303);e.exports=function(e){var t=n(e),r=t%1;return t===t?r?t-r:t:0}},801:(e,t,r)=>{var n=r(1141),a=r(6686),i=r(9841),s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=o.test(e);return r||l.test(e)?c(e.slice(2),r?2:8):s.test(e)?NaN:+e}},1069:(e,t,r)=>{var n=r(8541);e.exports=function(e){return null==e?"":n(e)}},977:(e,t,r)=>{var n=r(9096),a=r(4416);e.exports=function(e,t){return e&&e.length?a(e,n(t,2)):[]}},643:(e,t,r)=>{var n=r(7676)("toUpperCase");e.exports=n},1497:(e,t,r)=>{"use strict";var n=r(3218);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,i,s){if(s!==n){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return r.PropTypes=r,r}},5173:(e,t,r)=>{e.exports=r(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3092:(e,t,r)=>{"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var a,i=l(r(5043)),s=l(r(9298)),o=l(r(5173));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}var f=i.default.version.split(/[.-]/);a="0"!==f[0]||"13"!==f[1]&&"12"!==f[1]?function(e){return e}:function(e){return e.getDOMNode()};var p=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?d(e):t}(this,u(t).call(this,e))).renderElementRef=i.default.createRef(),r.update=r.update.bind(d(r)),r}var r,o,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),r=t,(o=[{key:"shouldComponentUpdate",value:function(e){var r=this;return Object.keys(t.propTypes).some((function(t){return r.props[t]!==e[t]}))}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var e=a(this.renderElementRef.current);try{new s.default(e,this.props.value,Object.assign({text:this.props.text||this.props.value},this.props))}catch(t){window.console.error(t)}}},{key:"render",value:function(){var e=this.props,t=e.id,r=e.className;return"svg"===this.props.renderer?i.default.createElement("svg",{ref:this.renderElementRef,id:t,className:r}):"canvas"===this.props.renderer?i.default.createElement("canvas",{ref:this.renderElementRef,id:t,className:r}):"img"===this.props.renderer?i.default.createElement("img",{ref:this.renderElementRef,id:t,className:r}):void 0}}])&&c(r.prototype,o),l&&c(r,l),t}(i.default.Component);p.propTypes={value:o.default.string.isRequired,text:o.default.string,renderer:o.default.string,format:o.default.string,width:o.default.number,height:o.default.number,displayValue:o.default.bool,fontOptions:o.default.string,font:o.default.string,textAlign:o.default.string,textPosition:o.default.string,textMargin:o.default.number,fontSize:o.default.number,background:o.default.string,lineColor:o.default.string,margin:o.default.number,marginTop:o.default.number,marginBottom:o.default.number,marginLeft:o.default.number,marginRight:o.default.number,id:o.default.string,className:o.default.string,ean128:o.default.bool},p.defaultProps={format:"CODE128",renderer:"svg",width:2,height:100,displayValue:!0,fontOptions:"",font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,className:"",ean128:!1},e.exports=p},2730:(e,t,r)=>{"use strict";var n=r(5043),a=r(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,r,n,a,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var x=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,r,n){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(x,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(x,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(x,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),w=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),O=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var H=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=H&&e[H]||e["@@iterator"])?e:null}var M,L=Object.assign;function R(e){if(void 0===M)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=n.stack.split("\n"),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||a[s]!==i[o]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?R(e):""}function G(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case w:return"Portal";case T:return"Profiler";case k:return"StrictMode";case E:return"Suspense";case C:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return B(e(t))}catch(r){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=K(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var r=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function q(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=V(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Z(e,t){Q(e,t);var r=V(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&X(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+V(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(i(92));if(te(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:V(r)}}function ie(e,t){var r=V(t.value),n=V(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=me(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var xe=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function Ne(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,je=null,ke=null;function Te(e){if(e=ya(e)){if("function"!==typeof we)throw Error(i(280));var t=e.stateNode;t&&(t=Na(t),we(e.stateNode,e.type,t))}}function Se(e){je?ke?ke.push(e):ke=[e]:je=e}function Oe(){if(je){var e=je,t=ke;if(ke=je=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function _e(e,t){return e(t)}function Ee(){}var Ce=!1;function Ae(e,t,r){if(Ce)return e(t,r);Ce=!0;try{return _e(e,t,r)}finally{Ce=!1,(null!==je||null!==ke)&&(Ee(),Oe())}}function Ie(e,t){var r=e.stateNode;if(null===r)return null;var n=Na(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(i(231,t,typeof r));return r}var Pe=!1;if(u)try{var He={};Object.defineProperty(He,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch(ue){Pe=!1}function De(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Me=!1,Le=null,Re=!1,Fe=null,Ue={onError:function(e){Me=!0,Le=e}};function Ge(e,t,r,n,a,i,s,o,l){Me=!1,Le=null,De.apply(Ue,arguments)}function Be(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Be(e)!==e)throw Error(i(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(n=a.return)){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return Ve(a),e;if(s===n)return Ve(a),t;s=s.sibling}throw Error(i(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var We=a.unstable_scheduleCallback,Xe=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,qe=a.unstable_requestPaint,Qe=a.unstable_now,Ze=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=268435455&r;if(0!==s){var o=s&~a;0!==o?n=dt(o):0!==(i&=s)&&(n=dt(i))}else 0!==(s=r&~a)?n=dt(s):0!==i&&(n=dt(i));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-st(t)),n|=e[r],t&=~a;return n}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=r}function bt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-st(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var yt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Nt,wt,jt,kt,Tt,St=!1,Ot=[],_t=null,Et=null,Ct=null,At=new Map,It=new Map,Pt=[],Ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Mt(e,t,r,n,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ya(t))&&wt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=ba(e.target);if(null!==t){var r=Be(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=ze(r)))return e.blockedOn=t,void Tt(e.priority,(function(){jt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ya(r))&&wt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);ve=n,r.target.dispatchEvent(n),ve=null,t.shift()}return!0}function Ft(e,t,r){Rt(e)&&r.delete(t)}function Ut(){St=!1,null!==_t&&Rt(_t)&&(_t=null),null!==Et&&Rt(Et)&&(Et=null),null!==Ct&&Rt(Ct)&&(Ct=null),At.forEach(Ft),It.forEach(Ft)}function Gt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return Gt(t,e)}if(0<Ot.length){Gt(Ot[0],e);for(var r=1;r<Ot.length;r++){var n=Ot[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==_t&&Gt(_t,e),null!==Et&&Gt(Et,e),null!==Ct&&Gt(Ct,e),At.forEach(t),It.forEach(t),r=0;r<Pt.length;r++)(n=Pt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Pt.length&&null===(r=Pt[0]).blockedOn;)Lt(r),null===r.blockedOn&&Pt.shift()}var zt=v.ReactCurrentBatchConfig,Vt=!0;function Kt(e,t,r,n){var a=yt,i=zt.transition;zt.transition=null;try{yt=1,Wt(e,t,r,n)}finally{yt=a,zt.transition=i}}function $t(e,t,r,n){var a=yt,i=zt.transition;zt.transition=null;try{yt=4,Wt(e,t,r,n)}finally{yt=a,zt.transition=i}}function Wt(e,t,r,n){if(Vt){var a=Yt(e,t,r,n);if(null===a)Vn(e,t,n,Xt,r),Dt(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return _t=Mt(_t,e,t,r,n,a),!0;case"dragenter":return Et=Mt(Et,e,t,r,n,a),!0;case"mouseover":return Ct=Mt(Ct,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return At.set(i,Mt(At.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,It.set(i,Mt(It.get(i)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Dt(e,n),4&t&&-1<Ht.indexOf(e)){for(;null!==a;){var i=ya(a);if(null!==i&&Nt(i),null===(i=Yt(e,t,r,n))&&Vn(e,t,n,Xt,r),i===a)break;a=i}null!==a&&n.stopPropagation()}else Vn(e,t,n,null,r)}}var Xt=null;function Yt(e,t,r,n){if(Xt=null,null!==(e=ba(e=Ne(n))))if(null===(t=Be(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Jt=null;function er(){if(Jt)return Jt;var e,t,r=Zt,n=r.length,a="value"in Qt?Qt.value:Qt.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===a[i-t];t++);return Jt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,i){for(var s in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ir,sr,or,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ar(lr),ur=L({},lr,{view:0,detail:0}),dr=ar(ur),hr=L({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&"mousemove"===e.type?(ir=e.screenX-or.screenX,sr=e.screenY-or.screenY):sr=ir=0,or=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:sr}}),fr=ar(hr),pr=ar(L({},hr,{dataTransfer:0})),mr=ar(L({},ur,{relatedTarget:0})),gr=ar(L({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),xr=L({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),br=ar(xr),yr=ar(L({},lr,{data:0})),vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wr[e])&&!!t[e]}function kr(){return jr}var Tr=L({},ur,{key:function(e){if(e.key){var t=vr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sr=ar(Tr),Or=ar(L({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_r=ar(L({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr})),Er=ar(L({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cr=L({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ar=ar(Cr),Ir=[9,13,27,32],Pr=u&&"CompositionEvent"in window,Hr=null;u&&"documentMode"in document&&(Hr=document.documentMode);var Dr=u&&"TextEvent"in window&&!Hr,Mr=u&&(!Pr||Hr&&8<Hr&&11>=Hr),Lr=String.fromCharCode(32),Rr=!1;function Fr(e,t){switch(e){case"keyup":return-1!==Ir.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ur(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gr=!1;var Br={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Br[e.type]:"textarea"===t}function Vr(e,t,r,n){Se(n),0<(t=$n(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Kr=null,$r=null;function Wr(e){Rn(e,0)}function Xr(e){if(W(va(e)))return e}function Yr(e,t){if("change"===e)return t}var qr=!1;if(u){var Qr;if(u){var Zr="oninput"in document;if(!Zr){var Jr=document.createElement("div");Jr.setAttribute("oninput","return;"),Zr="function"===typeof Jr.oninput}Qr=Zr}else Qr=!1;qr=Qr&&(!document.documentMode||9<document.documentMode)}function en(){Kr&&(Kr.detachEvent("onpropertychange",tn),$r=Kr=null)}function tn(e){if("value"===e.propertyName&&Xr($r)){var t=[];Vr(t,$r,e,Ne(e)),Ae(Wr,t)}}function rn(e,t,r){"focusin"===e?(en(),$r=r,(Kr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xr($r)}function an(e,t){if("click"===e)return Xr(t)}function sn(e,t){if("input"===e||"change"===e)return Xr(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!d.call(t,a)||!on(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=X((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=hn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dn(r.ownerDocument.documentElement,r)){if(null!==n&&fn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=void 0===n.end?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=un(r,i);var s=un(r,n);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=u&&"documentMode"in document&&11>=document.documentMode,gn=null,xn=null,bn=null,yn=!1;function vn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;yn||null==gn||gn!==X(n)||("selectionStart"in(n=gn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},bn&&ln(bn,n)||(bn=n,0<(n=$n(xn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function Nn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wn={animationend:Nn("Animation","AnimationEnd"),animationiteration:Nn("Animation","AnimationIteration"),animationstart:Nn("Animation","AnimationStart"),transitionend:Nn("Transition","TransitionEnd")},jn={},kn={};function Tn(e){if(jn[e])return jn[e];if(!wn[e])return e;var t,r=wn[e];for(t in r)if(r.hasOwnProperty(t)&&t in kn)return jn[e]=r[t];return e}u&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);var Sn=Tn("animationend"),On=Tn("animationiteration"),_n=Tn("animationstart"),En=Tn("transitionend"),Cn=new Map,An="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(e,t){Cn.set(e,t),l(t,[e])}for(var Pn=0;Pn<An.length;Pn++){var Hn=An[Pn];In(Hn.toLowerCase(),"on"+(Hn[0].toUpperCase()+Hn.slice(1)))}In(Sn,"onAnimationEnd"),In(On,"onAnimationIteration"),In(_n,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(En,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function Ln(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,s,o,l,c){if(Ge.apply(this,arguments),Me){if(!Me)throw Error(i(198));var u=Le;Me=!1,Le=null,Re||(Re=!0,Fe=u)}}(n,t,void 0,e),e.currentTarget=null}function Rn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;Ln(a,o,c),i=l}else for(s=0;s<n.length;s++){if(l=(o=n[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;Ln(a,o,c),i=l}}}if(Re)throw e=Fe,Re=!1,Fe=null,e}function Fn(e,t){var r=t[ma];void 0===r&&(r=t[ma]=new Set);var n=e+"__bubble";r.has(n)||(zn(t,e,2,!1),r.add(n))}function Un(e,t,r){var n=0;t&&(n|=4),zn(r,e,n,t)}var Gn="_reactListening"+Math.random().toString(36).slice(2);function Bn(e){if(!e[Gn]){e[Gn]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mn.has(t)||Un(t,!1,e),Un(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Gn]||(t[Gn]=!0,Un("selectionchange",!1,t))}}function zn(e,t,r,n){switch(qt(t)){case 1:var a=Kt;break;case 4:a=$t;break;default:a=Wt}r=a.bind(null,t,r,e),a=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Vn(e,t,r,n,a){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var o=n.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===s)for(s=n.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==o;){if(null===(s=ba(o)))return;if(5===(l=s.tag)||6===l){n=i=s;continue e}o=o.parentNode}}n=n.return}Ae((function(){var n=i,a=Ne(r),s=[];e:{var o=Cn.get(e);if(void 0!==o){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Sr;break;case"focusin":c="focus",l=mr;break;case"focusout":c="blur",l=mr;break;case"beforeblur":case"afterblur":l=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_r;break;case Sn:case On:case _n:l=gr;break;case En:l=Er;break;case"scroll":l=dr;break;case"wheel":l=Ar;break;case"copy":case"cut":case"paste":l=br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Or}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=n;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ie(p,h))&&u.push(Kn(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,r,a),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===ve||!(c=r.relatedTarget||r.fromElement)||!ba(c)&&!c[pa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?ba(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(u=fr,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Or,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:va(l),f=null==c?o:va(c),(o=new u(m,p+"leave",l,r,a)).target=d,o.relatedTarget=f,m=null,ba(a)===n&&((u=new u(h,p+"enter",c,r,a)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Wn(f))p++;for(f=0,m=h;m;m=Wn(m))f++;for(;0<p-f;)u=Wn(u),p--;for(;0<f-p;)h=Wn(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Wn(u),h=Wn(h)}u=null}else u=null;null!==l&&Xn(s,o,l,u,!1),null!==c&&null!==d&&Xn(s,d,c,u,!0)}if("select"===(l=(o=n?va(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yr;else if(zr(o))if(qr)g=sn;else{g=nn;var x=rn}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=an);switch(g&&(g=g(e,n))?Vr(s,g,r,a):(x&&x(e,o,n),"focusout"===e&&(x=o._wrapperState)&&x.controlled&&"number"===o.type&&ee(o,"number",o.value)),x=n?va(n):window,e){case"focusin":(zr(x)||"true"===x.contentEditable)&&(gn=x,xn=n,bn=null);break;case"focusout":bn=xn=gn=null;break;case"mousedown":yn=!0;break;case"contextmenu":case"mouseup":case"dragend":yn=!1,vn(s,r,a);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":vn(s,r,a)}var b;if(Pr)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Gr?Fr(e,r)&&(y="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(y="onCompositionStart");y&&(Mr&&"ko"!==r.locale&&(Gr||"onCompositionStart"!==y?"onCompositionEnd"===y&&Gr&&(b=er()):(Zt="value"in(Qt=a)?Qt.value:Qt.textContent,Gr=!0)),0<(x=$n(n,y)).length&&(y=new yr(y,e,null,r,a),s.push({event:y,listeners:x}),b?y.data=b:null!==(b=Ur(r))&&(y.data=b))),(b=Dr?function(e,t){switch(e){case"compositionend":return Ur(t);case"keypress":return 32!==t.which?null:(Rr=!0,Lr);case"textInput":return(e=t.data)===Lr&&Rr?null:e;default:return null}}(e,r):function(e,t){if(Gr)return"compositionend"===e||!Pr&&Fr(e,t)?(e=er(),Jt=Zt=Qt=null,Gr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=$n(n,"onBeforeInput")).length&&(a=new yr("onBeforeInput","beforeinput",null,r,a),s.push({event:a,listeners:n}),a.data=b))}Rn(s,t)}))}function Kn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $n(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Ie(e,r))&&n.unshift(Kn(e,i,a)),null!=(i=Ie(e,t))&&n.push(Kn(e,i,a))),e=e.return}return n}function Wn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xn(e,t,r,n,a){for(var i=t._reactName,s=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Ie(r,i))&&s.unshift(Kn(r,l,o)):a||null!=(l=Ie(r,i))&&s.push(Kn(r,l,o))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}var Yn=/\r\n?/g,qn=/\u0000|\uFFFD/g;function Qn(e){return("string"===typeof e?e:""+e).replace(Yn,"\n").replace(qn,"")}function Zn(e,t,r){if(t=Qn(t),Qn(e)!==t&&r)throw Error(i(425))}function Jn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(oa)}:na;function oa(e){setTimeout((function(){throw e}))}function la(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void Bt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);Bt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,xa="__reactHandles$"+da;function ba(e){var t=e[ha];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pa]||r[ha]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ua(e);null!==e;){if(r=e[ha])return r;e=ua(e)}return t}r=(e=r).parentNode}return null}function ya(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function va(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Na(e){return e[fa]||null}var wa=[],ja=-1;function ka(e){return{current:e}}function Ta(e){0>ja||(e.current=wa[ja],wa[ja]=null,ja--)}function Sa(e,t){ja++,wa[ja]=e.current,e.current=t}var Oa={},_a=ka(Oa),Ea=ka(!1),Ca=Oa;function Aa(e,t){var r=e.type.contextTypes;if(!r)return Oa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in r)i[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ia(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pa(){Ta(Ea),Ta(_a)}function Ha(e,t,r){if(_a.current!==Oa)throw Error(i(168));Sa(_a,t),Sa(Ea,r)}function Da(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(i(108,z(e)||"Unknown",a));return L({},r,n)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oa,Ca=_a.current,Sa(_a,e),Sa(Ea,Ea.current),!0}function La(e,t,r){var n=e.stateNode;if(!n)throw Error(i(169));r?(e=Da(e,t,Ca),n.__reactInternalMemoizedMergedChildContext=e,Ta(Ea),Ta(_a),Sa(_a,e)):Ta(Ea),Sa(Ea,r)}var Ra=null,Fa=!1,Ua=!1;function Ga(e){null===Ra?Ra=[e]:Ra.push(e)}function Ba(){if(!Ua&&null!==Ra){Ua=!0;var e=0,t=yt;try{var r=Ra;for(yt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Ra=null,Fa=!1}catch(a){throw null!==Ra&&(Ra=Ra.slice(e+1)),We(Je,Ba),a}finally{yt=t,Ua=!1}}return null}var za=[],Va=0,Ka=null,$a=0,Wa=[],Xa=0,Ya=null,qa=1,Qa="";function Za(e,t){za[Va++]=$a,za[Va++]=Ka,Ka=e,$a=t}function Ja(e,t,r){Wa[Xa++]=qa,Wa[Xa++]=Qa,Wa[Xa++]=Ya,Ya=e;var n=qa;e=Qa;var a=32-st(n)-1;n&=~(1<<a),r+=1;var i=32-st(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,qa=1<<32-st(t)+a|r<<a|n,Qa=i+e}else qa=1<<i|r<<a|n,Qa=e}function ei(e){null!==e.return&&(Za(e,1),Ja(e,1,0))}function ti(e){for(;e===Ka;)Ka=za[--Va],za[Va]=null,$a=za[--Va],za[Va]=null;for(;e===Ya;)Ya=Wa[--Xa],Wa[Xa]=null,Qa=Wa[--Xa],Wa[Xa]=null,qa=Wa[--Xa],Wa[Xa]=null}var ri=null,ni=null,ai=!1,ii=null;function si(e,t){var r=Ac(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function oi(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,ni=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,ni=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Ya?{id:qa,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Ac(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ri=e,ni=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ni;if(t){var r=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=ca(r.nextSibling);var n=ri;t&&oi(e,t)?si(n,r):(e.flags=-4097&e.flags|2,ai=!1,ri=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ri=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function di(e){if(e!==ri)return!1;if(!ai)return ui(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ni)){if(li(e))throw hi(),Error(i(418));for(;t;)si(e,t),t=ca(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ni=ca(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ni=null}}else ni=ri?ca(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ni;e;)e=ca(e.nextSibling)}function fi(){ni=ri=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=v.ReactCurrentBatchConfig;function gi(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,e));var a=n,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function xi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function yi(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function s(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Lc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var i=r.type;return i===j?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===I&&bi(i)===t.type)?((n=a(t,r.props)).ref=gi(e,t,r),n.return=e,n):((n=Hc(r.type,r.key,r.props,null,e.mode,n)).ref=gi(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Rc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,i){return null===t||7!==t.tag?((t=Dc(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case N:return(r=Hc(t.type,t.key,t.props,null,e.mode,r)).ref=gi(e,null,t),r.return=e,r;case w:return(t=Rc(t,e.mode,r)).return=e,t;case I:return h(e,(0,t._init)(t._payload),r)}if(te(t)||D(t))return(t=Dc(t,e.mode,r,null)).return=e,t;xi(e,t)}return null}function f(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case N:return r.key===a?c(e,t,r,n):null;case w:return r.key===a?u(e,t,r,n):null;case I:return f(e,t,(a=r._init)(r._payload),n)}if(te(r)||D(r))return null!==a?null:d(e,t,r,n,null);xi(e,r)}return null}function p(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case N:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case w:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case I:return p(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||D(n))return d(t,e=e.get(r)||null,n,a,null);xi(t,n)}return null}function m(a,i,o,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var x=f(a,d,o[m],l);if(null===x){null===d&&(d=g);break}e&&d&&null===x.alternate&&t(a,d),i=s(x,i,m),null===u?c=x:u.sibling=x,u=x,d=g}if(m===o.length)return r(a,d),ai&&Za(a,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(a,o[m],l))&&(i=s(d,i,m),null===u?c=d:u.sibling=d,u=d);return ai&&Za(a,m),c}for(d=n(a,d);m<o.length;m++)null!==(g=p(d,a,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(a,e)})),ai&&Za(a,m),c}function g(a,o,l,c){var u=D(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=o,g=o=0,x=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(x=m,m=null):x=m.sibling;var y=f(a,m,b.value,c);if(null===y){null===m&&(m=x);break}e&&m&&null===y.alternate&&t(a,m),o=s(y,o,g),null===d?u=y:d.sibling=y,d=y,m=x}if(b.done)return r(a,m),ai&&Za(a,g),u;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=h(a,b.value,c))&&(o=s(b,o,g),null===d?u=b:d.sibling=b,d=b);return ai&&Za(a,g),u}for(m=n(a,m);!b.done;g++,b=l.next())null!==(b=p(m,a,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),o=s(b,o,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(a,e)})),ai&&Za(a,g),u}return function e(n,i,s,l){if("object"===typeof s&&null!==s&&s.type===j&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case N:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===j){if(7===u.tag){r(n,u.sibling),(i=a(u,s.props.children)).return=n,n=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&bi(c)===u.type){r(n,u.sibling),(i=a(u,s.props)).ref=gi(n,u,s),i.return=n,n=i;break e}r(n,u);break}t(n,u),u=u.sibling}s.type===j?((i=Dc(s.props.children,n.mode,l,s.key)).return=n,n=i):((l=Hc(s.type,s.key,s.props,null,n.mode,l)).ref=gi(n,i,s),l.return=n,n=l)}return o(n);case w:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){r(n,i.sibling),(i=a(i,s.children||[])).return=n,n=i;break e}r(n,i);break}t(n,i),i=i.sibling}(i=Rc(s,n.mode,l)).return=n,n=i}return o(n);case I:return e(n,i,(u=s._init)(s._payload),l)}if(te(s))return m(n,i,s,l);if(D(s))return g(n,i,s,l);xi(n,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(r(n,i.sibling),(i=a(i,s)).return=n,n=i):(r(n,i),(i=Lc(s,n.mode,l)).return=n,n=i),o(n)):r(n,i)}}var vi=yi(!0),Ni=yi(!1),wi=ka(null),ji=null,ki=null,Ti=null;function Si(){Ti=ki=ji=null}function Oi(e){var t=wi.current;Ta(wi),e._currentValue=t}function _i(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ei(e,t){ji=e,Ti=ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function Ci(e){var t=e._currentValue;if(Ti!==e)if(e={context:e,memoizedValue:t,next:null},null===ki){if(null===ji)throw Error(i(308));ki=e,ji.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var Ai=null;function Ii(e){null===Ai?Ai=[e]:Ai.push(e)}function Pi(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Ii(t)):(r.next=a.next,a.next=r),t.interleaved=r,Hi(e,n)}function Hi(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Di=!1;function Mi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Li(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ri(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&_l)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Hi(e,r)}return null===(a=n.interleaved)?(t.next=t,Ii(n)):(t.next=a.next,a.next=t),n.interleaved=t,Hi(e,r)}function Ui(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,bt(e,r)}}function Gi(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?a=i=s:i=i.next=s,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Bi(e,t,r,n){var a=e.updateQueue;Di=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(s=0,u=c=l=null,o=i;;){var h=o.lane,f=o.eventTime;if((n&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=r,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Di=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Ml|=s,e.lanes=s,e.memoizedState=d}}function zi(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(i(191,a));a.call(n)}}}var Vi={},Ki=ka(Vi),$i=ka(Vi),Wi=ka(Vi);function Xi(e){if(e===Vi)throw Error(i(174));return e}function Yi(e,t){switch(Sa(Wi,t),Sa($i,e),Sa(Ki,Vi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ta(Ki),Sa(Ki,t)}function qi(){Ta(Ki),Ta($i),Ta(Wi)}function Qi(e){Xi(Wi.current);var t=Xi(Ki.current),r=le(t,e.type);t!==r&&(Sa($i,e),Sa(Ki,r))}function Zi(e){$i.current===e&&(Ta(Ki),Ta($i))}var Ji=ka(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function rs(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var ns=v.ReactCurrentDispatcher,as=v.ReactCurrentBatchConfig,is=0,ss=null,os=null,ls=null,cs=!1,us=!1,ds=0,hs=0;function fs(){throw Error(i(321))}function ps(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function ms(e,t,r,n,a,s){if(is=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ns.current=null===e||null===e.memoizedState?Zs:Js,e=r(n,a),us){s=0;do{if(us=!1,ds=0,25<=s)throw Error(i(301));s+=1,ls=os=null,t.updateQueue=null,ns.current=eo,e=r(n,a)}while(us)}if(ns.current=Qs,t=null!==os&&null!==os.next,is=0,ls=os=ss=null,cs=!1,t)throw Error(i(300));return e}function gs(){var e=0!==ds;return ds=0,e}function xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function bs(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(i(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function ys(e,t){return"function"===typeof t?t(e):t}function vs(e){var t=bs(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=os,a=n.baseQueue,s=r.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(null!==a){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((is&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=n):c=c.next=h,ss.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==s);null===c?o=n:c.next=l,on(n,t.memoizedState)||(yo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{s=a.lane,ss.lanes|=s,Ml|=s,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ns(e){var t=bs(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);on(s,t.memoizedState)||(yo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function ws(){}function js(e,t){var r=ss,n=bs(),a=t(),s=!on(n.memoizedState,a);if(s&&(n.memoizedState=a,yo=!0),n=n.queue,Ds(Ss.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(r.flags|=2048,Cs(9,Ts.bind(null,r,n,a,t),void 0,null),null===El)throw Error(i(349));0!==(30&is)||ks(r,t,a)}return a}function ks(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Ts(e,t,r,n){t.value=r,t.getSnapshot=n,Os(t)&&_s(e)}function Ss(e,t,r){return r((function(){Os(t)&&_s(e)}))}function Os(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch(n){return!0}}function _s(e){var t=Hi(e,1);null!==t&&rc(t,e,1,-1)}function Es(e){var t=xs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:e},t.queue=e,e=e.dispatch=Ws.bind(null,ss,e),[t.memoizedState,e]}function Cs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function As(){return bs().memoizedState}function Is(e,t,r,n){var a=xs();ss.flags|=e,a.memoizedState=Cs(1|t,r,void 0,void 0===n?null:n)}function Ps(e,t,r,n){var a=bs();n=void 0===n?null:n;var i=void 0;if(null!==os){var s=os.memoizedState;if(i=s.destroy,null!==n&&ps(n,s.deps))return void(a.memoizedState=Cs(t,r,i,n))}ss.flags|=e,a.memoizedState=Cs(1|t,r,i,n)}function Hs(e,t){return Is(8390656,8,e,t)}function Ds(e,t){return Ps(2048,8,e,t)}function Ms(e,t){return Ps(4,2,e,t)}function Ls(e,t){return Ps(4,4,e,t)}function Rs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fs(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ps(4,4,Rs.bind(null,t,e),r)}function Us(){}function Gs(e,t){var r=bs();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ps(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Bs(e,t){var r=bs();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ps(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function zs(e,t,r){return 0===(21&is)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=r):(on(r,t)||(r=mt(),ss.lanes|=r,Ml|=r,e.baseState=!0),t)}function Vs(e,t){var r=yt;yt=0!==r&&4>r?r:4,e(!0);var n=as.transition;as.transition={};try{e(!1),t()}finally{yt=r,as.transition=n}}function Ks(){return bs().memoizedState}function $s(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Xs(e))Ys(t,r);else if(null!==(r=Pi(e,t,r,n))){rc(r,e,n,ec()),qs(r,t,n)}}function Ws(e,t,r){var n=tc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))Ys(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,on(o,s)){var l=t.interleaved;return null===l?(a.next=a,Ii(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=Pi(e,t,a,n))&&(rc(r,e,n,a=ec()),qs(r,t,n))}}function Xs(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Ys(e,t){us=cs=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function qs(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,bt(e,r)}}var Qs={readContext:Ci,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Zs={readContext:Ci,useCallback:function(e,t){return xs().memoizedState=[e,void 0===t?null:t],e},useContext:Ci,useEffect:Hs,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Is(4194308,4,Rs.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var r=xs();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xs();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=$s.bind(null,ss,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},xs().memoizedState=e},useState:Es,useDebugValue:Us,useDeferredValue:function(e){return xs().memoizedState=e},useTransition:function(){var e=Es(!1),t=e[0];return e=Vs.bind(null,e[1]),xs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ss,a=xs();if(ai){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===El)throw Error(i(349));0!==(30&is)||ks(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Hs(Ss.bind(null,n,s,e),[e]),n.flags|=2048,Cs(9,Ts.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=xs(),t=El.identifierPrefix;if(ai){var r=Qa;t=":"+t+"R"+(r=(qa&~(1<<32-st(qa)-1)).toString(32)+r),0<(r=ds++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Js={readContext:Ci,useCallback:Gs,useContext:Ci,useEffect:Ds,useImperativeHandle:Fs,useInsertionEffect:Ms,useLayoutEffect:Ls,useMemo:Bs,useReducer:vs,useRef:As,useState:function(){return vs(ys)},useDebugValue:Us,useDeferredValue:function(e){return zs(bs(),os.memoizedState,e)},useTransition:function(){return[vs(ys)[0],bs().memoizedState]},useMutableSource:ws,useSyncExternalStore:js,useId:Ks,unstable_isNewReconciler:!1},eo={readContext:Ci,useCallback:Gs,useContext:Ci,useEffect:Ds,useImperativeHandle:Fs,useInsertionEffect:Ms,useLayoutEffect:Ls,useMemo:Bs,useReducer:Ns,useRef:As,useState:function(){return Ns(ys)},useDebugValue:Us,useDeferredValue:function(e){var t=bs();return null===os?t.memoizedState=e:zs(t,os.memoizedState,e)},useTransition:function(){return[Ns(ys)[0],bs().memoizedState]},useMutableSource:ws,useSyncExternalStore:js,useId:Ks,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var r in t=L({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ro(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:L({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),i=Ri(n,a);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Fi(e,i,a))&&(rc(t,e,a,n),Ui(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),i=Ri(n,a);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=Fi(e,i,a))&&(rc(t,e,a,n),Ui(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),a=Ri(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Fi(e,a,n))&&(rc(t,e,n,r),Ui(t,e,n))}};function ao(e,t,r,n,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(a,i))}function io(e,t,r){var n=!1,a=Oa,i=t.contextType;return"object"===typeof i&&null!==i?i=Ci(i):(a=Ia(t)?Ca:_a.current,i=(n=null!==(n=t.contextTypes)&&void 0!==n)?Aa(e,a):Oa),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function so(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function oo(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Mi(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ci(i):(i=Ia(t)?Ca:_a.current,a.context=Aa(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ro(e,t,i,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&no.enqueueReplaceState(a,a.state,null),Bi(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var r="",n=t;do{r+=G(n),n=n.return}while(n);var a=r}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,r){(r=Ri(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Vl||(Vl=!0,Kl=n),uo(0,t)},r}function po(e,t,r){(r=Ri(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){uo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(r.callback=function(){uo(0,t),"function"!==typeof n&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function mo(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new ho;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Tc.bind(null,e,t,r),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xo(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Ri(-1,1)).tag=2,Fi(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bo=v.ReactCurrentOwner,yo=!1;function vo(e,t,r,n){t.child=null===e?Ni(t,null,r,n):vi(t,e.child,r,n)}function No(e,t,r,n,a){r=r.render;var i=t.ref;return Ei(t,a),n=ms(e,t,r,n,i,a),r=gs(),null===e||yo?(ai&&r&&ei(t),t.flags|=1,vo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vo(e,t,a))}function wo(e,t,r,n,a){if(null===e){var i=r.type;return"function"!==typeof i||Ic(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Hc(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,jo(e,t,i,n,a))}if(i=e.child,0===(e.lanes&a)){var s=i.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(s,n)&&e.ref===t.ref)return Vo(e,t,a)}return t.flags|=1,(e=Pc(i,n)).ref=t.ref,e.return=t,t.child=e}function jo(e,t,r,n,a){if(null!==e){var i=e.memoizedProps;if(ln(i,n)&&e.ref===t.ref){if(yo=!1,t.pendingProps=n=i,0===(e.lanes&a))return t.lanes=e.lanes,Vo(e,t,a);0!==(131072&e.flags)&&(yo=!0)}}return So(e,t,r,n,a)}function ko(e,t,r){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sa(Pl,Il),Il|=r;else{if(0===(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sa(Pl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==i?i.baseLanes:r,Sa(Pl,Il),Il|=n}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,Sa(Pl,Il),Il|=n;return vo(e,t,a,r),t.child}function To(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,r,n,a){var i=Ia(r)?Ca:_a.current;return i=Aa(t,i),Ei(t,a),r=ms(e,t,r,n,i,a),n=gs(),null===e||yo?(ai&&n&&ei(t),t.flags|=1,vo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vo(e,t,a))}function Oo(e,t,r,n,a){if(Ia(r)){var i=!0;Ma(t)}else i=!1;if(Ei(t,a),null===t.stateNode)zo(e,t),io(t,r,n),oo(t,r,n,a),n=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;"object"===typeof c&&null!==c?c=Ci(c):c=Aa(t,c=Ia(r)?Ca:_a.current);var u=r.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==n||l!==c)&&so(t,s,n,c),Di=!1;var h=t.memoizedState;s.state=h,Bi(t,n,s,a),l=t.memoizedState,o!==n||h!==l||Ea.current||Di?("function"===typeof u&&(ro(t,r,u,n),l=t.memoizedState),(o=Di||ao(t,r,o,n,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Li(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=r.contextType)&&null!==l?l=Ci(l):l=Aa(t,l=Ia(r)?Ca:_a.current);var f=r.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||h!==l)&&so(t,s,n,l),Di=!1,h=t.memoizedState,s.state=h,Bi(t,n,s,a);var p=t.memoizedState;o!==d||h!==p||Ea.current||Di?("function"===typeof f&&(ro(t,r,f,n),p=t.memoizedState),(c=Di||ao(t,r,c,n,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),s.props=n,s.state=p,s.context=l,n=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return _o(e,t,r,n,i,a)}function _o(e,t,r,n,a,i){To(e,t);var s=0!==(128&t.flags);if(!n&&!s)return a&&La(t,r,!1),Vo(e,t,i);n=t.stateNode,bo.current=t;var o=s&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&s?(t.child=vi(t,e.child,null,i),t.child=vi(t,null,o,i)):vo(e,t,o,i),t.memoizedState=n.state,a&&La(t,r,!0),t.child}function Eo(e){var t=e.stateNode;t.pendingContext?Ha(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ha(0,t.context,!1),Yi(e,t.containerInfo)}function Co(e,t,r,n,a){return fi(),pi(a),t.flags|=256,vo(e,t,r,n),t.child}var Ao,Io,Po,Ho,Do={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,r){var n,a=t.pendingProps,s=Ji.current,o=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&s)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Sa(Ji,1&s),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Mc(l,a,0,null),e=Dc(e,a,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(r),t.memoizedState=Do,e):Ro(t,l));if(null!==(s=e.memoizedState)&&null!==(n=s.dehydrated))return function(e,t,r,n,a,s,o){if(r)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,n=co(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Mc({mode:"visible",children:n.children},a,0,null),(s=Dc(s,a,o,null)).flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,0!==(1&t.mode)&&vi(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Do,s);if(0===(1&t.mode))return Fo(e,t,o,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,Fo(e,t,o,n=co(s=Error(i(419)),n,void 0))}if(l=0!==(o&e.childLanes),yo||l){if(null!==(n=El)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Hi(e,a),rc(n,e,a,-1))}return mc(),Fo(e,t,o,n=co(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Oc.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ni=ca(a.nextSibling),ri=t,ai=!0,ii=null,null!==e&&(Wa[Xa++]=qa,Wa[Xa++]=Qa,Wa[Xa++]=Ya,qa=e.id,Qa=e.overflow,Ya=t),t=Ro(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,s,r);if(o){o=a.fallback,l=t.mode,n=(s=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Pc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==n?o=Pc(n,o):(o=Dc(o,l,r,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Mo(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=Do,a}return e=(o=e.child).sibling,a=Pc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Ro(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,r,n){return null!==n&&pi(n),vi(t,e.child,null,r),(e=Ro(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),_i(e.return,t,r)}function Go(e,t,r,n,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Bo(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(vo(e,t,n.children,r),0!==(2&(n=Ji.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,r,t);else if(19===e.tag)Uo(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Sa(Ji,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===es(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Go(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===es(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Go(t,!0,r,null,i);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=Pc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Pc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Ko(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $o(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Wo(e,t,r){var n=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $o(t),null;case 1:case 17:return Ia(t.type)&&Pa(),$o(t),null;case 3:return n=t.stateNode,qi(),Ta(Ea),Ta(_a),rs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(sc(ii),ii=null))),Io(e,t),$o(t),null;case 5:Zi(t);var a=Xi(Wi.current);if(r=t.type,null!==e&&null!=t.stateNode)Po(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(i(166));return $o(t),null}if(e=Xi(Ki.current),di(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[ha]=t,n[fa]=s,e=0!==(1&t.mode),r){case"dialog":Fn("cancel",n),Fn("close",n);break;case"iframe":case"object":case"embed":Fn("load",n);break;case"video":case"audio":for(a=0;a<Dn.length;a++)Fn(Dn[a],n);break;case"source":Fn("error",n);break;case"img":case"image":case"link":Fn("error",n),Fn("load",n);break;case"details":Fn("toggle",n);break;case"input":q(n,s),Fn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Fn("invalid",n);break;case"textarea":ae(n,s),Fn("invalid",n)}for(var l in be(r,s),a=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==s.suppressHydrationWarning&&Zn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Zn(n.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fn("scroll",n)}switch(r){case"input":$(n),J(n,s,!0);break;case"textarea":$(n),se(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=Jn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ha]=t,e[fa]=n,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(r,n),r){case"dialog":Fn("cancel",e),Fn("close",e),a=n;break;case"iframe":case"object":case"embed":Fn("load",e),a=n;break;case"video":case"audio":for(a=0;a<Dn.length;a++)Fn(Dn[a],e);a=n;break;case"source":Fn("error",e),a=n;break;case"img":case"image":case"link":Fn("error",e),Fn("load",e),a=n;break;case"details":Fn("toggle",e),a=n;break;case"input":q(e,n),a=Y(e,n),Fn("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=L({},n,{value:void 0}),Fn("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),Fn("invalid",e)}for(s in be(r,a),c=a)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==r||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Fn("scroll",e):null!=u&&y(e,s,u,l))}switch(r){case"input":$(e),J(e,n,!1);break;case"textarea":$(e),se(e);break;case"option":null!=n.value&&e.setAttribute("value",""+V(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?re(e,!!n.multiple,s,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Jn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $o(t),null;case 6:if(e&&null!=t.stateNode)Ho(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(r=Xi(Wi.current),Xi(Ki.current),di(t)){if(n=t.stateNode,r=t.memoizedProps,n[ha]=t,(s=n.nodeValue!==r)&&null!==(e=ri))switch(e.tag){case 3:Zn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zn(n.nodeValue,r,0!==(1&e.mode))}s&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ha]=t,t.stateNode=n}return $o(t),null;case 13:if(Ta(Ji),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ni&&0!==(1&t.mode)&&0===(128&t.flags))hi(),fi(),t.flags|=98560,s=!1;else if(s=di(t),null!==n&&null!==n.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[ha]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$o(t),s=!1}else null!==ii&&(sc(ii),ii=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Ji.current)?0===Hl&&(Hl=3):mc())),null!==t.updateQueue&&(t.flags|=4),$o(t),null);case 4:return qi(),Io(e,t),null===e&&Bn(t.stateNode.containerInfo),$o(t),null;case 10:return Oi(t.type._context),$o(t),null;case 19:if(Ta(Ji),null===(s=t.memoizedState))return $o(t),null;if(n=0!==(128&t.flags),null===(l=s.rendering))if(n)Ko(s,!1);else{if(0!==Hl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Ko(s,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Sa(Ji,1&Ji.current|2),t.child}e=e.sibling}null!==s.tail&&Qe()>Bl&&(t.flags|=128,n=!0,Ko(s,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=es(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Ko(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ai)return $o(t),null}else 2*Qe()-s.renderingStartTime>Bl&&1073741824!==r&&(t.flags|=128,n=!0,Ko(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=s.last)?r.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,r=Ji.current,Sa(Ji,n?1&r|2:1&r),t):($o(t),null);case 22:case 23:return dc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Il)&&($o(t),6&t.subtreeFlags&&(t.flags|=8192)):$o(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Xo(e,t){switch(ti(t),t.tag){case 1:return Ia(t.type)&&Pa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return qi(),Ta(Ea),Ta(_a),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(Ta(Ji),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ta(Ji),null;case 4:return qi(),null;case 10:return Oi(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ao=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Io=function(){},Po=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Xi(Ki.current);var i,s=null;switch(r){case"input":a=Y(e,a),n=Y(e,n),s=[];break;case"select":a=L({},a,{value:void 0}),n=L({},n,{value:void 0}),s=[];break;case"textarea":a=ne(e,a),n=ne(e,n),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Jn)}for(u in be(r,n),r=null,a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=null!=a?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fn("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ho=function(e,t,r,n){r!==n&&(t.flags|=4)};var Yo=!1,qo=!1,Qo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function Jo(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){kc(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){kc(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(t,r,i)}a=a.next}while(a!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function al(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[ga],delete t[xa])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Jn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var ul=null,dl=!1;function hl(e,t,r){for(r=r.child;null!==r;)fl(e,t,r),r=r.sibling}function fl(e,t,r){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,r)}catch(o){}switch(r.tag){case 5:qo||Jo(r,t);case 6:var n=ul,a=dl;ul=null,hl(e,t,r),dl=a,null!==(ul=n)&&(dl?(e=ul,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):ul.removeChild(r.stateNode));break;case 18:null!==ul&&(dl?(e=ul,r=r.stateNode,8===e.nodeType?la(e.parentNode,r):1===e.nodeType&&la(e,r),Bt(e)):la(ul,r.stateNode));break;case 4:n=ul,a=dl,ul=r.stateNode.containerInfo,dl=!0,hl(e,t,r),ul=n,dl=a;break;case 0:case 11:case 14:case 15:if(!qo&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(r,t,s),a=a.next}while(a!==n)}hl(e,t,r);break;case 1:if(!qo&&(Jo(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){kc(r,t,o)}hl(e,t,r);break;case 21:hl(e,t,r);break;case 22:1&r.mode?(qo=(n=qo)||null!==r.memoizedState,hl(e,t,r),qo=n):hl(e,t,r);break;default:hl(e,t,r)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Qo),t.forEach((function(t){var n=_c.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function ml(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));fl(s,o,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){kc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),xl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:ml(t,e),xl(e),512&n&&null!==r&&Jo(r,r.return);break;case 5:if(ml(t,e),xl(e),512&n&&null!==r&&Jo(r,r.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){kc(e,e.return,g)}}if(4&n&&null!=(a=e.stateNode)){var s=e.memoizedProps,o=null!==r?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Q(a,s),ye(l,o);var u=ye(l,s);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):y(a,d,h,u)}switch(l){case"input":Z(a,s);break;case"textarea":ie(a,s);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?re(a,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?re(a,!!s.multiple,s.defaultValue,!0):re(a,!!s.multiple,s.multiple?[]:"",!1))}a[fa]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(ml(t,e),xl(e),4&n){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(ml(t,e),xl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:ml(t,e),xl(e);break;case 13:ml(t,e),xl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Gl=Qe())),4&n&&pl(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(qo=(u=qo)||d,ml(t,e),qo=u):ml(t,e),xl(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zo=e,d=e.child;null!==d;){for(h=Zo=d;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:Jo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(n,r,g)}}break;case 5:Jo(f,f.return);break;case 22:if(null!==f.memoizedState){Nl(h);continue}}null!==p?(p.return=f,Zo=p):Nl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),xl(e),4&n&&pl(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(sl(r)){var n=r;break e}r=r.return}throw Error(i(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(he(a,""),n.flags&=-33),cl(e,ol(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(i(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,r){Zo=e,yl(e,t,r)}function yl(e,t,r){for(var n=0!==(1&e.mode);null!==Zo;){var a=Zo,i=a.child;if(22===a.tag&&n){var s=null!==a.memoizedState||Yo;if(!s){var o=a.alternate,l=null!==o&&null!==o.memoizedState||qo;o=Yo;var c=qo;if(Yo=s,(qo=l)&&!c)for(Zo=a;null!==Zo;)l=(s=Zo).child,22===s.tag&&null!==s.memoizedState?wl(a):null!==l?(l.return=s,Zo=l):wl(a);for(;null!==i;)Zo=i,yl(i,t,r),i=i.sibling;Zo=a,Yo=o,qo=c}vl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Zo=i):vl(e)}}function vl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:qo||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!qo)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:to(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&zi(t,s,n);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}zi(t,o,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(i(163))}qo||512&t.flags&&al(t)}catch(f){kc(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(r=t.sibling)){r.return=t.return,Zo=r;break}Zo=t.return}}function Nl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Zo=r;break}Zo=t.return}}function wl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){kc(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){kc(t,a,l)}}var i=t.return;try{al(t)}catch(l){kc(t,i,l)}break;case 5:var s=t.return;try{al(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var jl,kl=Math.ceil,Tl=v.ReactCurrentDispatcher,Sl=v.ReactCurrentOwner,Ol=v.ReactCurrentBatchConfig,_l=0,El=null,Cl=null,Al=0,Il=0,Pl=ka(0),Hl=0,Dl=null,Ml=0,Ll=0,Rl=0,Fl=null,Ul=null,Gl=0,Bl=1/0,zl=null,Vl=!1,Kl=null,$l=null,Wl=!1,Xl=null,Yl=0,ql=0,Ql=null,Zl=-1,Jl=0;function ec(){return 0!==(6&_l)?Qe():-1!==Zl?Zl:Zl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&_l)&&0!==Al?Al&-Al:null!==mi.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:qt(e.type)}function rc(e,t,r,n){if(50<ql)throw ql=0,Ql=null,Error(i(185));xt(e,r,n),0!==(2&_l)&&e===El||(e===El&&(0===(2&_l)&&(Ll|=r),4===Hl&&oc(e,Al)),nc(e,n),1===r&&0===_l&&0===(1&t.mode)&&(Bl=Qe()+500,Fa&&Ba()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),o=1<<s,l=a[s];-1===l?0!==(o&r)&&0===(o&n)||(a[s]=ft(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var n=ht(e,e===El?Al:0);if(0===n)null!==r&&Xe(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Xe(r),1===t)0===e.tag?function(e){Fa=!0,Ga(e)}(lc.bind(null,e)):Ga(lc.bind(null,e)),sa((function(){0===(6&_l)&&Ba()})),r=null;else{switch(vt(n)){case 1:r=Je;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Ec(r,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ac(e,t){if(Zl=-1,Jl=0,0!==(6&_l))throw Error(i(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var n=ht(e,e===El?Al:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gc(e,n);else{t=n;var a=_l;_l|=2;var s=pc();for(El===e&&Al===t||(zl=null,Bl=Qe()+500,hc(e,t));;)try{bc();break}catch(l){fc(e,l)}Si(),Tl.current=s,_l=a,null!==Cl?t=0:(El=null,Al=0,t=Hl)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(n=a,t=ic(e,a))),1===t)throw r=Dl,hc(e,0),oc(e,n),nc(e,Qe()),r;if(6===t)oc(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!on(i(),a))return!1}catch(o){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,n))&&(0!==(s=pt(e))&&(n=s,t=ic(e,s))),1===t))throw r=Dl,hc(e,0),oc(e,n),nc(e,Qe()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(i(345));case 2:case 5:Nc(e,Ul,zl);break;case 3:if(oc(e,n),(130023424&n)===n&&10<(t=Gl+500-Qe())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(Nc.bind(null,e,Ul,zl),t);break}Nc(e,Ul,zl);break;case 4:if(oc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-st(n);s=1<<o,(o=t[o])>a&&(a=o),n&=~s}if(n=a,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kl(n/1960))-n)){e.timeoutHandle=na(Nc.bind(null,e,Ul,zl),n);break}Nc(e,Ul,zl);break;default:throw Error(i(329))}}}return nc(e,Qe()),e.callbackNode===r?ac.bind(null,e):null}function ic(e,t){var r=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=r,null!==t&&sc(t)),e}function sc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~Rl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-st(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(0!==(6&_l))throw Error(i(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Qe()),null;var r=gc(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=ic(e,n))}if(1===r)throw r=Dl,hc(e,0),oc(e,t),nc(e,Qe()),r;if(6===r)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nc(e,Ul,zl),nc(e,Qe()),null}function cc(e,t){var r=_l;_l|=1;try{return e(t)}finally{0===(_l=r)&&(Bl=Qe()+500,Fa&&Ba())}}function uc(e){null!==Xl&&0===Xl.tag&&0===(6&_l)&&wc();var t=_l;_l|=1;var r=Ol.transition,n=yt;try{if(Ol.transition=null,yt=1,e)return e()}finally{yt=n,Ol.transition=r,0===(6&(_l=t))&&Ba()}}function dc(){Il=Pl.current,Ta(Pl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==Cl)for(r=Cl.return;null!==r;){var n=r;switch(ti(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Pa();break;case 3:qi(),Ta(Ea),Ta(_a),rs();break;case 5:Zi(n);break;case 4:qi();break;case 13:case 19:Ta(Ji);break;case 10:Oi(n.type._context);break;case 22:case 23:dc()}r=r.return}if(El=e,Cl=e=Pc(e.current,null),Al=Il=t,Hl=0,Dl=null,Rl=Ll=Ml=0,Ul=Fl=null,null!==Ai){for(t=0;t<Ai.length;t++)if(null!==(n=(r=Ai[t]).interleaved)){r.interleaved=null;var a=n.next,i=r.pending;if(null!==i){var s=i.next;i.next=a,n.next=s}r.pending=n}Ai=null}return e}function fc(e,t){for(;;){var r=Cl;try{if(Si(),ns.current=Qs,cs){for(var n=ss.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}cs=!1}if(is=0,ls=os=ss=null,us=!1,ds=0,Sl.current=null,null===r||null===r.return){Hl=1,Dl=t,Cl=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,xo(p,o,l,0,t),1&p.mode&&mo(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(s,u,t),mc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var x=go(o);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),xo(x,o,l,0,t),pi(lo(c,l));break e}}s=c=lo(c,l),4!==Hl&&(Hl=2),null===Fl?Fl=[s]:Fl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Gi(s,fo(0,c,t));break e;case 1:l=c;var b=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===$l||!$l.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,Gi(s,po(s,l,t));break e}}s=s.return}while(null!==s)}vc(r)}catch(v){t=v,Cl===r&&null!==r&&(Cl=r=r.return);continue}break}}function pc(){var e=Tl.current;return Tl.current=Qs,null===e?Qs:e}function mc(){0!==Hl&&3!==Hl&&2!==Hl||(Hl=4),null===El||0===(268435455&Ml)&&0===(268435455&Ll)||oc(El,Al)}function gc(e,t){var r=_l;_l|=2;var n=pc();for(El===e&&Al===t||(zl=null,hc(e,t));;)try{xc();break}catch(a){fc(e,a)}if(Si(),_l=r,Tl.current=n,null!==Cl)throw Error(i(261));return El=null,Al=0,Hl}function xc(){for(;null!==Cl;)yc(Cl)}function bc(){for(;null!==Cl&&!Ye();)yc(Cl)}function yc(e){var t=jl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?vc(e):Cl=t,Sl.current=null}function vc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Wo(r,t,Il)))return void(Cl=r)}else{if(null!==(r=Xo(r,t)))return r.flags&=32767,void(Cl=r);if(null===e)return Hl=6,void(Cl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cl=t);Cl=t=e}while(null!==t);0===Hl&&(Hl=5)}function Nc(e,t,r){var n=yt,a=Ol.transition;try{Ol.transition=null,yt=1,function(e,t,r,n){do{wc()}while(null!==Xl);if(0!==(6&_l))throw Error(i(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-st(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}(e,s),e===El&&(Cl=El=null,Al=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Wl||(Wl=!0,Ec(tt,(function(){return wc(),null}))),s=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||s){s=Ol.transition,Ol.transition=null;var o=yt;yt=1;var l=_l;_l|=4,Sl.current=null,function(e,t){if(ea=Vt,fn(e=hn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch(N){r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==n&&3!==h.nodeType||(c=o+n),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===a&&(l=o),f===s&&++d===n&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},Vt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,x=m.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),x);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(i(163))}}catch(N){kc(t,t.return,N)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=tl,tl=!1}(e,r),gl(r,e),pn(ta),Vt=!!ea,ta=ea=null,e.current=r,bl(r,e,a),qe(),_l=l,yt=o,Ol.transition=s}else e.current=r;if(Wl&&(Wl=!1,Xl=e,Yl=a),s=e.pendingLanes,0===s&&($l=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,Qe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Vl)throw Vl=!1,e=Kl,Kl=null,e;0!==(1&Yl)&&0!==e.tag&&wc(),s=e.pendingLanes,0!==(1&s)?e===Ql?ql++:(ql=0,Ql=e):ql=0,Ba()}(e,t,r,n)}finally{Ol.transition=a,yt=n}return null}function wc(){if(null!==Xl){var e=vt(Yl),t=Ol.transition,r=yt;try{if(Ol.transition=null,yt=16>e?16:e,null===Xl)var n=!1;else{if(e=Xl,Xl=null,Yl=0,0!==(6&_l))throw Error(i(331));var a=_l;for(_l|=4,Zo=e.current;null!==Zo;){var s=Zo,o=s.child;if(0!==(16&Zo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var d=Zo;switch(d.tag){case 0:case 11:case 15:rl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Zo=h;else for(;null!==Zo;){var f=(d=Zo).sibling,p=d.return;if(il(d),d===u){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}Zo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(s=Zo).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var b=s.sibling;if(null!==b){b.return=s.return,Zo=b;break e}Zo=s.return}}var y=e.current;for(Zo=y;null!==Zo;){var v=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==v)v.return=o,Zo=v;else e:for(o=y;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(w){kc(l,l.return,w)}if(l===o){Zo=null;break e}var N=l.sibling;if(null!==N){N.return=l.return,Zo=N;break e}Zo=l.return}}if(_l=a,Ba(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(w){}n=!0}return n}finally{yt=r,Ol.transition=t}}return!1}function jc(e,t,r){e=Fi(e,t=fo(0,t=lo(r,t),1),1),t=ec(),null!==e&&(xt(e,1,t),nc(e,t))}function kc(e,t,r){if(3===e.tag)jc(e,e,r);else for(;null!==t;){if(3===t.tag){jc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===$l||!$l.has(n))){t=Fi(t,e=po(t,e=lo(r,e),1),1),e=ec(),null!==t&&(xt(t,1,e),nc(t,e));break}}t=t.return}}function Tc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,El===e&&(Al&r)===r&&(4===Hl||3===Hl&&(130023424&Al)===Al&&500>Qe()-Gl?hc(e,0):Rl|=r),nc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var r=ec();null!==(e=Hi(e,t))&&(xt(e,t,r),nc(e,r))}function Oc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Sc(e,r)}function _c(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(i(314))}null!==n&&n.delete(t),Sc(e,r)}function Ec(e,t){return We(e,t)}function Cc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,r,n){return new Cc(e,t,r,n)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var r=e.alternate;return null===r?((r=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hc(e,t,r,n,a,s){var o=2;if(n=e,"function"===typeof e)Ic(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case j:return Dc(r.children,a,s,t);case k:o=8,a|=8;break;case T:return(e=Ac(12,r,t,2|a)).elementType=T,e.lanes=s,e;case E:return(e=Ac(13,r,t,a)).elementType=E,e.lanes=s,e;case C:return(e=Ac(19,r,t,a)).elementType=C,e.lanes=s,e;case P:return Mc(r,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case O:o=9;break e;case _:o=11;break e;case A:o=14;break e;case I:o=16,n=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ac(o,r,t,a)).elementType=e,t.type=n,t.lanes=s,t}function Dc(e,t,r,n){return(e=Ac(7,e,n,t)).lanes=r,e}function Mc(e,t,r,n){return(e=Ac(22,e,n,t)).elementType=P,e.lanes=r,e.stateNode={isHidden:!1},e}function Lc(e,t,r){return(e=Ac(6,e,null,t)).lanes=r,e}function Rc(e,t,r){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uc(e,t,r,n,a,i,s,o,l){return e=new Fc(e,t,r,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ac(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mi(i),e}function Gc(e){if(!e)return Oa;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ia(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var r=e.type;if(Ia(r))return Da(e,r,t)}return t}function Bc(e,t,r,n,a,i,s,o,l){return(e=Uc(r,n,!0,e,0,i,0,o,l)).context=Gc(null),r=e.current,(i=Ri(n=ec(),a=tc(r))).callback=void 0!==t&&null!==t?t:null,Fi(r,i,a),e.current.lanes=a,xt(e,a,n),nc(e,n),e}function zc(e,t,r,n){var a=t.current,i=ec(),s=tc(a);return r=Gc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Ri(i,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Fi(a,t,s))&&(rc(e,a,s,i),Ui(e,a,s)),s}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function $c(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}jl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ea.current)yo=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return yo=!1,function(e,t,r){switch(t.tag){case 3:Eo(t),fi();break;case 5:Qi(t);break;case 1:Ia(t.type)&&Ma(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Sa(wi,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Sa(Ji,1&Ji.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Lo(e,t,r):(Sa(Ji,1&Ji.current),null!==(e=Vo(e,t,r))?e.sibling:null);Sa(Ji,1&Ji.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Bo(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sa(Ji,Ji.current),n)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,r)}return Vo(e,t,r)}(e,t,r);yo=0!==(131072&e.flags)}else yo=!1,ai&&0!==(1048576&t.flags)&&Ja(t,$a,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;zo(e,t),e=t.pendingProps;var a=Aa(t,_a.current);Ei(t,r),a=ms(null,t,n,e,a,r);var s=gs();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ia(n)?(s=!0,Ma(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Mi(t),a.updater=no,t.stateNode=a,a._reactInternals=t,oo(t,n,e,r),t=_o(null,t,n,!0,s,r)):(t.tag=0,ai&&s&&ei(t),vo(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(zo(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===A)return 14}return 2}(n),e=to(n,e),a){case 0:t=So(null,t,n,e,r);break e;case 1:t=Oo(null,t,n,e,r);break e;case 11:t=No(null,t,n,e,r);break e;case 14:t=wo(null,t,n,to(n.type,e),r);break e}throw Error(i(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,So(e,t,n,a=t.elementType===n?a:to(n,a),r);case 1:return n=t.type,a=t.pendingProps,Oo(e,t,n,a=t.elementType===n?a:to(n,a),r);case 3:e:{if(Eo(t),null===e)throw Error(i(387));n=t.pendingProps,a=(s=t.memoizedState).element,Li(e,t),Bi(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Co(e,t,n,r,a=lo(Error(i(423)),t));break e}if(n!==a){t=Co(e,t,n,r,a=lo(Error(i(424)),t));break e}for(ni=ca(t.stateNode.containerInfo.firstChild),ri=t,ai=!0,ii=null,r=Ni(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fi(),n===a){t=Vo(e,t,r);break e}vo(e,t,n,r)}t=t.child}return t;case 5:return Qi(t),null===e&&ci(t),n=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,ra(n,a)?o=null:null!==s&&ra(n,s)&&(t.flags|=32),To(e,t),vo(e,t,o,r),t.child;case 6:return null===e&&ci(t),null;case 13:return Lo(e,t,r);case 4:return Yi(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=vi(t,null,n,r):vo(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,No(e,t,n,a=t.elementType===n?a:to(n,a),r);case 7:return vo(e,t,t.pendingProps,r),t.child;case 8:case 12:return vo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Sa(wi,n._currentValue),n._currentValue=o,null!==s)if(on(s.value,o)){if(s.children===a.children&&!Ea.current){t=Vo(e,t,r);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===s.tag){(c=Ri(-1,r&-r)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,null!==(c=s.alternate)&&(c.lanes|=r),_i(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),_i(o,r,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}vo(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ei(t,r),n=n(a=Ci(a)),t.flags|=1,vo(e,t,n,r),t.child;case 14:return a=to(n=t.type,t.pendingProps),wo(e,t,n,a=to(n.type,a),r);case 15:return jo(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:to(n,a),zo(e,t),t.tag=1,Ia(n)?(e=!0,Ma(t)):e=!1,Ei(t,r),io(t,n,a),oo(t,n,a,r),_o(null,t,n,!0,e,r);case 19:return Bo(e,t,r);case 22:return ko(e,t,r)}throw Error(i(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Jc(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if("function"===typeof a){var o=a;a=function(){var e=Vc(s);o.call(e)}}zc(t,s,e,a)}else s=function(e,t,r,n,a){if(a){if("function"===typeof n){var i=n;n=function(){var e=Vc(s);i.call(e)}}var s=Bc(t,n,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[pa]=s.current,Bn(8===e.nodeType?e.parentNode:e),uc(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var o=n;n=function(){var e=Vc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pa]=l.current,Bn(8===e.nodeType?e.parentNode:e),uc((function(){zc(t,l,r,n)})),l}(r,t,e,a,n);return Vc(s)}Yc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));zc(e,t,null,null)},Yc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){zc(null,e,null,null)})),t[pa]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Pt.length&&0!==t&&t<Pt[r].priority;r++);Pt.splice(r,0,e),0===r&&Lt(e)}},Nt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(bt(t,1|r),nc(t,Qe()),0===(6&_l)&&(Bl=Qe()+500,Ba()))}break;case 13:uc((function(){var t=Hi(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}})),$c(e,1)}},wt=function(e){if(13===e.tag){var t=Hi(e,134217728);if(null!==t)rc(t,e,134217728,ec());$c(e,134217728)}},jt=function(e){if(13===e.tag){var t=tc(e),r=Hi(e,t);if(null!==r)rc(r,e,t,ec());$c(e,t)}},kt=function(){return yt},Tt=function(e,t){var r=yt;try{return yt=e,t()}finally{yt=r}},we=function(e,t,r){switch(t){case"input":if(Z(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Na(n);if(!a)throw Error(i(90));W(n),Z(n,a)}}}break;case"textarea":ie(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},_e=cc,Ee=uc;var eu={usingClientEntryPoint:!1,Events:[ya,va,Na,Se,Oe,cc]},tu={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{at=nu.inject(ru),it=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qc(t))throw Error(i(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!qc(e))throw Error(i(299));var r=!1,n="",a=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uc(e,1,!1,null,0,r,0,n,a),e[pa]=t.current,Bn(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,r){if(!Qc(t))throw Error(i(200));return Jc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!qc(e))throw Error(i(405));var n=null!=r&&r.hydratedSources||null,a=!1,s="",o=Wc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(s=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=Bc(t,null,e,1,null!=r?r:null,a,0,s,o),e[pa]=t.current,Bn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Yc(t)},t.render=function(e,t,r){if(!Qc(t))throw Error(i(200));return Jc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qc(r))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Jc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,r)=>{"use strict";var n=r(7950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2730)},1153:(e,t,r)=>{"use strict";var n=r(5043),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,i={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function x(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}function b(){}function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var v=y.prototype=new b;v.constructor=y,m(v,x.prototype),v.isPureReactComponent=!0;var N=Array.isArray,w=Object.prototype.hasOwnProperty,j={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var a,i={},s=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)w.call(t,a)&&!k.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:r,type:e,key:s,ref:o,props:i,_owner:j.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var O=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return s=s(l=e),e=""===i?"."+_(l,0):i,N(s)?(a="",null!=e&&(a=e.replace(O,"$&/")+"/"),E(s,t,a,"",(function(e){return e}))):null!=s&&(S(s)&&(s=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(O,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",N(e))for(var c=0;c<e.length;c++){var u=i+_(o=e[c],c);l+=E(o,t,a,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=E(o=o.value,t,a,u=i+_(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function C(e,t,r){if(null==e)return e;var n=[],a=0;return E(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},P={transition:null},H={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:P,ReactCurrentOwner:j};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:C,forEach:function(e,t,r){C(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=a,t.Profiler=s,t.PureComponent=y,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,t.act=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=j.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:r,type:e.type,key:i,ref:s,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,r){return I.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,r){return I.current.useReducer(e,t,r)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return I.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},5043:(e,t,r)=>{"use strict";e.exports=r(4202)},579:(e,t,r)=>{"use strict";e.exports=r(1153)},6378:(e,t)=>{"use strict";var r,n=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case s:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case a:return t}}}r=Symbol.for("react.module.reference"),t.isFragment=function(e){return x(e)===i}},9062:(e,t,r)=>{"use strict";e.exports=r(6378)},7234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<i(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,s=a>>>1;n<s;){var o=2*(n+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,r))c<a&&0>i(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<a&&0>i(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=n(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function N(e){if(g=!1,v(e),!m)if(null!==n(c))m=!0,P(w);else{var t=n(u);null!==t&&H(N,t.startTime-e)}}function w(e,r){m=!1,g&&(g=!1,b(S),S=-1),p=!0;var i=f;try{for(v(r),h=n(c);null!==h&&(!(h.expirationTime>r)||e&&!E());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof o?h.callback=o:h===n(c)&&a(c),v(r)}else a(c);h=n(c)}if(null!==h)var l=!0;else{var d=n(u);null!==d&&H(N,d.startTime-r),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,k=!1,T=null,S=-1,O=5,_=-1;function E(){return!(t.unstable_now()-_<O)}function C(){if(null!==T){var e=t.unstable_now();_=e;var r=!0;try{r=T(!0,e)}finally{r?j():(k=!1,T=null)}}else k=!1}if("function"===typeof y)j=function(){y(C)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,I=A.port2;A.port1.onmessage=C,j=function(){I.postMessage(null)}}else j=function(){x(C,0)};function P(e){T=e,k||(k=!0,j())}function H(e,r){S=x((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,r(u,e),null===n(c)&&e===n(u)&&(g?(b(S),S=-1):g=!0,H(N,i-s))):(e.sortIndex=o,r(c,e),m||p||(m=!0,P(w))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},8853:(e,t,r)=>{"use strict";e.exports=r(7234)}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var i=Object.create(null);r.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,r.d(i,s),i}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"static/js/"+e+".190aa987.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="hoangnguyenlong:";r.l=(n,a,i,s)=>{if(e[n])e[n].push(a);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+i),o.src=n),e[n]=[a];var h=(t,r)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((e=>e(r))),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var i=new Promise(((r,n)=>a=e[t]=[r,n]));n.push(a[2]=i);var s=r.p+r.u(t),o=new Error;r.l(s,(n=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,a[1](o)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,i,s=n[0],o=n[1],l=n[2],c=0;if(s.some((t=>0!==e[t]))){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(l)l(r)}for(t&&t(n);c<s.length;c++)i=s[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkhoangnguyenlong=self.webpackChunkhoangnguyenlong||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{scaleBand:()=>Dl,scaleDiverging:()=>fp,scaleDivergingLog:()=>pp,scaleDivergingPow:()=>gp,scaleDivergingSqrt:()=>xp,scaleDivergingSymlog:()=>mp,scaleIdentity:()=>sd,scaleImplicit:()=>Pl,scaleLinear:()=>id,scaleLog:()=>md,scaleOrdinal:()=>Hl,scalePoint:()=>Ll,scalePow:()=>kd,scaleQuantile:()=>Md,scaleQuantize:()=>Ld,scaleRadial:()=>Od,scaleSequential:()=>sp,scaleSequentialLog:()=>op,scaleSequentialPow:()=>cp,scaleSequentialQuantile:()=>dp,scaleSequentialSqrt:()=>up,scaleSequentialSymlog:()=>lp,scaleSqrt:()=>Td,scaleSymlog:()=>yd,scaleThreshold:()=>Rd,scaleTime:()=>rp,scaleUtc:()=>np,tickFormat:()=>nd});var t,n=r(5043),a=r.t(n,2),i=r(4391);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const o="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(fU){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,r,n){return void 0===r&&(r=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function f(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function p(e,r,n,a){void 0===a&&(a={});let{window:i=document.defaultView,v5Compat:c=!1}=a,f=i.history,p=t.Pop,m=null,g=x();function x(){return(f.state||{idx:null}).idx}function b(){p=t.Pop;let e=x(),r=null==e?null:e-g;g=e,m&&m({action:p,location:v.location,delta:r})}function y(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,r="string"===typeof e?e:h(e);return r=r.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==g&&(g=0,f.replaceState(s({},f.state,{idx:g}),""));let v={get action(){return p},get location(){return e(i,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(o,b),m=e,()=>{i.removeEventListener(o,b),m=null}},createHref:e=>r(i,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,r){p=t.Push;let a=d(v.location,e,r);n&&n(a,e),g=x()+1;let s=u(a,g),o=v.createHref(a);try{f.pushState(s,"",o)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;i.location.assign(o)}c&&m&&m({action:p,location:v.location,delta:1})},replace:function(e,r){p=t.Replace;let a=d(v.location,e,r);n&&n(a,e),g=x();let i=u(a,g),s=v.createHref(a);f.replaceState(i,"",s),c&&m&&m({action:p,location:v.location,delta:0})},go:e=>f.go(e)};return v}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,r){return void 0===r&&(r="/"),x(e,t,r,!1)}function x(e,t,r,n){let a=A(("string"===typeof t?f(t):t).pathname||"/",r);if(null==a)return null;let i=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=C(a);s=_(i[o],e,n)}return s}function b(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let a=(e,a,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(l(s.relativePath.startsWith(n),'Absolute route path "'+s.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(n.length));let o=M([n,s.relativePath]),c=r.concat(s);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,c,o)),(null!=e.path||e.index)&&t.push({path:o,score:O(o,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of y(e.path))a(e,t,n);else a(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(0===n.length)return a?[i,""]:[i];let s=y(n.join("/")),o=[];return o.push(...s.map((e=>""===e?i:[i,e].join("/")))),a&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const v=/^:[\w-]+$/,N=3,w=2,j=1,k=10,T=-2,S=e=>"*"===e;function O(e,t){let r=e.split("/"),n=r.length;return r.some(S)&&(n+=T),t&&(n+=w),r.filter((e=>!S(e))).reduce(((e,t)=>e+(v.test(t)?N:""===t?j:k)),n)}function _(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",u=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),s.push({params:a,pathname:M([i,u.pathname]),pathnameBase:L(M([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=M([i,u.pathnameBase]))}return s}function E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let i=new RegExp(a,t?void 0:"i");return[i,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1),l=n.reduce(((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=o[r]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:i,pathnameBase:s,pattern:e}}function C(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function I(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function H(e,t){let r=P(e);return t?r.map(((e,t)=>t===r.length-1?e.pathname:e.pathnameBase)):r.map((e=>e.pathnameBase))}function D(e,t,r,n){let a;void 0===n&&(n=!1),"string"===typeof e?a=f(e):(a=s({},e),l(!a.pathname||!a.pathname.includes("?"),I("?","pathname","search",a)),l(!a.pathname||!a.pathname.includes("#"),I("#","pathname","hash",a)),l(!a.search||!a.search.includes("#"),I("#","search","hash",a)));let i,o=""===e||""===a.pathname,c=o?"/":a.pathname;if(null==c)i=r;else{let e=t.length-1;if(!n&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}i=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:a=""}="string"===typeof e?f(e):e,i=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:i,search:R(n),hash:F(a)}}(a,i),d=c&&"/"!==c&&c.endsWith("/"),h=(o||"."===c)&&r.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const G=["post","put","patch","delete"],B=(new Set(G),["get",...G]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z.apply(this,arguments)}const V=n.createContext(null);const K=n.createContext(null);const W=n.createContext(null);const X=n.createContext(null);const Y=n.createContext({outlet:null,matches:[],isDataRoute:!1});const q=n.createContext(null);function Q(){return null!=n.useContext(X)}function Z(){return Q()||l(!1),n.useContext(X).location}function J(e){n.useContext(W).static||n.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=n.useContext(Y);return e?function(){let{router:e}=ce(oe.UseNavigateStable),t=de(le.UseNavigateStable),r=n.useRef(!1);J((()=>{r.current=!0}));let a=n.useCallback((function(n,a){void 0===a&&(a={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,z({fromRouteId:t},a)))}),[e,t]);return a}():function(){Q()||l(!1);let e=n.useContext(V),{basename:t,future:r,navigator:a}=n.useContext(W),{matches:i}=n.useContext(Y),{pathname:s}=Z(),o=JSON.stringify(H(i,r.v7_relativeSplatPath)),c=n.useRef(!1);J((()=>{c.current=!0}));let u=n.useCallback((function(r,n){if(void 0===n&&(n={}),!c.current)return;if("number"===typeof r)return void a.go(r);let i=D(r,JSON.parse(o),s,"path"===n.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:M([t,i.pathname])),(n.replace?a.replace:a.push)(i,n.state,n)}),[t,a,o,s,e]);return u}()}function te(e,r,a,i){Q()||l(!1);let{navigator:s}=n.useContext(W),{matches:o}=n.useContext(Y),c=o[o.length-1],u=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let h,p=Z();if(r){var m;let e="string"===typeof r?f(r):r;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||l(!1),h=e}else h=p;let x=h.pathname||"/",b=x;if("/"!==d){let e=d.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=g(e,{pathname:b});let v=se(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,a,i);return r&&v?n.createElement(X.Provider,{value:{location:z({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},v):v}function re(){let e=function(){var e;let t=n.useContext(q),r=ue(le.UseRouteError),a=de(le.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[a]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),r?n.createElement("pre",{style:i},r):null,null)}const ne=n.createElement(re,null);class ae extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?n.createElement(Y.Provider,{value:this.props.routeContext},n.createElement(q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:r,children:a}=e,i=n.useContext(V);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),n.createElement(Y.Provider,{value:t},a)}function se(e,t,r,a){var i;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===a&&(a=null),null==e){var s;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(s=a)&&s.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,c=null==(i=r)?void 0:i.errors;if(null!=c){let e=o.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||l(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(r&&a&&a.v7_partialHydration)for(let n=0;n<o.length;n++){let e=o[n];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=n),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight(((e,a,i)=>{let s,l=!1,h=null,f=null;var p;r&&(s=c&&a.route.id?c[a.route.id]:void 0,h=a.route.errorElement||ne,u&&(d<0&&0===i?(p="route-fallback",!1||he[p]||(he[p]=!0),l=!0,f=null):d===i&&(l=!0,f=a.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,i+1)),g=()=>{let t;return t=s?h:l?f:a.route.Component?n.createElement(a.route.Component,null):a.route.element?a.route.element:e,n.createElement(ie,{match:a,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===i)?n.createElement(ae,{location:r.location,revalidation:r.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oe||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ce(e){let t=n.useContext(V);return t||l(!1),t}function ue(e){let t=n.useContext(K);return t||l(!1),t}function de(e){let t=function(){let e=n.useContext(Y);return e||l(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||l(!1),r.route.id}const he={};const fe={};const pe=(e,t,r)=>{var n;fe[n="\u26a0\ufe0f React Router Future Flag Warning: "+t+". You can use the `"+e+"` future flag to opt-in early. For more information, see "+r+"."]||(fe[n]=!0,console.warn(n))};function me(e,t){null!=e&&e.v7_startTransition||pe("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),null!=e&&e.v7_relativeSplatPath||t&&t.v7_relativeSplatPath||pe("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(t.v7_fetcherPersist||pe("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),t.v7_normalizeFormMethod||pe("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),t.v7_partialHydration||pe("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),t.v7_skipActionErrorRevalidation||pe("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}a.startTransition;function ge(e){let{to:t,replace:r,state:a,relative:i}=e;Q()||l(!1);let{future:s,static:o}=n.useContext(W),{matches:c}=n.useContext(Y),{pathname:u}=Z(),d=ee(),h=D(t,H(c,s.v7_relativeSplatPath),u,"path"===i),f=JSON.stringify(h);return n.useEffect((()=>d(JSON.parse(f),{replace:r,state:a,relative:i})),[d,f,i,r,a]),null}function xe(e){l(!1)}function be(e){let{basename:r="/",children:a=null,location:i,navigationType:s=t.Pop,navigator:o,static:c=!1,future:u}=e;Q()&&l(!1);let d=r.replace(/^\/*/,"/"),h=n.useMemo((()=>({basename:d,navigator:o,static:c,future:z({v7_relativeSplatPath:!1},u)})),[d,u,o,c]);"string"===typeof i&&(i=f(i));let{pathname:p="/",search:m="",hash:g="",state:x=null,key:b="default"}=i,y=n.useMemo((()=>{let e=A(p,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:x,key:b},navigationType:s}}),[d,p,m,g,x,b,s]);return null==y?null:n.createElement(W.Provider,{value:h},n.createElement(X.Provider,{children:a,value:y}))}function ye(e){let{children:t,location:r}=e;return te(ve(t),r)}new Promise((()=>{}));n.Component;function ve(e,t){void 0===t&&(t=[]);let r=[];return n.Children.forEach(e,((e,a)=>{if(!n.isValidElement(e))return;let i=[...t,a];if(e.type===n.Fragment)return void r.push.apply(r,ve(e.props.children,i));e.type!==xe&&l(!1),e.props.index&&e.props.children&&l(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ve(e.props.children,i)),r.push(s)})),r}var Ne=r(7950),we=r.t(Ne,2);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(fU){}new Map;const je=a.startTransition;we.flushSync,a.useId;function ke(e){let{basename:t,children:r,future:a,window:i}=e,s=n.useRef();null==s.current&&(s.current=function(e){return void 0===e&&(e={}),p((function(e,t){let{pathname:r,search:n,hash:a}=e.location;return d("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:h(t)}),null,e)}({window:i,v5Compat:!0}));let o=s.current,[l,c]=n.useState({action:o.action,location:o.location}),{v7_startTransition:u}=a||{},f=n.useCallback((e=>{u&&je?je((()=>c(e))):c(e)}),[c,u]);return n.useLayoutEffect((()=>o.listen(f)),[o,f]),n.useEffect((()=>me(a)),[a]),n.createElement(be,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:a})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Te,Se;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Te||(Te={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Se||(Se={}));function Oe(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Oe(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function _e(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Oe(e))&&(n&&(n+=" "),n+=t);return n}const Ee=_e,Ce=e=>"number"==typeof e&&!isNaN(e),Ae=e=>"string"==typeof e,Ie=e=>"function"==typeof e,Pe=e=>Ae(e)||Ie(e)?e:null,He=e=>(0,n.isValidElement)(e)||Ae(e)||Ie(e)||Ce(e);function De(e){let{enter:t,exit:r,appendPosition:a=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(e){let{children:o,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h,playToast:f}=e;const p=a?`${t}--${l}`:t,m=a?`${r}--${l}`:r,g=(0,n.useRef)(0);return(0,n.useLayoutEffect)((()=>{const e=d.current,t=p.split(" "),r=n=>{n.target===d.current&&(f(),e.removeEventListener("animationend",r),e.removeEventListener("animationcancel",r),0===g.current&&"animationcancel"!==n.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",r),e.addEventListener("animationcancel",r)}),[]),(0,n.useEffect)((()=>{const e=d.current,t=()=>{e.removeEventListener("animationend",t),i?function(e,t,r){void 0===r&&(r=300);const{scrollHeight:n,style:a}=e;requestAnimationFrame((()=>{a.minHeight="initial",a.height=n+"px",a.transition=`all ${r}ms`,requestAnimationFrame((()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,r)}))}))}(e,u,s):u()};h||(c?t():(g.current=1,e.className+=` ${m}`,e.addEventListener("animationend",t)))}),[h]),n.createElement(n.Fragment,null,o)}}function Me(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Le=new Map;let Re=[];const Fe=new Set,Ue=e=>Fe.forEach((t=>t(e))),Ge=()=>Le.size>0;function Be(e,t){var r;if(t)return!(null==(r=Le.get(t))||!r.isToastActive(e));let n=!1;return Le.forEach((t=>{t.isToastActive(e)&&(n=!0)})),n}function ze(e,t){He(e)&&(Ge()||Re.push({content:e,options:t}),Le.forEach((r=>{r.buildToast(e,t)})))}function Ve(e,t){Le.forEach((r=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===r.id&&r.toggle(e,null==t?void 0:t.id):r.toggle(e,null==t?void 0:t.id)}))}function Ke(e){const{subscribe:t,getSnapshot:r,setProps:a}=(0,n.useRef)(function(e){const t=e.containerId||1;return{subscribe(r){const a=function(e,t,r){let a=1,i=0,s=[],o=[],l=[],c=t;const u=new Map,d=new Set,h=()=>{l=Array.from(u.values()),d.forEach((e=>e()))},f=e=>{o=null==e?[]:o.filter((t=>t!==e)),h()},p=e=>{const{toastId:t,onOpen:a,updateId:i,children:s}=e.props,l=null==i;e.staleId&&u.delete(e.staleId),u.set(t,e),o=[...o,e.props.toastId].filter((t=>t!==e.staleId)),h(),r(Me(e,l?"added":"updated")),l&&Ie(a)&&a((0,n.isValidElement)(s)&&s.props)};return{id:e,props:c,observe:e=>(d.add(e),()=>d.delete(e)),toggle:(e,t)=>{u.forEach((r=>{null!=t&&t!==r.props.toastId||Ie(r.toggle)&&r.toggle(e)}))},removeToast:f,toasts:u,clearQueue:()=>{i-=s.length,s=[]},buildToast:(t,o)=>{if((t=>{let{containerId:r,toastId:n,updateId:a}=t;const i=r?r!==e:1!==e,s=u.has(n)&&null==a;return i||s})(o))return;const{toastId:l,updateId:d,data:m,staleId:g,delay:x}=o,b=()=>{f(l)},y=null==d;y&&i++;const v={...c,style:c.toastStyle,key:a++,...Object.fromEntries(Object.entries(o).filter((e=>{let[t,r]=e;return null!=r}))),toastId:l,updateId:d,data:m,closeToast:b,isIn:!1,className:Pe(o.className||c.toastClassName),bodyClassName:Pe(o.bodyClassName||c.bodyClassName),progressClassName:Pe(o.progressClassName||c.progressClassName),autoClose:!o.isLoading&&(N=o.autoClose,w=c.autoClose,!1===N||Ce(N)&&N>0?N:w),deleteToast(){const e=u.get(l),{onClose:t,children:a}=e.props;Ie(t)&&t((0,n.isValidElement)(a)&&a.props),r(Me(e,"removed")),u.delete(l),i--,i<0&&(i=0),s.length>0?p(s.shift()):h()}};var N,w;v.closeButton=c.closeButton,!1===o.closeButton||He(o.closeButton)?v.closeButton=o.closeButton:!0===o.closeButton&&(v.closeButton=!He(c.closeButton)||c.closeButton);let j=t;(0,n.isValidElement)(t)&&!Ae(t.type)?j=(0,n.cloneElement)(t,{closeToast:b,toastProps:v,data:m}):Ie(t)&&(j=t({closeToast:b,toastProps:v,data:m}));const k={content:j,props:v,staleId:g};c.limit&&c.limit>0&&i>c.limit&&y?s.push(k):Ce(x)?setTimeout((()=>{p(k)}),x):p(k)},setProps(e){c=e},setToggle:(e,t)=>{u.get(e).toggle=t},isToastActive:e=>o.some((t=>t===e)),getSnapshot:()=>l}}(t,e,Ue);Le.set(t,a);const i=a.observe(r);return Re.forEach((e=>ze(e.content,e.options))),Re=[],()=>{i(),Le.delete(t)}},setProps(e){var r;null==(r=Le.get(t))||r.setProps(e)},getSnapshot(){var e;return null==(e=Le.get(t))?void 0:e.getSnapshot()}}}(e)).current;a(e);const i=(0,n.useSyncExternalStore)(t,r,r);return{getToastToRender:function(t){if(!i)return[];const r=new Map;return e.newestOnTop&&i.reverse(),i.forEach((e=>{const{position:t}=e.props;r.has(t)||r.set(t,[]),r.get(t).push(e)})),Array.from(r,(e=>t(e[0],e[1])))},isToastActive:Be,count:null==i?void 0:i.length}}function $e(e){const[t,r]=(0,n.useState)(!1),[a,i]=(0,n.useState)(!1),s=(0,n.useRef)(null),o=(0,n.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;var f,p;function m(){r(!0)}function g(){r(!1)}function x(r){const n=s.current;o.canDrag&&n&&(o.didMove=!0,t&&g(),o.delta="x"===e.draggableDirection?r.clientX-o.start:r.clientY-o.start,o.start!==r.clientX&&(o.canCloseOnClick=!1),n.style.transform=`translate3d(${"x"===e.draggableDirection?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,n.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function b(){document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",b);const t=s.current;if(o.canDrag&&o.didMove&&t){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),e.closeToast(),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}null==(p=Le.get((f={id:e.toastId,containerId:e.containerId,fn:r}).containerId||1))||p.setToggle(f.id,f.fn),(0,n.useEffect)((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||g(),window.addEventListener("focus",m),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",g)}}),[e.pauseOnFocusLoss]);const y={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){o.didMove=!1,document.addEventListener("pointermove",x),document.addEventListener("pointerup",b);const r=s.current;o.canCloseOnClick=!0,o.canDrag=!0,r.style.transition="none","x"===e.draggableDirection?(o.start=t.clientX,o.removalDistance=r.offsetWidth*(e.draggablePercent/100)):(o.start=t.clientY,o.removalDistance=r.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){const{top:r,bottom:n,left:a,right:i}=s.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=a&&t.clientX<=i&&t.clientY>=r&&t.clientY<=n?g():m()}};return l&&c&&(y.onMouseEnter=g,e.stacked||(y.onMouseLeave=m)),h&&(y.onClick=e=>{d&&d(e),o.canCloseOnClick&&u()}),{playToast:m,pauseToast:g,isRunning:t,preventExitTransition:a,toastRef:s,eventHandlers:y}}function We(e){let{delay:t,isRunning:r,closeToast:a,type:i="default",hide:s,className:o,style:l,controlledProgress:c,progress:u,rtl:d,isIn:h,theme:f}=e;const p=s||c&&0===u,m={...l,animationDuration:`${t}ms`,animationPlayState:r?"running":"paused"};c&&(m.transform=`scaleX(${u})`);const g=Ee("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),x=Ie(o)?o({rtl:d,type:i,defaultClassName:g}):Ee(g,o),b={[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{h&&a()}};return n.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},n.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${i}`}),n.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:x,style:m,...b}))}let Xe=1;const Ye=()=>""+Xe++;function qe(e){return e&&(Ae(e.toastId)||Ce(e.toastId))?e.toastId:Ye()}function Qe(e,t){return ze(e,t),t.toastId}function Ze(e,t){return{...t,type:t&&t.type||e,toastId:qe(t)}}function Je(e){return(t,r)=>Qe(t,Ze(e,r))}function et(e,t){return Qe(e,Ze("default",t))}et.loading=(e,t)=>Qe(e,Ze("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),et.promise=function(e,t,r){let n,{pending:a,error:i,success:s}=t;a&&(n=Ae(a)?et.loading(a,r):et.loading(a.render,{...r,...a}));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,a)=>{if(null==t)return void et.dismiss(n);const i={type:e,...o,...r,data:a},s=Ae(t)?{render:t}:t;return n?et.update(n,{...i,...s}):et(s.render,{...i,...s}),a},c=Ie(e)?e():e;return c.then((e=>l("success",s,e))).catch((e=>l("error",i,e))),c},et.success=Je("success"),et.info=Je("info"),et.error=Je("error"),et.warning=Je("warning"),et.warn=et.warning,et.dark=(e,t)=>Qe(e,Ze("default",{theme:"dark",...t})),et.dismiss=function(e){!function(e){var t;if(Ge()){if(null==e||Ae(t=e)||Ce(t))Le.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){const t=Le.get(e.containerId);t?t.removeToast(e.id):Le.forEach((t=>{t.removeToast(e.id)}))}}else Re=Re.filter((t=>null!=e&&t.options.toastId!==e))}(e)},et.clearWaitingQueue=function(e){void 0===e&&(e={}),Le.forEach((t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()}))},et.isActive=Be,et.update=function(e,t){void 0===t&&(t={});const r=((e,t)=>{var r;let{containerId:n}=t;return null==(r=Le.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(r){const{props:n,content:a}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:Ye()};i.toastId!==e&&(i.staleId=e);const s=i.render||a;delete i.render,Qe(s,i)}},et.done=e=>{et.update(e,{progress:1})},et.onChange=function(e){return Fe.add(e),()=>{Fe.delete(e)}},et.play=e=>Ve(!0,e),et.pause=e=>Ve(!1,e);const tt="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,rt=e=>{let{theme:t,type:r,isLoading:a,...i}=e;return n.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${r})`,...i})},nt={info:function(e){return n.createElement(rt,{...e},n.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return n.createElement(rt,{...e},n.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return n.createElement(rt,{...e},n.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return n.createElement(rt,{...e},n.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return n.createElement("div",{className:"Toastify__spinner"})}},at=e=>{const{isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:i,playToast:s}=$e(e),{closeButton:o,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:h,closeToast:f,transition:p,position:m,className:g,style:x,bodyClassName:b,bodyStyle:y,progressClassName:v,progressStyle:N,updateId:w,role:j,progress:k,rtl:T,toastId:S,deleteToast:O,isIn:_,isLoading:E,closeOnClick:C,theme:A}=e,I=Ee("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":C}),P=Ie(g)?g({rtl:T,position:m,type:d,defaultClassName:I}):Ee(I,g),H=function(e){let{theme:t,type:r,isLoading:a,icon:i}=e,s=null;const o={theme:t,type:r};return!1===i||(Ie(i)?s=i({...o,isLoading:a}):(0,n.isValidElement)(i)?s=(0,n.cloneElement)(i,o):a?s=nt.spinner():(e=>e in nt)(r)&&(s=nt[r](o))),s}(e),D=!!k||!c,M={closeToast:f,type:d,theme:A};let L=null;return!1===o||(L=Ie(o)?o(M):(0,n.isValidElement)(o)?(0,n.cloneElement)(o,M):function(e){let{closeToast:t,theme:r,ariaLabel:a="close"}=e;return n.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":a},n.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},n.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(M)),n.createElement(p,{isIn:_,done:O,position:m,preventExitTransition:r,nodeRef:a,playToast:s},n.createElement("div",{id:S,onClick:u,"data-in":_,className:P,...i,style:x,ref:a},n.createElement("div",{..._&&{role:j},className:Ie(b)?b({type:d}):Ee("Toastify__toast-body",b),style:y},null!=H&&n.createElement("div",{className:Ee("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!E})},H),n.createElement("div",null,l)),L,n.createElement(We,{...w&&!D?{key:`pb-${w}`}:{},rtl:T,theme:A,delay:c,isRunning:t,isIn:_,closeToast:f,hide:h,type:d,style:N,className:v,controlledProgress:D,progress:k||0})))},it=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},st=De(it("bounce",!0)),ot=(De(it("slide",!0)),De(it("zoom")),De(it("flip")),{position:"top-right",transition:st,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"});function lt(e){let t={...ot,...e};const r=e.stacked,[a,i]=(0,n.useState)(!0),s=(0,n.useRef)(null),{getToastToRender:o,isToastActive:l,count:c}=Ke(t),{className:u,style:d,rtl:h,containerId:f}=t;function p(e){const t=Ee("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":h});return Ie(u)?u({position:e,rtl:h,defaultClassName:t}):Ee(t,Pe(u))}function m(){r&&(i(!0),et.play())}return tt((()=>{if(r){var e;const r=s.current.querySelectorAll('[data-in="true"]'),n=12,i=null==(e=t.position)?void 0:e.includes("top");let o=0,l=0;Array.from(r).reverse().forEach(((e,t)=>{const r=e;r.classList.add("Toastify__toast--stacked"),t>0&&(r.dataset.collapsed=`${a}`),r.dataset.pos||(r.dataset.pos=i?"top":"bot");const s=o*(a?.2:1)+(a?0:n*t);r.style.setProperty("--y",`${i?s:-1*s}px`),r.style.setProperty("--g",`${n}`),r.style.setProperty("--s",""+(1-(a?l:0))),o+=r.offsetHeight,l+=.025}))}}),[a,c,r]),n.createElement("div",{ref:s,className:"Toastify",id:f,onMouseEnter:()=>{r&&(i(!1),et.pause())},onMouseLeave:m},o(((e,t)=>{const a=t.length?{...d}:{...d,pointerEvents:"none"};return n.createElement("div",{className:p(e),style:a,key:`container-${e}`},t.map((e=>{let{content:t,props:a}=e;return n.createElement(at,{...a,stacked:r,collapseAll:m,isIn:l(a.toastId,a.containerId),style:a.style,key:`toast-${a.key}`},t)})))})))}const ct={APP_ID:"d7be0435-bb29-4552-86d6-77a15412cbdb",ACCESS_KEY:"V2-R7SsO-f2cpn-pBa4L-OhPmR-JoAaz-y0yyo-Fhd1Z-b96gF",REGION:"www",IMGBB_API_KEY:"7267d539a8c541130ce4524afdc69ad3",CLOUD_NAME:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ACCESS_KEY:"V2-R7SsO-f2cpn-pBa4L-OhPmR-JoAaz-y0yyo-Fhd1Z-b96gF",REACT_APP_APP_ID:"d7be0435-bb29-4552-86d6-77a15412cbdb",REACT_APP_IMGBB_API_KEY:"7267d539a8c541130ce4524afdc69ad3",REACT_APP_IMGBB_URL:"https://api.imgbb.com/1/upload",REACT_APP_MAX_UPLOAD_SIZE:"5242880",REACT_APP_REGION:"www",REACT_APP_TOKEN_DURATION:"86400000"}.CLOUD_NAME,CLOUD_NAME:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ACCESS_KEY:"V2-R7SsO-f2cpn-pBa4L-OhPmR-JoAaz-y0yyo-Fhd1Z-b96gF",REACT_APP_APP_ID:"d7be0435-bb29-4552-86d6-77a15412cbdb",REACT_APP_IMGBB_API_KEY:"7267d539a8c541130ce4524afdc69ad3",REACT_APP_IMGBB_URL:"https://api.imgbb.com/1/upload",REACT_APP_MAX_UPLOAD_SIZE:"5242880",REACT_APP_REGION:"www",REACT_APP_TOKEN_DURATION:"86400000"}.UPLOAD_PRESET,get API_URL(){return`https://${this.REGION}.appsheet.com/api/v2/apps/${this.APP_ID}/tables`},ROUTES:{LOGIN:"/",HOME:"/home",DASHBOARD:"/dashboard",PROFILE:"/profile",PRODUCTS:"/products",TABLES:"/tables",ORDERS:"/orders",THUCHI:"/thuchi"},AUTH:{TOKEN_KEY:"authToken",USER_DATA_KEY:"userData",TOKEN_EXPIRY_KEY:"tokenExpiry",TOKEN_DURATION:parseInt("86400000")},UPLOAD:{MAX_SIZE:parseInt("5242880"),ALLOWED_TYPES:["image/jpeg","image/png","image/gif"],IMGBB_URL:"https://api.imgbb.com/1/upload"}};const ut=new class{async apiRequest(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{const a=await fetch(`${ct.API_URL}/${e}/Action`,{method:"POST",headers:{ApplicationAccessKey:ct.ACCESS_KEY,"Content-Type":"application/json"},body:JSON.stringify({Action:t,select:n,...r})});if(!a.ok)throw new Error("Network response was not ok");return await a.json()}catch(a){throw console.error("API request failed:",a),a}}async apiRequestKHO(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{const a=await fetch(`https://www.appsheet.com/api/v2/apps/1ecc49ef-8804-4f2b-aab8-aa83acf0790e/tables/${e}/Action`,{method:"POST",headers:{ApplicationAccessKey:"V2-LWjCY-vxfL0-XUkMH-hJh5b-ZpHzv-WZRkZ-VObOF-veTA9","Content-Type":"application/json"},body:JSON.stringify({Action:t,select:n,...r})});if(!a.ok)throw new Error("Network response was not ok");return await a.json()}catch(a){throw console.error("API request failed:",a),a}}saveReturnUrl(e){e&&!e.includes("/login")&&localStorage.setItem("returnUrl",e)}getAndClearReturnUrl(){const e=localStorage.getItem("returnUrl");return localStorage.removeItem("returnUrl"),e||ct.ROUTES.HOME}saveAuthData(e){const t=new Date,r=new Date(t.getTime()+ct.AUTH.TOKEN_DURATION);localStorage.setItem(ct.AUTH.TOKEN_KEY,"Bearer "+Math.random().toString(36).substring(7)),localStorage.setItem(ct.AUTH.USER_DATA_KEY,JSON.stringify(e)),localStorage.setItem(ct.AUTH.TOKEN_EXPIRY_KEY,r.toISOString())}getUserData(){const e=localStorage.getItem(ct.AUTH.USER_DATA_KEY);return e?JSON.parse(e):null}isAuthenticated(e){const t=localStorage.getItem(ct.AUTH.TOKEN_KEY),r=localStorage.getItem(ct.AUTH.TOKEN_EXPIRY_KEY),n=localStorage.getItem(ct.AUTH.USER_DATA_KEY);return t&&r&&n?!(new Date>new Date(r))||(this.clearAuthData(),e&&this.saveReturnUrl(e),!1):(e&&this.saveReturnUrl(e),!1)}clearAuthData(){localStorage.removeItem(ct.AUTH.TOKEN_KEY),localStorage.removeItem(ct.AUTH.USER_DATA_KEY),localStorage.removeItem(ct.AUTH.TOKEN_EXPIRY_KEY),localStorage.removeItem("returnUrl")}async login(e,t){if(!e||!t)throw new Error("Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin \u0111\u0103ng nh\u1eadp!");const r=await this.apiRequest("DSNV","Find",{Properties:{Selector:`Filter(DSNV, and( [username] = "${e}" , [password] = "${t}"))`}});if(r&&Array.isArray(r)&&1===r.length){const e=r[0];if(e.password===t)return this.saveAuthData(e),e}throw new Error("T\xean \u0111\u0103ng nh\u1eadp ho\u1eb7c m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang!")}logout(){return this.clearAuthData(),ct.ROUTES.LOGIN}async uploadImage(e){if(!e)throw new Error("Kh\xf4ng t\xecm th\u1ea5y file");if(e.size>ct.UPLOAD.MAX_SIZE)throw new Error(`K\xedch th\u01b0\u1edbc file kh\xf4ng \u0111\u01b0\u1ee3c v\u01b0\u1ee3t qu\xe1 ${ct.UPLOAD.MAX_SIZE/1024/1024}MB`);if(!ct.UPLOAD.ALLOWED_TYPES.includes(e.type))throw new Error("\u0110\u1ecbnh d\u1ea1ng file kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3");try{const t=await this.getImageAsBase64(e),r=ct.CLOUD_NAME||"duv9pccwi",n=ct.UPLOAD_PRESET||"poalupload",a=new FormData;a.append("file",t),a.append("upload_preset",n);const i=await fetch(`https://api.cloudinary.com/v1_1/${r}/image/upload`,{method:"POST",body:a});if(!i.ok)throw new Error("Upload failed: "+i.statusText);const s=await i.json();if(!s.secure_url)throw new Error("Invalid response from Cloudinary");return{success:!0,url:s.secure_url,public_id:s.public_id,metadata:{name:s.original_filename,size:s.bytes,format:s.format,width:s.width,height:s.height}}}catch(t){throw console.error("Image upload failed:",t),new Error("Kh\xf4ng th\u1ec3 t\u1ea3i \u1ea3nh l\xean: "+t.message)}}async getImageAsBase64(e){return new Promise(((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(n.result),n.onerror=e=>r(e)}))}validateImage(e){const t=[];return e||t.push("Kh\xf4ng t\xecm th\u1ea5y file"),e.size>ct.UPLOAD.MAX_SIZE&&t.push(`K\xedch th\u01b0\u1edbc file kh\xf4ng \u0111\u01b0\u1ee3c v\u01b0\u1ee3t qu\xe1 ${ct.UPLOAD.MAX_SIZE/1024/1024}MB`),ct.UPLOAD.ALLOWED_TYPES.includes(e.type)||t.push("\u0110\u1ecbnh d\u1ea1ng file kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3"),{isValid:0===t.length,errors:t}}},dt=e=>{const t=mt(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{const r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),ht(r,t)||pt(e)},getConflictingClassGroupIds:(e,t)=>{const a=r[e]||[];return t&&n[e]?[...a,...n[e]]:a}}},ht=(e,t)=>{if(0===e.length)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?ht(e.slice(1),n):void 0;if(a)return a;if(0===t.validators.length)return;const i=e.join("-");return t.validators.find((e=>{let{validator:t}=e;return t(i)}))?.classGroupId},ft=/^\[(.+)\]$/,pt=e=>{if(ft.test(e)){const t=ft.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},mt=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return yt(Object.entries(e.classGroups),r).forEach((e=>{let[r,a]=e;gt(a,n,r,t)})),n},gt=(e,t,r,n)=>{e.forEach((e=>{if("string"!==typeof e){if("function"===typeof e)return bt(e)?void gt(e(n),t,r,n):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach((e=>{let[a,i]=e;gt(i,xt(t,a),r,n)}))}else{(""===e?t:xt(t,e)).classGroupId=r}}))},xt=(e,t)=>{let r=e;return t.split("-").forEach((e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)})),r},bt=e=>e.isThemeGetter,yt=(e,t)=>t?e.map((e=>{let[r,n]=e;const a=n.map((e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map((e=>{let[r,n]=e;return[t+r,n]}))):e));return[r,a]})):e,vt=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(a(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):a(e,t)}}},Nt=e=>{const{separator:t,experimentalParseClassName:r}=e,n=1===t.length,a=t[0],i=t.length,s=e=>{const r=[];let s,o=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===o){if(c===a&&(n||e.slice(d,d+i)===t)){r.push(e.slice(l,d)),l=d+i;continue}if("/"===c){s=d;continue}}"["===c?o++:"]"===c&&o--}const c=0===r.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:r,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:s&&s>l?s-l:void 0}};return r?e=>r({className:e,parseClassName:s}):s},wt=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach((e=>{"["===e[0]?(t.push(...r.sort(),e),r=[]):r.push(e)})),t.push(...r.sort()),t},jt=/\s+/;function kt(){let e,t,r=0,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=Tt(e))&&(n&&(n+=" "),n+=t);return n}const Tt=e=>{if("string"===typeof e)return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Tt(e[n]))&&(r&&(r+=" "),r+=t);return r};function St(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let a,i,s,o=function(t){const n=r.reduce(((e,t)=>t(e)),e());return a=(e=>({cache:vt(e.cacheSize),parseClassName:Nt(e),...dt(e)}))(n),i=a.cache.get,s=a.cache.set,o=l,l(t)};function l(e){const t=i(e);if(t)return t;const r=((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],s=e.trim().split(jt);let o="";for(let l=s.length-1;l>=0;l-=1){const e=s[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=r(e);let h=Boolean(d),f=n(h?u.substring(0,d):u);if(!f){if(!h){o=e+(o.length>0?" "+o:o);continue}if(f=n(u),!f){o=e+(o.length>0?" "+o:o);continue}h=!1}const p=wt(t).join(":"),m=c?p+"!":p,g=m+f;if(i.includes(g))continue;i.push(g);const x=a(f,h);for(let r=0;r<x.length;++r){const e=x[r];i.push(m+e)}o=e+(o.length>0?" "+o:o)}return o})(e,a);return s(e,r),r}return function(){return o(kt.apply(null,arguments))}}const Ot=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},_t=/^\[(?:([a-z-]+):)?(.+)\]$/i,Et=/^\d+\/\d+$/,Ct=new Set(["px","full","screen"]),At=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,It=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Pt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ht=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Dt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mt=e=>Rt(e)||Ct.has(e)||Et.test(e),Lt=e=>Qt(e,"length",Zt),Rt=e=>Boolean(e)&&!Number.isNaN(Number(e)),Ft=e=>Qt(e,"number",Rt),Ut=e=>Boolean(e)&&Number.isInteger(Number(e)),Gt=e=>e.endsWith("%")&&Rt(e.slice(0,-1)),Bt=e=>_t.test(e),zt=e=>At.test(e),Vt=new Set(["length","size","percentage"]),Kt=e=>Qt(e,Vt,Jt),$t=e=>Qt(e,"position",Jt),Wt=new Set(["image","url"]),Xt=e=>Qt(e,Wt,tr),Yt=e=>Qt(e,"",er),qt=()=>!0,Qt=(e,t,r)=>{const n=_t.exec(e);return!!n&&(n[1]?"string"===typeof t?n[1]===t:t.has(n[1]):r(n[2]))},Zt=e=>It.test(e)&&!Pt.test(e),Jt=()=>!1,er=e=>Ht.test(e),tr=e=>Dt.test(e),rr=(Symbol.toStringTag,()=>{const e=Ot("colors"),t=Ot("spacing"),r=Ot("blur"),n=Ot("brightness"),a=Ot("borderColor"),i=Ot("borderRadius"),s=Ot("borderSpacing"),o=Ot("borderWidth"),l=Ot("contrast"),c=Ot("grayscale"),u=Ot("hueRotate"),d=Ot("invert"),h=Ot("gap"),f=Ot("gradientColorStops"),p=Ot("gradientColorStopPositions"),m=Ot("inset"),g=Ot("margin"),x=Ot("opacity"),b=Ot("padding"),y=Ot("saturate"),v=Ot("scale"),N=Ot("sepia"),w=Ot("skew"),j=Ot("space"),k=Ot("translate"),T=()=>["auto",Bt,t],S=()=>[Bt,t],O=()=>["",Mt,Lt],_=()=>["auto",Rt,Bt],E=()=>["","0",Bt],C=()=>[Rt,Bt];return{cacheSize:500,separator:":",theme:{colors:[qt],spacing:[Mt,Lt],blur:["none","",zt,Bt],brightness:C(),borderColor:[e],borderRadius:["none","","full",zt,Bt],borderSpacing:S(),borderWidth:O(),contrast:C(),grayscale:E(),hueRotate:C(),invert:E(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[Gt,Lt],inset:T(),margin:T(),opacity:C(),padding:S(),saturate:C(),scale:C(),sepia:E(),skew:C(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",Bt]}],container:["container"],columns:[{columns:[zt]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Bt]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ut,Bt]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Bt]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",Ut,Bt]}],"grid-cols":[{"grid-cols":[qt]}],"col-start-end":[{col:["auto",{span:["full",Ut,Bt]},Bt]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[qt]}],"row-start-end":[{row:["auto",{span:[Ut,Bt]},Bt]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Bt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Bt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Bt,t]}],"min-w":[{"min-w":[Bt,t,"min","max","fit"]}],"max-w":[{"max-w":[Bt,t,"none","full","min","max","fit","prose",{screen:[zt]},zt]}],h:[{h:[Bt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Bt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Bt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Bt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",zt,Lt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ft]}],"font-family":[{font:[qt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Bt]}],"line-clamp":[{"line-clamp":["none",Rt,Ft]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mt,Bt]}],"list-image":[{"list-image":["none",Bt]}],"list-style-type":[{list:["none","disc","decimal",Bt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mt,Lt]}],"underline-offset":[{"underline-offset":["auto",Mt,Bt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",$t]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Kt]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Xt]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Mt,Bt]}],"outline-w":[{outline:[Mt,Lt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Mt,Lt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",zt,Yt]}],"shadow-color":[{shadow:[qt]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",zt,Bt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Bt]}],duration:[{duration:C()}],ease:[{ease:["linear","in","out","in-out",Bt]}],delay:[{delay:C()}],animate:[{animate:["none","spin","ping","pulse","bounce",Bt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[Ut,Bt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Bt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Bt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Bt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Mt,Lt,Ft]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),nr=St(rr);var ar=r(579);const ir=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return nr(_e(t))},sr=n.forwardRef(((e,t)=>{let{className:r,...n}=e;return(0,ar.jsx)("div",{ref:t,className:ir("rounded-lg border bg-white shadow-sm transition-colors",r),...n})}));sr.displayName="Card";const or=n.forwardRef(((e,t)=>{let{className:r,...n}=e;return(0,ar.jsx)("div",{ref:t,className:ir("flex flex-col space-y-1.5 p-6",r),...n})}));or.displayName="CardHeader";n.forwardRef(((e,t)=>{let{className:r,...n}=e;return(0,ar.jsx)("h3",{ref:t,className:ir("text-2xl font-semibold leading-none tracking-tight",r),...n})})).displayName="CardTitle";n.forwardRef(((e,t)=>{let{className:r,...n}=e;return(0,ar.jsx)("p",{ref:t,className:ir("text-sm text-gray-500",r),...n})})).displayName="CardDescription";const lr=n.forwardRef(((e,t)=>{let{className:r,...n}=e;return(0,ar.jsx)("div",{ref:t,className:ir("p-6 pt-0",r),...n})}));lr.displayName="CardContent";n.forwardRef(((e,t)=>{let{className:r,...n}=e;return(0,ar.jsx)("div",{ref:t,className:ir("flex items-center p-6 pt-0",r),...n})})).displayName="CardFooter";const cr=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ur=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t)).join(" ").trim()};var dr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hr=(0,n.forwardRef)(((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...u}=e;return(0,n.createElement)("svg",{ref:t,...dr,width:a,height:a,stroke:r,strokeWidth:s?24*Number(i)/Number(a):i,className:ur("lucide",o),...u},[...c.map((e=>{let[t,r]=e;return(0,n.createElement)(t,r)})),...Array.isArray(l)?l:[l]])})),fr=(e,t)=>{const r=(0,n.forwardRef)(((r,a)=>{let{className:i,...s}=r;return(0,n.createElement)(hr,{ref:a,iconNode:t,className:ur(`lucide-${cr(e)}`,i),...s})}));return r.displayName=`${e}`,r},pr=fr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),mr=fr("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),gr=fr("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),xr=fr("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),br=()=>{var e;const t=ee(),r=Z(),[a,i]=(0,n.useState)(!1),[s,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)({username:"",password:""});(0,n.useEffect)((()=>{if(ut.isAuthenticated()){const e=localStorage.getItem("returnUrl");e?(localStorage.removeItem("returnUrl"),t(e)):t(ct.ROUTES.HOME)}}),[t]);const u=e=>{c({...l,[e.target.name]:e.target.value})};return(0,ar.jsxs)("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden",style:{background:"linear-gradient(135deg, #e3f2fd 0%, #bbdefb 50%, #90caf9 100%)"},children:[(0,ar.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,ar.jsx)("div",{className:"absolute top-20 left-20 w-32 h-32 rounded-full bg-blue-500/20"}),(0,ar.jsx)("div",{className:"absolute bottom-40 right-32 w-48 h-48 rounded-full bg-blue-600/15"}),(0,ar.jsx)("div",{className:"absolute top-1/2 left-1/3 w-24 h-24 rounded-full bg-blue-400/20"})]}),(0,ar.jsxs)("div",{className:"w-full max-w-md mx-4 relative z-10",children:[(0,ar.jsx)(sr,{className:"shadow-2xl border-0 bg-white/95 backdrop-blur-sm",children:(0,ar.jsxs)(lr,{className:"p-8",children:[(0,ar.jsxs)("div",{className:"text-center mb-6",children:[(0,ar.jsxs)("div",{className:"mb-3",children:[(0,ar.jsx)("img",{src:"/logo1.png",alt:"Logo",className:"h-28 mx-auto mb-4 drop-shadow-lg"}),(0,ar.jsx)("div",{className:"w-20 h-1 bg-gradient-to-r from-blue-400 to-blue-600 mx-auto rounded-full"})]}),(0,ar.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent mb-2",children:"HOANGNGUYENLONG.,LTD"})]}),(0,ar.jsx)("div",{className:"text-center mb-8",children:(0,ar.jsx)("h2",{className:"text-2xl font-semibold text-blue-800 mb-2",children:"\u0110\u0103ng nh\u1eadp"})}),(null===(e=r.state)||void 0===e?void 0:e.from)&&(0,ar.jsx)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 text-blue-700 rounded-lg border-l-4 border-l-blue-500",children:(0,ar.jsxs)("div",{className:"flex items-center",children:[(0,ar.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"B\u1ea1n c\u1ea7n \u0111\u0103ng nh\u1eadp \u0111\u1ec3 truy c\u1eadp trang ",r.state.from]})}),(0,ar.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l.username&&l.password){i(!0);try{const e=await ut.login(l.username,l.password);et.success(`Ch\xe0o m\u1eebng ${e.username} \u0111\xe3 quay tr\u1edf l\u1ea1i!`),setTimeout((()=>{const e=localStorage.getItem("returnUrl");e?(localStorage.removeItem("returnUrl"),t(e)):t(ct.ROUTES.HOME)}),300)}catch(r){et.error(r.message)}finally{i(!1)}}else et.error("Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin \u0111\u0103ng nh\u1eadp!")},className:"space-y-6",children:[(0,ar.jsxs)("div",{className:"space-y-2",children:[(0,ar.jsx)("label",{htmlFor:"username",className:"block text-sm font-semibold text-blue-800",children:"T\xean \u0111\u0103ng nh\u1eadp"}),(0,ar.jsxs)("div",{className:"relative group",children:[(0,ar.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,ar.jsx)(pr,{className:"h-5 w-5 text-blue-400 group-focus-within:text-blue-600 transition-colors"})}),(0,ar.jsx)("input",{id:"username",name:"username",type:"text",required:!0,placeholder:"Nh\u1eadp t\xean \u0111\u0103ng nh\u1eadp c\u1ee7a b\u1ea1n",className:"w-full h-12 pl-10 rounded-xl border-2 border-blue-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-300 outline-none bg-white/90 text-blue-900 placeholder-blue-400/70",value:l.username,onChange:u})]})]}),(0,ar.jsxs)("div",{className:"space-y-2",children:[(0,ar.jsx)("label",{htmlFor:"password",className:"block text-sm font-semibold text-blue-800",children:"M\u1eadt kh\u1ea9u"}),(0,ar.jsxs)("div",{className:"relative group",children:[(0,ar.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,ar.jsx)(mr,{className:"h-5 w-5 text-blue-400 group-focus-within:text-blue-600 transition-colors"})}),(0,ar.jsx)("input",{id:"password",name:"password",type:s?"text":"password",required:!0,placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u c\u1ee7a b\u1ea1n",className:"w-full h-12 pl-10 pr-12 rounded-xl border-2 border-blue-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-300 outline-none bg-white/90 text-blue-900 placeholder-blue-400/70",value:l.password,onChange:u}),(0,ar.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 text-blue-400 hover:text-blue-600 transition-colors rounded-lg hover:bg-blue-50",onClick:()=>o(!s),children:s?(0,ar.jsx)(gr,{className:"h-5 w-5"}):(0,ar.jsx)(xr,{className:"h-5 w-5"})})]})]}),(0,ar.jsx)("button",{type:"submit",disabled:a,className:"w-full h-12 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold transition-all duration-300 flex items-center justify-center disabled:opacity-70 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:a?(0,ar.jsxs)("div",{className:"flex items-center",children:[(0,ar.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ar.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ar.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0110ang x\u1eed l\xfd..."]}):(0,ar.jsxs)("div",{className:"flex items-center",children:[(0,ar.jsx)("span",{children:"\u0110\u0103ng nh\u1eadp"}),(0,ar.jsx)("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ar.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]}),(0,ar.jsx)("div",{className:"mt-6 text-center",children:(0,ar.jsx)("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium transition-colors",children:"Qu\xean m\u1eadt kh\u1ea9u?"})})]})}),(0,ar.jsx)("div",{className:"text-center mt-6",children:(0,ar.jsx)("div",{className:"inline-flex items-center px-4 py-2 bg-white/80 rounded-full shadow-sm",children:(0,ar.jsx)("span",{className:"text-blue-700/80 text-sm font-medium",children:"\xa9 2025 WOWS. T\u1ea5t c\u1ea3 quy\u1ec1n \u0111\u01b0\u1ee3c b\u1ea3o l\u01b0u."})})})]}),(0,ar.jsx)("div",{className:"absolute inset-0 opacity-5",children:(0,ar.jsx)("div",{style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23007acc' fill-opacity='0.4'%3E%3Ccircle cx='30' cy='30' r='4'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")",backgroundSize:"60px 60px"},className:"w-full h-full"})})]})},yr=fr("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),vr=fr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Nr=fr("FileBox",[["path",{d:"M14.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"16lz6z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M3 13.1a2 2 0 0 0-1 1.76v3.24a2 2 0 0 0 .97 1.78L6 21.7a2 2 0 0 0 2.03.01L11 19.9a2 2 0 0 0 1-1.76V14.9a2 2 0 0 0-.97-1.78L8 11.3a2 2 0 0 0-2.03-.01Z",key:"99pj1s"}],["path",{d:"M7 17v5",key:"1yj1jh"}],["path",{d:"M11.7 14.2 7 17l-4.7-2.8",key:"1yk8tc"}]]),wr=fr("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]),jr=fr("ChartArea",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z",key:"q0gr47"}]]),kr=fr("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Tr=fr("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]),Sr=fr("NotebookPen",[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]]),Or=fr("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),_r=fr("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),Er=fr("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),Cr=fr("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),Ar=()=>{const e=ee(),t=[{title:"Qu\u1ea3n l\xfd kho",icon:yr,color:"bg-blue-500",items:[{title:"C\xe0i \u0111\u1eb7t gi\xe1 b\xe1n",icon:vr,path:"/giaban",color:"bg-blue-400"},{title:"Qu\u1ea3n l\xfd h\xe0ng h\xf3a",icon:Nr,path:"/dmhh",color:"bg-blue-400"},{title:"Qu\u1ea3n l\xfd xu\u1ea5t nh\u1eadp kho",icon:wr,path:"/xuatnhapkho",color:"bg-blue-500"},{title:"B\xe1o c\xe1o kho",icon:jr,path:"/tonkho",color:"bg-blue-600"},{title:"M\xe3 ki\u1ec7n",icon:jr,path:"/makien",color:"bg-blue-600"}]},{title:"Qu\u1ea3n l\xfd n\u0103ng su\u1ea5t",icon:kr,color:"bg-green-500",items:[{title:"C\xf4ng \u0111o\u1ea1n - \u0110\u01a1n gi\xe1",icon:Tr,path:"/congdoan_dongia",color:"bg-green-400"},{title:"Ph\xe2n b\u1ed1 nh\xe2n s\u1ef1",icon:pr,path:"/phanbonhansu",color:"bg-green-500"},{title:"Nh\u1eadp bao b\xec",icon:Sr,path:"/nhapbaobi",color:"bg-green-600"},{title:"T\u1ed5ng h\u1ee3p n\u0103ng su\u1ea5t",icon:Or,path:"/report",color:"bg-green-700"}]},{title:"Ch\u1ee9c n\u0103ng kh\xe1c",icon:vr,color:"bg-gray-500",items:[{title:"T\u1ed5ng quan",icon:_r,path:"/dashboard",color:"bg-indigo-500"},{title:"B\xe1o c\xe1o s\u1ea3n xu\u1ea5t",icon:Er,path:"/baocaoreport",color:"bg-purple-500"},{title:"Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng",icon:pr,path:"/users",color:"bg-red-500"},{title:"Qu\u1ea3n l\xfd kh\xe1ch h\xe0ng",icon:pr,path:"/dskh",color:"bg-blue-400"},{title:"H\u1ee3p \u0111\u1ed3ng nguy\xean t\u1eafc",icon:Cr,path:"/hopdongnguyentac",color:"bg-blue-400"}]}];return(0,ar.jsx)("div",{className:"p-6 bg-gray-50 min-h-screen",children:(0,ar.jsx)("div",{className:" mx-auto",children:t.map(((t,r)=>{const n=t.icon;return(0,ar.jsxs)("div",{className:"mb-8",children:[(0,ar.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ar.jsx)("div",{className:`w-8 h-8 ${t.color} rounded-lg flex items-center justify-center mr-3`,children:(0,ar.jsx)(n,{className:"h-5 w-5 text-white"})}),(0,ar.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:t.title})]}),(0,ar.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3",children:t.items.map(((t,r)=>{const n=t.icon;return(0,ar.jsx)("div",{onClick:()=>e(t.path),className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-all duration-200 cursor-pointer transform hover:-translate-y-1 group",children:(0,ar.jsxs)("div",{className:"p-4 text-center",children:[(0,ar.jsx)("div",{className:`w-10 h-10 ${t.color} rounded-lg flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform duration-200`,children:(0,ar.jsx)(n,{className:"h-5 w-5 text-white"})}),(0,ar.jsx)("h3",{className:"text-sm font-medium text-gray-800 leading-tight",children:t.title})]})},r)}))})]},r)}))})})};var Ir=r(9889),Pr=r.n(Ir),Hr=r(620),Dr=r.n(Hr),Mr=r(5268),Lr=r.n(Mr),Rr=r(3097),Fr=r.n(Rr),Ur=r(9160),Gr=r.n(Ur),Br=function(e){return 0===e?0:e>0?1:-1},zr=function(e){return Dr()(e)&&e.indexOf("%")===e.length-1},Vr=function(e){return Gr()(e)&&!Lr()(e)},Kr=function(e){return Vr(e)||Dr()(e)},$r=0,Wr=function(e){var t=++$r;return"".concat(e||"").concat(t)},Xr=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Vr(e)&&!Dr()(e))return n;if(zr(e)){var i=e.indexOf("%");r=t*parseFloat(e.slice(0,i))/100}else r=+e;return Lr()(r)&&(r=n),a&&r>t&&(r=t),r},Yr=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},qr=function(e,t){return Vr(e)&&Vr(t)?function(r){return e+r*(t-e)}:function(){return t}};function Qr(e,t,r){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):Fr()(e,t))===r})):null}var Zr=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]},Jr=r(9686),en=r.n(Jr),tn=r(1629),rn=r.n(tn),nn=r(6686),an=r.n(nn),sn=r(9062);function on(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function ln(e){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(e)}var cn=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],un=["points","pathLength"],dn={svg:["viewBox","children"],polygon:un,polyline:un},hn=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fn=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,n.isValidElement)(e)&&(r=e.props),!an()(r))return null;var a={};return Object.keys(r).forEach((function(e){hn.includes(e)&&(a[e]=t||function(t){return r[e](r,t)})})),a},pn=function(e,t,r){if(!an()(e)||"object"!==ln(e))return null;var n=null;return Object.keys(e).forEach((function(a){var i=e[a];hn.includes(a)&&"function"===typeof i&&(n||(n={}),n[a]=function(e,t,r){return function(n){return e(t,r,n),null}}(i,t,r))})),n},mn=["children"],gn=["children"];function xn(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bn(e){return bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn(e)}var yn={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},vn=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},Nn=null,wn=null,jn=function e(t){if(t===Nn&&Array.isArray(wn))return wn;var r=[];return n.Children.forEach(t,(function(t){en()(t)||((0,sn.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))})),wn=r,Nn=t,r};function kn(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map((function(e){return vn(e)})):[vn(t)],jn(e).forEach((function(e){var t=Fr()(e,"type.displayName")||Fr()(e,"type.name");-1!==n.indexOf(t)&&r.push(e)})),r}function Tn(e,t){var r=kn(e,t);return r&&r[0]}var Sn=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!Vr(r)||r<=0||!Vr(n)||n<=0)},On=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_n=function(e){return e&&e.type&&Dr()(e.type)&&On.indexOf(e.type)>=0},En=function(e,t,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,n.isValidElement)(e)&&(a=e.props),!an()(a))return null;var i={};return Object.keys(a).forEach((function(e){var n;(function(e,t,r,n){var a,i=null!==(a=null===dn||void 0===dn?void 0:dn[n])&&void 0!==a?a:[];return!rn()(e)&&(n&&i.includes(t)||cn.includes(t))||r&&hn.includes(t)})(null===(n=a)||void 0===n?void 0:n[e],e,t,r)&&(i[e]=a[e])})),i},Cn=function e(t,r){if(t===r)return!0;var a=n.Children.count(t);if(a!==n.Children.count(r))return!1;if(0===a)return!0;if(1===a)return An(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<a;i++){var s=t[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!An(s,o))return!1}return!0},An=function(e,t){if(en()(e)&&en()(t))return!0;if(!en()(e)&&!en()(t)){var r=e.props||{},n=r.children,a=xn(r,mn),i=t.props||{},s=i.children,o=xn(i,gn);return n&&s?on(a,o)&&Cn(n,s):!n&&!s&&on(a,o)}return!1},In=function(e,t){var r=[],n={};return jn(e).forEach((function(e,a){if(_n(e))r.push(e);else if(e){var i=vn(e.type),s=t[i]||{},o=s.handler,l=s.once;if(o&&(!l||!n[i])){var c=o(e,i,a);r.push(c),n[i]=!0}}})),r};function Pn(e){return Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pn(e)}function Hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(r),!0).forEach((function(t){Mn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mn(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Pn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Pn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pn(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ln(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Rn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Fn=(0,n.forwardRef)((function(e,t){var r=e.aspect,a=e.initialDimension,i=void 0===a?{width:-1,height:-1}:a,s=e.width,o=void 0===s?"100%":s,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,g=void 0===m?0:m,x=e.id,b=e.className,y=e.onResize,v=e.style,N=void 0===v?{}:v,w=(0,n.useRef)(null),j=(0,n.useRef)();j.current=y,(0,n.useImperativeHandle)(t,(function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})}));var k=Ln((0,n.useState)({containerWidth:i.width,containerHeight:i.height}),2),T=k[0],S=k[1],O=(0,n.useCallback)((function(e,t){S((function(r){var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}}))}),[]);(0,n.useEffect)((function(){var e=function(e){var t,r=e[0].contentRect,n=r.width,a=r.height;O(n,a),null===(t=j.current)||void 0===t||t.call(j,n,a)};g>0&&(e=Pr()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),r=w.current.getBoundingClientRect(),n=r.width,a=r.height;return O(n,a),t.observe(w.current),function(){t.disconnect()}}),[O,g]);var _=(0,n.useMemo)((function(){var e=T.containerWidth,t=T.containerHeight;if(e<0||t<0)return null;Zr(zr(o)||zr(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",o,c),Zr(!r||r>0,"The aspect(%s) must be greater than zero.",r);var a=zr(o)?e:o,i=zr(c)?t:c;r&&r>0&&(a?i=a/r:i&&(a=i*r),f&&i>f&&(i=f)),Zr(a>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,i,o,c,d,h,r);var s=!Array.isArray(p)&&vn(p.type).endsWith("Chart");return n.Children.map(p,(function(e){return n.isValidElement(e)?(0,n.cloneElement)(e,Dn({width:a,height:i},s?{style:Dn({height:"100%",width:"100%",maxHeight:i,maxWidth:a},e.props.style)}:{})):e}))}),[r,p,c,f,h,d,T,o]);return n.createElement("div",{id:x?"".concat(x):void 0,className:Ee("recharts-responsive-container",b),style:Dn(Dn({},N),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:w},_)})),Un=r(6604),Gn=r.n(Un),Bn=r(7424),zn=r.n(Bn),Vn="Invariant failed";function Kn(e,t){if(!e)throw new Error(Vn)}var $n=["children","width","height","viewBox","className","style","title","desc"];function Wn(){return Wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wn.apply(this,arguments)}function Xn(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yn(e){var t=e.children,r=e.width,a=e.height,i=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=Xn(e,$n),d=i||{width:r,height:a,x:0,y:0},h=Ee("recharts-surface",s);return n.createElement("svg",Wn({},En(u,!0,"svg"),{className:h,width:r,height:a,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),n.createElement("title",null,l),n.createElement("desc",null,c),t)}var qn=["children","className"];function Qn(){return Qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qn.apply(this,arguments)}function Zn(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Jn=n.forwardRef((function(e,t){var r=e.children,a=e.className,i=Zn(e,qn),s=Ee("recharts-layer",a);return n.createElement("g",Qn({className:s},En(i,!0),{ref:t}),r)}));function ea(e){return ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ea(e)}function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ta.apply(this,arguments)}function ra(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return na(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return na(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function na(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(r),!0).forEach((function(t){sa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sa(e,t,r){return t=function(e){var t=function(e,t){if("object"!=ea(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ea(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ea(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oa(e){return Array.isArray(e)&&Kr(e[0])&&Kr(e[1])?e.join(" ~ "):e}var la=function(e){var t=e.separator,r=void 0===t?" : ":t,a=e.contentStyle,i=void 0===a?{}:a,s=e.itemStyle,o=void 0===s?{}:s,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,g=e.labelFormatter,x=e.accessibilityLayer,b=void 0!==x&&x,y=ia({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),v=ia({margin:0},c),N=!en()(m),w=N?m:"",j=Ee("recharts-default-tooltip",f),k=Ee("recharts-tooltip-label",p);N&&g&&void 0!==u&&null!==u&&(w=g(m,u));var T=b?{role:"status","aria-live":"assertive"}:{};return n.createElement("div",ta({className:j,style:y},T),n.createElement("p",{className:k,style:v},n.isValidElement(w)?w:"".concat(w)),function(){if(u&&u.length){var e=(h?zn()(u,h):u).map((function(e,t){if("none"===e.type)return null;var a=ia({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},o),i=e.formatter||d||oa,s=e.value,l=e.name,c=s,h=l;if(i&&null!=c&&null!=h){var f=i(s,l,e,t,u);if(Array.isArray(f)){var p=ra(f,2);c=p[0],h=p[1]}else c=f}return n.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:a},Kr(h)?n.createElement("span",{className:"recharts-tooltip-item-name"},h):null,Kr(h)?n.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,n.createElement("span",{className:"recharts-tooltip-item-value"},c),n.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return n.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function ca(e){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ca(e)}function ua(e,t,r){return t=function(e){var t=function(e,t){if("object"!=ca(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ca(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ca(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var da="recharts-tooltip-wrapper",ha={visibility:"hidden"};function fa(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ee(da,ua(ua(ua(ua({},"".concat(da,"-right"),Vr(r)&&t&&Vr(t.x)&&r>=t.x),"".concat(da,"-left"),Vr(r)&&t&&Vr(t.x)&&r<t.x),"".concat(da,"-bottom"),Vr(n)&&t&&Vr(t.y)&&n>=t.y),"".concat(da,"-top"),Vr(n)&&t&&Vr(t.y)&&n<t.y))}function pa(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&Vr(i[n]))return i[n];var u=r[n]-o-a,d=r[n]+a;return t[n]?s[n]?u:d:s[n]?u<l[n]?Math.max(d,l[n]):Math.max(u,l[n]):d+o>l[n]+c?Math.max(u,l[n]):Math.max(d,l[n])}function ma(e){return ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ma(e)}function ga(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(r),!0).forEach((function(t){ja(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ga(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ba(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ka(n.key),n)}}function ya(e,t,r){return t=Na(t),function(e,t){if(t&&("object"===ma(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,va()?Reflect.construct(t,r||[],Na(e).constructor):t.apply(e,r))}function va(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(va=function(){return!!e})()}function Na(e){return Na=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Na(e)}function wa(e,t){return wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wa(e,t)}function ja(e,t,r){return(t=ka(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ka(e){var t=function(e,t){if("object"!=ma(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ma(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ma(t)?t:t+""}var Ta=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ja(e=ya(this,t,[].concat(n)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ja(e,"handleKeyDown",(function(t){var r,n,a,i;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(r=null===(n=e.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==r?r:0,y:null!==(a=null===(i=e.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==a?a:0}})})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wa(e,t)}(t,e),r=t,a=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,r=t.active,a=t.allowEscapeViewBox,i=t.animationDuration,s=t.animationEasing,o=t.children,l=t.coordinate,c=t.hasPayload,u=t.isAnimationActive,d=t.offset,h=t.position,f=t.reverseDirection,p=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,x=function(e){var t,r,n=e.allowEscapeViewBox,a=e.coordinate,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,r=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:t=pa({allowEscapeViewBox:n,coordinate:a,key:"x",offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:r=pa({allowEscapeViewBox:n,coordinate:a,key:"y",offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):ha,cssClasses:fa({translateX:t,translateY:r,coordinate:a})}}({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),b=x.cssClasses,y=x.cssProperties,v=xa(xa({transition:u&&r?"transform ".concat(i,"ms ").concat(s):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return n.createElement("div",{tabIndex:-1,className:b,style:v,ref:function(t){e.wrapperNode=t}},o)}}],a&&ba(r.prototype,a),i&&ba(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent),Sa={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return Sa[e]},set:function(e,t){if("string"===typeof e)Sa[e]=t;else{var r=Object.keys(e);r&&r.length&&r.forEach((function(t){Sa[t]=e[t]}))}}},Oa=r(977),_a=r.n(Oa);function Ea(e,t,r){return!0===t?_a()(e,r):rn()(t)?_a()(e,t):e}function Ca(e){return Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(e)}function Aa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ia(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Aa(Object(r),!0).forEach((function(t){Ra(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fa(n.key),n)}}function Ha(e,t,r){return t=Ma(t),function(e,t){if(t&&("object"===Ca(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Da()?Reflect.construct(t,r||[],Ma(e).constructor):t.apply(e,r))}function Da(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Da=function(){return!!e})()}function Ma(e){return Ma=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ma(e)}function La(e,t){return La=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},La(e,t)}function Ra(e,t,r){return(t=Fa(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fa(e){var t=function(e,t){if("object"!=Ca(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ca(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ca(t)?t:t+""}function Ua(e){return e.dataKey}var Ga=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ha(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&La(e,t)}(t,e),r=t,a=[{key:"render",value:function(){var e=this,t=this.props,r=t.active,a=t.allowEscapeViewBox,i=t.animationDuration,s=t.animationEasing,o=t.content,l=t.coordinate,c=t.filterNull,u=t.isAnimationActive,d=t.offset,h=t.payload,f=t.payloadUniqBy,p=t.position,m=t.reverseDirection,g=t.useTranslate3d,x=t.viewBox,b=t.wrapperStyle,y=null!==h&&void 0!==h?h:[];c&&y.length&&(y=Ea(h.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),f,Ua));var v=y.length>0;return n.createElement(Ta,{allowEscapeViewBox:a,animationDuration:i,animationEasing:s,isAnimationActive:u,active:r,coordinate:l,hasPayload:v,offset:d,position:p,reverseDirection:m,useTranslate3d:g,viewBox:x,wrapperStyle:b},function(e,t){return n.isValidElement(e)?n.cloneElement(e,t):"function"===typeof e?n.createElement(e,t):n.createElement(la,t)}(o,Ia(Ia({},this.props),{},{payload:y})))}}],a&&Pa(r.prototype,a),i&&Pa(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent);Ra(Ga,"displayName","Tooltip"),Ra(Ga,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Sa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ba=r(643),za=r.n(Ba);Math.abs,Math.atan2;const Va=Math.cos,Ka=(Math.max,Math.min,Math.sin),$a=Math.sqrt,Wa=Math.PI,Xa=2*Wa;const Ya={draw(e,t){const r=$a(t/Wa);e.moveTo(r,0),e.arc(0,0,r,0,Xa)}},qa={draw(e,t){const r=$a(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Qa=$a(1/3),Za=2*Qa,Ja={draw(e,t){const r=$a(t/Za),n=r*Qa;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},ei={draw(e,t){const r=$a(t),n=-r/2;e.rect(n,n,r,r)}},ti=Ka(Wa/10)/Ka(7*Wa/10),ri=Ka(Xa/10)*ti,ni=-Va(Xa/10)*ti,ai={draw(e,t){const r=$a(.8908130915292852*t),n=ri*r,a=ni*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const t=Xa*i/5,s=Va(t),o=Ka(t);e.lineTo(o*r,-s*r),e.lineTo(s*n-o*a,o*n+s*a)}e.closePath()}},ii=$a(3),si={draw(e,t){const r=-$a(t/(3*ii));e.moveTo(0,2*r),e.lineTo(-ii*r,-r),e.lineTo(ii*r,-r),e.closePath()}},oi=-.5,li=$a(3)/2,ci=1/$a(12),ui=3*(ci/2+1),di={draw(e,t){const r=$a(t/ui),n=r/2,a=r*ci,i=n,s=r*ci+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(oi*n-li*a,li*n+oi*a),e.lineTo(oi*i-li*s,li*i+oi*s),e.lineTo(oi*o-li*l,li*o+oi*l),e.lineTo(oi*n+li*a,oi*a-li*n),e.lineTo(oi*i+li*s,oi*s-li*i),e.lineTo(oi*o+li*l,oi*l-li*o),e.closePath()}};function hi(e){return function(){return e}}const fi=Math.PI,pi=2*fi,mi=1e-6,gi=pi-mi;function xi(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class bi{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?xi:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xi;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,a,i){this._append`C${+e},${+t},${+r},${+n},${this._x1=+a},${this._y1=+i}`}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error(`negative radius: ${a}`);let i=this._x1,s=this._y1,o=r-e,l=n-t,c=i-e,u=s-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>mi)if(Math.abs(u*o-l*c)>mi&&a){let h=r-i,f=n-s,p=o*o+l*l,m=h*h+f*f,g=Math.sqrt(p),x=Math.sqrt(d),b=a*Math.tan((fi-Math.acos((p+d-m)/(2*g*x)))/2),y=b/x,v=b/g;Math.abs(y-1)>mi&&this._append`L${e+y*c},${t+y*u}`,this._append`A${a},${a},0,0,${+(u*h>c*f)},${this._x1=e+v*o},${this._y1=t+v*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,r,n,a,i){if(e=+e,t=+t,i=!!i,(r=+r)<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(n),o=r*Math.sin(n),l=e+s,c=t+o,u=1^i,d=i?n-a:a-n;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>mi||Math.abs(this._y1-c)>mi)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%pi+pi),d>gi?this._append`A${r},${r},0,1,${u},${e-s},${t-o}A${r},${r},0,1,${u},${this._x1=l},${this._y1=c}`:d>mi&&this._append`A${r},${r},0,${+(d>=fi)},${u},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function yi(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new bi(t)}$a(3),$a(3);function vi(e){return vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vi(e)}var Ni=["type","size","sizeType"];function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wi.apply(this,arguments)}function ji(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ki(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ji(Object(r),!0).forEach((function(t){Ti(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ji(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ti(e,t,r){return t=function(e){var t=function(e,t){if("object"!=vi(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=vi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vi(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Si(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Oi={symbolCircle:Ya,symbolCross:qa,symbolDiamond:Ja,symbolSquare:ei,symbolStar:ai,symbolTriangle:si,symbolWye:di},_i=Math.PI/180,Ei=function(e){var t=e.type,r=void 0===t?"circle":t,a=e.size,i=void 0===a?64:a,s=e.sizeType,o=void 0===s?"area":s,l=ki(ki({},Si(e,Ni)),{},{type:r,size:i,sizeType:o}),c=l.className,u=l.cx,d=l.cy,h=En(l,!0);return u===+u&&d===+d&&i===+i?n.createElement("path",wi({},h,{className:Ee("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(za()(e));return Oi[t]||Ya}(r),t=function(e,t){let r=null,n=yi(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"===typeof e?e:hi(e||Ya),t="function"===typeof t?t:hi(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:hi(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:hi(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(e).size(function(e,t,r){if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*_i;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.pow(Math.tan(n),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(i,o,r));return t()}()})):null};function Ci(e){return Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ci(e)}function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ai.apply(this,arguments)}function Ii(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fi(n.key),n)}}function Hi(e,t,r){return t=Mi(t),function(e,t){if(t&&("object"===Ci(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Di()?Reflect.construct(t,r||[],Mi(e).constructor):t.apply(e,r))}function Di(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Di=function(){return!!e})()}function Mi(e){return Mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mi(e)}function Li(e,t){return Li=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Li(e,t)}function Ri(e,t,r){return(t=Fi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fi(e){var t=function(e,t){if("object"!=Ci(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ci(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ci(t)?t:t+""}Ei.registerSymbol=function(e,t){Oi["symbol".concat(za()(e))]=t};var Ui=32,Gi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Hi(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Li(e,t)}(t,e),r=t,a=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,r=16,a=Ui/6,i=Ui/3,s=e.inactive?t:e.color;if("plainline"===e.type)return n.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:Ui,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return n.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(r,"h").concat(i,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*i,",").concat(r,"\n            H").concat(Ui,"M").concat(2*i,",").concat(r,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(i,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return n.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(Ui,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(n.isValidElement(e.legendIcon)){var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ii(Object(r),!0).forEach((function(t){Ri(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ii(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);return delete o.legendIcon,n.cloneElement(e.legendIcon,o)}return n.createElement(Ei,{fill:s,cx:r,cy:r,size:Ui,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,r=t.payload,a=t.iconSize,i=t.layout,s=t.formatter,o=t.inactiveColor,l={x:0,y:0,width:Ui,height:Ui},c={display:"horizontal"===i?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((function(t,r){var i=t.formatter||s,d=Ee(Ri(Ri({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",t.inactive));if("none"===t.type)return null;var h=rn()(t.value)?null:t.value;Zr(!rn()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?o:t.color;return n.createElement("li",Ai({className:d,style:c,key:"legend-item-".concat(r)},pn(e.props,t,r)),n.createElement(Yn,{width:a,height:a,viewBox:l,style:u},e.renderIcon(t)),n.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},i?i(h,t,r):h))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,r=e.layout,a=e.align;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===r?a:"left"};return n.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}],a&&Pi(r.prototype,a),i&&Pi(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent);function Bi(e){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bi(e)}Ri(Gi,"displayName","Legend"),Ri(Gi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var zi=["ref"];function Vi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ki(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vi(Object(r),!0).forEach((function(t){Qi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zi(n.key),n)}}function Wi(e,t,r){return t=Yi(t),function(e,t){if(t&&("object"===Bi(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Xi()?Reflect.construct(t,r||[],Yi(e).constructor):t.apply(e,r))}function Xi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xi=function(){return!!e})()}function Yi(e){return Yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yi(e)}function qi(e,t){return qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qi(e,t)}function Qi(e,t,r){return(t=Zi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zi(e){var t=function(e,t){if("object"!=Bi(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Bi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bi(t)?t:t+""}function Ji(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function es(e){return e.value}var ts=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Qi(e=Wi(this,t,[].concat(n)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qi(e,t)}(t,e),r=t,a=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ki({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,r,n=this.props,a=n.layout,i=n.align,s=n.verticalAlign,o=n.margin,l=n.chartWidth,c=n.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:o&&o.right||0}:{left:o&&o.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(r="middle"===s?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===s?{bottom:o&&o.bottom||0}:{top:o&&o.top||0}),Ki(Ki({},t),r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.content,a=t.width,i=t.height,s=t.wrapperStyle,o=t.payloadUniqBy,l=t.payload,c=Ki(Ki({position:"absolute",width:a||"auto",height:i||"auto"},this.getDefaultPosition(s)),s);return n.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(n.isValidElement(e))return n.cloneElement(e,t);if("function"===typeof e)return n.createElement(e,t);t.ref;var r=Ji(t,zi);return n.createElement(Gi,r)}(r,Ki(Ki({},this.props),{},{payload:Ea(l,o,es)})))}}],i=[{key:"getWithHeight",value:function(e,t){var r=Ki(Ki({},this.defaultProps),e.props).layout;return"vertical"===r&&Vr(e.props.height)?{height:e.props.height}:"horizontal"===r?{width:e.props.width||t}:null}}],a&&$i(r.prototype,a),i&&$i(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent);function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rs.apply(this,arguments)}Qi(ts,"displayName","Legend"),Qi(ts,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ns=function(e){var t=e.cx,r=e.cy,a=e.r,i=e.className,s=Ee("recharts-dot",i);return t===+t&&r===+r&&a===+a?n.createElement("circle",rs({},En(e,!1),fn(e),{className:s,cx:t,cy:r,r:a})):null},as=r(5173),is=r.n(as),ss=Object.getOwnPropertyNames,os=Object.getOwnPropertySymbols,ls=Object.prototype.hasOwnProperty;function cs(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function us(e){return function(t,r,n){if(!t||!r||"object"!==typeof t||"object"!==typeof r)return e(t,r,n);var a=n.cache,i=a.get(t),s=a.get(r);if(i&&s)return i===r&&s===t;a.set(t,r),a.set(r,t);var o=e(t,r,n);return a.delete(t),a.delete(r),o}}function ds(e){return ss(e).concat(os(e))}var hs=Object.hasOwn||function(e,t){return ls.call(e,t)};function fs(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var ps="_owner",ms=Object.getOwnPropertyDescriptor,gs=Object.keys;function xs(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function bs(e,t){return fs(e.getTime(),t.getTime())}function ys(e,t,r){if(e.size!==t.size)return!1;for(var n,a,i={},s=e.entries(),o=0;(n=s.next())&&!n.done;){for(var l=t.entries(),c=!1,u=0;(a=l.next())&&!a.done;){var d=n.value,h=d[0],f=d[1],p=a.value,m=p[0],g=p[1];c||i[u]||!(c=r.equals(h,m,o,u,e,t,r)&&r.equals(f,g,h,m,e,t,r))||(i[u]=!0),u++}if(!c)return!1;o++}return!0}function vs(e,t,r){var n,a=gs(e),i=a.length;if(gs(t).length!==i)return!1;for(;i-- >0;){if((n=a[i])===ps&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof)return!1;if(!hs(t,n)||!r.equals(e[n],t[n],n,n,e,t,r))return!1}return!0}function Ns(e,t,r){var n,a,i,s=ds(e),o=s.length;if(ds(t).length!==o)return!1;for(;o-- >0;){if((n=s[o])===ps&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof)return!1;if(!hs(t,n))return!1;if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;if(a=ms(e,n),i=ms(t,n),(a||i)&&(!a||!i||a.configurable!==i.configurable||a.enumerable!==i.enumerable||a.writable!==i.writable))return!1}return!0}function ws(e,t){return fs(e.valueOf(),t.valueOf())}function js(e,t){return e.source===t.source&&e.flags===t.flags}function ks(e,t,r){if(e.size!==t.size)return!1;for(var n,a,i={},s=e.values();(n=s.next())&&!n.done;){for(var o=t.values(),l=!1,c=0;(a=o.next())&&!a.done;)l||i[c]||!(l=r.equals(n.value,a.value,n.value,a.value,e,t,r))||(i[c]=!0),c++;if(!l)return!1}return!0}function Ts(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var Ss=Array.isArray,Os="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,_s=Object.assign,Es=Object.prototype.toString.call.bind(Object.prototype.toString);var Cs=As();As({strict:!0}),As({circular:!0}),As({circular:!0,strict:!0}),As({createInternalComparator:function(){return fs}}),As({strict:!0,createInternalComparator:function(){return fs}}),As({circular:!0,createInternalComparator:function(){return fs}}),As({circular:!0,createInternalComparator:function(){return fs},strict:!0});function As(e){void 0===e&&(e={});var t,r=e.circular,n=void 0!==r&&r,a=e.createInternalComparator,i=e.createState,s=e.strict,o=void 0!==s&&s,l=function(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Ns:xs,areDatesEqual:bs,areMapsEqual:n?cs(ys,Ns):ys,areObjectsEqual:n?Ns:vs,arePrimitiveWrappersEqual:ws,areRegExpsEqual:js,areSetsEqual:n?cs(ks,Ns):ks,areTypedArraysEqual:n?Ns:Ts};if(r&&(a=_s({},a,r(a))),t){var i=us(a.areArraysEqual),s=us(a.areMapsEqual),o=us(a.areObjectsEqual),l=us(a.areSetsEqual);a=_s({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,a=e.areObjectsEqual,i=e.arePrimitiveWrappersEqual,s=e.areRegExpsEqual,o=e.areSetsEqual,l=e.areTypedArraysEqual;return function(e,c,u){if(e===c)return!0;if(null==e||null==c||"object"!==typeof e||"object"!==typeof c)return e!==e&&c!==c;var d=e.constructor;if(d!==c.constructor)return!1;if(d===Object)return a(e,c,u);if(Ss(e))return t(e,c,u);if(null!=Os&&Os(e))return l(e,c,u);if(d===Date)return r(e,c,u);if(d===RegExp)return s(e,c,u);if(d===Map)return n(e,c,u);if(d===Set)return o(e,c,u);var h=Es(e);return"[object Date]"===h?r(e,c,u):"[object RegExp]"===h?s(e,c,u):"[object Map]"===h?n(e,c,u):"[object Set]"===h?o(e,c,u):"[object Object]"===h?"function"!==typeof e.then&&"function"!==typeof c.then&&a(e,c,u):"[object Arguments]"===h?a(e,c,u):("[object Boolean]"===h||"[object Number]"===h||"[object String]"===h)&&i(e,c,u)}}(l),u=a?a(c):(t=c,function(e,r,n,a,i,s,o){return t(e,r,o)});return function(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(e,s){var o=n(),l=o.cache,c=void 0===l?t?new WeakMap:void 0:l,u=o.meta;return r(e,s,{cache:c,equals:a,meta:u,strict:i})};if(t)return function(e,t){return r(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(e,t){return r(e,t,s)}}({circular:n,comparator:c,createState:i,equals:u,strict:o})}function Is(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=-1;requestAnimationFrame((function n(a){r<0&&(r=a),a-r>t?(e(a),r=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(n)}))}function Ps(e){return Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(e)}function Hs(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ds(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ds(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ds(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ms(){var e=function(){return null},t=!1,r=function r(n){if(!t){if(Array.isArray(n)){if(!n.length)return;var a=Hs(n),i=a[0],s=a.slice(1);return"number"===typeof i?void Is(r.bind(null,s),i):(r(i),void Is(r.bind(null,s)))}"object"===Ps(n)&&e(n),"function"===typeof n&&n()}};return{stop:function(){t=!0},start:function(e){t=!1,r(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function Ls(e){return Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(e)}function Rs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rs(Object(r),!0).forEach((function(t){Us(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Us(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ls(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ls(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ls(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gs=function(e){return e},Bs=function(e,t){return Object.keys(t).reduce((function(r,n){return Fs(Fs({},r),{},Us({},n,e(n,t[n])))}),{})},zs=function(e,t,r){return e.map((function(e){return"".concat((n=e,n.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(r);var n})).join(",")};function Vs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||$s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ks(e){return function(e){if(Array.isArray(e))return Ws(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $s(e,t){if(e){if("string"===typeof e)return Ws(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ws(e,t):void 0}}function Ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xs=1e-4,Ys=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},qs=function(e,t){return e.map((function(e,r){return e*Math.pow(t,r)})).reduce((function(e,t){return e+t}))},Qs=function(e,t){return function(r){var n=Ys(e,t);return qs(n,r)}},Zs=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],i=t[2],s=t[3];if(1===t.length)switch(t[0]){case"linear":n=0,a=0,i=1,s=1;break;case"ease":n=.25,a=.1,i=.25,s=1;break;case"ease-in":n=.42,a=0,i=1,s=1;break;case"ease-out":n=.42,a=0,i=.58,s=1;break;case"ease-in-out":n=0,a=0,i=.58,s=1;break;default:var o=t[0].split("(");if("cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length){var l=o[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),c=Vs(l,4);n=c[0],a=c[1],i=c[2],s=c[3]}}[n,i,a,s].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var u,d,h=Qs(n,i),f=Qs(a,s),p=(u=n,d=i,function(e){var t=Ys(u,d),r=[].concat(Ks(t.map((function(e,t){return e*t})).slice(1)),[0]);return qs(r,e)}),m=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=h(r)-t,i=p(r);if(Math.abs(a-t)<Xs||i<Xs)return f(r);r=m(r-a/i)}return f(r)};return g.isStepper=!1,g},Js=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if("string"===typeof n)switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Zs(n);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,r=void 0===t?100:t,n=e.damping,a=void 0===n?8:n,i=e.dt,s=void 0===i?17:i,o=function(e,t,n){var i=n+(-(e-t)*r-n*a)*s/1e3,o=n*s/1e3+e;return Math.abs(o-t)<Xs&&Math.abs(i)<Xs?[t,0]:[o,i]};return o.isStepper=!0,o.dt=s,o}();default:if("cubic-bezier"===n.split("(")[0])return Zs(n)}return"function"===typeof n?n:null};function eo(e){return eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eo(e)}function to(e){return function(e){if(Array.isArray(e))return oo(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||so(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ro(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(r),!0).forEach((function(t){ao(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ro(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ao(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==eo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function io(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||so(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function so(e,t){if(e){if("string"===typeof e)return oo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oo(e,t):void 0}}function oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var lo=function(e,t,r){return e+(t-e)*r},co=function(e){return e.from!==e.to},uo=function e(t,r,n){var a=Bs((function(e,r){if(co(r)){var n=io(t(r.from,r.to,r.velocity),2),a=n[0],i=n[1];return no(no({},r),{},{from:a,velocity:i})}return r}),r);return n<1?Bs((function(e,t){return co(t)?no(no({},t),{},{velocity:lo(t.velocity,a[e].velocity,n),from:lo(t.from,a[e].from,n)}):t}),r):e(t,a,n-1)};const ho=function(e,t,r,n,a){var i,s,o,l,c=(i=e,s=t,[Object.keys(i),Object.keys(s)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=c.reduce((function(r,n){return no(no({},r),{},ao({},n,[e[n],t[n]]))}),{}),d=c.reduce((function(r,n){return no(no({},r),{},ao({},n,{from:e[n],velocity:0,to:t[n]}))}),{}),h=-1,f=function(){return null};return f=r.isStepper?function(n){o||(o=n);var i=(n-o)/r.dt;d=uo(r,d,i),a(no(no(no({},e),t),Bs((function(e,t){return t.from}),d))),o=n,Object.values(d).filter(co).length&&(h=requestAnimationFrame(f))}:function(i){l||(l=i);var s=(i-l)/n,o=Bs((function(e,t){return lo.apply(void 0,to(t).concat([r(s)]))}),u);if(a(no(no(no({},e),t),o)),s<1)h=requestAnimationFrame(f);else{var c=Bs((function(e,t){return lo.apply(void 0,to(t).concat([r(1)]))}),u);a(no(no(no({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function fo(e){return fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fo(e)}var po=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function mo(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function go(e){return function(e){if(Array.isArray(e))return xo(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return xo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(r),!0).forEach((function(t){vo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vo(e,t,r){return(t=wo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function No(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wo(n.key),n)}}function wo(e){var t=function(e,t){if("object"!==fo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==fo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fo(t)?t:String(t)}function jo(e,t){return jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jo(e,t)}function ko(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(fU){return!1}}();return function(){var r,n=Oo(e);if(t){var a=Oo(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return To(this,r)}}function To(e,t){if(t&&("object"===fo(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return So(e)}function So(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oo(e){return Oo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oo(e)}var _o=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jo(e,t)}(s,e);var t,r,a,i=ko(s);function s(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var n=(r=i.call(this,e,t)).props,a=n.isActive,o=n.attributeName,l=n.from,c=n.to,u=n.steps,d=n.children,h=n.duration;if(r.handleStyleChange=r.handleStyleChange.bind(So(r)),r.changeStyle=r.changeStyle.bind(So(r)),!a||h<=0)return r.state={style:{}},"function"===typeof d&&(r.state={style:c}),To(r);if(u&&u.length)r.state={style:u[0].style};else if(l){if("function"===typeof d)return r.state={style:l},To(r);r.state={style:o?vo({},o,l):l}}else r.state={style:{}};return r}return t=s,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,r=e.canBegin;this.mounted=!0,t&&r&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isActive,n=t.canBegin,a=t.attributeName,i=t.shouldReAnimate,s=t.to,o=t.from,l=this.state.style;if(n)if(r){if(!(Cs(e.to,s)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||i?o:e.to;if(this.state&&l){var d={style:a?vo({},a,u):u};(a&&l[a]!==u||!a&&l!==u)&&this.setState(d)}this.runAnimation(yo(yo({},this.props),{},{from:u,begin:0}))}}else{var h={style:a?vo({},a,s):s};this.state&&l&&(a&&l[a]!==s||!a&&l!==s)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,r=e.from,n=e.to,a=e.duration,i=e.easing,s=e.begin,o=e.onAnimationEnd,l=e.onAnimationStart,c=ho(r,n,Js(i),a,this.changeStyle);this.manager.start([l,s,function(){t.stopJSAnimation=c()},a,o])}},{key:"runStepAnimation",value:function(e){var t=this,r=e.steps,n=e.begin,a=e.onAnimationStart,i=r[0],s=i.style,o=i.duration,l=void 0===o?0:o;return this.manager.start([a].concat(go(r.reduce((function(e,n,a){if(0===a)return e;var i=n.duration,s=n.easing,o=void 0===s?"ease":s,l=n.style,c=n.properties,u=n.onAnimationEnd,d=a>0?r[a-1]:n,h=c||Object.keys(l);if("function"===typeof o||"spring"===o)return[].concat(go(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:i,easing:o}),i]);var f=zs(h,i,o),p=yo(yo(yo({},d.style),l),{},{transition:f});return[].concat(go(e),[p,i,u]).filter(Gs)}),[s,Math.max(l,n)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=Ms());var t=e.begin,r=e.duration,n=e.attributeName,a=e.to,i=e.easing,s=e.onAnimationStart,o=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof c&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var d=n?vo({},n,a):a,h=zs(Object.keys(d),r,i);u.start([s,t,yo(yo({},d),{},{transition:h}),r,o])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,r=(e.begin,e.duration),a=(e.attributeName,e.easing,e.isActive),i=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,mo(e,po)),s=n.Children.count(t),o=this.state.style;if("function"===typeof t)return t(o);if(!a||0===s||r<=0)return t;var l=function(e){var t=e.props,r=t.style,a=void 0===r?{}:r,s=t.className;return(0,n.cloneElement)(e,yo(yo({},i),{},{style:yo(yo({},a),o),className:s}))};return 1===s?l(n.Children.only(t)):n.createElement("div",null,n.Children.map(t,(function(e){return l(e)})))}}],r&&No(t.prototype,r),a&&No(t,a),Object.defineProperty(t,"prototype",{writable:!1}),s}(n.PureComponent);_o.displayName="Animate",_o.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},_o.propTypes={from:is().oneOfType([is().object,is().string]),to:is().oneOfType([is().object,is().string]),attributeName:is().string,duration:is().number,begin:is().number,easing:is().oneOfType([is().string,is().func]),steps:is().arrayOf(is().shape({duration:is().number.isRequired,style:is().object.isRequired,easing:is().oneOfType([is().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),is().func]),properties:is().arrayOf("string"),onAnimationEnd:is().func})),children:is().oneOfType([is().node,is().func]),isActive:is().bool,canBegin:is().bool,onAnimationEnd:is().func,shouldReAnimate:is().bool,onAnimationStart:is().func,onAnimationReStart:is().func};const Eo=_o;function Co(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}function Ao(){return Ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ao.apply(null,arguments)}function Io(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Po(e,t){return Po=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Po(e,t)}function Ho(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Po(e,t)}const Do=n.createContext(null);function Mo(e,t){var r=Object.create(null);return e&&n.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return t&&(0,n.isValidElement)(e)?t(e):e}(e)})),r}function Lo(e,t,r){return null!=r[t]?r[t]:e.props[t]}function Ro(e,t,r){var a=Mo(e.children),i=function(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,a=Object.create(null),i=[];for(var s in e)s in t?i.length&&(a[s]=i,i=[]):i.push(s);var o={};for(var l in t){if(a[l])for(n=0;n<a[l].length;n++){var c=a[l][n];o[a[l][n]]=r(c)}o[l]=r(l)}for(n=0;n<i.length;n++)o[i[n]]=r(i[n]);return o}(t,a);return Object.keys(i).forEach((function(s){var o=i[s];if((0,n.isValidElement)(o)){var l=s in t,c=s in a,u=t[s],d=(0,n.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,n.isValidElement)(u)&&(i[s]=(0,n.cloneElement)(o,{onExited:r.bind(null,o),in:u.props.in,exit:Lo(o,"exit",e),enter:Lo(o,"enter",e)})):i[s]=(0,n.cloneElement)(o,{in:!1}):i[s]=(0,n.cloneElement)(o,{onExited:r.bind(null,o),in:!0,exit:Lo(o,"exit",e),enter:Lo(o,"enter",e)})}})),i}var Fo=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Uo=function(e){function t(t,r){var n,a=(n=e.call(this,t,r)||this).handleExited.bind(Io(n));return n.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},n}Ho(t,e);var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var r,a,i=t.children,s=t.handleExited;return{children:t.firstRender?(r=e,a=s,Mo(r.children,(function(e){return(0,n.cloneElement)(e,{onExited:a.bind(null,e),in:!0,appear:Lo(e,"appear",r),enter:Lo(e,"enter",r),exit:Lo(e,"exit",r)})}))):Ro(e,i,s),firstRender:!1}},r.handleExited=function(e,t){var r=Mo(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var r=Ao({},t.children);return delete r[e.key],{children:r}})))},r.render=function(){var e=this.props,t=e.component,r=e.childFactory,a=Co(e,["component","childFactory"]),i=this.state.contextValue,s=Fo(this.state.children).map(r);return delete a.appear,delete a.enter,delete a.exit,null===t?n.createElement(Do.Provider,{value:i},s):n.createElement(Do.Provider,{value:i},n.createElement(t,a,s))},t}(n.Component);Uo.propTypes={},Uo.defaultProps={component:"div",childFactory:function(e){return e}};const Go=Uo,Bo=!1;var zo="unmounted",Vo="exited",Ko="entering",$o="entered",Wo="exiting",Xo=function(e){function t(t,r){var n;n=e.call(this,t,r)||this;var a,i=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?i?(a=Vo,n.appearStatus=Ko):a=$o:a=t.unmountOnExit||t.mountOnEnter?zo:Vo,n.state={status:a},n.nextCallback=null,n}Ho(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===zo?{status:Vo}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==Ko&&r!==$o&&(t=Ko):r!==Ko&&r!==$o||(t=Wo)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!==typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Ko){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:Ne.findDOMNode(this);r&&function(e){e.scrollTop}(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Vo&&this.setState({status:zo})},r.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,a=this.props.nodeRef?[n]:[Ne.findDOMNode(this),n],i=a[0],s=a[1],o=this.getTimeouts(),l=n?o.appear:o.enter;!e&&!r||Bo?this.safeSetState({status:$o},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,s),this.safeSetState({status:Ko},(function(){t.props.onEntering(i,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:$o},(function(){t.props.onEntered(i,s)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:Ne.findDOMNode(this);t&&!Bo?(this.props.onExit(n),this.safeSetState({status:Wo},(function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:Vo},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:Vo},(function(){e.props.onExited(n)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:Ne.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(r&&!n){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],i=a[0],s=a[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===zo)return null;var t=this.props,r=t.children,a=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Co(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return n.createElement(Do.Provider,{value:null},"function"===typeof r?r(e,a):n.cloneElement(n.Children.only(r),a))},t}(n.Component);function Yo(){}Xo.contextType=Do,Xo.propTypes={},Xo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Yo,onEntering:Yo,onEntered:Yo,onExit:Yo,onExiting:Yo,onExited:Yo},Xo.UNMOUNTED=zo,Xo.EXITED=Vo,Xo.ENTERING=Ko,Xo.ENTERED=$o,Xo.EXITING=Wo;const qo=Xo;var Qo=["children","appearOptions","enterOptions","leaveOptions"];function Zo(e){return Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zo(e)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jo.apply(this,arguments)}function el(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tl(Object(r),!0).forEach((function(t){ll(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cl(n.key),n)}}function al(e,t){return al=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},al(e,t)}function il(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(fU){return!1}}();return function(){var r,n=ol(e);if(t){var a=ol(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Zo(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sl(e)}(this,r)}}function sl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ol(e){return ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ol(e)}function ll(e,t,r){return(t=cl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cl(e){var t=function(e,t){if("object"!==Zo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Zo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zo(t)?t:String(t)}var ul=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.steps,r=e.duration;return t&&t.length?t.reduce((function(e,t){return e+(Number.isFinite(t.duration)&&t.duration>0?t.duration:0)}),0):Number.isFinite(r)?r:0},dl=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&al(e,t)}(s,e);var t,r,a,i=il(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),ll(sl(e=i.call(this)),"handleEnter",(function(t,r){var n=e.props,a=n.appearOptions,i=n.enterOptions;e.handleStyleActive(r?a:i)})),ll(sl(e),"handleExit",(function(){var t=e.props.leaveOptions;e.handleStyleActive(t)})),e.state={isActive:!1},e}return t=s,(r=[{key:"handleStyleActive",value:function(e){if(e){var t=e.onAnimationEnd?function(){e.onAnimationEnd()}:null;this.setState(rl(rl({},e),{},{onAnimationEnd:t,isActive:!0}))}}},{key:"parseTimeout",value:function(){var e=this.props,t=e.appearOptions,r=e.enterOptions,n=e.leaveOptions;return ul(t)+ul(r)+ul(n)}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,a=(t.appearOptions,t.enterOptions,t.leaveOptions,el(t,Qo));return n.createElement(qo,Jo({},a,{onEnter:this.handleEnter,onExit:this.handleExit,timeout:this.parseTimeout()}),(function(){return n.createElement(Eo,e.state,n.Children.only(r))}))}}])&&nl(t.prototype,r),a&&nl(t,a),Object.defineProperty(t,"prototype",{writable:!1}),s}(n.Component);dl.propTypes={appearOptions:is().object,enterOptions:is().object,leaveOptions:is().object,children:is().element};const hl=dl;function fl(e){var t=e.component,r=e.children,a=e.appear,i=e.enter,s=e.leave;return n.createElement(Go,{component:t},n.Children.map(r,(function(e,t){return n.createElement(hl,{appearOptions:a,enterOptions:i,leaveOptions:s,key:"child-".concat(t)},e)})))}fl.propTypes={appear:is().object,enter:is().object,leave:is().object,children:is().oneOfType([is().array,is().element]),component:is().any},fl.defaultProps={component:"span"};const pl=Eo;function ml(e){return ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(e)}function gl(){return gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gl.apply(this,arguments)}function xl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return bl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yl(Object(r),!0).forEach((function(t){Nl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nl(e,t,r){return t=function(e){var t=function(e,t){if("object"!=ml(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ml(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ml(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wl=function(e,t,r,n,a){var i,s=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(s>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>s?s:a[d];i="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+o*u[1])),i+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+r-l*u[2],",").concat(t+n)),i+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-o*u[3])),i+="Z"}else if(s>0&&a===+a&&a>0){var h=Math.min(s,a);i="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+r-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*h,"\n            L ").concat(e+r,",").concat(t+n-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,"\n            L ").concat(e+l*h,",").concat(t+n,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*h," Z")}else i="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return i},jl=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,i=t.y,s=t.width,o=t.height;if(Math.abs(s)>0&&Math.abs(o)>0){var l=Math.min(a,a+s),c=Math.max(a,a+s),u=Math.min(i,i+o),d=Math.max(i,i+o);return r>=l&&r<=c&&n>=u&&n<=d}return!1},kl={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Tl=function(e){var t=vl(vl({},kl),e),r=(0,n.useRef)(),a=xl((0,n.useState)(-1),2),i=a[0],s=a[1];(0,n.useEffect)((function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&s(e)}catch(t){}}),[]);var o=t.x,l=t.y,c=t.width,u=t.height,d=t.radius,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isAnimationActive,x=t.isUpdateAnimationActive;if(o!==+o||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var b=Ee("recharts-rectangle",h);return x?n.createElement(pl,{canBegin:i>0,from:{width:c,height:u,x:o,y:l},to:{width:c,height:u,x:o,y:l},duration:p,animationEasing:f,isActive:x},(function(e){var a=e.width,s=e.height,o=e.x,l=e.y;return n.createElement(pl,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:f},n.createElement("path",gl({},En(t,!0),{className:b,d:wl(o,l,a,s,d),ref:r})))})):n.createElement("path",gl({},En(t,!0),{className:b,d:wl(o,l,c,u,d)}))};function Sl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Ol(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class _l extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Il;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(El(this,e))}has(e){return super.has(El(this,e))}set(e,t){return super.set(Cl(this,e),t)}delete(e){return super.delete(Al(this,e))}}Set;function El(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):t}function Cl(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)?r.get(a):(r.set(a,t),t)}function Al(e,t){let{_intern:r,_key:n}=e;const a=n(t);return r.has(a)&&(t=r.get(a),r.delete(a)),t}function Il(e){return null!==e&&"object"===typeof e?e.valueOf():e}const Pl=Symbol("implicit");function Hl(){var e=new _l,t=[],r=[],n=Pl;function a(a){let i=e.get(a);if(void 0===i){if(n!==Pl)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new _l;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return Hl(t,r).unknown(n)},Sl.apply(a,arguments),a}function Dl(){var e,t,r=Hl().unknown(void 0),n=r.domain,a=r.range,i=0,s=1,o=!1,l=0,c=0,u=.5;function d(){var r=n().length,d=s<i,h=d?s:i,f=d?i:s;e=(f-h)/Math.max(1,r-l+2*c),o&&(e=Math.floor(e)),h+=(f-h-e*(r-l))*u,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),i=new Array(a);++n<a;)i[n]=e+n*r;return i}(r).map((function(t){return h+e*t}));return a(d?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),d()):n()},r.range=function(e){return arguments.length?([i,s]=e,i=+i,s=+s,d()):[i,s]},r.rangeRound=function(e){return[i,s]=e,i=+i,s=+s,o=!0,d()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(o=!!e,d()):o},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},r.copy=function(){return Dl(n(),[i,s]).round(o).paddingInner(l).paddingOuter(c).align(u)},Sl.apply(d(),arguments)}function Ml(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Ml(t())},e}function Ll(){return Ml(Dl.apply(null,arguments).paddingInner(1))}function Rl(e){return Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(e)}function Fl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ul(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fl(Object(r),!0).forEach((function(t){Gl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gl(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Rl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Rl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rl(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bl={widthCache:{},cacheCount:0},zl={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Vl="recharts_measurement_span";var Kl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||Sa.isSsr)return{width:0,height:0};var r=function(e){var t=Ul({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),n=JSON.stringify({text:e,copyStyle:r});if(Bl.widthCache[n])return Bl.widthCache[n];try{var a=document.getElementById(Vl);a||((a=document.createElement("span")).setAttribute("id",Vl),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=Ul(Ul({},zl),r);Object.assign(a.style,i),a.textContent="".concat(e);var s=a.getBoundingClientRect(),o={width:s.width,height:s.height};return Bl.widthCache[n]=o,++Bl.cacheCount>2e3&&(Bl.cacheCount=0,Bl.widthCache={}),o}catch(fU){return{width:0,height:0}}};function $l(e){return $l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(e)}function Wl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Xl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ql(n.key),n)}}function ql(e){var t=function(e,t){if("object"!=$l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$l(t)?t:t+""}var Ql=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zl=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Jl=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ec=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tc={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},rc=Object.keys(tc),nc="NaN";var ac=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),""===r||Jl.test(r)||(this.num=NaN,this.unit=""),rc.includes(r)&&(this.num=function(e,t){return e*tc[t]}(t,r),this.unit="px")}return t=e,n=[{key:"parse",value:function(t){var r,n=Wl(null!==(r=ec.exec(t))&&void 0!==r?r:[],3),a=n[1],i=n[2];return new e(parseFloat(a),null!==i&&void 0!==i?i:"")}}],(r=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Yl(t.prototype,r),n&&Yl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function ic(e){if(e.includes(nc))return nc;for(var t=e;t.includes("*")||t.includes("/");){var r,n=Wl(null!==(r=Ql.exec(t))&&void 0!==r?r:[],4),a=n[1],i=n[2],s=n[3],o=ac.parse(null!==a&&void 0!==a?a:""),l=ac.parse(null!==s&&void 0!==s?s:""),c="*"===i?o.multiply(l):o.divide(l);if(c.isNaN())return nc;t=t.replace(Ql,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=Wl(null!==(u=Zl.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],p=d[3],m=ac.parse(null!==h&&void 0!==h?h:""),g=ac.parse(null!==p&&void 0!==p?p:""),x="+"===f?m.add(g):m.subtract(g);if(x.isNaN())return nc;t=t.replace(Zl,x.toString())}return t}var sc=/\(([^()]*)\)/;function oc(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var r=Wl(sc.exec(t),2)[1];t=t.replace(sc,ic(r))}return t}(t),t=ic(t)}function lc(e){var t=function(e){try{return oc(e)}catch(fU){return nc}}(e.slice(5,-1));return t===nc?"":t}var cc=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uc=["dx","dy","angle","className","breakAll"];function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dc.apply(this,arguments)}function hc(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mc=/[ \f\n\r\t\v\u2028\u2029]+/,gc=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];return en()(t)||(a=r?t.toString().split(""):t.toString().split(mc)),{wordsWithComputedWidth:a.map((function(e){return{word:e,width:Kl(e,n).width}})),spaceWidth:r?0:Kl("\xa0",n).width}}catch(fU){return null}},xc=function(e){return[{words:en()(e)?[]:e.toString().split(mc)}]},bc=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,i=e.breakAll,s=e.maxLines;if((t||r)&&!Sa.isSsr){var o=gc({breakAll:i,children:n,style:a});return o?function(e,t,r,n,a){var i=e.maxLines,s=e.children,o=e.style,l=e.breakAll,c=Vr(i),u=s,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var i=t.word,s=t.width,o=e[e.length-1];if(o&&(null==n||a||o.width+s+r<Number(n)))o.words.push(i),o.width+=s+r;else{var l={words:[i],width:s};e.push(l)}return e}),[])},h=d(t);if(!c)return h;for(var f,p=function(e){var t=u.slice(0,e),r=gc({breakAll:l,style:o,children:t+"\u2026"}).wordsWithComputedWidth,a=d(r),s=a.length>i||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(a).width>Number(n);return[s,a]},m=0,g=u.length-1,x=0;m<=g&&x<=u.length-1;){var b=Math.floor((m+g)/2),y=fc(p(b-1),2),v=y[0],N=y[1],w=fc(p(b),1)[0];if(v||w||(m=b+1),v&&w&&(g=b-1),!v&&w){f=N;break}x++}return f||h}({breakAll:i,children:n,maxLines:s,style:a},o.wordsWithComputedWidth,o.spaceWidth,t,r):xc(n)}return xc(n)},yc="#808080",vc=function(e){var t=e.x,r=void 0===t?0:t,a=e.y,i=void 0===a?0:a,s=e.lineHeight,o=void 0===s?"1em":s,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,f=void 0===h?"start":h,p=e.verticalAnchor,m=void 0===p?"end":p,g=e.fill,x=void 0===g?yc:g,b=hc(e,cc),y=(0,n.useMemo)((function(){return bc({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})}),[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),v=b.dx,N=b.dy,w=b.angle,j=b.className,k=b.breakAll,T=hc(b,uc);if(!Kr(r)||!Kr(i))return null;var S,O=r+(Vr(v)?v:0),_=i+(Vr(N)?N:0);switch(m){case"start":S=lc("calc(".concat(c,")"));break;case"middle":S=lc("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:S=lc("calc(".concat(y.length-1," * -").concat(o,")"))}var E=[];if(d){var C=y[0].width,A=b.width;E.push("scale(".concat((Vr(A)?A/C:1)/C,")"))}return w&&E.push("rotate(".concat(w,", ").concat(O,", ").concat(_,")")),E.length&&(T.transform=E.join(" ")),n.createElement("text",dc({},En(T,!0),{x:O,y:_,className:Ee("recharts-text",j),textAnchor:f,fill:x.includes("url")?yc:x}),y.map((function(e,t){var r=e.words.join(k?"":" ");return n.createElement("tspan",{x:O,dy:0===t?S:o,key:"".concat(r,"-").concat(t)},r)})))};const Nc=Math.sqrt(50),wc=Math.sqrt(10),jc=Math.sqrt(2);function kc(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=Nc?10:i>=wc?5:i>=jc?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?kc(e,t,2*r):[o,l,c]}function Tc(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,i,s]=n?kc(t,e,r):kc(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function Sc(e,t,r){return kc(e=+e,t=+t,r=+r)[2]}function Oc(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?Sc(t,e,r):Sc(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function _c(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ec(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Cc(e){let t,r,n;function a(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=_c,r=(t,r)=>_c(e(t),r),n=(t,r)=>e(t)-r):(t=e===_c||e===Ec?e:Ac,r=e,n=e),{left:a,center:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>r&&n(e[i-1],t)>-n(e[i],t)?i-1:i},right:function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<=0?a=t+1:i=t}while(a<i)}return a}}}function Ac(){return 0}function Ic(e){return null===e?NaN:+e}const Pc=Cc(_c),Hc=Pc.right,Dc=(Pc.left,Cc(Ic).center,Hc);function Mc(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Lc(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Rc(){}var Fc=.7,Uc=1/Fc,Gc="\\s*([+-]?\\d+)\\s*",Bc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vc=/^#([0-9a-f]{3,8})$/,Kc=new RegExp(`^rgb\\(${Gc},${Gc},${Gc}\\)$`),$c=new RegExp(`^rgb\\(${zc},${zc},${zc}\\)$`),Wc=new RegExp(`^rgba\\(${Gc},${Gc},${Gc},${Bc}\\)$`),Xc=new RegExp(`^rgba\\(${zc},${zc},${zc},${Bc}\\)$`),Yc=new RegExp(`^hsl\\(${Bc},${zc},${zc}\\)$`),qc=new RegExp(`^hsla\\(${Bc},${zc},${zc},${Bc}\\)$`),Qc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Zc(){return this.rgb().formatHex()}function Jc(){return this.rgb().formatRgb()}function eu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Vc.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?tu(t):3===r?new au(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?ru(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?ru(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Kc.exec(e))?new au(t[1],t[2],t[3],1):(t=$c.exec(e))?new au(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Wc.exec(e))?ru(t[1],t[2],t[3],t[4]):(t=Xc.exec(e))?ru(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Yc.exec(e))?uu(t[1],t[2]/100,t[3]/100,1):(t=qc.exec(e))?uu(t[1],t[2]/100,t[3]/100,t[4]):Qc.hasOwnProperty(e)?tu(Qc[e]):"transparent"===e?new au(NaN,NaN,NaN,0):null}function tu(e){return new au(e>>16&255,e>>8&255,255&e,1)}function ru(e,t,r,n){return n<=0&&(e=t=r=NaN),new au(e,t,r,n)}function nu(e,t,r,n){return 1===arguments.length?((a=e)instanceof Rc||(a=eu(a)),a?new au((a=a.rgb()).r,a.g,a.b,a.opacity):new au):new au(e,t,r,null==n?1:n);var a}function au(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function iu(){return`#${cu(this.r)}${cu(this.g)}${cu(this.b)}`}function su(){const e=ou(this.opacity);return`${1===e?"rgb(":"rgba("}${lu(this.r)}, ${lu(this.g)}, ${lu(this.b)}${1===e?")":`, ${e})`}`}function ou(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function lu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function cu(e){return((e=lu(e))<16?"0":"")+e.toString(16)}function uu(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new hu(e,t,r,n)}function du(e){if(e instanceof hu)return new hu(e.h,e.s,e.l,e.opacity);if(e instanceof Rc||(e=eu(e)),!e)return new hu;if(e instanceof hu)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(s=t===i?(r-n)/o+6*(r<n):r===i?(n-t)/o+2:(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new hu(s,o,l,e.opacity)}function hu(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function fu(e){return(e=(e||0)%360)<0?e+360:e}function pu(e){return Math.max(0,Math.min(1,e||0))}function mu(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function gu(e,t,r,n,a){var i=e*e,s=i*e;return((1-3*e+3*i-s)*t+(4-6*i+3*s)*r+(1+3*e+3*i-3*s)*n+s*a)/6}Mc(Rc,eu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Zc,formatHex:Zc,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return du(this).formatHsl()},formatRgb:Jc,toString:Jc}),Mc(au,nu,Lc(Rc,{brighter(e){return e=null==e?Uc:Math.pow(Uc,e),new au(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Fc:Math.pow(Fc,e),new au(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new au(lu(this.r),lu(this.g),lu(this.b),ou(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iu,formatHex:iu,formatHex8:function(){return`#${cu(this.r)}${cu(this.g)}${cu(this.b)}${cu(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:su,toString:su})),Mc(hu,(function(e,t,r,n){return 1===arguments.length?du(e):new hu(e,t,r,null==n?1:n)}),Lc(Rc,{brighter(e){return e=null==e?Uc:Math.pow(Uc,e),new hu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Fc:Math.pow(Fc,e),new hu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new au(mu(e>=240?e-240:e+120,a,n),mu(e,a,n),mu(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new hu(fu(this.h),pu(this.s),pu(this.l),ou(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ou(this.opacity);return`${1===e?"hsl(":"hsla("}${fu(this.h)}, ${100*pu(this.s)}%, ${100*pu(this.l)}%${1===e?")":`, ${e})`}`}}));const xu=e=>()=>e;function bu(e,t){return function(r){return e+r*t}}function yu(e){return 1===(e=+e)?vu:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):xu(isNaN(t)?r:t)}}function vu(e,t){var r=t-e;return r?bu(e,r):xu(isNaN(e)?t:e)}const Nu=function e(t){var r=yu(t);function n(e,t){var n=r((e=nu(e)).r,(t=nu(t)).r),a=r(e.g,t.g),i=r(e.b,t.b),s=vu(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=i(t),e.opacity=s(t),e+""}}return n.gamma=e,n}(1);function wu(e){return function(t){var r,n,a=t.length,i=new Array(a),s=new Array(a),o=new Array(a);for(r=0;r<a;++r)n=nu(t[r]),i[r]=n.r||0,s[r]=n.g||0,o[r]=n.b||0;return i=e(i),s=e(s),o=e(o),n.opacity=1,function(e){return n.r=i(e),n.g=s(e),n.b=o(e),n+""}}}wu((function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],i=e[n+1],s=n>0?e[n-1]:2*a-i,o=n<t-1?e[n+2]:2*i-a;return gu((r-n/t)*t,s,a,i,o)}})),wu((function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],i=e[n%t],s=e[(n+1)%t],o=e[(n+2)%t];return gu((r-n/t)*t,a,i,s,o)}}));function ju(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,i=new Array(a),s=new Array(n);for(r=0;r<a;++r)i[r]=Au(e[r],t[r]);for(;r<n;++r)s[r]=t[r];return function(e){for(r=0;r<a;++r)s[r]=i[r](e);return s}}function ku(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Tu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Su(e,t){var r,n={},a={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=Au(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var Ou=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_u=new RegExp(Ou.source,"g");function Eu(e,t){var r,n,a,i=Ou.lastIndex=_u.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(r=Ou.exec(e))&&(n=_u.exec(t));)(a=n.index)>i&&(a=t.slice(i,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,l.push({i:s,x:Tu(r,n)})),i=_u.lastIndex;return i<t.length&&(a=t.slice(i),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)o[(r=l[n]).i]=r.x(e);return o.join("")})}function Cu(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(r=0;r<n;++r)a[r]=e[r]*(1-i)+t[r]*i;return a}}function Au(e,t){var r,n=typeof t;return null==t||"boolean"===n?xu(t):("number"===n?Tu:"string"===n?(r=eu(t))?(t=r,Nu):Eu:t instanceof eu?Nu:t instanceof Date?ku:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Cu:Array.isArray(t)?ju:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Su:Tu)(e,t)}function Iu(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Pu(e){return+e}var Hu=[0,1];function Du(e){return e}function Mu(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Lu(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=Mu(a,n),i=r(s,i)):(n=Mu(n,a),i=r(i,s)),function(e){return i(n(e))}}function Ru(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=Mu(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(t){var r=Dc(e,t,1,n)-1;return i[r](a[r](t))}}function Fu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Uu(){var e,t,r,n,a,i,s=Hu,o=Hu,l=Au,c=Du;function u(){var e=Math.min(s.length,o.length);return c!==Du&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(s[0],s[e-1])),n=e>2?Ru:Lu,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?r:(a||(a=n(s.map(e),o,l)))(e(c(t)))}return d.invert=function(r){return c(t((i||(i=n(o,s.map(e),Tu)))(r)))},d.domain=function(e){return arguments.length?(s=Array.from(e,Pu),u()):s.slice()},d.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},d.rangeRound=function(e){return o=Array.from(e),l=Iu,u()},d.clamp=function(e){return arguments.length?(c=!!e||Du,u()):c!==Du},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function Gu(){return Uu()(Du,Du)}var Bu,zu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vu(e){if(!(t=zu.exec(e)))throw new Error("invalid format: "+e);var t;return new Ku({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Ku(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function $u(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Wu(e){return(e=$u(Math.abs(e)))?e[1]:NaN}function Xu(e,t){var r=$u(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}Vu.prototype=Ku.prototype,Ku.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Yu={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Xu(100*e,t),r:Xu,s:function(e,t){var r=$u(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(Bu=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+$u(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qu(e){return e}var Qu,Zu,Ju,ed=Array.prototype.map,td=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function rd(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?qu:(t=ed.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,i=[],s=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(e.substring(a-=o,a+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return i.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?qu:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(ed.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Vu(e)).fill,r=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,x=e.trim,b=e.type;"n"===b?(m=!0,b="g"):Yu[b]||(void 0===g&&(g=12),x=!0,b="g"),(f||"0"===t&&"="===r)&&(f=!0,t="0",r="=");var y="$"===h?a:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",v="$"===h?i:/[%p]/.test(b)?l:"",N=Yu[b],w=/[defgprs%]/.test(b);function j(e){var a,i,l,h=y,j=v;if("c"===b)j=N(e)+j,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:N(Math.abs(e),g),x&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==d&&(k=!1),h=(k?"("===d?d:c:"-"===d||"("===d?"":d)+h,j=("s"===b?td[8+Bu/3]:"")+j+(k&&"("===d?")":""),w)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){j=(46===l?s+e.slice(a+1):e.slice(a))+j,e=e.slice(0,a);break}}m&&!f&&(e=n(e,1/0));var T=h.length+e.length+j.length,S=T<p?new Array(p-T+1).join(t):"";switch(m&&f&&(e=n(S+e,S.length?p-j.length:1/0),S=""),r){case"<":e=h+e+j+S;break;case"=":e=h+S+e+j;break;case"^":e=S.slice(0,T=S.length>>1)+h+e+j+S.slice(T);break;default:e=S+h+e+j}return o(e)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),j.toString=function(){return e+""},j}return{format:d,formatPrefix:function(e,t){var r=d(((e=Vu(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(Wu(t)/3))),a=Math.pow(10,-n),i=td[8+n/3];return function(e){return r(a*e)+i}}}}function nd(e,t,r,n){var a,i=Oc(e,t,r);switch((n=Vu(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Wu(t)/3)))-Wu(Math.abs(e)))}(i,s))||(n.precision=a),Ju(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wu(t)-Wu(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-Wu(Math.abs(e)))}(i))||(n.precision=a-2*("%"===n.type))}return Zu(n)}function ad(e){var t=e.domain;return e.ticks=function(e){var r=t();return Tc(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return nd(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,i=t(),s=0,o=i.length-1,l=i[s],c=i[o],u=10;for(c<l&&(a=l,l=c,c=a,a=s,s=o,o=a);u-- >0;){if((a=Sc(l,c,r))===n)return i[s]=l,i[o]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}n=a}return e},e}function id(){var e=Gu();return e.copy=function(){return Fu(e,id())},Sl.apply(e,arguments),ad(e)}function sd(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,Pu),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return sd(e).unknown(t)},e=arguments.length?Array.from(e,Pu):[0,1],ad(r)}function od(e,t){var r,n=0,a=(e=e.slice()).length-1,i=e[n],s=e[a];return s<i&&(r=n,n=a,a=r,r=i,i=s,s=r),e[n]=t.floor(i),e[a]=t.ceil(s),e}function ld(e){return Math.log(e)}function cd(e){return Math.exp(e)}function ud(e){return-Math.log(-e)}function dd(e){return-Math.exp(-e)}function hd(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fd(e){return(t,r)=>-e(-t,r)}function pd(e){const t=e(ld,cd),r=t.domain;let n,a,i=10;function s(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?hd:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),r()[0]<0?(n=fd(n),a=fd(a),e(ud,dd)):e(ld,cd),t}return t.base=function(e){return arguments.length?(i=+e,s()):i},t.domain=function(e){return arguments.length?(r(e),s()):r()},t.ticks=e=>{const t=r();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,u,d=n(s),h=n(o);const f=null==e?10:+e;let p=[];if(!(i%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<s)){if(u>o)break;p.push(u)}}else for(;d<=h;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<s)){if(u>o)break;p.push(u)}2*p.length<f&&(p=Tc(s,o,f))}else p=Tc(d,h,Math.min(h-d,f)).map(a);return l?p.reverse():p},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===i?"s":","),"function"!==typeof r&&(i%1||null!=(r=Vu(r)).precision||(r.trim=!0),r=Zu(r)),e===1/0)return r;const s=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*i<i-.5&&(t*=i),t<=s?r(e):""}},t.nice=()=>r(od(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function md(){const e=pd(Uu()).domain([1,10]);return e.copy=()=>Fu(e,md()).base(e.base()),Sl.apply(e,arguments),e}function gd(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function xd(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function bd(e){var t=1,r=e(gd(t),xd(t));return r.constant=function(r){return arguments.length?e(gd(t=+r),xd(t)):t},ad(r)}function yd(){var e=bd(Uu());return e.copy=function(){return Fu(e,yd()).constant(e.constant())},Sl.apply(e,arguments)}function vd(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Nd(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wd(e){return e<0?-e*e:e*e}function jd(e){var t=e(Du,Du),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(Du,Du):.5===r?e(Nd,wd):e(vd(r),vd(1/r)):r},ad(t)}function kd(){var e=jd(Uu());return e.copy=function(){return Fu(e,kd()).exponent(e.exponent())},Sl.apply(e,arguments),e}function Td(){return kd.apply(null,arguments).exponent(.5)}function Sd(e){return Math.sign(e)*e*e}function Od(){var e,t=Gu(),r=[0,1],n=!1;function a(r){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(a)?e:n?Math.round(a):a}return a.invert=function(e){return t.invert(Sd(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((r=Array.from(e,Pu)).map(Sd)),a):r.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(n=!!e,a):n},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Od(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},Sl.apply(a,arguments),ad(a)}function _d(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function Ed(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function Cd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c;if(e===_c)return Ad;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}function Ad(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Id(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?Ad:Cd(a);n>r;){if(n-r>600){const i=n-r+1,s=t-r+1,o=Math.log(i),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(i-l)/i)*(s-i/2<0?-1:1);Id(e,t,Math.max(r,Math.floor(t-s*l/i+c)),Math.min(n,Math.floor(t+(i-s)*l/i+c)),a)}const i=e[t];let s=r,o=n;for(Pd(e,r,t),a(e[n],i)>0&&Pd(e,r,n);s<o;){for(Pd(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}0===a(e[r],i)?Pd(e,r,o):(++o,Pd(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Pd(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Hd(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&(yield n)}}(e,r)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return Ed(e);if(t>=1)return _d(e);var n,a=(n-1)*t,i=Math.floor(a),s=_d(Id(e,i).subarray(0,i+1));return s+(Ed(e.subarray(i+1))-s)*(a-i)}}function Dd(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ic;if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e);return s+(+r(e[i+1],i+1,e)-s)*(a-i)}}function Md(){var e,t=[],r=[],n=[];function a(){var e=0,a=Math.max(1,r.length);for(n=new Array(a-1);++e<a;)n[e-1]=Dd(t,e/a);return i}function i(t){return null==t||isNaN(t=+t)?e:r[Dc(n,t)]}return i.invertExtent=function(e){var a=r.indexOf(e);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(_c),a()},i.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return n.slice()},i.copy=function(){return Md().domain(t).range(r).unknown(e)},Sl.apply(i,arguments)}function Ld(){var e,t=0,r=1,n=1,a=[.5],i=[0,1];function s(t){return null!=t&&t<=t?i[Dc(a,t,0,n)]:e}function o(){var e=-1;for(a=new Array(n);++e<n;)a[e]=((e+1)*r-(e-n)*t)/(n+1);return s}return s.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,o()):[t,r]},s.range=function(e){return arguments.length?(n=(i=Array.from(e)).length-1,o()):i.slice()},s.invertExtent=function(e){var s=i.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,a[0]]:s>=n?[a[n-1],r]:[a[s-1],a[s]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return a.slice()},s.copy=function(){return Ld().domain([t,r]).range(i).unknown(e)},Sl.apply(ad(s),arguments)}function Rd(){var e,t=[.5],r=[0,1],n=1;function a(a){return null!=a&&a<=a?r[Dc(t,a,0,n)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Rd().domain(t).range(r).unknown(e)},Sl.apply(a,arguments)}Qu=rd({thousands:",",grouping:[3],currency:["$",""]}),Zu=Qu.format,Ju=Qu.formatPrefix;const Fd=1e3,Ud=6e4,Gd=36e5,Bd=864e5,zd=6048e5,Vd=2592e6,Kd=31536e6,$d=new Date,Wd=new Date;function Xd(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,i)=>{const s=[];if(r=a.ceil(r),i=null==i?1:Math.floor(i),!(r<n)||!(i>0))return s;let o;do{s.push(o=new Date(+r)),t(r,i),e(r)}while(o<r&&r<n);return s},a.filter=r=>Xd((t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)}),((e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););})),r&&(a.count=(t,n)=>($d.setTime(+t),Wd.setTime(+n),e($d),e(Wd),Math.floor(r($d,Wd))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const Yd=Xd((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));Yd.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Xd((t=>{t.setTime(Math.floor(t/e)*e)}),((t,r)=>{t.setTime(+t+r*e)}),((t,r)=>(r-t)/e)):Yd:null);Yd.range;const qd=Xd((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*Fd)}),((e,t)=>(t-e)/Fd),(e=>e.getUTCSeconds())),Qd=(qd.range,Xd((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fd)}),((e,t)=>{e.setTime(+e+t*Ud)}),((e,t)=>(t-e)/Ud),(e=>e.getMinutes()))),Zd=(Qd.range,Xd((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*Ud)}),((e,t)=>(t-e)/Ud),(e=>e.getUTCMinutes()))),Jd=(Zd.range,Xd((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fd-e.getMinutes()*Ud)}),((e,t)=>{e.setTime(+e+t*Gd)}),((e,t)=>(t-e)/Gd),(e=>e.getHours()))),eh=(Jd.range,Xd((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*Gd)}),((e,t)=>(t-e)/Gd),(e=>e.getUTCHours()))),th=(eh.range,Xd((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ud)/Bd),(e=>e.getDate()-1))),rh=(th.range,Xd((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Bd),(e=>e.getUTCDate()-1))),nh=(rh.range,Xd((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Bd),(e=>Math.floor(e/Bd))));nh.range;function ah(e){return Xd((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ud)/zd))}const ih=ah(0),sh=ah(1),oh=ah(2),lh=ah(3),ch=ah(4),uh=ah(5),dh=ah(6);ih.range,sh.range,oh.range,lh.range,ch.range,uh.range,dh.range;function hh(e){return Xd((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/zd))}const fh=hh(0),ph=hh(1),mh=hh(2),gh=hh(3),xh=hh(4),bh=hh(5),yh=hh(6),vh=(fh.range,ph.range,mh.range,gh.range,xh.range,bh.range,yh.range,Xd((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),Nh=(vh.range,Xd((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),wh=(Nh.range,Xd((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));wh.every=e=>isFinite(e=Math.floor(e))&&e>0?Xd((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,r)=>{t.setFullYear(t.getFullYear()+r*e)})):null;wh.range;const jh=Xd((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));jh.every=e=>isFinite(e=Math.floor(e))&&e>0?Xd((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)})):null;jh.range;function kh(e,t,r,n,a,i){const s=[[qd,1,Fd],[qd,5,5e3],[qd,15,15e3],[qd,30,3e4],[i,1,Ud],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,Gd],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,Bd],[n,2,1728e5],[r,1,zd],[t,1,Vd],[t,3,7776e6],[e,1,Kd]];function o(t,r,n){const a=Math.abs(r-t)/n,i=Cc((e=>{let[,,t]=e;return t})).right(s,a);if(i===s.length)return e.every(Oc(t/Kd,r/Kd,n));if(0===i)return Yd.every(Math.max(Oc(t,r,n),1));const[o,l]=s[a/s[i-1][2]<s[i][2]/a?i-1:i];return o.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"===typeof r.range?r:o(e,t,r),i=a?a.range(e,+t+1):[];return n?i.reverse():i},o]}const[Th,Sh]=kh(jh,Nh,fh,nh,eh,Zd),[Oh,_h]=kh(wh,vh,ih,th,Jd,Qd);function Eh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ch(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ah(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var Ih,Ph,Hh,Dh={"-":"",_:" ",0:"0"},Mh=/^\s*\d+/,Lh=/^%/,Rh=/[\\^$*+?|[\]().{}]/g;function Fh(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Uh(e){return e.replace(Rh,"\\$&")}function Gh(e){return new RegExp("^(?:"+e.map(Uh).join("|")+")","i")}function Bh(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function zh(e,t,r){var n=Mh.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Vh(e,t,r){var n=Mh.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Kh(e,t,r){var n=Mh.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function $h(e,t,r){var n=Mh.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Wh(e,t,r){var n=Mh.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Xh(e,t,r){var n=Mh.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Yh(e,t,r){var n=Mh.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function qh(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Qh(e,t,r){var n=Mh.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function Zh(e,t,r){var n=Mh.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Jh(e,t,r){var n=Mh.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ef(e,t,r){var n=Mh.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function tf(e,t,r){var n=Mh.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function rf(e,t,r){var n=Mh.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function nf(e,t,r){var n=Mh.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function af(e,t,r){var n=Mh.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function sf(e,t,r){var n=Mh.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function of(e,t,r){var n=Lh.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function lf(e,t,r){var n=Mh.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function cf(e,t,r){var n=Mh.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function uf(e,t){return Fh(e.getDate(),t,2)}function df(e,t){return Fh(e.getHours(),t,2)}function hf(e,t){return Fh(e.getHours()%12||12,t,2)}function ff(e,t){return Fh(1+th.count(wh(e),e),t,3)}function pf(e,t){return Fh(e.getMilliseconds(),t,3)}function mf(e,t){return pf(e,t)+"000"}function gf(e,t){return Fh(e.getMonth()+1,t,2)}function xf(e,t){return Fh(e.getMinutes(),t,2)}function bf(e,t){return Fh(e.getSeconds(),t,2)}function yf(e){var t=e.getDay();return 0===t?7:t}function vf(e,t){return Fh(ih.count(wh(e)-1,e),t,2)}function Nf(e){var t=e.getDay();return t>=4||0===t?ch(e):ch.ceil(e)}function wf(e,t){return e=Nf(e),Fh(ch.count(wh(e),e)+(4===wh(e).getDay()),t,2)}function jf(e){return e.getDay()}function kf(e,t){return Fh(sh.count(wh(e)-1,e),t,2)}function Tf(e,t){return Fh(e.getFullYear()%100,t,2)}function Sf(e,t){return Fh((e=Nf(e)).getFullYear()%100,t,2)}function Of(e,t){return Fh(e.getFullYear()%1e4,t,4)}function _f(e,t){var r=e.getDay();return Fh((e=r>=4||0===r?ch(e):ch.ceil(e)).getFullYear()%1e4,t,4)}function Ef(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Fh(t/60|0,"0",2)+Fh(t%60,"0",2)}function Cf(e,t){return Fh(e.getUTCDate(),t,2)}function Af(e,t){return Fh(e.getUTCHours(),t,2)}function If(e,t){return Fh(e.getUTCHours()%12||12,t,2)}function Pf(e,t){return Fh(1+rh.count(jh(e),e),t,3)}function Hf(e,t){return Fh(e.getUTCMilliseconds(),t,3)}function Df(e,t){return Hf(e,t)+"000"}function Mf(e,t){return Fh(e.getUTCMonth()+1,t,2)}function Lf(e,t){return Fh(e.getUTCMinutes(),t,2)}function Rf(e,t){return Fh(e.getUTCSeconds(),t,2)}function Ff(e){var t=e.getUTCDay();return 0===t?7:t}function Uf(e,t){return Fh(fh.count(jh(e)-1,e),t,2)}function Gf(e){var t=e.getUTCDay();return t>=4||0===t?xh(e):xh.ceil(e)}function Bf(e,t){return e=Gf(e),Fh(xh.count(jh(e),e)+(4===jh(e).getUTCDay()),t,2)}function zf(e){return e.getUTCDay()}function Vf(e,t){return Fh(ph.count(jh(e)-1,e),t,2)}function Kf(e,t){return Fh(e.getUTCFullYear()%100,t,2)}function $f(e,t){return Fh((e=Gf(e)).getUTCFullYear()%100,t,2)}function Wf(e,t){return Fh(e.getUTCFullYear()%1e4,t,4)}function Xf(e,t){var r=e.getUTCDay();return Fh((e=r>=4||0===r?xh(e):xh.ceil(e)).getUTCFullYear()%1e4,t,4)}function Yf(){return"+0000"}function qf(){return"%"}function Qf(e){return+e}function Zf(e){return Math.floor(+e/1e3)}function Jf(e){return new Date(e)}function ep(e){return e instanceof Date?+e:+new Date(+e)}function tp(e,t,r,n,a,i,s,o,l,c){var u=Gu(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),x=c("%a %d"),b=c("%b %d"),y=c("%B"),v=c("%Y");function N(e){return(l(e)<e?f:o(e)<e?p:s(e)<e?m:i(e)<e?g:n(e)<e?a(e)<e?x:b:r(e)<e?y:v)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,ep)):h().map(Jf)},u.ticks=function(t){var r=h();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?N:c(t)},u.nice=function(e){var r=h();return e&&"function"===typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?h(od(r,e)):u},u.copy=function(){return Fu(u,tp(e,t,r,n,a,i,s,o,l,c))},u}function rp(){return Sl.apply(tp(Oh,_h,wh,vh,ih,th,Jd,Qd,qd,Ph).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function np(){return Sl.apply(tp(Th,Sh,jh,Nh,fh,rh,eh,Zd,qd,Hh).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ap(){var e,t,r,n,a,i=0,s=1,o=Du,l=!1;function c(t){return null==t||isNaN(t=+t)?a:o(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,o=e(r,n),c):[o(0),o(1)]}}return c.domain=function(a){return arguments.length?([i,s]=a,e=n(i=+i),t=n(s=+s),r=e===t?0:1/(t-e),c):[i,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u(Au),c.rangeRound=u(Iu),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return n=a,e=a(i),t=a(s),r=e===t?0:1/(t-e),c}}function ip(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sp(){var e=ad(ap()(Du));return e.copy=function(){return ip(e,sp())},Ol.apply(e,arguments)}function op(){var e=pd(ap()).domain([1,10]);return e.copy=function(){return ip(e,op()).base(e.base())},Ol.apply(e,arguments)}function lp(){var e=bd(ap());return e.copy=function(){return ip(e,lp()).constant(e.constant())},Ol.apply(e,arguments)}function cp(){var e=jd(ap());return e.copy=function(){return ip(e,cp()).exponent(e.exponent())},Ol.apply(e,arguments)}function up(){return cp.apply(null,arguments).exponent(.5)}function dp(){var e=[],t=Du;function r(r){if(null!=r&&!isNaN(r=+r))return t((Dc(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort(_c),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map(((r,n)=>t(n/(e.length-1))))},r.quantiles=function(t){return Array.from({length:t+1},((r,n)=>Hd(e,n/t)))},r.copy=function(){return dp(t).domain(e)},Ol.apply(r,arguments)}function hp(){var e,t,r,n,a,i,s,o=0,l=.5,c=1,u=1,d=Du,h=!1;function f(e){return isNaN(e=+e)?s:(e=.5+((e=+i(e))-t)*(u*e<u*t?n:a),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,d=function(e,t){void 0===t&&(t=e,e=Au);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return i[t](e-t)}}(e,[r,n,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(s){return arguments.length?([o,l,c]=s,e=i(o=+o),t=i(l=+l),r=i(c=+c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,f):[o,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(Au),f.rangeRound=p(Iu),f.unknown=function(e){return arguments.length?(s=e,f):s},function(s){return i=s,e=s(o),t=s(l),r=s(c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,f}}function fp(){var e=ad(hp()(Du));return e.copy=function(){return ip(e,fp())},Ol.apply(e,arguments)}function pp(){var e=pd(hp()).domain([.1,1,10]);return e.copy=function(){return ip(e,pp()).base(e.base())},Ol.apply(e,arguments)}function mp(){var e=bd(hp());return e.copy=function(){return ip(e,mp()).constant(e.constant())},Ol.apply(e,arguments)}function gp(){var e=jd(hp());return e.copy=function(){return ip(e,gp()).exponent(e.exponent())},Ol.apply(e,arguments)}function xp(){return gp.apply(null,arguments).exponent(.5)}function bp(e,t){if((a=e.length)>1)for(var r,n,a,i=1,s=e[t[0]],o=s.length;i<a;++i)for(n=s,s=e[t[i]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}!function(e){Ih=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Gh(a),u=Bh(a),d=Gh(i),h=Bh(i),f=Gh(s),p=Bh(s),m=Gh(o),g=Bh(o),x=Gh(l),b=Bh(l),y={a:function(e){return s[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:uf,e:uf,f:mf,g:Sf,G:_f,H:df,I:hf,j:ff,L:pf,m:gf,M:xf,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Qf,s:Zf,S:bf,u:yf,U:vf,V:wf,w:jf,W:kf,x:null,X:null,y:Tf,Y:Of,Z:Ef,"%":qf},v={a:function(e){return s[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:Cf,e:Cf,f:Df,g:$f,G:Xf,H:Af,I:If,j:Pf,L:Hf,m:Mf,M:Lf,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Qf,s:Zf,S:Rf,u:Ff,U:Uf,V:Bf,w:zf,W:Vf,x:null,X:null,y:Kf,Y:Wf,Z:Yf,"%":qf},N={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=x.exec(t.slice(r));return n?(e.m=b.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return k(e,t,r,n)},d:Jh,e:Jh,f:sf,g:Yh,G:Xh,H:tf,I:tf,j:ef,L:af,m:Zh,M:rf,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:Qh,Q:lf,s:cf,S:nf,u:Vh,U:Kh,V:$h,w:zh,W:Wh,x:function(e,t,n){return k(e,r,t,n)},X:function(e,t,r){return k(e,n,t,r)},y:Yh,Y:Xh,Z:qh,"%":of};function w(e,t){return function(r){var n,a,i,s=[],o=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(a=Dh[n=e.charAt(++o)])?n=e.charAt(++o):a="e"===n?" ":"0",(i=t[n])&&(n=i(r,a)),s.push(n),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function j(e,t){return function(r){var n,a,i=Ah(1900,void 0,1);if(k(i,e,r+="",0)!=r.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(n=Ch(Ah(i.y,0,1))).getUTCDay(),n=a>4||0===a?ph.ceil(n):ph(n),n=rh.offset(n,7*(i.V-1)),i.y=n.getUTCFullYear(),i.m=n.getUTCMonth(),i.d=n.getUTCDate()+(i.w+6)%7):(a=(n=Eh(Ah(i.y,0,1))).getDay(),n=a>4||0===a?sh.ceil(n):sh(n),n=th.offset(n,7*(i.V-1)),i.y=n.getFullYear(),i.m=n.getMonth(),i.d=n.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?Ch(Ah(i.y,0,1)).getUTCDay():Eh(Ah(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Ch(i)):Eh(i)}}function k(e,t,r,n){for(var a,i,s=0,o=t.length,l=r.length;s<o;){if(n>=l)return-1;if(37===(a=t.charCodeAt(s++))){if(a=t.charAt(s++),!(i=N[a in Dh?t.charAt(s++):a])||(n=i(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return y.x=w(r,y),y.X=w(n,y),y.c=w(t,y),v.x=w(r,v),v.X=w(n,v),v.c=w(t,v),{format:function(e){var t=w(e+="",y);return t.toString=function(){return e},t},parse:function(e){var t=j(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",v);return t.toString=function(){return e},t},utcParse:function(e){var t=j(e+="",!0);return t.toString=function(){return e},t}}}(e),Ph=Ih.format,Ih.parse,Hh=Ih.utcFormat,Ih.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function yp(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function vp(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Np(e,t){return e[t]}function wp(e){const t=[];return t.key=e,t}var jp=r(539),kp=r.n(jp),Tp=r(6745),Sp=r.n(Tp),Op=r(3538),_p=r.n(Op),Ep=r(9853),Cp=r.n(Ep),Ap=r(8210),Ip=r.n(Ap);function Pp(e){return function(e){if(Array.isArray(e))return Hp(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Hp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Dp=function(e){return e},Mp={"@@functional/placeholder":!0},Lp=function(e){return e===Mp},Rp=function(e){return function t(){return 0===arguments.length||1===arguments.length&&Lp(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},Fp=function e(t,r){return 1===t?r:Rp((function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter((function(e){return e!==Mp})).length;return s>=t?r.apply(void 0,a):e(t-s,Rp((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=a.map((function(e){return Lp(e)?t.shift():e}));return r.apply(void 0,Pp(i).concat(t))})))}))},Up=function(e){return Fp(e.length,e)},Gp=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Bp=Up((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),zp=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return Dp;var n=t.reverse(),a=n[0],i=n.slice(1);return function(){return i.reduce((function(e,t){return t(e)}),a.apply(void 0,arguments))}},Vp=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Kp=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((function(e,r){return e===t[r]}))?r:(t=a,r=e.apply(void 0,a))}};var $p=Up((function(e,t,r){var n=+e;return n+r*(+t-n)})),Wp=Up((function(e,t,r){var n=t-+e;return(r-e)/(n=n||1/0)})),Xp=Up((function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))}));const Yp={rangeStep:function(e,t,r){for(var n=new(Ip())(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new(Ip())(e).abs().log(10).toNumber())+1},interpolateNumber:$p,uninterpolateNumber:Wp,uninterpolateTruncation:Xp};function qp(e){return function(e){if(Array.isArray(e))return Jp(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Zp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}return r}(e,t)||Zp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zp(e,t){if(e){if("string"===typeof e)return Jp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jp(e,t):void 0}}function Jp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function em(e){var t=Qp(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function tm(e,t,r){if(e.lte(0))return new(Ip())(0);var n=Yp.getDigitCount(e.toNumber()),a=new(Ip())(10).pow(n),i=e.div(a),s=1!==n?.05:.1,o=new(Ip())(Math.ceil(i.div(s).toNumber())).add(r).mul(s).mul(a);return t?o:new(Ip())(Math.ceil(o))}function rm(e,t,r){var n=1,a=new(Ip())(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new(Ip())(10).pow(Yp.getDigitCount(e)-1),a=new(Ip())(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new(Ip())(Math.floor(e)))}else 0===e?a=new(Ip())(Math.floor((t-1)/2)):r||(a=new(Ip())(Math.floor(e)));var s=Math.floor((t-1)/2);return zp(Bp((function(e){return a.add(new(Ip())(e-s).mul(n)).toNumber()})),Gp)(0,t)}function nm(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(Ip())(0),tickMin:new(Ip())(0),tickMax:new(Ip())(0)};var i,s=tm(new(Ip())(t).sub(e).div(r-1),n,a);i=e<=0&&t>=0?new(Ip())(0):(i=new(Ip())(e).add(t).div(2)).sub(new(Ip())(i).mod(s));var o=Math.ceil(i.sub(e).div(s).toNumber()),l=Math.ceil(new(Ip())(t).sub(i).div(s).toNumber()),c=o+l+1;return c>r?nm(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:s,tickMin:i.sub(new(Ip())(o).mul(s)),tickMax:i.add(new(Ip())(l).mul(s))})}var am=Kp((function(e){var t=Qp(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(a,2),o=Qp(em([r,n]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(qp(Gp(0,a-1).map((function(){return 1/0})))):[].concat(qp(Gp(0,a-1).map((function(){return-1/0}))),[c]);return r>n?Vp(u):u}if(l===c)return rm(l,a,i);var d=nm(l,c,s,i),h=d.step,f=d.tickMin,p=d.tickMax,m=Yp.rangeStep(f,p.add(new(Ip())(.1).mul(h)),h);return r>n?Vp(m):m})),im=(Kp((function(e){var t=Qp(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(a,2),o=Qp(em([r,n]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,n];if(l===c)return rm(l,a,i);var u=tm(new(Ip())(c).sub(l).div(s-1),i,0),d=zp(Bp((function(e){return new(Ip())(l).add(new(Ip())(e).mul(u)).toNumber()})),Gp)(0,s).filter((function(e){return e>=l&&e<=c}));return r>n?Vp(d):d})),Kp((function(e,t){var r=Qp(e,2),n=r[0],a=r[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Qp(em([n,a]),2),o=s[0],l=s[1];if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var c=Math.max(t,2),u=tm(new(Ip())(l).sub(o).div(c-1),i,0),d=[].concat(qp(Yp.rangeStep(new(Ip())(o),new(Ip())(l).sub(new(Ip())(.99).mul(u)),u)),[l]);return n>a?Vp(d):d}))),sm=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function om(e){return om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(e)}function lm(){return lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lm.apply(this,arguments)}function cm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return um(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return um(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function um(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dm(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bm(n.key),n)}}function fm(e,t,r){return t=mm(t),function(e,t){if(t&&("object"===om(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pm()?Reflect.construct(t,r||[],mm(e).constructor):t.apply(e,r))}function pm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pm=function(){return!!e})()}function mm(e){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mm(e)}function gm(e,t){return gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gm(e,t)}function xm(e,t,r){return(t=bm(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bm(e){var t=function(e,t){if("object"!=om(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=om(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==om(t)?t:t+""}var ym=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fm(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gm(e,t)}(t,e),r=t,a=[{key:"render",value:function(){var e=this.props,t=e.offset,r=e.layout,a=e.width,i=e.dataKey,s=e.data,o=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=dm(e,sm),d=En(u,!1);"x"===this.props.direction&&"number"!==l.type&&Kn(!1);var h=s.map((function(e){var s=o(e,i),u=s.x,h=s.y,f=s.value,p=s.errorVal;if(!p)return null;var m,g,x=[];if(Array.isArray(p)){var b=cm(p,2);m=b[0],g=b[1]}else m=g=p;if("vertical"===r){var y=l.scale,v=h+t,N=v+a,w=v-a,j=y(f-m),k=y(f+g);x.push({x1:k,y1:N,x2:k,y2:w}),x.push({x1:j,y1:v,x2:k,y2:v}),x.push({x1:j,y1:N,x2:j,y2:w})}else if("horizontal"===r){var T=c.scale,S=u+t,O=S-a,_=S+a,E=T(f-m),C=T(f+g);x.push({x1:O,y1:C,x2:_,y2:C}),x.push({x1:S,y1:E,x2:S,y2:C}),x.push({x1:O,y1:E,x2:_,y2:E})}return n.createElement(Jn,lm({className:"recharts-errorBar",key:"bar-".concat(x.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},d),x.map((function(e){return n.createElement("line",lm({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return n.createElement(Jn,{className:"recharts-errorBars"},h)}}],a&&hm(r.prototype,a),i&&hm(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.Component);function vm(e){return vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(e)}function Nm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nm(Object(r),!0).forEach((function(t){jm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jm(e,t,r){return t=function(e){var t=function(e,t){if("object"!=vm(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=vm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vm(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}xm(ym,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),xm(ym,"displayName","ErrorBar");var km=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,i=Tn(t,ts);if(!i)return null;var s,o=ts.defaultProps,l=void 0!==o?wm(wm({},o),i.props):{};return s=i.props&&i.props.payload?i.props&&i.props.payload:"children"===a?(r||[]).reduce((function(e,t){var r=t.item,n=t.props,a=n.sectors||n.data||[];return e.concat(a.map((function(e){return{type:i.props.iconType||r.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(r||[]).map((function(e){var t=e.item,r=t.type.defaultProps,n=void 0!==r?wm(wm({},r),t.props):{},a=n.dataKey,i=n.name,s=n.legendType;return{inactive:n.hide,dataKey:a,type:l.iconType||s||"square",color:Pm(t),value:i||a,payload:n}})),wm(wm(wm({},l),ts.getWithHeight(i,n)),{},{payload:s,item:i})};function Tm(e){return Tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(e)}function Sm(e){return function(e){if(Array.isArray(e))return Om(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Om(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Om(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Om(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Em(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_m(Object(r),!0).forEach((function(t){Cm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cm(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Tm(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Tm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tm(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Am(e,t,r){return en()(e)||en()(t)?r:Kr(t)?Fr()(e,t,r):rn()(t)?t(e):r}function Im(e,t,r,n){var a=_p()(e,(function(e){return Am(e,t)}));if("number"===r){var i=a.filter((function(e){return Vr(e)||parseFloat(e)}));return i.length?[Sp()(i),kp()(i)]:[1/0,-1/0]}return(n?a.filter((function(e){return!en()(e)})):a).map((function(e){return Kr(e)||e instanceof Date?e:""}))}var Pm=function(e){var t,r,n=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?Em(Em({},e.type.defaultProps),e.props):e.props,i=a.stroke,s=a.fill;switch(n){case"Line":r=i;break;case"Area":case"Radar":r=i&&"none"!==i?i:s;break;default:r=s}return r},Hm=function(e,t,r,n,a){var i=kn(t.props.children,ym).filter((function(e){return function(e,t,r){return!!en()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===r?"xAxis"===t:"y"!==r||"yAxis"===t)}(n,a,e.props.direction)}));if(i&&i.length){var s=i.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var n=Am(t,r);if(en()(n))return e;var a=Array.isArray(n)?[Sp()(n),kp()(n)]:[n,n],i=s.reduce((function(e,r){var n=Am(t,r,0),i=a[0]-Math.abs(Array.isArray(n)?n[0]:n),s=a[1]+Math.abs(Array.isArray(n)?n[1]:n);return[Math.min(i,e[0]),Math.max(s,e[1])]}),[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]}),[1/0,-1/0])}return null},Dm=function(e,t,r,n,a){var i=t.map((function(t){var i=t.props.dataKey;return"number"===r&&i&&Hm(e,t,i,n)||Im(e,i,r,a)}));if("number"===r)return i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var s={};return i.reduce((function(e,t){for(var r=0,n=t.length;r<n;r++)s[t[r]]||(s[t[r]]=!0,e.push(t[r]));return e}),[])},Mm=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},Lm=function(e,t,r,n){if(n)return e.map((function(e){return e.coordinate}));var a,i,s=e.map((function(e){return e.coordinate===t&&(a=!0),e.coordinate===r&&(i=!0),e.coordinate}));return a||s.push(t),i||s.push(r),s},Rm=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,i=e.type,s=e.range,o="scaleBand"===e.realScaleType?n.bandwidth()/2:2,l=(t||r)&&"category"===i&&n.bandwidth?n.bandwidth()/o:0;return l="angleAxis"===e.axisType&&(null===s||void 0===s?void 0:s.length)>=2?2*Br(s[0]-s[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=a?a.indexOf(e):e;return{coordinate:n(t)+l,value:e,offset:l}})).filter((function(e){return!Lr()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:n(e)+l,value:e,index:t,offset:l}})):n.ticks&&!r?n.ticks(e.tickCount).map((function(e){return{coordinate:n(e)+l,value:e,offset:l}})):n.domain().map((function(e,t){return{coordinate:n(e)+l,value:a?a[e]:e,index:t,offset:l}}))},Fm=new WeakMap,Um=function(e,t){if("function"!==typeof t)return e;Fm.has(e)||Fm.set(e,new WeakMap);var r=Fm.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},Gm=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if("auto"===a)return"radial"===s&&"radiusAxis"===o?{scale:Dl(),realScaleType:"band"}:"radial"===s&&"angleAxis"===o?{scale:id(),realScaleType:"linear"}:"category"===i&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ll(),realScaleType:"point"}:"category"===i?{scale:Dl(),realScaleType:"band"}:{scale:id(),realScaleType:"linear"};if(Dr()(a)){var l="scale".concat(za()(a));return{scale:(e[l]||Ll)(),realScaleType:e[l]?l:"point"}}return rn()(a)?{scale:a}:{scale:Ll(),realScaleType:"point"}},Bm=1e-4,zm=function(e){var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-Bm,i=Math.max(n[0],n[1])+Bm,s=e(t[0]),o=e(t[r-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},Vm={sign:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var o=Lr()(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,i=0,s=e[0].length;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}bp(e,t)}},none:bp,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],i=a.length;n<i;++n){for(var s=0,o=0;s<r;++s)o+=e[s][n][1]||0;a[n][1]+=a[n][0]=-o/2}bp(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,i=0,s=1;s<n;++s){for(var o=0,l=0,c=0;o<a;++o){for(var u=e[t[o]],d=u[s][1]||0,h=(d-(u[s-1][1]||0))/2,f=0;f<o;++f){var p=e[t[f]];h+=(p[s][1]||0)-(p[s-1][1]||0)}l+=d,c+=h*d}r[s-1][1]+=r[s-1][0]=i,l&&(i-=c/l)}r[s-1][1]+=r[s-1][0]=i,bp(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=Lr()(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}}},Km=function(e,t,r){var n=t.map((function(e){return e.props.dataKey})),a=Vm[r],i=function(){var e=hi([]),t=vp,r=bp,n=Np;function a(a){var i,s,o=Array.from(e.apply(this,arguments),wp),l=o.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(o[i][c]=[0,+n(e,o[i].key,c,a)]).data=e;for(i=0,s=yp(t(o));i<l;++i)o[s[i]].index=i;return r(o,s),o}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:hi(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"===typeof e?e:hi(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?vp:"function"===typeof e?e:hi(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?bp:e,a):r},a}().keys(n).value((function(e,t){return+Am(e,t,0)})).order(vp).offset(a);return i(e)},$m=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,i=t.originalDomain,s=t.allowDecimals,o=r||t.scale;if("auto"!==o&&"linear"!==o)return null;if(a&&"number"===n&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var c=am(l,a,s);return e.domain([Sp()(c),kp()(c)]),{niceTicks:c}}if(a&&"number"===n){var u=e.domain();return{niceTicks:im(u,a,s)}}return null};function Wm(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!en()(a[t.dataKey])){var o=Qr(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Am(a,en()(s)?t.dataKey:s);return en()(l)?null:t.scale(l)}var Xm=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,i=e.entry,s=e.index;if("category"===t.type)return r[s]?r[s].coordinate+n:null;var o=Am(i,t.dataKey,t.domain[s]);return en()(o)?null:t.scale(o)-a/2+n},Ym=function(e,t,r){return Object.keys(e).reduce((function(n,a){var i=e[a].stackedData.reduce((function(e,n){var a=function(e){return e.reduce((function(e,t){return[Sp()(t.concat([e[0]]).filter(Vr)),kp()(t.concat([e[1]]).filter(Vr))]}),[1/0,-1/0])}(n.slice(t,r+1));return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]}),[1/0,-1/0]);return[Math.min(i[0],n[0]),Math.max(i[1],n[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},qm=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qm=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zm=function(e,t,r){if(rn()(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(Vr(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(qm.test(e[0])){var a=+qm.exec(e[0])[1];n[0]=t[0]-a}else rn()(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(Vr(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(Qm.test(e[1])){var i=+Qm.exec(e[1])[1];n[1]=t[1]+i}else rn()(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},Jm=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=zn()(t,(function(e){return e.coordinate})),i=1/0,s=1,o=a.length;s<o;s++){var l=a[s],c=a[s-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0},eg=function(e,t,r){return e&&e.length?Cp()(e,Fr()(r,"type.defaultProps.domain"))?t:e:t},tg=function(e,t){var r=e.type.defaultProps?Em(Em({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,i=r.unit,s=r.formatter,o=r.tooltipType,l=r.chartType,c=r.hide;return Em(Em({},En(e,!1)),{},{dataKey:n,unit:i,formatter:s,name:a||n,color:Pm(e),value:Am(t,n),type:o,payload:t,chartType:l,hide:c})};function rg(e){return rg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(e)}function ng(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ag(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ng(Object(r),!0).forEach((function(t){ig(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ng(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ig(e,t,r){return t=function(e){var t=function(e,t){if("object"!=rg(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=rg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rg(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sg=["Webkit","Moz","O","ms"];function og(e){return og="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(e)}function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lg.apply(this,arguments)}function cg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ug(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cg(Object(r),!0).forEach((function(t){gg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xg(n.key),n)}}function hg(e,t,r){return t=pg(t),function(e,t){if(t&&("object"===og(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fg()?Reflect.construct(t,r||[],pg(e).constructor):t.apply(e,r))}function fg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fg=function(){return!!e})()}function pg(e){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pg(e)}function mg(e,t){return mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mg(e,t)}function gg(e,t,r){return(t=xg(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xg(e){var t=function(e,t){if("object"!=og(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=og(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==og(t)?t:t+""}var bg=function(e){return e.changedTouches&&!!e.changedTouches.length},yg=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gg(r=hg(this,t,[e]),"handleDrag",(function(e){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(e):r.state.isSlideMoving&&r.handleSlideDrag(e)})),gg(r,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&r.handleDrag(e.changedTouches[0])})),gg(r,"handleDragEnd",(function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=r.props,t=e.endIndex,n=e.onDragEnd,a=e.startIndex;null===n||void 0===n||n({endIndex:t,startIndex:a})})),r.detachDragEndListener()})),gg(r,"handleLeaveWrapper",(function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))})),gg(r,"handleEnterSlideOrTraveller",(function(){r.setState({isTextActive:!0})})),gg(r,"handleLeaveSlideOrTraveller",(function(){r.setState({isTextActive:!1})})),gg(r,"handleSlideDragStart",(function(e){var t=bg(e)?e.changedTouches[0]:e;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),r.attachDragEndListener()})),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mg(e,t)}(t,e),r=t,a=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var r=e.startX,n=e.endX,a=this.state.scaleValues,i=this.props,s=i.gap,o=i.data.length-1,l=Math.min(r,n),c=Math.max(r,n),u=t.getIndexInRange(a,l),d=t.getIndexInRange(a,c);return{startIndex:u-u%s,endIndex:d===o?o:d-d%s}}},{key:"getTextOfTick",value:function(e){var t=this.props,r=t.data,n=t.tickFormatter,a=t.dataKey,i=Am(r[e],a,e);return rn()(n)?n(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,r=t.slideMoveStartX,n=t.startX,a=t.endX,i=this.props,s=i.x,o=i.width,l=i.travellerWidth,c=i.startIndex,u=i.endIndex,d=i.onChange,h=e.pageX-r;h>0?h=Math.min(h,s+o-l-a,s+o-l-n):h<0&&(h=Math.max(h,s-n,s-a));var f=this.getIndex({startX:n+h,endX:a+h});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:n+h,endX:a+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var r=bg(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:r.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,r=t.brushMoveStartX,n=t.movingTravellerId,a=t.endX,i=t.startX,s=this.state[n],o=this.props,l=o.x,c=o.width,u=o.travellerWidth,d=o.onChange,h=o.gap,f=o.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-r;m>0?m=Math.min(m,l+c-u-s):m<0&&(m=Math.max(m,l-s)),p[n]=s+m;var g=this.getIndex(p),x=g.startIndex,b=g.endIndex;this.setState(gg(gg({},n,s+m),"brushMoveStartX",e.pageX),(function(){d&&function(){var e=f.length-1;return"startX"===n&&(a>i?x%h===0:b%h===0)||a<i&&b===e||"endX"===n&&(a>i?b%h===0:x%h===0)||a>i&&b===e}()&&d(g)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var r=this,n=this.state,a=n.scaleValues,i=n.startX,s=n.endX,o=this.state[t],l=a.indexOf(o);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var u=a[c];"startX"===t&&u>=s||"endX"===t&&u<=i||this.setState(gg({},t,u),(function(){r.props.onChange(r.getIndex({startX:r.state.startX,endX:r.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,r=e.y,a=e.width,i=e.height,s=e.fill,o=e.stroke;return n.createElement("rect",{stroke:o,fill:s,x:t,y:r,width:a,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,r=e.y,a=e.width,i=e.height,s=e.data,o=e.children,l=e.padding,c=n.Children.only(o);return c?n.cloneElement(c,{x:t,y:r,width:a,height:i,margin:l,compact:!0,data:s}):null}},{key:"renderTravellerLayer",value:function(e,r){var a,i,s=this,o=this.props,l=o.y,c=o.travellerWidth,u=o.height,d=o.traveller,h=o.ariaLabel,f=o.data,p=o.startIndex,m=o.endIndex,g=Math.max(e,this.props.x),x=ug(ug({},En(this.props,!1)),{},{x:g,y:l,width:c,height:u}),b=h||"Min value: ".concat(null===(a=f[p])||void 0===a?void 0:a.name,", Max value: ").concat(null===(i=f[m])||void 0===i?void 0:i.name);return n.createElement(Jn,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),s.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,x))}},{key:"renderSlide",value:function(e,t){var r=this.props,a=r.y,i=r.height,s=r.stroke,o=r.travellerWidth,l=Math.min(e,t)+o,c=Math.max(Math.abs(t-e)-o,0);return n.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:s,fillOpacity:.2,x:l,y:a,width:c,height:i})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,r=e.endIndex,a=e.y,i=e.height,s=e.travellerWidth,o=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:o};return n.createElement(Jn,{className:"recharts-brush-texts"},n.createElement(vc,lg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:a+i/2},d),this.getTextOfTick(t)),n.createElement(vc,lg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+s+5,y:a+i/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.className,a=e.children,i=e.x,s=e.y,o=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,f=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!t||!t.length||!Vr(i)||!Vr(s)||!Vr(o)||!Vr(l)||o<=0||l<=0)return null;var x=Ee("recharts-brush",r),b=1===n.Children.count(a),y=function(e,t){if(!e)return null;var r=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),n=sg.reduce((function(e,n){return ag(ag({},e),{},ig({},n+r,t))}),{});return n[e]=t,n}("userSelect","none");return n.createElement(Jn,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:y},this.renderBackground(),b&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(f||p||m||g||c)&&this.renderText())}}],i=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,r=e.y,a=e.width,i=e.height,s=e.stroke,o=Math.floor(r+i/2)-1;return n.createElement(n.Fragment,null,n.createElement("rect",{x:t,y:r,width:a,height:i,fill:s,stroke:"none"}),n.createElement("line",{x1:t+1,y1:o,x2:t+a-1,y2:o,fill:"none",stroke:"#fff"}),n.createElement("line",{x1:t+1,y1:o+2,x2:t+a-1,y2:o+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return n.isValidElement(e)?n.cloneElement(e,r):rn()(e)?e(r):t.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var r=e.data,n=e.width,a=e.x,i=e.travellerWidth,s=e.updateId,o=e.startIndex,l=e.endIndex;if(r!==t.prevData||s!==t.prevUpdateId)return ug({prevData:r,prevTravellerWidth:i,prevUpdateId:s,prevX:a,prevWidth:n},r&&r.length?function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,i=e.width,s=e.travellerWidth;if(!t||!t.length)return{};var o=t.length,l=Ll().domain(Gn()(0,o)).range([a,a+i-s]),c=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(n),scale:l,scaleValues:c}}({data:r,width:n,x:a,travellerWidth:i,startIndex:o,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(n!==t.prevWidth||a!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([a,a+n-i]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:r,prevTravellerWidth:i,prevUpdateId:s,prevX:a,prevWidth:n,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var r=0,n=e.length-1;n-r>1;){var a=Math.floor((r+n)/2);e[a]>t?n=a:r=a}return t>=e[n]?n:r}}],a&&dg(r.prototype,a),i&&dg(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent);function vg(e){return vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(e)}function Ng(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ng(Object(r),!0).forEach((function(t){jg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ng(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jg(e,t,r){return t=function(e){var t=function(e,t){if("object"!=vg(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=vg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vg(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Tg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}gg(yg,"displayName","Brush"),gg(yg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Sg=Math.PI/180,Og=function(e){return 180*e/Math.PI},_g=function(e,t,r,n){return{x:e+Math.cos(-Sg*n)*r,y:t+Math.sin(-Sg*n)*r}},Eg=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},Cg=function(e,t){var r=e.x,n=e.y,a=t.cx,i=t.cy,s=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-i,2))}({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s};var o=(r-a)/s,l=Math.acos(o);return n>i&&(l=2*Math.PI-l),{radius:s,angle:Og(l),angleInRadian:l}},Ag=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360);return e+360*Math.min(a,i)},Ig=function(e,t){var r=e.x,n=e.y,a=Cg({x:r,y:n},t),i=a.radius,s=a.angle,o=t.innerRadius,l=t.outerRadius;if(i<o||i>l)return!1;if(0===i)return!0;var c,u=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-360*i,endAngle:r-360*i}}(t),d=u.startAngle,h=u.endAngle,f=s;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}return c?wg(wg({},t),{},{radius:i,angle:Ag(f,t)}):null},Pg=function(e){return(0,n.isValidElement)(e)||rn()(e)||"boolean"===typeof e?"":e.className};function Hg(e){return Hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(e)}var Dg=["offset"];function Mg(e){return function(e){if(Array.isArray(e))return Lg(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Lg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rg(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ug(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fg(Object(r),!0).forEach((function(t){Gg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gg(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Hg(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Hg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hg(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(this,arguments)}var zg=function(e,t,r){var a,i,s=e.position,o=e.viewBox,l=e.offset,c=e.className,u=o,d=u.cx,h=u.cy,f=u.innerRadius,p=u.outerRadius,m=u.startAngle,g=u.endAngle,x=u.clockWise,b=(f+p)/2,y=function(e,t){return Br(t-e)*Math.min(Math.abs(t-e),360)}(m,g),v=y>=0?1:-1;"insideStart"===s?(a=m+v*l,i=x):"insideEnd"===s?(a=g-v*l,i=!x):"end"===s&&(a=g+v*l,i=x),i=y<=0?i:!i;var N=_g(d,h,b,a),w=_g(d,h,b,a+359*(i?1:-1)),j="M".concat(N.x,",").concat(N.y,"\n    A").concat(b,",").concat(b,",0,1,").concat(i?0:1,",\n    ").concat(w.x,",").concat(w.y),k=en()(e.id)?Wr("recharts-radial-line-"):e.id;return n.createElement("text",Bg({},r,{dominantBaseline:"central",className:Ee("recharts-radial-bar-label",c)}),n.createElement("defs",null,n.createElement("path",{id:k,d:j})),n.createElement("textPath",{xlinkHref:"#".concat(k)},t))};function Vg(e){var t,r=e.offset,a=Ug({offset:void 0===r?5:r},Rg(e,Dg)),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,u=a.className,d=void 0===u?"":u,h=a.textBreakAll;if(!i||en()(o)&&en()(l)&&!(0,n.isValidElement)(c)&&!rn()(c))return null;if((0,n.isValidElement)(c))return(0,n.cloneElement)(c,a);if(rn()(c)){if(t=(0,n.createElement)(c,a),(0,n.isValidElement)(t))return t}else t=function(e){var t=e.value,r=e.formatter,n=en()(e.children)?t:e.children;return rn()(r)?r(n):n}(a);var f=function(e){return"cx"in e&&Vr(e.cx)}(i),p=En(a,!0);if(f&&("insideStart"===s||"insideEnd"===s||"end"===s))return zg(a,t,p);var m=f?function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,i=a.cx,s=a.cy,o=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===n){var u=_g(i,s,l+r,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var h=_g(i,s,(o+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(a):function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,i=t,s=i.x,o=i.y,l=i.width,c=i.height,u=c>=0?1:-1,d=u*n,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*n,g=p>0?"end":"start",x=p>0?"start":"end";if("top"===a)return Ug(Ug({},{x:s+l/2,y:o-u*n,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(o-r.y,0),width:l}:{});if("bottom"===a)return Ug(Ug({},{x:s+l/2,y:o+c+d,textAnchor:"middle",verticalAnchor:f}),r?{height:Math.max(r.y+r.height-(o+c),0),width:l}:{});if("left"===a){var b={x:s-m,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return Ug(Ug({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if("right"===a){var y={x:s+l+m,y:o+c/2,textAnchor:x,verticalAnchor:"middle"};return Ug(Ug({},y),r?{width:Math.max(r.x+r.width-y.x,0),height:c}:{})}var v=r?{width:l,height:c}:{};return"insideLeft"===a?Ug({x:s+m,y:o+c/2,textAnchor:x,verticalAnchor:"middle"},v):"insideRight"===a?Ug({x:s+l-m,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},v):"insideTop"===a?Ug({x:s+l/2,y:o+d,textAnchor:"middle",verticalAnchor:f},v):"insideBottom"===a?Ug({x:s+l/2,y:o+c-d,textAnchor:"middle",verticalAnchor:h},v):"insideTopLeft"===a?Ug({x:s+m,y:o+d,textAnchor:x,verticalAnchor:f},v):"insideTopRight"===a?Ug({x:s+l-m,y:o+d,textAnchor:g,verticalAnchor:f},v):"insideBottomLeft"===a?Ug({x:s+m,y:o+c-d,textAnchor:x,verticalAnchor:h},v):"insideBottomRight"===a?Ug({x:s+l-m,y:o+c-d,textAnchor:g,verticalAnchor:h},v):an()(a)&&(Vr(a.x)||zr(a.x))&&(Vr(a.y)||zr(a.y))?Ug({x:s+Xr(a.x,l),y:o+Xr(a.y,c),textAnchor:"end",verticalAnchor:"end"},v):Ug({x:s+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},v)}(a);return n.createElement(vc,Bg({className:Ee("recharts-label",d)},p,m,{breakAll:h}),t)}Vg.displayName="Label";var Kg=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,i=e.endAngle,s=e.r,o=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,p=e.width,m=e.height,g=e.clockWise,x=e.labelViewBox;if(x)return x;if(Vr(p)&&Vr(m)){if(Vr(u)&&Vr(d))return{x:u,y:d,width:p,height:m};if(Vr(h)&&Vr(f))return{x:h,y:f,width:p,height:m}}return Vr(u)&&Vr(d)?{x:u,y:d,width:0,height:0}:Vr(t)&&Vr(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:l||0,outerRadius:c||o||s||0,clockWise:g}:e.viewBox?e.viewBox:{}};Vg.parseViewBox=Kg,Vg.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=e.children,i=Kg(e),s=kn(a,Vg).map((function(e,r){return(0,n.cloneElement)(e,{viewBox:t||i,key:"label-".concat(r)})}));if(!r)return s;var o=function(e,t){return e?!0===e?n.createElement(Vg,{key:"label-implicit",viewBox:t}):Kr(e)?n.createElement(Vg,{key:"label-implicit",viewBox:t,value:e}):(0,n.isValidElement)(e)?e.type===Vg?(0,n.cloneElement)(e,{key:"label-implicit",viewBox:t}):n.createElement(Vg,{key:"label-implicit",content:e,viewBox:t}):rn()(e)?n.createElement(Vg,{key:"label-implicit",content:e,viewBox:t}):an()(e)?n.createElement(Vg,Bg({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||i);return[o].concat(Mg(s))};var $g=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},Wg=r(1733),Xg=r.n(Wg),Yg=r(7002),qg=r.n(Yg),Qg=function(e){return null};Qg.displayName="Cell";var Zg=r(4065),Jg=r.n(Zg);function ex(e){return ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ex(e)}var tx=["valueAccessor"],rx=["data","dataKey","clockWise","id","textBreakAll"];function nx(e){return function(e){if(Array.isArray(e))return ax(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ax(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ax(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ax(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ix(){return ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ix.apply(this,arguments)}function sx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ox(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sx(Object(r),!0).forEach((function(t){lx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sx(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lx(e,t,r){return t=function(e){var t=function(e,t){if("object"!=ex(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ex(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ex(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cx(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var ux=function(e){return Array.isArray(e.value)?Jg()(e.value):e.value};function dx(e){var t=e.valueAccessor,r=void 0===t?ux:t,a=cx(e,tx),i=a.data,s=a.dataKey,o=a.clockWise,l=a.id,c=a.textBreakAll,u=cx(a,rx);return i&&i.length?n.createElement(Jn,{className:"recharts-label-list"},i.map((function(e,t){var a=en()(s)?r(e,t):Am(e&&e.payload,s),i=en()(l)?{}:{id:"".concat(l,"-").concat(t)};return n.createElement(Vg,ix({},En(e,!0),u,i,{parentViewBox:e.parentViewBox,value:a,textBreakAll:c,viewBox:Vg.parseViewBox(en()(o)?e:ox(ox({},e),{},{clockWise:o})),key:"label-".concat(t),index:t}))}))):null}dx.displayName="LabelList",dx.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var a=kn(e.children,dx).map((function(e,r){return(0,n.cloneElement)(e,{data:t,key:"labelList-".concat(r)})}));if(!r)return a;var i=function(e,t){return e?!0===e?n.createElement(dx,{key:"labelList-implicit",data:t}):n.isValidElement(e)||rn()(e)?n.createElement(dx,{key:"labelList-implicit",data:t,content:e}):an()(e)?n.createElement(dx,ix({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[i].concat(nx(a))};var hx=r(2322),fx=r.n(hx),px=r(6361),mx=r.n(px);function gx(e){return gx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gx(e)}function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xx.apply(this,arguments)}function bx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return yx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vx(Object(r),!0).forEach((function(t){wx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vx(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wx(e,t,r){return t=function(e){var t=function(e,t){if("object"!=gx(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=gx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gx(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jx=function(e,t,r,n,a){var i,s=r-n;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-s/2,",").concat(t+a),i+="L ".concat(e+r-s/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},kx={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Tx=function(e){var t=Nx(Nx({},kx),e),r=(0,n.useRef)(),a=bx((0,n.useState)(-1),2),i=a[0],s=a[1];(0,n.useEffect)((function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&s(e)}catch(t){}}),[]);var o=t.x,l=t.y,c=t.upperWidth,u=t.lowerWidth,d=t.height,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isUpdateAnimationActive;if(o!==+o||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var x=Ee("recharts-trapezoid",h);return g?n.createElement(pl,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:d,x:o,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:o,y:l},duration:p,animationEasing:f,isActive:g},(function(e){var a=e.upperWidth,s=e.lowerWidth,o=e.height,l=e.x,c=e.y;return n.createElement(pl,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},n.createElement("path",xx({},En(t,!0),{className:x,d:jx(l,c,a,s,o),ref:r})))})):n.createElement("g",null,n.createElement("path",xx({},En(t,!0),{className:x,d:jx(o,l,c,u,d)})))};function Sx(e){return Sx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sx(e)}function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ox.apply(this,arguments)}function _x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ex(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_x(Object(r),!0).forEach((function(t){Cx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cx(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Sx(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Sx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sx(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ax=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,i=e.sign,s=e.isExternal,o=e.cornerRadius,l=e.cornerIsExternal,c=o*(s?1:-1)+n,u=Math.asin(o/c)/Sg,d=l?a:a+i*u,h=l?a-i*u:a;return{center:_g(t,r,c,d),circleTangency:_g(t,r,n,d),lineTangency:_g(t,r,c*Math.cos(u*Sg),h),theta:u}},Ix=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.startAngle,s=function(e,t){return Br(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),o=i+s,l=_g(t,r,a,i),c=_g(t,r,a,o),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(i>o),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(n>0){var d=_g(t,r,n,i),h=_g(t,r,n,o);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(i<=o),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(r," Z");return u},Px={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Hx=function(e){var t=Ex(Ex({},Px),e),r=t.cx,a=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=t.className;if(s<i||u===d)return null;var f,p=Ee("recharts-sector",h),m=s-i,g=Xr(o,m,0,!0);return f=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,s=e.forceCornerRadius,o=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=Br(c-l),d=Ax({cx:t,cy:r,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:o}),h=d.circleTangency,f=d.lineTangency,p=d.theta,m=Ax({cx:t,cy:r,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:o}),g=m.circleTangency,x=m.lineTangency,b=m.theta,y=o?Math.abs(l-c):Math.abs(l-c)-p-b;if(y<0)return s?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):Ix({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var v="M ".concat(f.x,",").concat(f.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,"\n  ");if(n>0){var N=Ax({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),w=N.circleTangency,j=N.lineTangency,k=N.theta,T=Ax({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),S=T.circleTangency,O=T.lineTangency,_=T.theta,E=o?Math.abs(l-c):Math.abs(l-c)-k-_;if(E<0&&0===i)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(O.x,",").concat(O.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v}({cx:r,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):Ix({cx:r,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),n.createElement("path",Ox({},En(t,!0),{className:p,d:f,role:"img"}))},Dx=["option","shapeType","propTransformer","activeClassName","isActive"];function Mx(e){return Mx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mx(e)}function Lx(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rx(Object(r),!0).forEach((function(t){Ux(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rx(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ux(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Mx(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Mx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mx(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gx(e,t){return Fx(Fx({},t),e)}function Bx(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return n.createElement(Tl,r);case"trapezoid":return n.createElement(Tx,r);case"sector":return n.createElement(Hx,r);case"symbols":if(function(e){return"symbols"===e}(t))return n.createElement(Ei,r);break;default:return null}}function zx(e){var t,r=e.option,a=e.shapeType,i=e.propTransformer,s=void 0===i?Gx:i,o=e.activeClassName,l=void 0===o?"recharts-active-shape":o,c=e.isActive,u=Lx(e,Dx);if((0,n.isValidElement)(r))t=(0,n.cloneElement)(r,Fx(Fx({},u),function(e){return(0,n.isValidElement)(e)?e.props:e}(r)));else if(rn()(r))t=r(u);else if(fx()(r)&&!mx()(r)){var d=s(r,u);t=n.createElement(Bx,{shapeType:a,elementProps:d})}else{var h=u;t=n.createElement(Bx,{shapeType:a,elementProps:h})}return c?n.createElement(Jn,{className:l},t):t}function Vx(e,t){return null!=t&&"trapezoids"in e.props}function Kx(e,t){return null!=t&&"sectors"in e.props}function $x(e,t){return null!=t&&"points"in e.props}function Wx(e,t){var r,n,a=e.x===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.x)||e.x===t.x,i=e.y===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.y)||e.y===t.y;return a&&i}function Xx(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Yx(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function qx(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=function(e,t){var r;return Vx(e,t)?r="trapezoids":Kx(e,t)?r="sectors":$x(e,t)&&(r="points"),r}(r,t),i=function(e,t){var r,n;return Vx(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:Kx(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:$x(e,t)?t.payload:{}}(r,t),s=n.filter((function(e,n){var s=Cp()(i,e),o=r.props[a].filter((function(e){var n=function(e,t){var r;return Vx(e,t)?r=Wx:Kx(e,t)?r=Xx:$x(e,t)&&(r=Yx),r}(r,t);return n(e,t)})),l=r.props[a].indexOf(o[o.length-1]);return s&&n===l}));return n.indexOf(s[s.length-1])}var Qx=["x","y"];function Zx(e){return Zx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zx(e)}function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jx.apply(this,arguments)}function eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eb(Object(r),!0).forEach((function(t){rb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rb(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Zx(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Zx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zx(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nb(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ab(e,t){var r=e.x,n=e.y,a=nb(e,Qx),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return tb(tb(tb(tb(tb({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function ib(e){return n.createElement(zx,Jx({shapeType:"rectangle",propTransformer:ab,activeClassName:"recharts-active-bar"},e))}var sb,ob=["value","background"];function lb(e){return lb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lb(e)}function cb(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ub.apply(this,arguments)}function db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?db(Object(r),!0).forEach((function(t){bb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):db(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yb(n.key),n)}}function pb(e,t,r){return t=gb(t),function(e,t){if(t&&("object"===lb(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mb()?Reflect.construct(t,r||[],gb(e).constructor):t.apply(e,r))}function mb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mb=function(){return!!e})()}function gb(e){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gb(e)}function xb(e,t){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xb(e,t)}function bb(e,t,r){return(t=yb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yb(e){var t=function(e,t){if("object"!=lb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=lb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lb(t)?t:t+""}var vb=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return bb(e=pb(this,t,[].concat(n)),"state",{isAnimationFinished:!1}),bb(e,"id",Wr("recharts-bar-")),bb(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),bb(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xb(e,t)}(t,e),r=t,a=[{key:"renderRectanglesStatically",value:function(e){var t=this,r=this.props,a=r.shape,i=r.dataKey,s=r.activeIndex,o=r.activeBar,l=En(this.props,!1);return e&&e.map((function(e,r){var c=r===s,u=c?o:a,d=hb(hb(hb({},l),e),{},{isActive:c,option:u,index:r,dataKey:i,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return n.createElement(Jn,ub({className:"recharts-bar-rectangle"},pn(t.props,e,r),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value)}),n.createElement(ib,d))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,r=t.data,a=t.layout,i=t.isAnimationActive,s=t.animationBegin,o=t.animationDuration,l=t.animationEasing,c=t.animationId,u=this.state.prevData;return n.createElement(pl,{begin:s,duration:o,isActive:i,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var i=t.t,s=r.map((function(e,t){var r=u&&u[t];if(r){var n=qr(r.x,e.x),s=qr(r.y,e.y),o=qr(r.width,e.width),l=qr(r.height,e.height);return hb(hb({},e),{},{x:n(i),y:s(i),width:o(i),height:l(i)})}if("horizontal"===a){var c=qr(0,e.height)(i);return hb(hb({},e),{},{y:e.y+e.height-c,height:c})}var d=qr(0,e.width)(i);return hb(hb({},e),{},{width:d})}));return n.createElement(Jn,null,e.renderRectanglesStatically(s))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,n=this.state.prevData;return!(r&&t&&t.length)||n&&Cp()(n,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,r=t.data,a=t.dataKey,i=t.activeIndex,s=En(this.props.background,!1);return r.map((function(t,r){t.value;var o=t.background,l=cb(t,ob);if(!o)return null;var c=hb(hb(hb(hb(hb({},l),{},{fill:"#eee"},o),s),pn(e.props,t,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:a,index:r,className:"recharts-bar-background-rectangle"});return n.createElement(ib,ub({key:"background-bar-".concat(r),option:e.props.background,isActive:r===i},c))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.data,i=r.xAxis,s=r.yAxis,o=r.layout,l=kn(r.children,ym);if(!l)return null;var c="vertical"===o?a[0].height/2:a[0].width/2,u=function(e,t){var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Am(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return n.createElement(Jn,d,l.map((function(e){return n.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:a,xAxis:i,yAxis:s,layout:o,offset:c,dataPointFormatter:u})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,a=e.className,i=e.xAxis,s=e.yAxis,o=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,h=e.background,f=e.id;if(t||!r||!r.length)return null;var p=this.state.isAnimationFinished,m=Ee("recharts-bar",a),g=i&&i.allowDataOverflow,x=s&&s.allowDataOverflow,b=g||x,y=en()(f)?this.id:f;return n.createElement(Jn,{className:m},g||x?n.createElement("defs",null,n.createElement("clipPath",{id:"clipPath-".concat(y)},n.createElement("rect",{x:g?o:o-c/2,y:x?l:l-u/2,width:g?c:2*c,height:x?u:2*u}))):null,n.createElement(Jn,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(y,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(b,y),(!d||p)&&dx.renderCallByParent(this.props,r))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],a&&fb(r.prototype,a),i&&fb(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent);function Nb(e){return Nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nb(e)}function wb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sb(n.key),n)}}function jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jb(Object(r),!0).forEach((function(t){Tb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tb(e,t,r){return(t=Sb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sb(e){var t=function(e,t){if("object"!=Nb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Nb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nb(t)?t:t+""}sb=vb,bb(vb,"displayName","Bar"),bb(vb,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Sa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),bb(vb,"getComposedData",(function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null}(n,r);if(!f)return null;var p=t.layout,m=r.type.defaultProps,g=void 0!==m?hb(hb({},m),r.props):r.props,x=g.dataKey,b=g.children,y=g.minPointSize,v="horizontal"===p?s:i,N=c?v.scale.domain():null,w=function(e){var t=e.numericAxis,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]}({numericAxis:v}),j=kn(b,Qg),k=d.map((function(e,t){var n,d,h,m,g,b;c?n=function(e,t){if(!t||2!==t.length||!Vr(t[0])||!Vr(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Vr(e[0])||e[0]<r)&&(a[0]=r),(!Vr(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a}(c[u+t],N):(n=Am(e,x),Array.isArray(n)||(n=[w,n]));var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r,n){if("number"===typeof e)return e;var a="number"===typeof r;return a?e(r,n):(a||Kn(!1),t)}}(y,sb.defaultProps.minPointSize)(n[1],t);if("horizontal"===p){var k,T=[s.scale(n[0]),s.scale(n[1])],S=T[0],O=T[1];d=Xm({axis:i,ticks:o,bandSize:a,offset:f.offset,entry:e,index:t}),h=null!==(k=null!==O&&void 0!==O?O:S)&&void 0!==k?k:void 0,m=f.size;var _=S-O;if(g=Number.isNaN(_)?0:_,b={x:d,y:s.y,width:m,height:s.height},Math.abs(v)>0&&Math.abs(g)<Math.abs(v)){var E=Br(g||v)*(Math.abs(v)-Math.abs(g));h-=E,g+=E}}else{var C=[i.scale(n[0]),i.scale(n[1])],A=C[0],I=C[1];if(d=A,h=Xm({axis:s,ticks:l,bandSize:a,offset:f.offset,entry:e,index:t}),m=I-A,g=f.size,b={x:i.x,y:h,width:i.width,height:g},Math.abs(v)>0&&Math.abs(m)<Math.abs(v))m+=Br(m||v)*(Math.abs(v)-Math.abs(m))}return hb(hb(hb({},e),{},{x:d,y:h,width:m,height:g,value:c?n:n[1],payload:e,background:b},j&&j[t]&&j[t].props),{},{tooltipPayload:[tg(r,e)],tooltipPosition:{x:d+m/2,y:h+g/2}})}));return hb({data:k,layout:p},h)}));var Ob=function(e,t,r,n,a){var i=e.width,s=e.height,o=e.layout,l=e.children,c=Object.keys(t),u={left:r.left,leftMirror:r.left,right:i-r.right,rightMirror:i-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!Tn(l,vb);return c.reduce((function(i,s){var l,c,h,f,p,m=t[s],g=m.orientation,x=m.domain,b=m.padding,y=void 0===b?{}:b,v=m.mirror,N=m.reversed,w="".concat(g).concat(v?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var j=x[1]-x[0],k=1/0,T=m.categoricalDomain.sort();if(T.forEach((function(e,t){t>0&&(k=Math.min((e||0)-(T[t-1]||0),k))})),Number.isFinite(k)){var S=k/j,O="vertical"===m.layout?r.height:r.width;if("gap"===m.padding&&(l=S*O/2),"no-gap"===m.padding){var _=Xr(e.barCategoryGap,S*O),E=S*O/2;l=E-_-(E-_)/O*_}}}c="xAxis"===n?[r.left+(y.left||0)+(l||0),r.left+r.width-(y.right||0)-(l||0)]:"yAxis"===n?"horizontal"===o?[r.top+r.height-(y.bottom||0),r.top+(y.top||0)]:[r.top+(y.top||0)+(l||0),r.top+r.height-(y.bottom||0)-(l||0)]:m.range,N&&(c=[c[1],c[0]]);var C=Gm(m,a,d),A=C.scale,I=C.realScaleType;A.domain(x).range(c),zm(A);var P=$m(A,kb(kb({},m),{},{realScaleType:I}));"xAxis"===n?(p="top"===g&&!v||"bottom"===g&&v,h=r.left,f=u[w]-p*m.height):"yAxis"===n&&(p="left"===g&&!v||"right"===g&&v,h=u[w]-p*m.width,f=r.top);var H=kb(kb(kb({},m),P),{},{realScaleType:I,x:h,y:f,scale:A,width:"xAxis"===n?r.width:m.width,height:"yAxis"===n?r.height:m.height});return H.bandSize=Jm(H,P),m.hide||"xAxis"!==n?m.hide||(u[w]+=(p?-1:1)*H.width):u[w]+=(p?-1:1)*H.height,kb(kb({},i),{},Tb({},s,H))}),{})},_b=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return{x:Math.min(r,a),y:Math.min(n,i),width:Math.abs(a-r),height:Math.abs(i-n)}},Eb=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,r=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bandAware,n=t.position;if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}],n=[{key:"create",value:function(t){return new e(t)}}],r&&wb(t.prototype,r),n&&wb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();Tb(Eb,"EPS",1e-4);var Cb=function(e){var t=Object.keys(e).reduce((function(t,r){return kb(kb({},t),{},Tb({},r,Eb.create(e[r])))}),{});return kb(kb({},t),{},{apply:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.bandAware,a=r.position;return Xg()(e,(function(e,r){return t[r].apply(e,{bandAware:n,position:a})}))},isInRange:function(e){return qg()(e,(function(e,r){return t[r].isInRange(e)}))}})};function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ab.apply(this,arguments)}function Ib(e){return Ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ib(e)}function Pb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pb(Object(r),!0).forEach((function(t){Ub(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Db(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gb(n.key),n)}}function Mb(e,t,r){return t=Rb(t),function(e,t){if(t&&("object"===Ib(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Lb()?Reflect.construct(t,r||[],Rb(e).constructor):t.apply(e,r))}function Lb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Lb=function(){return!!e})()}function Rb(e){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rb(e)}function Fb(e,t){return Fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fb(e,t)}function Ub(e,t,r){return(t=Gb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gb(e){var t=function(e,t){if("object"!=Ib(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ib(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ib(t)?t:t+""}var Bb=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mb(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fb(e,t)}(t,e),r=t,a=[{key:"render",value:function(){var e=this.props,r=e.x,a=e.y,i=e.r,s=e.alwaysShow,o=e.clipPathId,l=Kr(r),c=Kr(a);if(Zr(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,i=Cb({x:n.scale,y:a.scale}),s=i.apply({x:t,y:r},{bandAware:!0});return $g(e,"discard")&&!i.isInRange(s)?null:s}(this.props);if(!u)return null;var d=u.x,h=u.y,f=this.props,p=f.shape,m=f.className,g=Hb(Hb({clipPath:$g(this.props,"hidden")?"url(#".concat(o,")"):void 0},En(this.props,!0)),{},{cx:d,cy:h});return n.createElement(Jn,{className:Ee("recharts-reference-dot",m)},t.renderDot(p,g),Vg.renderCallByParent(this.props,{x:d-i,y:h-i,width:2*i,height:2*i}))}}],a&&Db(r.prototype,a),i&&Db(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.Component);Ub(Bb,"displayName","ReferenceDot"),Ub(Bb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Ub(Bb,"renderDot",(function(e,t){return n.isValidElement(e)?n.cloneElement(e,t):rn()(e)?e(t):n.createElement(ns,Ab({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var zb=r(4597),Vb=r.n(zb),Kb=r(8990),$b=r.n(Kb),Wb=r(5797),Xb=r.n(Wb)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var Yb=(0,n.createContext)(void 0),qb=(0,n.createContext)(void 0),Qb=(0,n.createContext)(void 0),Zb=(0,n.createContext)({}),Jb=(0,n.createContext)(void 0),ey=(0,n.createContext)(0),ty=(0,n.createContext)(0),ry=function(e){var t=e.state,r=t.xAxisMap,a=t.yAxisMap,i=t.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=Xb(i);return n.createElement(Yb.Provider,{value:r},n.createElement(qb.Provider,{value:a},n.createElement(Zb.Provider,{value:i},n.createElement(Qb.Provider,{value:u},n.createElement(Jb.Provider,{value:s},n.createElement(ey.Provider,{value:c},n.createElement(ty.Provider,{value:l},o)))))))};var ny=function(e){var t=(0,n.useContext)(Yb);null==t&&Kn(!1);var r=t[e];return null==r&&Kn(!1),r},ay=function(e){var t=(0,n.useContext)(qb);null==t&&Kn(!1);var r=t[e];return null==r&&Kn(!1),r},iy=function(){return(0,n.useContext)(ty)},sy=function(){return(0,n.useContext)(ey)};function oy(e){return oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(e)}function ly(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gy(n.key),n)}}function cy(e,t,r){return t=dy(t),function(e,t){if(t&&("object"===oy(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uy()?Reflect.construct(t,r||[],dy(e).constructor):t.apply(e,r))}function uy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(uy=function(){return!!e})()}function dy(e){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dy(e)}function hy(e,t){return hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hy(e,t)}function fy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function py(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fy(Object(r),!0).forEach((function(t){my(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function my(e,t,r){return(t=gy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gy(e){var t=function(e,t){if("object"!=oy(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=oy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oy(t)?t:t+""}function xy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return by(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return by(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function by(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(this,arguments)}function vy(e){var t=e.x,r=e.y,a=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=(0,n.useContext)(Jb),d=ny(i),h=ay(s),f=(0,n.useContext)(Qb);if(!u||!f)return null;Zr(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,r,n,a,i,s,o,l){var c=a.x,u=a.y,d=a.width,h=a.height;if(r){var f=l.y,p=e.y.apply(f,{position:i});if($g(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===o?m.reverse():m}if(t){var g=l.x,x=e.x.apply(g,{position:i});if($g(l,"discard")&&!e.x.isInRange(x))return null;var b=[{x:x,y:u+h},{x:x,y:u}];return"top"===s?b.reverse():b}if(n){var y=l.segment.map((function(t){return e.apply(t,{position:i})}));return $g(l,"discard")&&Vb()(y,(function(t){return!e.isInRange(t)}))?null:y}return null}(Cb({x:d.scale,y:h.scale}),Kr(t),Kr(r),a&&2===a.length,f,e.position,d.orientation,h.orientation,e);if(!p)return null;var m=xy(p,2),g=m[0],x=g.x,b=g.y,y=m[1],v=y.x,N=y.y,w=py(py({clipPath:$g(e,"hidden")?"url(#".concat(u,")"):void 0},En(e,!0)),{},{x1:x,y1:b,x2:v,y2:N});return n.createElement(Jn,{className:Ee("recharts-reference-line",l)},function(e,t){return n.isValidElement(e)?n.cloneElement(e,t):rn()(e)?e(t):n.createElement("line",yy({},t,{className:"recharts-reference-line-line"}))}(o,w),Vg.renderCallByParent(e,function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return _b({x:t,y:r},{x:n,y:a})}({x1:x,y1:b,x2:v,y2:N})))}var Ny=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cy(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hy(e,t)}(t,e),r=t,(a=[{key:"render",value:function(){return n.createElement(vy,this.props)}}])&&ly(r.prototype,a),i&&ly(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.Component);function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(this,arguments)}function jy(e){return jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(e)}function ky(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ty(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ky(Object(r),!0).forEach((function(t){Ay(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ky(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Iy(n.key),n)}}function Oy(e,t,r){return t=Ey(t),function(e,t){if(t&&("object"===jy(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_y()?Reflect.construct(t,r||[],Ey(e).constructor):t.apply(e,r))}function _y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_y=function(){return!!e})()}function Ey(e){return Ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ey(e)}function Cy(e,t){return Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cy(e,t)}function Ay(e,t,r){return(t=Iy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iy(e){var t=function(e,t){if("object"!=jy(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=jy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jy(t)?t:t+""}my(Ny,"displayName","ReferenceLine"),my(Ny,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var Py=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Oy(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cy(e,t)}(t,e),r=t,a=[{key:"render",value:function(){var e=this.props,r=e.x1,a=e.x2,i=e.y1,s=e.y2,o=e.className,l=e.alwaysShow,c=e.clipPathId;Zr(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Kr(r),d=Kr(a),h=Kr(i),f=Kr(s),p=this.props.shape;if(!u&&!d&&!h&&!f&&!p)return null;var m=function(e,t,r,n,a){var i=a.x1,s=a.x2,o=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var d=Cb({x:c.scale,y:u.scale}),h={x:e?d.x.apply(i,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(o,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:n?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!$g(a,"discard")||d.isInRange(h)&&d.isInRange(f)?_b(h,f):null}(u,d,h,f,this.props);if(!m&&!p)return null;var g=$g(this.props,"hidden")?"url(#".concat(c,")"):void 0;return n.createElement(Jn,{className:Ee("recharts-reference-area",o)},t.renderRect(p,Ty(Ty({clipPath:g},En(this.props,!0)),m)),Vg.renderCallByParent(this.props,m))}}],a&&Sy(r.prototype,a),i&&Sy(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.Component);function Hy(e){return function(e){if(Array.isArray(e))return Dy(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Dy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Ay(Py,"displayName","ReferenceArea"),Ay(Py,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),Ay(Py,"renderRect",(function(e,t){return n.isValidElement(e)?n.cloneElement(e,t):rn()(e)?e(t):n.createElement(Tl,wy({},t,{className:"recharts-reference-area-rect"}))}));var My=function(e,t,r,n,a){var i=kn(e,Ny),s=kn(e,Bb),o=[].concat(Hy(i),Hy(s)),l=kn(e,Py),c="".concat(n,"Id"),u=n[0],d=t;if(o.length&&(d=o.reduce((function(e,t){if(t.props[c]===r&&$g(t.props,"extendDomain")&&Vr(t.props[u])){var n=t.props[u];return[Math.min(e[0],n),Math.max(e[1],n)]}return e}),d)),l.length){var h="".concat(u,"1"),f="".concat(u,"2");d=l.reduce((function(e,t){if(t.props[c]===r&&$g(t.props,"extendDomain")&&Vr(t.props[h])&&Vr(t.props[f])){var n=t.props[h],a=t.props[f];return[Math.min(e[0],n,a),Math.max(e[1],n,a)]}return e}),d)}return a&&a.length&&(d=a.reduce((function(e,t){return Vr(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},Ly=r(7283),Ry=new(r.n(Ly)()),Fy="recharts.syncMouseEvents";function Uy(e){return Uy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(e)}function Gy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zy(n.key),n)}}function By(e,t,r){return(t=zy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zy(e){var t=function(e,t){if("object"!=Uy(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Uy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Uy(t)?t:t+""}var Vy=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),By(this,"activeIndex",0),By(this,"coordinateList",[]),By(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,r=e.coordinateList,n=void 0===r?null:r,a=e.container,i=void 0===a?null:a,s=e.layout,o=void 0===s?null:s,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==n&&void 0!==n?n:this.coordinateList)&&void 0!==t?t:[],this.container=null!==i&&void 0!==i?i:this.container,this.layout=null!==o&&void 0!==o?o:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var r=this.container.getBoundingClientRect(),n=r.x,a=r.y,i=r.height,s=this.coordinateList[this.activeIndex].coordinate,o=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=n+s+o,u=a+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&Gy(e.prototype,t),r&&Gy(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function Ky(){}function $y(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Wy(e){this._context=e}function Xy(e){this._context=e}function Yy(e){this._context=e}Wy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$y(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$y(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Xy.prototype={areaStart:Ky,areaEnd:Ky,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$y(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Yy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$y(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class qy{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function Qy(e){this._context=e}function Zy(e){this._context=e}function Jy(e){return new Zy(e)}function ev(e){return e<0?-1:1}function tv(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(ev(i)+ev(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function rv(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function nv(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function av(e){this._context=e}function iv(e){this._context=new sv(e)}function sv(e){this._context=e}function ov(e){this._context=e}function lv(e){var t,r,n=e.length-1,a=new Array(n),i=new Array(n),s=new Array(n);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,s[t]-=r*s[t-1];for(a[n-1]=s[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function cv(e,t){this._context=e,this._t=t}function uv(e){return e[0]}function dv(e){return e[1]}function hv(e,t){var r=hi(!0),n=null,a=Jy,i=null,s=yi(o);function o(o){var l,c,u,d=(o=yp(o)).length,h=!1;for(null==n&&(i=a(u=s())),l=0;l<=d;++l)!(l<d&&r(c=o[l],l,o))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(c,l,o),+t(c,l,o));if(u)return i=null,u+""||null}return e="function"===typeof e?e:void 0===e?uv:hi(e),t="function"===typeof t?t:void 0===t?dv:hi(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:hi(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:hi(+e),o):t},o.defined=function(e){return arguments.length?(r="function"===typeof e?e:hi(!!e),o):r},o.curve=function(e){return arguments.length?(a=e,null!=n&&(i=a(n)),o):a},o.context=function(e){return arguments.length?(null==e?n=i=null:i=a(n=e),o):n},o}function fv(e,t,r){var n=null,a=hi(!0),i=null,s=Jy,o=null,l=yi(c);function c(c){var u,d,h,f,p,m=(c=yp(c)).length,g=!1,x=new Array(m),b=new Array(m);for(null==i&&(o=s(p=l())),u=0;u<=m;++u){if(!(u<m&&a(f=c[u],u,c))===g)if(g=!g)d=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=u-1;h>=d;--h)o.point(x[h],b[h]);o.lineEnd(),o.areaEnd()}g&&(x[u]=+e(f,u,c),b[u]=+t(f,u,c),o.point(n?+n(f,u,c):x[u],r?+r(f,u,c):b[u]))}if(p)return o=null,p+""||null}function u(){return hv().defined(a).curve(s).context(i)}return e="function"===typeof e?e:void 0===e?uv:hi(+e),t="function"===typeof t?t:hi(void 0===t?0:+t),r="function"===typeof r?r:void 0===r?dv:hi(+r),c.x=function(t){return arguments.length?(e="function"===typeof t?t:hi(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:hi(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:hi(+e),c):n},c.y=function(e){return arguments.length?(t="function"===typeof e?e:hi(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:hi(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:hi(+e),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:hi(!!e),c):a},c.curve=function(e){return arguments.length?(s=e,null!=i&&(o=s(i)),c):s},c.context=function(e){return arguments.length?(null==e?i=o=null:o=s(i=e),c):i},c}function pv(e){return pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pv(e)}function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mv.apply(this,arguments)}function gv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gv(Object(r),!0).forEach((function(t){bv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bv(e,t,r){return t=function(e){var t=function(e,t){if("object"!=pv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=pv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Qy.prototype={areaStart:Ky,areaEnd:Ky,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Zy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},av.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nv(this,this._t0,rv(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,nv(this,rv(this,r=tv(this,e,t)),r);break;default:nv(this,this._t0,r=tv(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(iv.prototype=Object.create(av.prototype)).point=function(e,t){av.prototype.point.call(this,t,e)},sv.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}},ov.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=lv(e),a=lv(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var yv={curveBasisClosed:function(e){return new Xy(e)},curveBasisOpen:function(e){return new Yy(e)},curveBasis:function(e){return new Wy(e)},curveBumpX:function(e){return new qy(e,!0)},curveBumpY:function(e){return new qy(e,!1)},curveLinearClosed:function(e){return new Qy(e)},curveLinear:Jy,curveMonotoneX:function(e){return new av(e)},curveMonotoneY:function(e){return new iv(e)},curveNatural:function(e){return new ov(e)},curveStep:function(e){return new cv(e,.5)},curveStepAfter:function(e){return new cv(e,1)},curveStepBefore:function(e){return new cv(e,0)}},vv=function(e){return e.x===+e.x&&e.y===+e.y},Nv=function(e){return e.x},wv=function(e){return e.y},jv=function(e){var t,r=e.type,n=void 0===r?"linear":r,a=e.points,i=void 0===a?[]:a,s=e.baseLine,o=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(rn()(e))return e;var r="curve".concat(za()(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?yv[r]||Jy:yv["".concat(r).concat("vertical"===t?"Y":"X")]}(n,o),d=c?i.filter((function(e){return vv(e)})):i;if(Array.isArray(s)){var h=c?s.filter((function(e){return vv(e)})):s,f=d.map((function(e,t){return xv(xv({},e),{},{base:h[t]})}));return t="vertical"===o?fv().y(wv).x1(Nv).x0((function(e){return e.base.x})):fv().x(Nv).y1(wv).y0((function(e){return e.base.y})),t.defined(vv).curve(u),t(f)}return(t="vertical"===o&&Vr(s)?fv().y(wv).x1(Nv).x0(s):Vr(s)?fv().x(Nv).y1(wv).y0(s):hv().x(Nv).y(wv)).defined(vv).curve(u),t(d)},kv=function(e){var t=e.className,r=e.points,a=e.path,i=e.pathRef;if((!r||!r.length)&&!a)return null;var s=r&&r.length?jv(e):a;return n.createElement("path",mv({},En(e,!1),fn(e),{className:Ee("recharts-curve",t),d:s,ref:i}))};function Tv(e){return Tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(e)}var Sv=["x","y","top","left","width","height","className"];function Ov(){return Ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ov.apply(this,arguments)}function _v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ev(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Tv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Tv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cv(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Av=function(e,t,r,n,a,i){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r)},Iv=function(e){var t=e.x,r=void 0===t?0:t,a=e.y,i=void 0===a?0:a,s=e.top,o=void 0===s?0:s,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,h=e.height,f=void 0===h?0:h,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_v(Object(r),!0).forEach((function(t){Ev(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({x:r,y:i,top:o,left:c,width:d,height:f},Cv(e,Sv));return Vr(r)&&Vr(i)&&Vr(d)&&Vr(f)&&Vr(o)&&Vr(c)?n.createElement("path",Ov({},En(m,!0),{className:Ee("recharts-cross",p),d:Av(r,i,d,f,o,c)})):null};function Pv(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle;return{points:[_g(t,r,n,a),_g(t,r,n,i)],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Hv(e,t,r){var n,a,i,s;if("horizontal"===e)i=n=t.x,a=r.top,s=r.top+r.height;else if("vertical"===e)s=a=t.y,n=r.left,i=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Pv(t);var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=_g(o,l,c,d),f=_g(o,l,u,d);n=h.x,a=h.y,i=f.x,s=f.y}return[{x:n,y:a},{x:i,y:s}]}function Dv(e){return Dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(e)}function Mv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mv(Object(r),!0).forEach((function(t){Rv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rv(e,t,r){return t=function(e){var t=function(e,t){if("object"!=Dv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Dv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fv(e){var t,r,a,i=e.element,s=e.tooltipEventType,o=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=null!==(t=i.props.cursor)&&void 0!==t?t:null===(r=i.type.defaultProps)||void 0===r?void 0:r.cursor;if(!i||!m||!o||!l||"ScatterChart"!==p&&"axis"!==s)return null;var g=kv;if("ScatterChart"===p)a=l,g=Iv;else if("BarChart"===p)a=function(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-a,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(f,l,u,h),g=Tl;else if("radial"===f){var x=Pv(l),b=x.cx,y=x.cy,v=x.radius;a={cx:b,cy:y,startAngle:x.startAngle,endAngle:x.endAngle,innerRadius:v,outerRadius:v},g=Hx}else a={points:Hv(f,l,u)},g=kv;var N=Lv(Lv(Lv(Lv({stroke:"#ccc",pointerEvents:"none"},u),a),En(m,!1)),{},{payload:c,payloadIndex:d,className:Ee("recharts-tooltip-cursor",m.className)});return(0,n.isValidElement)(m)?(0,n.cloneElement)(m,N):(0,n.createElement)(g,N)}var Uv=["item"],Gv=["children","className","width","height","style","compact","title","desc"];function Bv(e){return Bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(e)}function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zv.apply(this,arguments)}function Vv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||Zv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kv(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nN(n.key),n)}}function Wv(e,t,r){return t=Yv(t),function(e,t){if(t&&("object"===Bv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Xv()?Reflect.construct(t,r||[],Yv(e).constructor):t.apply(e,r))}function Xv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xv=function(){return!!e})()}function Yv(e){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yv(e)}function qv(e,t){return qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qv(e,t)}function Qv(e){return function(e){if(Array.isArray(e))return Jv(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zv(e,t){if(e){if("string"===typeof e)return Jv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jv(e,t):void 0}}function Jv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eN(Object(r),!0).forEach((function(t){rN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rN(e,t,r){return(t=nN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nN(e){var t=function(e,t){if("object"!=Bv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Bv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bv(t)?t:t+""}var aN={xAxis:["bottom","top"],yAxis:["left","right"]},iN={width:"100%",height:"100%"},sN={x:0,y:0};function oN(e){return e}var lN=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,i=(null!==r&&void 0!==r?r:[]).reduce((function(e,t){var r=t.props.data;return r&&r.length?[].concat(Qv(e),Qv(r)):e}),[]);return i.length>0?i:e&&e.length&&Vr(n)&&Vr(a)?e.slice(n,a+1):[]};function cN(e){return"number"===e?[0,"auto"]:void 0}var uN=function(e,t,r,n){var a=e.graphicalItems,i=e.tooltipAxis,s=lN(t,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce((function(a,o){var l,c,u=null!==(l=o.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory)?c=Qr(void 0===u?s:u,i.dataKey,n):c=u&&u[r]||s[r];return c?[].concat(Qv(a),[tg(o,c)]):a}),[])},dN=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,r),s=e.orderedTooltipTicks,o=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,s=null!==(t=null===r||void 0===r?void 0:r.length)&&void 0!==t?t:0;if(s<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var o=a.range,l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,u=n[l].coordinate,d=l>=s-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(Br(u-c)!==Br(d-u)){var f=[];if(Br(d-u)===Br(o[1]-o[0])){h=d;var p=u+o[1]-o[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+o[1]-o[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){i=n[l].index;break}}else{var x=Math.min(c,d),b=Math.max(c,d);if(e>(x+u)/2&&e<=(b+u)/2){i=n[l].index;break}}}else for(var y=0;y<s;y++)if(0===y&&e<=(r[y].coordinate+r[y+1].coordinate)/2||y>0&&y<s-1&&e>(r[y].coordinate+r[y-1].coordinate)/2&&e<=(r[y].coordinate+r[y+1].coordinate)/2||y===s-1&&e>(r[y].coordinate+r[y-1].coordinate)/2){i=r[y].index;break}return i}(i,s,l,o);if(c>=0&&l){var u=l[c]&&l[c].value,d=uN(e,t,c,u),h=function(e,t,r,n){var a=t.find((function(e){return e&&e.index===r}));if(a){if("horizontal"===e)return{x:a.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,s=n.radius;return tN(tN(tN({},n),_g(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,l=n.angle;return tN(tN(tN({},n),_g(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return sN}(r,s,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},hN=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,i=t.axisIdKey,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=Mm(c,a);return r.reduce((function(t,r){var f,p=void 0!==r.type.defaultProps?tN(tN({},r.type.defaultProps),r.props):r.props,m=p.type,g=p.dataKey,x=p.allowDataOverflow,b=p.allowDuplicatedCategory,y=p.scale,v=p.ticks,N=p.includeHidden,w=p[i];if(t[w])return t;var j,k,T,S=lN(e.data,{graphicalItems:n.filter((function(e){var t;return(i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i])===w})),dataStartIndex:o,dataEndIndex:l}),O=S.length;(function(e,t,r){if("number"===r&&!0===t&&Array.isArray(e)){var n=null===e||void 0===e?void 0:e[0],a=null===e||void 0===e?void 0:e[1];if(n&&a&&Vr(n)&&Vr(a))return!0}return!1})(p.domain,x,m)&&(j=Zm(p.domain,null,x),!h||"number"!==m&&"auto"===y||(T=Im(S,g,"category")));var _=cN(m);if(!j||0===j.length){var E,C=null!==(E=p.domain)&&void 0!==E?E:_;if(g){if(j=Im(S,g,m),"category"===m&&h){var A=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1}(j);b&&A?(k=j,j=Gn()(0,O)):b||(j=eg(C,j,r).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(Qv(e),[t])}),[]))}else if("category"===m)j=b?j.filter((function(e){return""!==e&&!en()(e)})):eg(C,j,r).reduce((function(e,t){return e.indexOf(t)>=0||""===t||en()(t)?e:[].concat(Qv(e),[t])}),[]);else if("number"===m){var I=function(e,t,r,n,a){var i=t.map((function(t){return Hm(e,t,r,a,n)})).filter((function(e){return!en()(e)}));return i&&i.length?i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(S,n.filter((function(e){var t,r,n=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===w&&(N||!a)})),g,a,c);I&&(j=I)}!h||"number"!==m&&"auto"===y||(T=Im(S,g,"category"))}else j=h?Gn()(0,O):s&&s[w]&&s[w].hasStack&&"number"===m?"expand"===d?[0,1]:Ym(s[w].stackGroups,o,l):Dm(S,n.filter((function(e){var t=i in e.props?e.props[i]:e.type.defaultProps[i],r="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===w&&(N||!r)})),m,c,!0);if("number"===m)j=My(u,j,w,a,v),C&&(j=Zm(C,j,x));else if("category"===m&&C){var P=C;j.every((function(e){return P.indexOf(e)>=0}))&&(j=P)}}return tN(tN({},t),{},rN({},w,tN(tN({},p),{},{axisType:a,domain:j,categoricalDomain:T,duplicateDomain:k,originalDomain:null!==(f=p.domain)&&void 0!==f?f:_,isCategorical:h,layout:c})))}),{})},fN=function(e,t){var r=t.axisType,n=void 0===r?"xAxis":r,a=t.AxisComp,i=t.graphicalItems,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(n,"Id"),d=kn(c,a),h={};return d&&d.length?h=hN(e,{axes:d,graphicalItems:i,axisType:n,axisIdKey:u,stackGroups:s,dataStartIndex:o,dataEndIndex:l}):i&&i.length&&(h=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,i=t.axisIdKey,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=lN(e.data,{graphicalItems:r,dataStartIndex:o,dataEndIndex:l}),h=d.length,f=Mm(c,a),p=-1;return r.reduce((function(e,t){var m,g=(void 0!==t.type.defaultProps?tN(tN({},t.type.defaultProps),t.props):t.props)[i],x=cN("number");return e[g]?e:(p++,f?m=Gn()(0,h):s&&s[g]&&s[g].hasStack?(m=Ym(s[g].stackGroups,o,l),m=My(u,m,g,a)):(m=Zm(x,Dm(d,r.filter((function(e){var t,r,n=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===g&&!a})),"number",c),n.defaultProps.allowDataOverflow),m=My(u,m,g,a)),tN(tN({},e),{},rN({},g,tN(tN({axisType:a},n.defaultProps),{},{hide:!0,orientation:Fr()(aN,"".concat(a,".").concat(p%2),null),domain:m,originalDomain:x,isCategorical:f,layout:c}))))}),{})}(e,{Axis:a,graphicalItems:i,axisType:n,axisIdKey:u,stackGroups:s,dataStartIndex:o,dataEndIndex:l})),h},pN=function(e){var t=e.children,r=e.defaultShowTooltip,n=Tn(t,yg),a=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(i=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(r)}},mN=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},gN=function(e,t){var r=e.props,n=(e.graphicalItems,e.xAxisMap),a=void 0===n?{}:n,i=e.yAxisMap,s=void 0===i?{}:i,o=r.width,l=r.height,c=r.children,u=r.margin||{},d=Tn(c,yg),h=Tn(c,ts),f=Object.keys(s).reduce((function(e,t){var r=s[t],n=r.orientation;return r.mirror||r.hide?e:tN(tN({},e),{},rN({},n,e[n]+r.width))}),{left:u.left||0,right:u.right||0}),p=Object.keys(a).reduce((function(e,t){var r=a[t],n=r.orientation;return r.mirror||r.hide?e:tN(tN({},e),{},rN({},n,Fr()(e,"".concat(n))+r.height))}),{top:u.top||0,bottom:u.bottom||0}),m=tN(tN({},p),f),g=m.bottom;d&&(m.bottom+=d.props.height||yg.defaultProps.height),h&&t&&(m=function(e,t,r,n){var a=r.children,i=r.width,s=r.margin,o=i-(s.left||0)-(s.right||0),l=km({children:a,legendWidth:o});if(l){var c=n||{},u=c.width,d=c.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&Vr(e[h]))return Em(Em({},e),{},Cm({},h,e[h]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&Vr(e[f]))return Em(Em({},e),{},Cm({},f,e[f]+(d||0)))}return e}(m,0,r,t));var x=o-m.left-m.right,b=l-m.top-m.bottom;return tN(tN({brushBottom:g},m),{},{width:Math.max(x,0),height:Math.max(b,0)})},xN=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},bN=function(e){var t=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,i=void 0===a?"axis":a,s=e.validateTooltipEventTypes,o=void 0===s?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var r=t.graphicalItems,n=t.stackGroups,a=t.offset,i=t.updateId,s=t.dataStartIndex,o=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=mN(u),m=p.numericAxisName,g=p.cateAxisName,x=function(e){return!(!e||!e.length)&&e.some((function(e){var t=vn(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(r),b=[];return r.forEach((function(r,p){var y=lN(e.data,{graphicalItems:[r],dataStartIndex:s,dataEndIndex:o}),v=void 0!==r.type.defaultProps?tN(tN({},r.type.defaultProps),r.props):r.props,N=v.dataKey,w=v.maxBarSize,j=v["".concat(m,"Id")],k=v["".concat(g,"Id")],T=l.reduce((function(e,r){var n=t["".concat(r.axisType,"Map")],a=v["".concat(r.axisType,"Id")];n&&n[a]||"zAxis"===r.axisType||Kn(!1);var i=n[a];return tN(tN({},e),{},rN(rN({},r.axisType,i),"".concat(r.axisType,"Ticks"),Rm(i)))}),{}),S=T[g],O=T["".concat(g,"Ticks")],_=n&&n[j]&&n[j].hasStack&&function(e,t){var r,n=(null!==(r=e.type)&&void 0!==r&&r.defaultProps?Em(Em({},e.type.defaultProps),e.props):e.props).stackId;if(Kr(n)){var a=t[n];if(a){var i=a.items.indexOf(e);return i>=0?a.stackedData[i]:null}}return null}(r,n[j].stackGroups),E=vn(r.type).indexOf("Bar")>=0,C=Jm(S,O),A=[],I=x&&function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=void 0===n?{}:n;if(!a)return{};for(var i={},s=Object.keys(a),o=0,l=s.length;o<l;o++)for(var c=a[s[o]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var f=c[u[d]],p=f.items,m=f.cateAxisId,g=p.filter((function(e){return vn(e.type).indexOf("Bar")>=0}));if(g&&g.length){var x=g[0].type.defaultProps,b=void 0!==x?Em(Em({},x),g[0].props):g[0].props,y=b.barSize,v=b[m];i[v]||(i[v]=[]);var N=en()(y)?t:y;i[v].push({item:g[0],stackList:g.slice(1),barSize:en()(N)?void 0:Xr(N,r,0)})}}return i}({barSize:c,stackGroups:n,totalSize:xN(T,g)});if(E){var P,H,D=en()(w)?f:w,M=null!==(P=null!==(H=Jm(S,O,!0))&&void 0!==H?H:D)&&void 0!==P?P:0;A=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,i=void 0===a?[]:a,s=e.maxBarSize,o=i.length;if(o<1)return null;var l,c=Xr(t,n,0,!0),u=[];if(i[0].barSize===+i[0].barSize){var d=!1,h=n/o,f=i.reduce((function(e,t){return e+t.barSize||0}),0);(f+=(o-1)*c)>=n&&(f-=(o-1)*c,c=0),f>=n&&h>0&&(d=!0,f=o*(h*=.9));var p={offset:((n-f)/2|0)-c,size:0};l=i.reduce((function(e,t){var r={item:t.item,position:{offset:p.offset+p.size+c,size:d?h:t.barSize}},n=[].concat(Sm(e),[r]);return p=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){n.push({item:e,position:p})})),n}),u)}else{var m=Xr(r,n,0,!0);n-2*m-(o-1)*c<=0&&(c=0);var g=(n-2*m-(o-1)*c)/o;g>1&&(g>>=0);var x=s===+s?Math.min(g,s):g;l=i.reduce((function(e,t,r){var n=[].concat(Sm(e),[{item:t.item,position:{offset:m+(g+c)*r+(g-x)/2,size:x}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){n.push({item:e,position:n[n.length-1].position})})),n}),u)}return l}({barGap:d,barCategoryGap:h,bandSize:M!==C?M:C,sizeList:I[k],maxBarSize:D}),M!==C&&(A=A.map((function(e){return tN(tN({},e),{},{position:tN(tN({},e.position),{},{offset:e.position.offset-M/2})})})))}var L,R,F=r&&r.type&&r.type.getComposedData;F&&b.push({props:tN(tN({},F(tN(tN({},T),{},{displayedData:y,props:e,dataKey:N,item:r,bandSize:C,barPosition:A,offset:a,stackedData:_,layout:u,dataStartIndex:s,dataEndIndex:o}))),{},rN(rN(rN({key:r.key||"item-".concat(p)},m,T[m]),g,T[g]),"animationId",i)),childIndex:(L=r,R=e.children,jn(R).indexOf(L)),item:r})})),b},f=function(e,n){var a=e.props,i=e.dataStartIndex,s=e.dataEndIndex,o=e.updateId;if(!Sn({props:a}))return null;var c=a.children,d=a.layout,f=a.stackOffset,p=a.data,m=a.reverseStackOrder,g=mN(d),x=g.numericAxisName,b=g.cateAxisName,y=kn(c,r),v=function(e,t,r,n,a,i){if(!e)return null;var s=(i?t.reverse():t).reduce((function(e,t){var a,i=null!==(a=t.type)&&void 0!==a&&a.defaultProps?Em(Em({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(i.hide)return e;var o=i[r],l=e[o]||{hasStack:!1,stackGroups:{}};if(Kr(s)){var c=l.stackGroups[s]||{numericAxisId:r,cateAxisId:n,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[s]=c}else l.stackGroups[Wr("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[t]};return Em(Em({},e),{},Cm({},o,l))}),{});return Object.keys(s).reduce((function(t,i){var o=s[i];return o.hasStack&&(o.stackGroups=Object.keys(o.stackGroups).reduce((function(t,i){var s=o.stackGroups[i];return Em(Em({},t),{},Cm({},i,{numericAxisId:r,cateAxisId:n,items:s.items,stackedData:Km(e,s.items,a)}))}),{})),Em(Em({},t),{},Cm({},i,o))}),{})}(p,y,"".concat(x,"Id"),"".concat(b,"Id"),f,m),N=l.reduce((function(e,t){var r="".concat(t.axisType,"Map");return tN(tN({},e),{},rN({},r,fN(a,tN(tN({},t),{},{graphicalItems:y,stackGroups:t.axisType===x&&v,dataStartIndex:i,dataEndIndex:s}))))}),{}),w=gN(tN(tN({},N),{},{props:a,graphicalItems:y}),null===n||void 0===n?void 0:n.legendBBox);Object.keys(N).forEach((function(e){N[e]=u(a,N[e],w,e.replace("Map",""),t)}));var j=function(e){var t=Yr(e),r=Rm(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:zn()(r,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:Jm(t,r)}}(N["".concat(b,"Map")]),k=h(a,tN(tN({},N),{},{dataStartIndex:i,dataEndIndex:s,updateId:o,graphicalItems:y,stackGroups:v,offset:w}));return tN(tN({formattedGraphicalItems:k,graphicalItems:y,offset:w,stackGroups:v},j),N)},p=function(e){function r(e){var a,i,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),rN(s=Wv(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),rN(s,"accessibilityManager",new Vy),rN(s,"handleLegendBBoxUpdate",(function(e){if(e){var t=s.state,r=t.dataStartIndex,n=t.dataEndIndex,a=t.updateId;s.setState(tN({legendBBox:e},f({props:s.props,dataStartIndex:r,dataEndIndex:n,updateId:a},tN(tN({},s.state),{},{legendBBox:e}))))}})),rN(s,"handleReceiveSyncEvent",(function(e,t,r){if(s.props.syncId===e){if(r===s.eventEmitterSymbol&&"function"!==typeof s.props.syncMethod)return;s.applySyncEvent(t)}})),rN(s,"handleBrushChange",(function(e){var t=e.startIndex,r=e.endIndex;if(t!==s.state.dataStartIndex||r!==s.state.dataEndIndex){var n=s.state.updateId;s.setState((function(){return tN({dataStartIndex:t,dataEndIndex:r},f({props:s.props,dataStartIndex:t,dataEndIndex:r,updateId:n},s.state))})),s.triggerSyncEvent({dataStartIndex:t,dataEndIndex:r})}})),rN(s,"handleMouseEnter",(function(e){var t=s.getMouseInfo(e);if(t){var r=tN(tN({},t),{},{isTooltipActive:!0});s.setState(r),s.triggerSyncEvent(r);var n=s.props.onMouseEnter;rn()(n)&&n(r,e)}})),rN(s,"triggeredAfterMouseMove",(function(e){var t=s.getMouseInfo(e),r=t?tN(tN({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};s.setState(r),s.triggerSyncEvent(r);var n=s.props.onMouseMove;rn()(n)&&n(r,e)})),rN(s,"handleItemMouseEnter",(function(e){s.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),rN(s,"handleItemMouseLeave",(function(){s.setState((function(){return{isTooltipActive:!1}}))})),rN(s,"handleMouseMove",(function(e){e.persist(),s.throttleTriggeredAfterMouseMove(e)})),rN(s,"handleMouseLeave",(function(e){s.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};s.setState(t),s.triggerSyncEvent(t);var r=s.props.onMouseLeave;rn()(r)&&r(t,e)})),rN(s,"handleOuterEvent",(function(e){var t,r=function(e){var t=e&&e.type;return t&&yn[t]?yn[t]:null}(e),n=Fr()(s.props,"".concat(r));r&&rn()(n)&&n(null!==(t=/.*touch.*/i.test(r)?s.getMouseInfo(e.changedTouches[0]):s.getMouseInfo(e))&&void 0!==t?t:{},e)})),rN(s,"handleClick",(function(e){var t=s.getMouseInfo(e);if(t){var r=tN(tN({},t),{},{isTooltipActive:!0});s.setState(r),s.triggerSyncEvent(r);var n=s.props.onClick;rn()(n)&&n(r,e)}})),rN(s,"handleMouseDown",(function(e){var t=s.props.onMouseDown;rn()(t)&&t(s.getMouseInfo(e),e)})),rN(s,"handleMouseUp",(function(e){var t=s.props.onMouseUp;rn()(t)&&t(s.getMouseInfo(e),e)})),rN(s,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),rN(s,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.handleMouseDown(e.changedTouches[0])})),rN(s,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.handleMouseUp(e.changedTouches[0])})),rN(s,"triggerSyncEvent",(function(e){void 0!==s.props.syncId&&Ry.emit(Fy,s.props.syncId,e,s.eventEmitterSymbol)})),rN(s,"applySyncEvent",(function(e){var t=s.props,r=t.layout,n=t.syncMethod,a=s.state.updateId,i=e.dataStartIndex,o=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)s.setState(tN({dataStartIndex:i,dataEndIndex:o},f({props:s.props,dataStartIndex:i,dataEndIndex:o,updateId:a},s.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=s.state,h=d.offset,p=d.tooltipTicks;if(!h)return;if("function"===typeof n)u=n(p,e);else if("value"===n){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var g=tN(tN({},h),{},{x:h.left,y:h.top}),x=Math.min(l,g.x+g.width),b=Math.min(c,g.y+g.height),y=p[u]&&p[u].value,v=uN(s.state,s.props.data,u),N=p[u]?{x:"horizontal"===r?p[u].coordinate:x,y:"horizontal"===r?b:p[u].coordinate}:sN;s.setState(tN(tN({},e),{},{activeLabel:y,activeCoordinate:N,activePayload:v,activeTooltipIndex:u}))}else s.setState(e)})),rN(s,"renderCursor",(function(e){var r,a=s.state,i=a.isTooltipActive,o=a.activeCoordinate,l=a.activePayload,c=a.offset,u=a.activeTooltipIndex,d=a.tooltipAxisBandSize,h=s.getTooltipEventType(),f=null!==(r=e.props.active)&&void 0!==r?r:i,p=s.props.layout,m=e.key||"_recharts-cursor";return n.createElement(Fv,{key:m,activeCoordinate:o,activePayload:l,activeTooltipIndex:u,chartName:t,element:e,isActive:f,layout:p,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})})),rN(s,"renderPolarAxis",(function(e,t,r){var a=Fr()(e,"type.axisType"),i=Fr()(s.state,"".concat(a,"Map")),o=e.type.defaultProps,l=void 0!==o?tN(tN({},o),e.props):e.props,c=i&&i[l["".concat(a,"Id")]];return(0,n.cloneElement)(e,tN(tN({},c),{},{className:Ee(a,c.className),key:e.key||"".concat(t,"-").concat(r),ticks:Rm(c,!0)}))})),rN(s,"renderPolarGrid",(function(e){var t=e.props,r=t.radialLines,a=t.polarAngles,i=t.polarRadius,o=s.state,l=o.radiusAxisMap,c=o.angleAxisMap,u=Yr(l),d=Yr(c),h=d.cx,f=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,n.cloneElement)(e,{polarAngles:Array.isArray(a)?a:Rm(d,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(i)?i:Rm(u,!0).map((function(e){return e.coordinate})),cx:h,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:r})})),rN(s,"renderLegend",(function(){var e=s.state.formattedGraphicalItems,t=s.props,r=t.children,a=t.width,i=t.height,o=s.props.margin||{},l=a-(o.left||0)-(o.right||0),u=km({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=Kv(u,Uv);return(0,n.cloneElement)(d,tN(tN({},h),{},{chartWidth:a,chartHeight:i,margin:o,onBBoxUpdate:s.handleLegendBBoxUpdate}))})),rN(s,"renderTooltip",(function(){var e,t=s.props,r=t.children,a=t.accessibilityLayer,i=Tn(r,Ga);if(!i)return null;var o=s.state,l=o.isTooltipActive,c=o.activeCoordinate,u=o.activePayload,d=o.activeLabel,h=o.offset,f=null!==(e=i.props.active)&&void 0!==e?e:l;return(0,n.cloneElement)(i,{viewBox:tN(tN({},h),{},{x:h.left,y:h.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:a})})),rN(s,"renderBrush",(function(e){var t=s.props,r=t.margin,a=t.data,i=s.state,o=i.offset,l=i.dataStartIndex,c=i.dataEndIndex,u=i.updateId;return(0,n.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:Um(s.handleBrushChange,e.props.onChange),data:a,x:Vr(e.props.x)?e.props.x:o.left,y:Vr(e.props.y)?e.props.y:o.top+o.height+o.brushBottom-(r.bottom||0),width:Vr(e.props.width)?e.props.width:o.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})})),rN(s,"renderReferenceElement",(function(e,t,r){if(!e)return null;var a=s.clipPathId,i=s.state,o=i.xAxisMap,l=i.yAxisMap,c=i.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,f=void 0===h?u.xAxisId:h,p=d.yAxisId,m=void 0===p?u.yAxisId:p;return(0,n.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(r),xAxis:o[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:a})})),rN(s,"renderActivePoints",(function(e){var t=e.item,n=e.activePoint,a=e.basePoint,i=e.childIndex,s=e.isRange,o=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?tN(tN({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=tN(tN({index:i,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:Pm(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},En(u,!1)),fn(u));return o.push(r.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(i))),a?o.push(r.renderActiveDot(u,tN(tN({},d),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(i))):s&&o.push(null),o})),rN(s,"renderGraphicChild",(function(e,t,r){var a=s.filterFormatItem(e,t,r);if(!a)return null;var i=s.getTooltipEventType(),o=s.state,l=o.isTooltipActive,c=o.tooltipAxis,u=o.activeTooltipIndex,d=o.activeLabel,h=Tn(s.props.children,Ga),f=a.props,p=f.points,m=f.isRange,g=f.baseLine,x=void 0!==a.item.type.defaultProps?tN(tN({},a.item.type.defaultProps),a.item.props):a.item.props,b=x.activeDot,y=x.hide,v=x.activeBar,N=x.activeShape,w=Boolean(!y&&l&&h&&(b||v||N)),j={};"axis"!==i&&h&&"click"===h.props.trigger?j={onClick:Um(s.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(j={onMouseLeave:Um(s.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:Um(s.handleItemMouseEnter,e.props.onMouseEnter)});var k=(0,n.cloneElement)(e,tN(tN({},a.props),j));if(w){if(!(u>=0)){var T,S=(null!==(T=s.getItemByXY(s.state.activeCoordinate))&&void 0!==T?T:{graphicalItem:k}).graphicalItem,O=S.item,_=void 0===O?e:O,E=S.childIndex,C=tN(tN(tN({},a.props),j),{},{activeIndex:E});return[(0,n.cloneElement)(_,C),null,null]}var A,I;if(c.dataKey&&!c.allowDuplicatedCategory){var P="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());A=Qr(p,P,d),I=m&&g&&Qr(g,P,d)}else A=null===p||void 0===p?void 0:p[u],I=m&&g&&g[u];if(N||v){var H=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,n.cloneElement)(e,tN(tN(tN({},a.props),j),{},{activeIndex:H})),null,null]}if(!en()(A))return[k].concat(Qv(s.renderActivePoints({item:a,activePoint:A,basePoint:I,childIndex:u,isRange:m})))}return m?[k,null,null]:[k,null]})),rN(s,"renderCustomized",(function(e,t,r){return(0,n.cloneElement)(e,tN(tN({key:"recharts-customized-".concat(r)},s.props),s.state))})),rN(s,"renderMap",{CartesianGrid:{handler:oN,once:!0},ReferenceArea:{handler:s.renderReferenceElement},ReferenceLine:{handler:oN},ReferenceDot:{handler:s.renderReferenceElement},XAxis:{handler:oN},YAxis:{handler:oN},Brush:{handler:s.renderBrush,once:!0},Bar:{handler:s.renderGraphicChild},Line:{handler:s.renderGraphicChild},Area:{handler:s.renderGraphicChild},Radar:{handler:s.renderGraphicChild},RadialBar:{handler:s.renderGraphicChild},Scatter:{handler:s.renderGraphicChild},Pie:{handler:s.renderGraphicChild},Funnel:{handler:s.renderGraphicChild},Tooltip:{handler:s.renderCursor,once:!0},PolarGrid:{handler:s.renderPolarGrid,once:!0},PolarAngleAxis:{handler:s.renderPolarAxis},PolarRadiusAxis:{handler:s.renderPolarAxis},Customized:{handler:s.renderCustomized}}),s.clipPathId="".concat(null!==(a=e.id)&&void 0!==a?a:Wr("recharts"),"-clip"),s.throttleTriggeredAfterMouseMove=Pr()(s.triggeredAfterMouseMove,null!==(i=e.throttleDelay)&&void 0!==i?i:1e3/60),s.state={},s}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qv(e,t)}(r,e),a=r,s=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,r=e.data,n=e.height,a=e.layout,i=Tn(t,Ga);if(i){var s=i.props.defaultIndex;if(!("number"!==typeof s||s<0||s>this.state.tooltipTicks.length-1)){var o=this.state.tooltipTicks[s]&&this.state.tooltipTicks[s].value,l=uN(this.state,r,s,o),c=this.state.tooltipTicks[s].coordinate,u=(this.state.offset.top+n)/2,d="horizontal"===a?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));h&&(d=tN(tN({},d),h.props.points[s].tooltipPosition),l=h.props.points[s].tooltipPayload);var f={activeTooltipIndex:s,isTooltipActive:!0,activeLabel:o,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(i),this.accessibilityManager.setIndex(s)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(r=this.props.margin.left)&&void 0!==r?r:0,top:null!==(n=this.props.margin.top)&&void 0!==n?n:0}}),null):null;var r,n}},{key:"componentDidUpdate",value:function(e){Cn([Tn(e.children,Ga)],[Tn(this.props.children,Ga)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Tn(this.props.children,Ga);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return o.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,r=this.container,n=r.getBoundingClientRect(),a={top:(t=n).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},i={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},s=n.width/r.offsetWidth||1,o=this.inRange(i.chartX,i.chartY,s);if(!o)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap;if("axis"!==this.getTooltipEventType()&&c&&u){var d=Yr(c).scale,h=Yr(u).scale,f=d&&d.invert?d.invert(i.chartX):null,p=h&&h.invert?h.invert(i.chartY):null;return tN(tN({},i),{},{xValue:f,yValue:p})}var m=dN(this.state,this.props.data,this.props.layout,o);return m?tN(tN({},i),m):null}},{key:"inRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.props.layout,a=e/r,i=t/r;if("horizontal"===n||"vertical"===n){var s=this.state.offset;return a>=s.left&&a<=s.left+s.width&&i>=s.top&&i<=s.top+s.height?{x:a,y:i}:null}var o=this.state,l=o.angleAxisMap,c=o.radiusAxisMap;if(l&&c){var u=Yr(l);return Ig({x:a,y:i},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),r=Tn(e,Ga),n={};return r&&"axis"===t&&(n="click"===r.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd}),tN(tN({},fn(this.props,this.handleOuterEvent)),n)}},{key:"addListener",value:function(){Ry.on(Fy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ry.removeListener(Fy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,r){for(var n=this.state.formattedGraphicalItems,a=0,i=n.length;a<i;a++){var s=n[a];if(s.item===e||s.props.key===e.key||t===vn(s.item.type)&&r===s.childIndex)return s}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,r=t.left,a=t.top,i=t.height,s=t.width;return n.createElement("defs",null,n.createElement("clipPath",{id:e},n.createElement("rect",{x:r,y:a,height:i,width:s})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var r=Vv(t,2),n=r[0],a=r[1];return tN(tN({},e),{},rN({},n,a.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var r=Vv(t,2),n=r[0],a=r[1];return tN(tN({},e),{},rN({},n,a.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,r=t.formattedGraphicalItems,n=t.activeItem;if(r&&r.length)for(var a=0,i=r.length;a<i;a++){var s=r[a],o=s.props,l=s.item,c=void 0!==l.type.defaultProps?tN(tN({},l.type.defaultProps),l.props):l.props,u=vn(l.type);if("Bar"===u){var d=(o.data||[]).find((function(t){return jl(e,t)}));if(d)return{graphicalItem:s,payload:d}}else if("RadialBar"===u){var h=(o.data||[]).find((function(t){return Ig(e,t)}));if(h)return{graphicalItem:s,payload:h}}else if(Vx(s,n)||Kx(s,n)||$x(s,n)){var f=qx({graphicalItem:s,activeTooltipItem:n,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:tN(tN({},s),{},{childIndex:p}),payload:$x(s,n)?c.data[f]:s.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!Sn(this))return null;var t,r,a=this.props,i=a.children,s=a.className,o=a.width,l=a.height,c=a.style,u=a.compact,d=a.title,h=a.desc,f=Kv(a,Gv),p=En(f,!1);if(u)return n.createElement(ry,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},n.createElement(Yn,zv({},p,{width:o,height:l,title:d,desc:h}),this.renderClipPath(),In(i,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(r=this.props.role)&&void 0!==r?r:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return n.createElement(ry,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},n.createElement("div",zv({className:Ee("recharts-wrapper",s),style:tN({position:"relative",cursor:"default",width:o,height:l},c)},m,{ref:function(t){e.container=t}}),n.createElement(Yn,zv({},p,{width:o,height:l,title:d,desc:h,style:iN}),this.renderClipPath(),In(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],s&&$v(a.prototype,s),l&&$v(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,s,l}(n.Component);rN(p,"displayName",t),rN(p,"defaultProps",tN({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),rN(p,"getDerivedStateFromProps",(function(e,t){var r=e.dataKey,n=e.data,a=e.children,i=e.width,s=e.height,o=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=pN(e);return tN(tN(tN({},h),{},{updateId:0},f(tN(tN({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:r,prevData:n,prevWidth:i,prevHeight:s,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(r!==t.prevDataKey||n!==t.prevData||i!==t.prevWidth||s!==t.prevHeight||o!==t.prevLayout||l!==t.prevStackOffset||!on(c,t.prevMargin)){var p=pN(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=tN(tN({},dN(t,n,o)),{},{updateId:t.updateId+1}),x=tN(tN(tN({},p),m),g);return tN(tN(tN({},x),f(tN({props:e},x),t)),{},{prevDataKey:r,prevData:n,prevWidth:i,prevHeight:s,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!Cn(a,t.prevChildren)){var b,y,v,N,w=Tn(a,yg),j=w&&null!==(b=null===(y=w.props)||void 0===y?void 0:y.startIndex)&&void 0!==b?b:u,k=w&&null!==(v=null===(N=w.props)||void 0===N?void 0:N.endIndex)&&void 0!==v?v:d,T=j!==u||k!==d,S=!en()(n)&&!T?t.updateId:t.updateId+1;return tN(tN({updateId:S},f(tN(tN({props:e},t),{},{updateId:S,dataStartIndex:j,dataEndIndex:k}),t)),{},{prevChildren:a,dataStartIndex:j,dataEndIndex:k})}return null})),rN(p,"renderActiveDot",(function(e,t,r){var a;return a=(0,n.isValidElement)(e)?(0,n.cloneElement)(e,t):rn()(e)?e(t):n.createElement(ns,t),n.createElement(Jn,{className:"recharts-active-dot",key:r},a)}));var m=(0,n.forwardRef)((function(e,t){return n.createElement(p,zv({},e,{ref:t}))}));return m.displayName=p.displayName,m},yN=["points","className","baseLinePoints","connectNulls"];function vN(){return vN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vN.apply(this,arguments)}function NN(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wN(e){return function(e){if(Array.isArray(e))return jN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return jN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kN=function(e){return e&&e.x===+e.x&&e.y===+e.y},TN=function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((function(e){kN(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),kN(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(r=[r.reduce((function(e,t){return[].concat(wN(e),wN(t))}),[])]);var n=r.map((function(e){return e.reduce((function(e,t,r){return"".concat(e).concat(0===r?"M":"L").concat(t.x,",").concat(t.y)}),"")})).join("");return 1===r.length?"".concat(n,"Z"):n},SN=function(e){var t=e.points,r=e.className,a=e.baseLinePoints,i=e.connectNulls,s=NN(e,yN);if(!t||!t.length)return null;var o=Ee("recharts-polygon",r);if(a&&a.length){var l=s.stroke&&"none"!==s.stroke,c=function(e,t,r){var n=TN(e,r);return"".concat("Z"===n.slice(-1)?n.slice(0,-1):n,"L").concat(TN(t.reverse(),r).slice(1))}(t,a,i);return n.createElement("g",{className:o},n.createElement("path",vN({},En(s,!0),{fill:"Z"===c.slice(-1)?s.fill:"none",stroke:"none",d:c})),l?n.createElement("path",vN({},En(s,!0),{fill:"none",d:TN(t,i)})):null,l?n.createElement("path",vN({},En(s,!0),{fill:"none",d:TN(a,i)})):null)}var u=TN(t,i);return n.createElement("path",vN({},En(s,!0),{fill:"Z"===u.slice(-1)?s.fill:"none",className:o,d:u}))};function ON(e){return ON="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ON(e)}function _N(){return _N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_N.apply(this,arguments)}function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function CN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?EN(Object(r),!0).forEach((function(t){MN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function AN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LN(n.key),n)}}function IN(e,t,r){return t=HN(t),function(e,t){if(t&&("object"===ON(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,PN()?Reflect.construct(t,r||[],HN(e).constructor):t.apply(e,r))}function PN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(PN=function(){return!!e})()}function HN(e){return HN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},HN(e)}function DN(e,t){return DN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},DN(e,t)}function MN(e,t,r){return(t=LN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LN(e){var t=function(e,t){if("object"!=ON(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ON(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ON(t)?t:t+""}var RN=Math.PI/180,FN=1e-5,UN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),IN(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DN(e,t)}(t,e),r=t,a=[{key:"getTickLineCoord",value:function(e){var t=this.props,r=t.cx,n=t.cy,a=t.radius,i=t.orientation,s=t.tickSize||8,o=_g(r,n,a,e.coordinate),l=_g(r,n,a+("inner"===i?-1:1)*s,e.coordinate);return{x1:o.x,y1:o.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,r=Math.cos(-e.coordinate*RN);return r>FN?"outer"===t?"start":"end":r<-FN?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,a=e.radius,i=e.axisLine,s=e.axisLineType,o=CN(CN({},En(this.props,!1)),{},{fill:"none"},En(i,!1));if("circle"===s)return n.createElement(ns,_N({className:"recharts-polar-angle-axis-line"},o,{cx:t,cy:r,r:a}));var l=this.props.ticks.map((function(e){return _g(t,r,a,e.coordinate)}));return n.createElement(SN,_N({className:"recharts-polar-angle-axis-line"},o,{points:l}))}},{key:"renderTicks",value:function(){var e=this,r=this.props,a=r.ticks,i=r.tick,s=r.tickLine,o=r.tickFormatter,l=r.stroke,c=En(this.props,!1),u=En(i,!1),d=CN(CN({},c),{},{fill:"none"},En(s,!1)),h=a.map((function(r,a){var h=e.getTickLineCoord(r),f=CN(CN(CN({textAnchor:e.getTickTextAnchor(r)},c),{},{stroke:"none",fill:l},u),{},{index:a,payload:r,x:h.x2,y:h.y2});return n.createElement(Jn,_N({className:Ee("recharts-polar-angle-axis-tick",Pg(i)),key:"tick-".concat(r.coordinate)},pn(e.props,r,a)),s&&n.createElement("line",_N({className:"recharts-polar-angle-axis-tick-line"},d,h)),i&&t.renderTickItem(i,f,o?o(r.value,a):r.value))}));return n.createElement(Jn,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.radius,a=e.axisLine;return r<=0||!t||!t.length?null:n.createElement(Jn,{className:Ee("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],i=[{key:"renderTickItem",value:function(e,t,r){return n.isValidElement(e)?n.cloneElement(e,t):rn()(e)?e(t):n.createElement(vc,_N({},t,{className:"recharts-polar-angle-axis-tick-value"}),r)}}],a&&AN(r.prototype,a),i&&AN(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent);MN(UN,"displayName","PolarAngleAxis"),MN(UN,"axisType","angleAxis"),MN(UN,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var GN=r(2794),BN=r.n(GN),zN=r(9364),VN=r.n(zN),KN=["cx","cy","angle","ticks","axisLine"],$N=["ticks","tick","angle","tickFormatter","stroke"];function WN(e){return WN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WN(e)}function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XN.apply(this,arguments)}function YN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YN(Object(r),!0).forEach((function(t){nw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function QN(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aw(n.key),n)}}function JN(e,t,r){return t=tw(t),function(e,t){if(t&&("object"===WN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ew()?Reflect.construct(t,r||[],tw(e).constructor):t.apply(e,r))}function ew(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ew=function(){return!!e})()}function tw(e){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tw(e)}function rw(e,t){return rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rw(e,t)}function nw(e,t,r){return(t=aw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aw(e){var t=function(e,t){if("object"!=WN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=WN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WN(t)?t:t+""}var iw,sw=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),JN(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rw(e,t)}(t,e),r=t,a=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,r=this.props,n=r.angle,a=r.cx,i=r.cy;return _g(a,i,t,n)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,i=BN()(a,(function(e){return e.coordinate||0}));return{cx:t,cy:r,startAngle:n,endAngle:n,innerRadius:VN()(a,(function(e){return e.coordinate||0})).coordinate||0,outerRadius:i.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,a=e.angle,i=e.ticks,s=e.axisLine,o=QN(e,KN),l=i.reduce((function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]}),[1/0,-1/0]),c=_g(t,r,l[0],a),u=_g(t,r,l[1],a),d=qN(qN(qN({},En(o,!1)),{},{fill:"none"},En(s,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return n.createElement("line",XN({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var e=this,r=this.props,a=r.ticks,i=r.tick,s=r.angle,o=r.tickFormatter,l=r.stroke,c=QN(r,$N),u=this.getTickTextAnchor(),d=En(c,!1),h=En(i,!1),f=a.map((function(r,a){var c=e.getTickValueCoord(r),f=qN(qN(qN(qN({textAnchor:u,transform:"rotate(".concat(90-s,", ").concat(c.x,", ").concat(c.y,")")},d),{},{stroke:"none",fill:l},h),{},{index:a},c),{},{payload:r});return n.createElement(Jn,XN({className:Ee("recharts-polar-radius-axis-tick",Pg(i)),key:"tick-".concat(r.coordinate)},pn(e.props,r,a)),t.renderTickItem(i,f,o?o(r.value,a):r.value))}));return n.createElement(Jn,{className:"recharts-polar-radius-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.axisLine,a=e.tick;return t&&t.length?n.createElement(Jn,{className:Ee("recharts-polar-radius-axis",this.props.className)},r&&this.renderAxisLine(),a&&this.renderTicks(),Vg.renderCallByParent(this.props,this.getViewBox())):null}}],i=[{key:"renderTickItem",value:function(e,t,r){return n.isValidElement(e)?n.cloneElement(e,t):rn()(e)?e(t):n.createElement(vc,XN({},t,{className:"recharts-polar-radius-axis-tick-value"}),r)}}],a&&ZN(r.prototype,a),i&&ZN(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent);function ow(e){return ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ow(e)}function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(this,arguments)}function cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cw(Object(r),!0).forEach((function(t){gw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xw(n.key),n)}}function hw(e,t,r){return t=pw(t),function(e,t){if(t&&("object"===ow(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fw()?Reflect.construct(t,r||[],pw(e).constructor):t.apply(e,r))}function fw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fw=function(){return!!e})()}function pw(e){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pw(e)}function mw(e,t){return mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mw(e,t)}function gw(e,t,r){return(t=xw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xw(e){var t=function(e,t){if("object"!=ow(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ow(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ow(t)?t:t+""}nw(sw,"displayName","PolarRadiusAxis"),nw(sw,"axisType","radiusAxis"),nw(sw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var bw=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gw(r=hw(this,t,[e]),"pieRef",null),gw(r,"sectorRefs",[]),gw(r,"id",Wr("recharts-pie-")),gw(r,"handleAnimationEnd",(function(){var e=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),rn()(e)&&e()})),gw(r,"handleAnimationStart",(function(){var e=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),rn()(e)&&e()})),r.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mw(e,t)}(t,e),r=t,a=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.label,i=r.labelLine,s=r.dataKey,o=r.valueKey,l=En(this.props,!1),c=En(a,!1),u=En(i,!1),d=a&&a.offsetRadius||20,h=e.map((function(e,r){var h=(e.startAngle+e.endAngle)/2,f=_g(e.cx,e.cy,e.outerRadius+d,h),p=uw(uw(uw(uw({},l),e),{},{stroke:"none"},c),{},{index:r,textAnchor:t.getTextAnchor(f.x,e.cx)},f),m=uw(uw(uw(uw({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:r,points:[_g(e.cx,e.cy,e.outerRadius,h),f]}),g=s;return en()(s)&&en()(o)?g="value":en()(s)&&(g=o),n.createElement(Jn,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(r)},i&&t.renderLabelLineItem(i,m,"line"),t.renderLabelItem(a,p,Am(e,g)))}));return n.createElement(Jn,{className:"recharts-pie-labels"},h)}},{key:"renderSectorsStatically",value:function(e){var t=this,r=this.props,a=r.activeShape,i=r.blendStroke,s=r.inactiveShape;return e.map((function(r,o){if(0===(null===r||void 0===r?void 0:r.startAngle)&&0===(null===r||void 0===r?void 0:r.endAngle)&&1!==e.length)return null;var l=t.isActiveIndex(o),c=s&&t.hasActiveIndex()?s:null,u=l?a:c,d=uw(uw({},r),{},{stroke:i?r.fill:r.stroke,tabIndex:-1});return n.createElement(Jn,lw({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},pn(t.props,r,o),{key:"sector-".concat(null===r||void 0===r?void 0:r.startAngle,"-").concat(null===r||void 0===r?void 0:r.endAngle,"-").concat(r.midAngle,"-").concat(o)}),n.createElement(zx,lw({option:u,isActive:l,shapeType:"sector"},d)))}))}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,r=t.sectors,a=t.isAnimationActive,i=t.animationBegin,s=t.animationDuration,o=t.animationEasing,l=t.animationId,c=this.state,u=c.prevSectors,d=c.prevIsAnimationActive;return n.createElement(pl,{begin:i,duration:s,isActive:a,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(t){var a=t.t,i=[],s=(r&&r[0]).startAngle;return r.forEach((function(e,t){var r=u&&u[t],n=t>0?Fr()(e,"paddingAngle",0):0;if(r){var o=qr(r.endAngle-r.startAngle,e.endAngle-e.startAngle),l=uw(uw({},e),{},{startAngle:s+n,endAngle:s+o(a)+n});i.push(l),s=l.endAngle}else{var c=e.endAngle,d=e.startAngle,h=qr(0,c-d)(a),f=uw(uw({},e),{},{startAngle:s+n,endAngle:s+h+n});i.push(f),s=f.endAngle}})),n.createElement(Jn,null,e.renderSectorsStatically(i))}))}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var r=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"ArrowRight":var n=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,r=e.isAnimationActive,n=this.state.prevSectors;return!(r&&t&&t.length)||n&&Cp()(n,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,r=t.hide,a=t.sectors,i=t.className,s=t.label,o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.isAnimationActive,h=this.state.isAnimationFinished;if(r||!a||!a.length||!Vr(o)||!Vr(l)||!Vr(c)||!Vr(u))return null;var f=Ee("recharts-pie",i);return n.createElement(Jn,{tabIndex:this.props.rootTabIndex,className:f,ref:function(t){e.pieRef=t}},this.renderSectors(),s&&this.renderLabels(a),Vg.renderCallByParent(this.props,null,!1),(!d||h)&&dx.renderCallByParent(this.props,a,!1))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,r){if(n.isValidElement(e))return n.cloneElement(e,t);if(rn()(e))return e(t);var a=Ee("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return n.createElement(kv,lw({},t,{key:r,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(e,t,r){if(n.isValidElement(e))return n.cloneElement(e,t);var a=r;if(rn()(e)&&(a=e(t),n.isValidElement(a)))return a;var i=Ee("recharts-pie-label-text","boolean"===typeof e||rn()(e)?"":e.className);return n.createElement(vc,lw({},t,{alignmentBaseline:"middle",className:i}),a)}}],a&&dw(r.prototype,a),i&&dw(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent);iw=bw,gw(bw,"displayName","Pie"),gw(bw,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Sa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),gw(bw,"parseDeltaAngle",(function(e,t){return Br(t-e)*Math.min(Math.abs(t-e),360)})),gw(bw,"getRealPieData",(function(e){var t=e.data,r=e.children,n=En(e,!1),a=kn(r,Qg);return t&&t.length?t.map((function(e,t){return uw(uw(uw({payload:e},n),e),a&&a[t]&&a[t].props)})):a&&a.length?a.map((function(e){return uw(uw({},n),e.props)})):[]})),gw(bw,"parseCoordinateOfPie",(function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=Eg(a,i);return{cx:n+Xr(e.cx,a,a/2),cy:r+Xr(e.cy,i,i/2),innerRadius:Xr(e.innerRadius,s,0),outerRadius:Xr(e.outerRadius,s,.8*s),maxRadius:e.maxRadius||Math.sqrt(a*a+i*i)/2}})),gw(bw,"getComposedData",(function(e){var t=e.item,r=e.offset,n=void 0!==t.type.defaultProps?uw(uw({},t.type.defaultProps),t.props):t.props,a=iw.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,o=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,d=n.valueKey,h=n.tooltipType,f=Math.abs(n.minAngle),p=iw.parseCoordinateOfPie(n,r),m=iw.parseDeltaAngle(s,o),g=Math.abs(m),x=c;en()(c)&&en()(d)?(Zr(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),x="value"):en()(c)&&(Zr(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),x=d);var b,y,v=a.filter((function(e){return 0!==Am(e,x,0)})).length,N=g-v*f-(g>=360?v:v-1)*l,w=a.reduce((function(e,t){var r=Am(t,x,0);return e+(Vr(r)?r:0)}),0);w>0&&(b=a.map((function(e,t){var r,n=Am(e,x,0),a=Am(e,u,t),o=(Vr(n)?n:0)/w,c=(r=t?y.endAngle+Br(m)*l*(0!==n?1:0):s)+Br(m)*((0!==n?f:0)+o*N),d=(r+c)/2,g=(p.innerRadius+p.outerRadius)/2,b=[{name:a,value:n,payload:e,dataKey:x,type:h}],v=_g(p.cx,p.cy,g,d);return y=uw(uw(uw({percent:o,cornerRadius:i,name:a,tooltipPayload:b,midAngle:d,middleRadius:g,tooltipPosition:v},e),p),{},{value:Am(e,x),startAngle:r,endAngle:c,payload:e,paddingAngle:Br(m)*l})})));return uw(uw({},p),{},{sectors:b,data:a})}));var yw=bN({chartName:"PieChart",GraphicalChild:bw,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:UN},{axisType:"radiusAxis",AxisComp:sw}],formatAxisMap:function(e,t,r,n,a){var i=e.width,s=e.height,o=e.startAngle,l=e.endAngle,c=Xr(e.cx,i,i/2),u=Xr(e.cy,s,s/2),d=Eg(i,s,r),h=Xr(e.innerRadius,d,0),f=Xr(e.outerRadius,d,.8*d);return Object.keys(t).reduce((function(e,r){var i,s=t[r],d=s.domain,p=s.reversed;if(en()(s.range))"angleAxis"===n?i=[o,l]:"radiusAxis"===n&&(i=[h,f]),p&&(i=[i[1],i[0]]);else{var m=kg(i=s.range,2);o=m[0],l=m[1]}var g=Gm(s,a),x=g.realScaleType,b=g.scale;b.domain(d).range(i),zm(b);var y=$m(b,wg(wg({},s),{},{realScaleType:x})),v=wg(wg(wg({},s),y),{},{range:i,radius:f,realScaleType:x,scale:b,cx:c,cy:u,innerRadius:h,outerRadius:f,startAngle:o,endAngle:l});return wg(wg({},e),{},jg({},r,v))}),{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function vw(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],a=0;a<e.length;a+=t){if(void 0!==r&&!0!==r(e[a]))return;n.push(e[a])}return n}function Nw(e,t,r){return function(e){var t=e.width,r=e.height,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=n*Math.PI/180,i=Math.atan(r/t),s=a>i&&a<Math.PI-i?r/Math.sin(a):t/Math.cos(a);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},r)}function ww(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function jw(e){return jw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jw(e)}function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kw(Object(r),!0).forEach((function(t){Sw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sw(e,t,r){return t=function(e){var t=function(e,t){if("object"!=jw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=jw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ow(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(Vr(l)||Sa.isSsr)return function(e,t){return vw(e,t+1)}(a,"number"===typeof l&&Vr(l)?l:0);var h=[],f="top"===o||"bottom"===o?"width":"height",p=u&&"width"===f?Kl(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(e,n){var a=rn()(c)?c(e.value,n):e.value;return"width"===f?Nw(Kl(a,{fontSize:t,letterSpacing:r}),p,d):Kl(a,{fontSize:t,letterSpacing:r})[f]},g=a.length>=2?Br(a[1].coordinate-a[0].coordinate):1,x=function(e,t,r){var n="width"===r,a=e.x,i=e.y,s=e.width,o=e.height;return 1===t?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}(i,g,f);return"equidistantPreserveStart"===l?function(e,t,r,n,a){for(var i,s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,h=function(){var t=null===n||void 0===n?void 0:n[c];if(void 0===t)return{v:vw(n,u)};var i,s=c,h=function(){return void 0===i&&(i=r(t,s)),i},f=t.coordinate,p=0===c||ww(e,f,h,d,l);p||(c=0,d=o,u+=1),p&&(d=f+e*(h()/2+a),c+=u)};u<=s.length;)if(i=h())return i.v;return[]}(g,x,m,a,s):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var u=n[o-1],d=r(u,o-1),h=e*(u.coordinate+e*d/2-c);s[o-1]=u=Tw(Tw({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),ww(e,u.tickCoord,(function(){return d}),l,c)&&(c=u.tickCoord-e*(d/2+a),s[o-1]=Tw(Tw({},u),{},{isShow:!0}))}for(var f=i?o-1:o,p=function(t){var n,i=s[t],o=function(){return void 0===n&&(n=r(i,t)),n};if(0===t){var u=e*(i.coordinate-e*o()/2-l);s[t]=i=Tw(Tw({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else s[t]=i=Tw(Tw({},i),{},{tickCoord:i.coordinate});ww(e,i.tickCoord,o,l,c)&&(l=i.tickCoord+e*(o()/2+a),s[t]=Tw(Tw({},i),{},{isShow:!0}))},m=0;m<f;m++)p(m);return s}(g,x,m,a,s,"preserveStartEnd"===l):function(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(t){var n,c=i[t],u=function(){return void 0===n&&(n=r(c,t)),n};if(t===s-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=Tw(Tw({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=Tw(Tw({},c),{},{tickCoord:c.coordinate});ww(e,c.tickCoord,u,o,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=Tw(Tw({},c),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}(g,x,m,a,s),h.filter((function(e){return e.isShow})))}var _w=["viewBox"],Ew=["viewBox"],Cw=["ticks"];function Aw(e){return Aw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aw(e)}function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iw.apply(this,arguments)}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pw(Object(r),!0).forEach((function(t){Gw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dw(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bw(n.key),n)}}function Lw(e,t,r){return t=Fw(t),function(e,t){if(t&&("object"===Aw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Rw()?Reflect.construct(t,r||[],Fw(e).constructor):t.apply(e,r))}function Rw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Rw=function(){return!!e})()}function Fw(e){return Fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fw(e)}function Uw(e,t){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Uw(e,t)}function Gw(e,t,r){return(t=Bw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bw(e){var t=function(e,t){if("object"!=Aw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Aw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Aw(t)?t:t+""}var zw=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Lw(this,t,[e])).state={fontSize:"",letterSpacing:""},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uw(e,t)}(t,e),r=t,a=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,n=Dw(e,_w),a=this.props,i=a.viewBox,s=Dw(a,Ew);return!on(r,i)||!on(n,s)||!on(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,n,a,i,s,o=this.props,l=o.x,c=o.y,u=o.width,d=o.height,h=o.orientation,f=o.tickSize,p=o.mirror,m=o.tickMargin,g=p?-1:1,x=e.tickSize||f,b=Vr(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=r=e.coordinate,s=(n=(a=c+ +!p*d)-g*x)-g*m,i=b;break;case"left":n=a=e.coordinate,i=(t=(r=l+ +!p*u)-g*x)-g*m,s=b;break;case"right":n=a=e.coordinate,i=(t=(r=l+ +p*u)+g*x)+g*m,s=b;break;default:t=r=e.coordinate,s=(n=(a=c+ +p*d)+g*x)+g*m,i=b}return{line:{x1:t,y1:n,x2:r,y2:a},tick:{x:i,y:s}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,n=t.mirror;switch(r){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,n="end";switch(t){case"left":case"right":n="middle";break;case"top":n=r?"start":"end";break;default:n=r?"end":"start"}return n}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,a=e.width,i=e.height,s=e.orientation,o=e.mirror,l=e.axisLine,c=Hw(Hw(Hw({},En(this.props,!1)),En(l,!1)),{},{fill:"none"});if("top"===s||"bottom"===s){var u=+("top"===s&&!o||"bottom"===s&&o);c=Hw(Hw({},c),{},{x1:t,y1:r+u*i,x2:t+a,y2:r+u*i})}else{var d=+("left"===s&&!o||"right"===s&&o);c=Hw(Hw({},c),{},{x1:t+d*a,y1:r,x2:t+d*a,y2:r+i})}return n.createElement("line",Iw({},c,{className:Ee("recharts-cartesian-axis-line",Fr()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,a){var i=this,s=this.props,o=s.tickLine,l=s.stroke,c=s.tick,u=s.tickFormatter,d=s.unit,h=Ow(Hw(Hw({},this.props),{},{ticks:e}),r,a),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=En(this.props,!1),g=En(c,!1),x=Hw(Hw({},m),{},{fill:"none"},En(o,!1)),b=h.map((function(e,r){var a=i.getTickLineCoord(e),s=a.line,b=a.tick,y=Hw(Hw(Hw(Hw({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:l},g),b),{},{index:r,payload:e,visibleTicksCount:h.length,tickFormatter:u});return n.createElement(Jn,Iw({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},pn(i.props,e,r)),o&&n.createElement("line",Iw({},x,s,{className:Ee("recharts-cartesian-axis-tick-line",Fr()(o,"className"))})),c&&t.renderTickItem(c,y,"".concat(rn()(u)?u(e.value,r):e.value).concat(d||"")))}));return n.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,a=t.width,i=t.height,s=t.ticksGenerator,o=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,u=Dw(l,Cw),d=c;return rn()(s)&&(d=c&&c.length>0?s(this.props):s(u)),a<=0||i<=0||!d||!d.length?null:n.createElement(Jn,{className:Ee("recharts-cartesian-axis",o),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),Vg.renderCallByParent(this.props))}}],i=[{key:"renderTickItem",value:function(e,t,r){return n.isValidElement(e)?n.cloneElement(e,t):rn()(e)?e(t):n.createElement(vc,Iw({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],a&&Mw(r.prototype,a),i&&Mw(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.Component);function Vw(e){return Vw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vw(e)}function Kw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qw(n.key),n)}}function $w(e,t,r){return t=Xw(t),function(e,t){if(t&&("object"===Vw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ww()?Reflect.construct(t,r||[],Xw(e).constructor):t.apply(e,r))}function Ww(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ww=function(){return!!e})()}function Xw(e){return Xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xw(e)}function Yw(e,t){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yw(e,t)}function qw(e,t,r){return(t=Qw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qw(e){var t=function(e,t){if("object"!=Vw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Vw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vw(t)?t:t+""}function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zw.apply(this,arguments)}function Jw(e){var t=e.xAxisId,r=iy(),a=sy(),i=ny(t);return null==i?null:n.createElement(zw,Zw({},i,{className:Ee("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return Rm(e,!0)}}))}Gw(zw,"displayName","CartesianAxis"),Gw(zw,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ej=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$w(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yw(e,t)}(t,e),r=t,(a=[{key:"render",value:function(){return n.createElement(Jw,this.props)}}])&&Kw(r.prototype,a),i&&Kw(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.Component);function tj(e){return tj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tj(e)}function rj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lj(n.key),n)}}function nj(e,t,r){return t=ij(t),function(e,t){if(t&&("object"===tj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,aj()?Reflect.construct(t,r||[],ij(e).constructor):t.apply(e,r))}function aj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(aj=function(){return!!e})()}function ij(e){return ij=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ij(e)}function sj(e,t){return sj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sj(e,t)}function oj(e,t,r){return(t=lj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lj(e){var t=function(e,t){if("object"!=tj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=tj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tj(t)?t:t+""}function cj(){return cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cj.apply(this,arguments)}qw(ej,"displayName","XAxis"),qw(ej,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var uj=function(e){var t=e.yAxisId,r=iy(),a=sy(),i=ay(t);return null==i?null:n.createElement(zw,cj({},i,{className:Ee("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return Rm(e,!0)}}))},dj=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nj(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sj(e,t)}(t,e),r=t,(a=[{key:"render",value:function(){return n.createElement(uj,this.props)}}])&&rj(r.prototype,a),i&&rj(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.Component);oj(dj,"displayName","YAxis"),oj(dj,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var hj=bN({chartName:"BarChart",GraphicalChild:vb,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ej},{axisType:"yAxis",AxisComp:dj}],formatAxisMap:Ob}),fj=["x1","y1","x2","y2","key"],pj=["offset"];function mj(e){return mj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mj(e)}function gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gj(Object(r),!0).forEach((function(t){bj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bj(e,t,r){return t=function(e){var t=function(e,t){if("object"!=mj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=mj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yj(){return yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yj.apply(this,arguments)}function vj(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Nj=function(e){var t=e.fill;if(!t||"none"===t)return null;var r=e.fillOpacity,a=e.x,i=e.y,s=e.width,o=e.height,l=e.ry;return n.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function wj(e,t){var r;if(n.isValidElement(e))r=n.cloneElement(e,t);else if(rn()(e))r=e(t);else{var a=t.x1,i=t.y1,s=t.x2,o=t.y2,l=t.key,c=vj(t,fj),u=En(c,!1),d=(u.offset,vj(u,pj));r=n.createElement("line",yj({},d,{x1:a,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function jj(e){var t=e.x,r=e.width,a=e.horizontal,i=void 0===a||a,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map((function(n,a){var s=xj(xj({},e),{},{x1:t,y1:n,x2:t+r,y2:n,key:"line-".concat(a),index:a});return wj(i,s)}));return n.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function kj(e){var t=e.y,r=e.height,a=e.vertical,i=void 0===a||a,s=e.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map((function(n,a){var s=xj(xj({},e),{},{x1:n,y1:t,x2:n,y2:t+r,key:"line-".concat(a),index:a});return wj(i,s)}));return n.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Tj(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,i=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var u=l.map((function(e){return Math.round(e+i-i)})).sort((function(e,t){return e-t}));i!==u[0]&&u.unshift(0);var d=u.map((function(e,l){var c=!u[l+1]?i+o-e:u[l+1]-e;if(c<=0)return null;var d=l%t.length;return n.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:s,stroke:"none",fill:t[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})}));return n.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Sj(e){var t=e.vertical,r=void 0===t||t,a=e.verticalFill,i=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!a||!a.length)return null;var d=u.map((function(e){return Math.round(e+s-s)})).sort((function(e,t){return e-t}));s!==d[0]&&d.unshift(0);var h=d.map((function(e,t){var r=!d[t+1]?s+l-e:d[t+1]-e;if(r<=0)return null;var u=t%a.length;return n.createElement("rect",{key:"react-".concat(t),x:e,y:o,width:r,height:c,stroke:"none",fill:a[u],fillOpacity:i,className:"recharts-cartesian-grid-bg"})}));return n.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Oj=function(e,t){var r=e.xAxis,n=e.width,a=e.height,i=e.offset;return Lm(Ow(xj(xj(xj({},zw.defaultProps),r),{},{ticks:Rm(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},_j=function(e,t){var r=e.yAxis,n=e.width,a=e.height,i=e.offset;return Lm(Ow(xj(xj(xj({},zw.defaultProps),r),{},{ticks:Rm(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},Ej={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Cj(e){var t,r,a,i,s,o,l=iy(),c=sy(),u=(0,n.useContext)(Zb),d=xj(xj({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:Ej.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:Ej.fill,horizontal:null!==(a=e.horizontal)&&void 0!==a?a:Ej.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:Ej.horizontalFill,vertical:null!==(s=e.vertical)&&void 0!==s?s:Ej.vertical,verticalFill:null!==(o=e.verticalFill)&&void 0!==o?o:Ej.verticalFill,x:Vr(e.x)?e.x:u.left,y:Vr(e.y)?e.y:u.top,width:Vr(e.width)?e.width:u.width,height:Vr(e.height)?e.height:u.height}),h=d.x,f=d.y,p=d.width,m=d.height,g=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,y=function(){var e=(0,n.useContext)(Yb);return Yr(e)}(),v=function(){var e=(0,n.useContext)(qb);return $b()(e,(function(e){return qg()(e.domain,Number.isFinite)}))||Yr(e)}();if(!Vr(p)||p<=0||!Vr(m)||m<=0||!Vr(h)||h!==+h||!Vr(f)||f!==+f)return null;var N=d.verticalCoordinatesGenerator||Oj,w=d.horizontalCoordinatesGenerator||_j,j=d.horizontalPoints,k=d.verticalPoints;if((!j||!j.length)&&rn()(w)){var T=x&&x.length,S=w({yAxis:v?xj(xj({},v),{},{ticks:T?x:v.ticks}):void 0,width:l,height:c,offset:u},!!T||g);Zr(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(mj(S),"]")),Array.isArray(S)&&(j=S)}if((!k||!k.length)&&rn()(N)){var O=b&&b.length,_=N({xAxis:y?xj(xj({},y),{},{ticks:O?b:y.ticks}):void 0,width:l,height:c,offset:u},!!O||g);Zr(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(mj(_),"]")),Array.isArray(_)&&(k=_)}return n.createElement("g",{className:"recharts-cartesian-grid"},n.createElement(Nj,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),n.createElement(jj,yj({},d,{offset:u,horizontalPoints:j,xAxis:y,yAxis:v})),n.createElement(kj,yj({},d,{offset:u,verticalPoints:k,xAxis:y,yAxis:v})),n.createElement(Tj,yj({},d,{horizontalPoints:j})),n.createElement(Sj,yj({},d,{verticalPoints:k})))}Cj.displayName="CartesianGrid";var Aj=["type","layout","connectNulls","ref"],Ij=["key"];function Pj(e){return Pj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pj(e)}function Hj(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dj(){return Dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dj.apply(this,arguments)}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mj(Object(r),!0).forEach((function(t){Kj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rj(e){return function(e){if(Array.isArray(e))return Fj(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Fj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$j(n.key),n)}}function Gj(e,t,r){return t=zj(t),function(e,t){if(t&&("object"===Pj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Bj()?Reflect.construct(t,r||[],zj(e).constructor):t.apply(e,r))}function Bj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Bj=function(){return!!e})()}function zj(e){return zj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zj(e)}function Vj(e,t){return Vj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vj(e,t)}function Kj(e,t,r){return(t=$j(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $j(e){var t=function(e,t){if("object"!=Pj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Pj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pj(t)?t:t+""}var Wj=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Kj(e=Gj(this,t,[].concat(n)),"state",{isAnimationFinished:!0,totalLength:0}),Kj(e,"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),Kj(e,"getStrokeDasharray",(function(r,n,a){var i=a.reduce((function(e,t){return e+t}));if(!i)return e.generateSimpleStrokeDasharray(n,r);for(var s=Math.floor(r/i),o=r%i,l=n-r,c=[],u=0,d=0;u<a.length;d+=a[u],++u)if(d+a[u]>o){c=[].concat(Rj(a.slice(0,u)),[o-d]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(Rj(t.repeat(a,s)),Rj(c),h).map((function(e){return"".concat(e,"px")})).join(", ")})),Kj(e,"id",Wr("recharts-line-")),Kj(e,"pathRef",(function(t){e.mainCurve=t})),Kj(e,"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()})),Kj(e,"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vj(e,t)}(t,e),r=t,a=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.points,i=r.xAxis,s=r.yAxis,o=r.layout,l=kn(r.children,ym);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:Am(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return n.createElement(Jn,u,l.map((function(e){return n.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:a,xAxis:i,yAxis:s,layout:o,dataPointFormatter:c})})))}},{key:"renderDots",value:function(e,r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.dot,o=i.points,l=i.dataKey,c=En(this.props,!1),u=En(s,!0),d=o.map((function(e,r){var n=Lj(Lj(Lj({key:"dot-".concat(r),r:3},c),u),{},{value:e.value,dataKey:l,cx:e.x,cy:e.y,index:r,payload:e.payload});return t.renderDotItem(s,n)})),h={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(a,")"):null};return n.createElement(Jn,Dj({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,t,r,a){var i=this.props,s=i.type,o=i.layout,l=i.connectNulls,c=(i.ref,Hj(i,Aj)),u=Lj(Lj(Lj({},En(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},a),{},{type:s,layout:o,connectNulls:l});return n.createElement(kv,Dj({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,a=this.props,i=a.points,s=a.strokeDasharray,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=a.animateNewValues,f=a.width,p=a.height,m=this.state,g=m.prevPoints,x=m.totalLength;return n.createElement(pl,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(n){var a=n.t;if(g){var o=g.length/i.length,l=i.map((function(e,t){var r=Math.floor(t*o);if(g[r]){var n=g[r],i=qr(n.x,e.x),s=qr(n.y,e.y);return Lj(Lj({},e),{},{x:i(a),y:s(a)})}if(h){var l=qr(2*f,e.x),c=qr(p/2,e.y);return Lj(Lj({},e),{},{x:l(a),y:c(a)})}return Lj(Lj({},e),{},{x:e.x,y:e.y})}));return r.renderCurveStatically(l,e,t)}var c,u=qr(0,x)(a);if(s){var d="".concat(s).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));c=r.getStrokeDasharray(u,x,d)}else c=r.generateSimpleStrokeDasharray(x,u);return r.renderCurveStatically(i,e,t,{strokeDasharray:c})}))}},{key:"renderCurve",value:function(e,t){var r=this.props,n=r.points,a=r.isAnimationActive,i=this.state,s=i.prevPoints,o=i.totalLength;return a&&n&&n.length&&(!s&&o>0||!Cp()(s,n))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(n,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,a=t.dot,i=t.points,s=t.className,o=t.xAxis,l=t.yAxis,c=t.top,u=t.left,d=t.width,h=t.height,f=t.isAnimationActive,p=t.id;if(r||!i||!i.length)return null;var m=this.state.isAnimationFinished,g=1===i.length,x=Ee("recharts-line",s),b=o&&o.allowDataOverflow,y=l&&l.allowDataOverflow,v=b||y,N=en()(p)?this.id:p,w=null!==(e=En(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},j=w.r,k=void 0===j?3:j,T=w.strokeWidth,S=void 0===T?2:T,O=(function(e){return e&&"object"===bn(e)&&"clipDot"in e}(a)?a:{}).clipDot,_=void 0===O||O,E=2*k+S;return n.createElement(Jn,{className:x},b||y?n.createElement("defs",null,n.createElement("clipPath",{id:"clipPath-".concat(N)},n.createElement("rect",{x:b?u:u-d/2,y:y?c:c-h/2,width:b?d:2*d,height:y?h:2*h})),!_&&n.createElement("clipPath",{id:"clipPath-dots-".concat(N)},n.createElement("rect",{x:u-E/2,y:c-E/2,width:d+E,height:h+E}))):null,!g&&this.renderCurve(v,N),this.renderErrorBar(v,N),(g||a)&&this.renderDots(v,_,N),(!f||m)&&dx.renderCallByParent(this.props,i))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!==0?[].concat(Rj(e),[0]):e,n=[],a=0;a<t;++a)n=[].concat(Rj(n),Rj(r));return n}},{key:"renderDotItem",value:function(e,t){var r;if(n.isValidElement(e))r=n.cloneElement(e,t);else if(rn()(e))r=e(t);else{var a=t.key,i=Hj(t,Ij),s=Ee("recharts-line-dot","boolean"!==typeof e?e.className:"");r=n.createElement(ns,Dj({key:a},i,{className:s}))}return r}}],a&&Uj(r.prototype,a),i&&Uj(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.PureComponent);Kj(Wj,"displayName","Line"),Kj(Wj,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Sa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),Kj(Wj,"getComposedData",(function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map((function(e,t){var l=Am(e,s);return"horizontal"===u?{x:Wm({axis:r,ticks:a,bandSize:o,entry:e,index:t}),y:en()(l)?null:n.scale(l),value:l,payload:e}:{x:en()(l)?null:r.scale(l),y:Wm({axis:n,ticks:i,bandSize:o,entry:e,index:t}),value:l,payload:e}}));return Lj({points:d,layout:u},c)}));var Xj=bN({chartName:"LineChart",GraphicalChild:Wj,axisComponents:[{axisType:"xAxis",AxisComp:ej},{axisType:"yAxis",AxisComp:dj}],formatAxisMap:Ob});const Yj=fr("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]),qj=fr("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Qj=fr("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Zj=fr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Jj=fr("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ek=fr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),tk=fr("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]),rk=fr("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]),nk=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],ak=()=>{const e=ee(),[t,r]=(0,n.useState)(!0),[a,i]=(0,n.useState)({inventorySummary:{},productCategories:[],recentTransactions:[],lowStockItems:[],inventoryValue:[],productionOverview:[],monthlyFinancials:[]}),[s,o]=(0,n.useState)({start:new Date((new Date).setDate((new Date).getDate()-30)),end:new Date}),[l,c]=(0,n.useState)({phieuList:[],chiTietList:[],hangHoaList:[],reportData:[]});(0,n.useEffect)((()=>{(async()=>{r(!0);try{if(console.log("\u0110ang t\u1ea3i d\u1eef li\u1ec7u dashboard..."),0===l.phieuList.length){const e=await ut.apiRequest("DMHH","Find",{}),t=await ut.apiRequest("XUATNHAPKHO","Find",{}),r=await ut.apiRequest("XUATNHAPKHO_CHITIET","Find",{}),n=await ut.apiRequest("BC","Find",{});console.log("D\u1eef li\u1ec7u t\u1ea3i v\u1ec1:",{tonKhoData:null===e||void 0===e?void 0:e.length,phieuData:null===t||void 0===t?void 0:t.length,chiTietData:null===r||void 0===r?void 0:r.length,reportData:null===n||void 0===n?void 0:n.length}),c({phieuList:t||[],chiTietList:r||[],hangHoaList:e||[],reportData:n||[]}),e&&t&&r?u(e,t,r,n||[]):(console.error("Thi\u1ebfu d\u1eef li\u1ec7u c\u1ea7n thi\u1ebft"),et.error("Kh\xf4ng th\u1ec3 t\u1ea3i \u0111\u1ee7 d\u1eef li\u1ec7u. Vui l\xf2ng th\u1eed l\u1ea1i."))}else u(l.hangHoaList,l.phieuList,l.chiTietList,l.reportData)}catch(e){console.error("L\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u dashboard:",e),et.error("Kh\xf4ng th\u1ec3 t\u1ea3i d\u1eef li\u1ec7u. Vui l\xf2ng th\u1eed l\u1ea1i.")}finally{r(!1)}})()}),[s,l]);const u=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];try{const a=((e,t,r)=>{const n={};e.forEach((e=>{n[e["M\xc3 H\xc0NG"]]={"M\xc3 H\xc0NG":e["M\xc3 H\xc0NG"],"T\xcaN H\xc0NG":e["T\xcaN H\xc0NG"],"LO\u1ea0I":e["LO\u1ea0I"],"\u0110\u01a0N V\u1eca T\xcdNH":e["\u0110\u01a0N V\u1eca T\xcdNH"],"\u0110\u01a0N GI\xc1":e["\u0110\u01a0N GI\xc1"],"T\u1ed2N \u0110\u1ea6U K\u1ef2":0,"NH\u1eacP TRONG K\u1ef2":0,"XU\u1ea4T TRONG K\u1ef2":0,"T\u1ed2N CU\u1ed0I K\u1ef2":0,"GI\xc1 TR\u1eca T\u1ed2N KHO":0}}));const a=new Date(s.start);a.setHours(0,0,0,0);const i=new Date(s.end);return i.setHours(23,59,59,999),t.forEach((e=>{const t=new Date(e["NG\xc0Y GD"]),s=e["M\xc3 PHI\u1ebeU"],o=e["LO\u1ea0I PHI\u1ebeU"];r.filter((e=>e["M\xc3 PHI\u1ebeU"]===s)).forEach((e=>{const r=e["M\xc3 H\xc0NG"],s=parseFloat(e["S\u1ed0 L\u01af\u1ee2NG"])||0;n[r]&&(t<a?"NH\u1eacP KHO"===o?n[r]["T\u1ed2N \u0110\u1ea6U K\u1ef2"]+=s:"XU\u1ea4T KHO"===o&&(n[r]["T\u1ed2N \u0110\u1ea6U K\u1ef2"]-=s):t>=a&&t<=i&&("NH\u1eacP KHO"===o?n[r]["NH\u1eacP TRONG K\u1ef2"]+=s:"XU\u1ea4T KHO"===o&&(n[r]["XU\u1ea4T TRONG K\u1ef2"]+=s)))}))})),Object.values(n).forEach((e=>{e["T\u1ed2N CU\u1ed0I K\u1ef2"]=e["T\u1ed2N \u0110\u1ea6U K\u1ef2"]+e["NH\u1eacP TRONG K\u1ef2"]-e["XU\u1ea4T TRONG K\u1ef2"],e["GI\xc1 TR\u1eca T\u1ed2N KHO"]=e["T\u1ed2N CU\u1ed0I K\u1ef2"]*e["\u0110\u01a0N GI\xc1"]})),console.log("K\u1ebft qu\u1ea3 t\xednh t\u1ed3n kho:",Object.values(n)),Object.values(n)})(e,t,r),o=new Date(s.start),l=new Date(s.end),c=t.filter((e=>{const t=new Date(e["NG\xc0Y GD"]);return t>=o&&t<=l})),u=a.reduce(((e,t)=>e+t["GI\xc1 TR\u1eca T\u1ed2N KHO"]),0);console.log("T\u1ed5ng gi\xe1 tr\u1ecb t\u1ed3n kho:",u);const d=a.length,h=a.filter((e=>"NGUY\xcaN V\u1eacT LI\u1ec6U"===e["LO\u1ea0I"])).length,f=a.filter((e=>"TH\xc0NH PH\u1ea8M"===e["LO\u1ea0I"])).length,p=a.filter((e=>parseFloat(e["T\u1ed2N CU\u1ed0I K\u1ef2"]||0)<10)).sort(((e,t)=>parseFloat(e["T\u1ed2N CU\u1ed0I K\u1ef2"]||0)-parseFloat(t["T\u1ed2N CU\u1ed0I K\u1ef2"]||0))).slice(0,5),m=a.reduce(((e,t)=>{const r=t["LO\u1ea0I"]||"Kh\xe1c",n=t["GI\xc1 TR\u1eca T\u1ed2N KHO"]||0;return e[r]||(e[r]=0),e[r]+=n,e}),{}),g=Object.keys(m).map((e=>({name:e,value:m[e]}))),x=c.sort(((e,t)=>new Date(t["NG\xc0Y GD"])-new Date(e["NG\xc0Y GD"]))).slice(0,5),b=[{name:"Nguy\xean v\u1eadt li\u1ec7u",value:h},{name:"Th\xe0nh ph\u1ea9m",value:f}],y=c.reduce(((e,t)=>{const r=new Date(t["NG\xc0Y GD"]),n=`${r.getMonth()+1}/${r.getFullYear()}`;e[n]||(e[n]={month:n,nhapKho:0,xuatKho:0});const a=parseFloat(t["T\u1ed4NG TI\u1ec0N"]||0);return"NH\u1eacP KHO"===t["LO\u1ea0I PHI\u1ebeU"]?e[n].nhapKho+=a:"XU\u1ea4T KHO"===t["LO\u1ea0I PHI\u1ebeU"]&&(e[n].xuatKho+=a),e}),{}),v=Object.values(y).sort(((e,t)=>{const[r,n]=e.month.split("/").map(Number),[a,i]=t.month.split("/").map(Number);return n!==i?n-i:r-a})),N=Array.isArray(n)?n.filter((e=>"\u0110\xe3 duy\u1ec7t"===e["TR\u1ea0NG TH\xc1I"])).reduce(((e,t)=>{const r=t["C\xd4NG \u0110O\u1ea0N"];return e[r]||(e[r]={name:r,volume:0}),e[r].volume+=parseFloat(t["KH\u1ed0I L\u01af\u1ee2NG"]||0),e}),{}):{};i({inventorySummary:{totalProducts:d,rawMaterials:h,finishedProducts:f,totalValue:u},productCategories:b,recentTransactions:x,lowStockItems:p,inventoryValue:g,productionOverview:Object.values(N).sort(((e,t)=>t.volume-e.volume)).slice(0,5),monthlyFinancials:v}),console.log("Dashboard data updated:",{totalProducts:d,totalValue:u,lowStockItems:p.length,recentTransactions:x.length})}catch(a){console.error("Error processing dashboard data:",a),et.error("Kh\xf4ng th\u1ec3 x\u1eed l\xfd d\u1eef li\u1ec7u t\u1ed5ng quan. Vui l\xf2ng th\u1eed l\u1ea1i.")}},d=e=>{const t=new Date,r=new Date;r.setDate(t.getDate()-e),o({start:r,end:t})},h=e=>e.toLocaleString("vi-VN")+" \u0111",f=()=>e("/tonkho"),p=()=>e("/xuatnhapkho");return(0,ar.jsxs)("div",{className:"p-4 md:p-6 bg-gray-50 min-h-screen",children:[(0,ar.jsxs)("div",{className:"mx-auto",children:[(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 mb-6 border border-gray-100",children:[(0,ar.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ar.jsx)(Yj,{className:"h-8 w-8 text-indigo-600"}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"T\u1ed5ng quan h\u1ec7 th\u1ed1ng qu\u1ea3n l\xfd kho"}),(0,ar.jsxs)("p",{className:"text-gray-500",children:["Xem b\xe1o c\xe1o t\u1ed5ng quan t\u1eeb ",s.start.toLocaleDateString("vi-VN")," \u0111\u1ebfn ",s.end.toLocaleDateString("vi-VN")]})]})]}),(0,ar.jsxs)("div",{className:"flex gap-2 mt-4 md:mt-0",children:[(0,ar.jsx)("button",{onClick:()=>d(7),className:"px-3 py-1.5 rounded-lg text-sm "+(s.end.getDate()-s.start.getDate()===7?"bg-indigo-100 text-indigo-700 border border-indigo-200":"bg-white text-gray-700 border border-gray-300"),children:"7 ng\xe0y"}),(0,ar.jsx)("button",{onClick:()=>d(30),className:"px-3 py-1.5 rounded-lg text-sm "+(s.end.getDate()-s.start.getDate()===30?"bg-indigo-100 text-indigo-700 border border-indigo-200":"bg-white text-gray-700 border border-gray-300"),children:"30 ng\xe0y"}),(0,ar.jsx)("button",{onClick:()=>d(90),className:"px-3 py-1.5 rounded-lg text-sm "+(s.end.getDate()-s.start.getDate()===90?"bg-indigo-100 text-indigo-700 border border-indigo-200":"bg-white text-gray-700 border border-gray-300"),children:"90 ng\xe0y"})]})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,ar.jsx)("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-lg p-4 border border-indigo-200 shadow-sm transition-transform duration-200 hover:shadow-md hover:scale-[1.02]",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("p",{className:"text-sm text-indigo-600 font-medium",children:"T\u1ed3n kho hi\u1ec7n t\u1ea1i"}),(0,ar.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:t?"...":h(a.inventorySummary.totalValue)}),(0,ar.jsx)("p",{className:"text-xs text-indigo-500 mt-1",children:t?"...":`${a.inventorySummary.totalProducts} m\u1eb7t h\xe0ng`})]}),(0,ar.jsx)("div",{className:"h-12 w-12 bg-indigo-200 rounded-full flex items-center justify-center",children:(0,ar.jsx)(Yj,{className:"h-6 w-6 text-indigo-600"})})]})}),(0,ar.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200 shadow-sm transition-transform duration-200 hover:shadow-md hover:scale-[1.02]",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("p",{className:"text-sm text-green-600 font-medium",children:"Giao d\u1ecbch nh\u1eadp/xu\u1ea5t"}),(0,ar.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:t?"...":a.recentTransactions.length}),(0,ar.jsxs)("p",{className:"text-xs text-green-500 mt-1",children:["Trong ",(s.end-s.start)/864e5," ng\xe0y qua"]})]}),(0,ar.jsx)("div",{className:"h-12 w-12 bg-green-200 rounded-full flex items-center justify-center",children:(0,ar.jsx)(qj,{className:"h-6 w-6 text-green-600"})})]})}),(0,ar.jsx)("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg p-4 border border-amber-200 shadow-sm transition-transform duration-200 hover:shadow-md hover:scale-[1.02]",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("p",{className:"text-sm text-amber-600 font-medium",children:"Nguy\xean v\u1eadt li\u1ec7u"}),(0,ar.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:t?"...":a.inventorySummary.rawMaterials}),(0,ar.jsx)("p",{className:"text-xs text-amber-500 mt-1",children:"Lo\u1ea1i nguy\xean v\u1eadt li\u1ec7u"})]}),(0,ar.jsx)("div",{className:"h-12 w-12 bg-amber-200 rounded-full flex items-center justify-center",children:(0,ar.jsx)(yr,{className:"h-6 w-6 text-amber-600"})})]})}),(0,ar.jsx)("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-4 border border-red-200 shadow-sm transition-transform duration-200 hover:shadow-md hover:scale-[1.02]",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("p",{className:"text-sm text-red-600 font-medium",children:"C\u1ea3nh b\xe1o kho"}),(0,ar.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:t?"...":a.lowStockItems.length}),(0,ar.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"M\u1eb7t h\xe0ng s\u1eafp h\u1ebft"})]}),(0,ar.jsx)("div",{className:"h-12 w-12 bg-red-200 rounded-full flex items-center justify-center",children:(0,ar.jsx)(Qj,{className:"h-6 w-6 text-red-600"})})]})})]}),(0,ar.jsxs)("div",{className:"mt-6 flex flex-wrap gap-2",children:[(0,ar.jsxs)("button",{onClick:f,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2 transition-colors",children:[(0,ar.jsx)(Yj,{className:"h-4 w-4"}),"Qu\u1ea3n l\xfd t\u1ed3n kho"]}),(0,ar.jsxs)("button",{onClick:p,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 transition-colors",children:[(0,ar.jsx)(qj,{className:"h-4 w-4"}),"Nh\u1eadp xu\u1ea5t kho"]}),(0,ar.jsxs)("button",{onClick:()=>e("/dmhh"),className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 flex items-center gap-2 transition-colors",children:[(0,ar.jsx)(yr,{className:"h-4 w-4"}),"Danh m\u1ee5c h\xe0ng h\xf3a"]}),(0,ar.jsxs)("button",{onClick:()=>e("/baocaoreport"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 transition-colors",children:[(0,ar.jsx)(Zj,{className:"h-4 w-4"}),"B\xe1o c\xe1o s\u1ea3n xu\u1ea5t"]})]})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100",children:[(0,ar.jsx)("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Gi\xe1 tr\u1ecb t\u1ed3n kho theo lo\u1ea1i"}),(0,ar.jsx)("div",{className:"h-72",children:t?(0,ar.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,ar.jsx)(Jj,{className:"w-10 h-10 text-indigo-500 animate-spin"})}):(0,ar.jsx)(Fn,{width:"100%",height:"100%",children:(0,ar.jsxs)(yw,{children:[(0,ar.jsx)(bw,{data:a.inventoryValue,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:e=>{let{name:t,percent:r}=e;return`${t}: ${(100*r).toFixed(0)}%`},children:a.inventoryValue.map(((e,t)=>(0,ar.jsx)(Qg,{fill:nk[t%nk.length]},`cell-${t}`)))}),(0,ar.jsx)(Ga,{formatter:e=>h(e)}),(0,ar.jsx)(ts,{})]})})})]}),(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100",children:[(0,ar.jsx)("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Gi\xe1 tr\u1ecb nh\u1eadp xu\u1ea5t theo th\xe1ng"}),(0,ar.jsx)("div",{className:"h-72",children:t?(0,ar.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,ar.jsx)(Jj,{className:"w-10 h-10 text-indigo-500 animate-spin"})}):(0,ar.jsx)(Fn,{width:"100%",height:"100%",children:(0,ar.jsxs)(hj,{data:a.monthlyFinancials,children:[(0,ar.jsx)(Cj,{strokeDasharray:"3 3"}),(0,ar.jsx)(ej,{dataKey:"month"}),(0,ar.jsx)(dj,{}),(0,ar.jsx)(Ga,{formatter:e=>h(e)}),(0,ar.jsx)(ts,{}),(0,ar.jsx)(vb,{dataKey:"nhapKho",name:"Nh\u1eadp kho",fill:"#0088FE"}),(0,ar.jsx)(vb,{dataKey:"xuatKho",name:"Xu\u1ea5t kho",fill:"#00C49F"})]})})})]}),(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100",children:[(0,ar.jsx)("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"S\u1ea3n l\u01b0\u1ee3ng theo c\xf4ng \u0111o\u1ea1n"}),(0,ar.jsx)("div",{className:"h-72",children:t?(0,ar.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,ar.jsx)(Jj,{className:"w-10 h-10 text-indigo-500 animate-spin"})}):(0,ar.jsx)(Fn,{width:"100%",height:"100%",children:(0,ar.jsxs)(hj,{data:a.productionOverview,children:[(0,ar.jsx)(Cj,{strokeDasharray:"3 3"}),(0,ar.jsx)(ej,{dataKey:"name"}),(0,ar.jsx)(dj,{}),(0,ar.jsx)(Ga,{}),(0,ar.jsx)(ts,{}),(0,ar.jsx)(vb,{dataKey:"volume",name:"S\u1ea3n l\u01b0\u1ee3ng",fill:"#8884d8",children:a.productionOverview.map(((e,t)=>(0,ar.jsx)(Qg,{fill:nk[t%nk.length]},`cell-${t}`)))})]})})})]}),(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100",children:[(0,ar.jsx)("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Ph\xe2n lo\u1ea1i h\xe0ng h\xf3a"}),(0,ar.jsx)("div",{className:"h-72",children:t?(0,ar.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,ar.jsx)(Jj,{className:"w-10 h-10 text-indigo-500 animate-spin"})}):(0,ar.jsx)(Fn,{width:"100%",height:"100%",children:(0,ar.jsxs)(yw,{children:[(0,ar.jsx)(bw,{data:a.productCategories,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:e=>{let{name:t,percent:r}=e;return`${t}: ${(100*r).toFixed(0)}%`},children:a.productCategories.map(((e,t)=>(0,ar.jsx)(Qg,{fill:nk[t%nk.length]},`cell-${t}`)))}),(0,ar.jsx)(Ga,{}),(0,ar.jsx)(ts,{})]})})})]})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ar.jsx)("h2",{className:"text-lg font-bold text-gray-800",children:"Giao d\u1ecbch g\u1ea7n \u0111\xe2y"}),(0,ar.jsxs)("button",{onClick:p,className:"text-indigo-600 hover:text-indigo-800 text-sm flex items-center gap-1",children:["Xem t\u1ea5t c\u1ea3 ",(0,ar.jsx)(ek,{className:"h-4 w-4"})]})]}),(0,ar.jsx)("div",{className:"overflow-x-auto",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gray-50",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"M\xe3 phi\u1ebfu"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lo\u1ea1i"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ng\xe0y GD"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gi\xe1 tr\u1ecb"})]})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t?Array(5).fill(0).map(((e,t)=>(0,ar.jsxs)("tr",{className:"animate-pulse",children:[(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,ar.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20"})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,ar.jsx)("div",{className:"h-4 bg-gray-200 rounded w-16"})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,ar.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24"})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:(0,ar.jsx)("div",{className:"h-4 bg-gray-200 rounded w-16 ml-auto"})})]},t))):a.recentTransactions.length>0?a.recentTransactions.map((e=>(0,ar.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-indigo-600",children:e["M\xc3 PHI\u1ebeU"]}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:(0,ar.jsxs)("div",{className:"flex items-center",children:["NH\u1eacP KHO"===e["LO\u1ea0I PHI\u1ebeU"]?(0,ar.jsx)(tk,{className:"h-4 w-4 text-green-500 mr-1"}):(0,ar.jsx)(rk,{className:"h-4 w-4 text-red-500 mr-1"}),e["LO\u1ea0I PHI\u1ebeU"]]})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:new Date(e["NG\xc0Y GD"]).toLocaleDateString("vi-VN")}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right font-medium",children:h(parseFloat(e["T\u1ed4NG TI\u1ec0N"]||0))})]},e["M\xc3 PHI\u1ebeU"]))):(0,ar.jsx)("tr",{children:(0,ar.jsx)("td",{colSpan:"4",className:"px-4 py-3 text-center text-sm text-gray-500",children:"Kh\xf4ng c\xf3 giao d\u1ecbch n\xe0o trong kho\u1ea3ng th\u1eddi gian n\xe0y"})})})]})})]}),(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ar.jsx)("h2",{className:"text-lg font-bold text-gray-800",children:"M\u1eb7t h\xe0ng s\u1eafp h\u1ebft"}),(0,ar.jsxs)("button",{onClick:f,className:"text-indigo-600 hover:text-indigo-800 text-sm flex items-center gap-1",children:["Xem t\u1ea5t c\u1ea3 ",(0,ar.jsx)(ek,{className:"h-4 w-4"})]})]}),(0,ar.jsx)("div",{className:"overflow-x-auto",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gray-50",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"M\xe3 h\xe0ng"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"T\xean h\xe0ng"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"T\u1ed3n kho"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gi\xe1 tr\u1ecb"})]})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t?Array(5).fill(0).map(((e,t)=>(0,ar.jsxs)("tr",{className:"animate-pulse",children:[(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,ar.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20"})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,ar.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32"})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:(0,ar.jsx)("div",{className:"h-4 bg-gray-200 rounded w-12 ml-auto"})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:(0,ar.jsx)("div",{className:"h-4 bg-gray-200 rounded w-16 ml-auto"})})]},t))):a.lowStockItems.length>0?a.lowStockItems.map((e=>(0,ar.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-indigo-600",children:e["M\xc3 H\xc0NG"]}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:e["T\xcaN H\xc0NG"]}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right",children:(0,ar.jsx)("span",{className:"font-medium text-red-600",children:parseFloat(e["T\u1ed2N CU\u1ed0I K\u1ef2"]||0).toLocaleString("vi-VN")})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right font-medium",children:h(parseFloat(e["T\u1ed2N CU\u1ed0I K\u1ef2"]||0)*parseFloat(e["\u0110\u01a0N GI\xc1"]||0))})]},e["M\xc3 H\xc0NG"]))):(0,ar.jsx)("tr",{children:(0,ar.jsx)("td",{colSpan:"4",className:"px-4 py-3 text-center text-sm text-gray-500",children:"Kh\xf4ng c\xf3 m\u1eb7t h\xe0ng n\xe0o s\u1eafp h\u1ebft"})})})]})})]})]}),(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100 mt-6",children:[(0,ar.jsx)("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Hi\u1ec7u su\u1ea5t s\u1ea3n xu\u1ea5t theo th\u1eddi gian"}),(0,ar.jsx)("div",{className:"h-80",children:t?(0,ar.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,ar.jsx)(Jj,{className:"w-10 h-10 text-indigo-500 animate-spin"})}):(0,ar.jsx)(Fn,{width:"100%",height:"100%",children:(0,ar.jsxs)(Xj,{data:a.monthlyFinancials,margin:{top:5,right:30,left:20,bottom:5},children:[(0,ar.jsx)(Cj,{strokeDasharray:"3 3"}),(0,ar.jsx)(ej,{dataKey:"month"}),(0,ar.jsx)(dj,{}),(0,ar.jsx)(Ga,{formatter:e=>h(e)}),(0,ar.jsx)(ts,{}),(0,ar.jsx)(Wj,{type:"monotone",dataKey:"nhapKho",name:"Gi\xe1 tr\u1ecb nh\u1eadp kho",stroke:"#8884d8",activeDot:{r:8}}),(0,ar.jsx)(Wj,{type:"monotone",dataKey:"xuatKho",name:"Gi\xe1 tr\u1ecb xu\u1ea5t kho",stroke:"#82ca9d"})]})})})]})]}),(0,ar.jsx)(lt,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})},ik=fr("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),sk=fr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ok=fr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),lk=fr("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ck=fr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),uk=()=>window.innerWidth<=768||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),dk=e=>{var t,r;let{children:a}=e;const i=ee(),s=Z(),[o,l]=(0,n.useState)(!uk()),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)(uk()),[f,p]=(0,n.useState)(!1),[m,g]=(0,n.useState)({warehouse:!1,productivity:!1,other:!1}),[x,b]=(0,n.useState)([]),y=ut.getUserData();(0,n.useEffect)((()=>{const e=()=>{const e=uk();h(e),e&&o?(l(!1),p(!1)):e||o||l(!0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[o]),(0,n.useEffect)((()=>{if(!f){const e=s.pathname;v.forEach((t=>{t.items.some((t=>t.path===e))&&g((e=>({...e,[t.id]:!0})))}))}}),[s.pathname,f]),(0,n.useEffect)((()=>(window.registerPageActions=e=>{b(e)},window.clearPageActions=()=>{b([])},()=>{delete window.registerPageActions,delete window.clearPageActions})),[]),(0,n.useEffect)((()=>{const e=e=>{c&&!e.target.closest(".profile-menu-container")&&u(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[c]);const v=[{id:"home",title:"Trang ch\u1ee7",icon:ik,color:"text-gray-600",items:[{text:"Trang ch\u1ee7",icon:ik,path:"/home"}],alwaysExpanded:!0},{id:"warehouse",title:"Qu\u1ea3n l\xfd kho",icon:yr,color:"text-blue-600",items:[{text:"C\xe0i \u0111\u1eb7t gi\xe1 b\xe1n",icon:Nr,path:"/giaban"},{text:"Qu\u1ea3n l\xfd h\xe0ng h\xf3a",icon:Nr,path:"/dmhh"},{text:"Qu\u1ea3n l\xfd xu\u1ea5t nh\u1eadp kho",icon:wr,path:"/xuatnhapkho"},{text:"Chi ti\u1ebft xu\u1ea5t nh\u1eadp kho",icon:wr,path:"/chitietxuatnhapkho"},{text:"B\xe1o c\xe1o kho",icon:jr,path:"/tonkho"},{text:"M\xe3 ki\u1ec7n",icon:jr,path:"/makien"}]},{id:"productivity",title:"Qu\u1ea3n l\xfd n\u0103ng su\u1ea5t",icon:kr,color:"text-green-600",items:[{text:"C\xf4ng \u0111o\u1ea1n - \u0110\u01a1n gi\xe1",icon:Tr,path:"/congdoan_dongia"},{text:"Ph\xe2n b\u1ed1 nh\xe2n s\u1ef1",icon:Tr,path:"/phanbonhansu"},{text:"Nh\u1eadp bao b\xec",icon:Sr,path:"/nhapbaobi"},{text:"B\xe1o c\xe1o s\u1ea3n l\u01b0\u1ee3ng",icon:Sr,path:"/report"},{text:"T\u1ed5ng h\u1ee3p n\u0103ng su\u1ea5t",icon:Sr,path:"/tonghop"}]},{id:"other",title:"Ch\u1ee9c n\u0103ng kh\xe1c",icon:vr,color:"text-gray-600",items:[{text:"T\u1ed5ng quan",icon:_r,path:"/dashboard"},{text:"B\xe1o c\xe1o s\u1ea3n xu\u1ea5t",icon:Er,path:"/baocaoreport"},{text:"Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng",icon:pr,path:"/users"},{text:"Qu\u1ea3n l\xfd kh\xe1ch h\xe0ng",icon:pr,path:"/dskh"},{text:"Qu\u1ea3n l\xfd h\u1ee3p \u0111\u1ed3ng",icon:pr,path:"/hopdongnguyentac"}]}],N=()=>{ut.logout(),i("/")},w=()=>{d?l(!o):o?p(!f):(l(!0),p(!1))},j=(null===y||void 0===y||null===(t=y.username)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.toUpperCase())||"?",k=f?"4rem":"18rem",T=()=>(0,ar.jsxs)("div",{className:"flex flex-col h-full bg-white",children:[(0,ar.jsxs)("div",{className:"flex items-center px-4 py-4 border-b "+(f?"justify-center px-2":"gap-2"),children:[(0,ar.jsx)("img",{src:"/logo1.png",alt:"Logo",className:"h-8 "+(f?"mx-auto":"")}),!f&&(0,ar.jsx)("h1",{className:"text-xl font-semibold text-gray-800",children:"Ho\xe0ng Nguy\xean Long"})]}),(0,ar.jsx)("div",{className:"px-1 py-4 border-b "+(f?"px-2":""),children:(0,ar.jsxs)("div",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded-lg "+(f?"justify-center space-x-0":""),onClick:()=>{i("/profile"),d&&l(!1)},title:f?(null===y||void 0===y?void 0:y["H\u1ecd v\xe0 T\xean"])||(null===y||void 0===y?void 0:y.username):"",children:[(0,ar.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-semibold",children:j}),!f&&(0,ar.jsxs)("div",{children:[(0,ar.jsx)("p",{className:"font-medium text-gray-800",children:(null===y||void 0===y?void 0:y["H\u1ecd v\xe0 T\xean"])||(null===y||void 0===y?void 0:y.username)}),(0,ar.jsx)("p",{className:"text-sm text-gray-500",children:(null===y||void 0===y?void 0:y["Ch\u1ee9c v\u1ee5"])||"Nh\xe2n vi\xean"})]})]})}),(0,ar.jsxs)("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:[v.map((e=>{const t=e.icon,r=m[e.id];return(0,ar.jsxs)("div",{className:"mb-1",children:[e.alwaysExpanded||f?null:(0,ar.jsxs)("button",{onClick:()=>{return t=e.id,void(f||g((e=>({...e,[t]:!e[t]}))));var t},className:"w-full flex items-center justify-between px-3 py-2 text-left text-sm font-medium text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[(0,ar.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ar.jsx)(t,{className:`h-5 w-5 ${e.color}`}),(0,ar.jsx)("span",{children:e.title})]}),r?(0,ar.jsx)(sk,{className:"h-4 w-4 text-gray-400 transition-transform"}):(0,ar.jsx)(ek,{className:"h-4 w-4 text-gray-400 transition-transform"})]}),(r||e.alwaysExpanded)&&!f||f?(0,ar.jsx)("div",{className:`space-y-1 ${e.alwaysExpanded||f?"":"ml-6 mt-1"} transition-all duration-200`,children:e.items.map((e=>{const t=e.icon,r=s.pathname===e.path;return(0,ar.jsxs)("button",{onClick:()=>{i(e.path),d&&l(!1)},className:`w-full flex items-center ${f?"justify-center px-3":"space-x-3 px-3"} py-2 rounded-lg transition-colors text-sm ${r?"bg-blue-50 text-blue-600 border-l-2 border-blue-500":"text-gray-600 hover:bg-gray-50"}`,title:f?e.text:"",children:[(0,ar.jsx)(t,{className:"h-4 w-4 "+(r?"text-blue-500":"text-gray-500")}),!f&&(0,ar.jsx)("span",{className:"font-medium "+(r?"text-blue-600":"text-gray-700"),children:e.text})]},e.text)}))}):null]},e.id)})),(0,ar.jsx)("div",{className:"border-t pt-2 mt-4",children:(0,ar.jsxs)("button",{onClick:N,className:`w-full flex items-center ${f?"justify-center px-3":"space-x-3 px-3"} py-2 rounded-lg transition-colors text-sm text-gray-600 hover:bg-gray-50`,title:f?"\u0110\u0103ng xu\u1ea5t":"",children:[(0,ar.jsx)(ok,{className:"h-4 w-4 text-gray-500"}),!f&&(0,ar.jsx)("span",{className:"font-medium text-gray-700",children:"\u0110\u0103ng xu\u1ea5t"})]})})]})]});return(0,ar.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[o&&d&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-gray-800/50 z-40",onClick:w}),(0,ar.jsx)("aside",{className:`fixed top-0 left-0 h-full transform transition-all duration-200 ease-in-out z-50 \n                ${o?"translate-x-0":"-translate-x-full"} shadow-lg`,style:{width:d?"18rem":k},children:(0,ar.jsx)(T,{})}),(0,ar.jsxs)("div",{className:"transition-all duration-200 "+(o?d?"lg:pl-72":"lg:pl-"+(f?"16":"72"):"pl-0"),style:{paddingLeft:o&&!d?k:0},children:[(0,ar.jsx)("header",{className:"fixed top-0 right-0 left-0 z-20 transition-all duration-200",style:{left:o&&!d?k:0},children:(0,ar.jsxs)("div",{className:"h-16 bg-white border-b px-4 flex items-center justify-between shadow-sm",children:[(0,ar.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ar.jsx)("button",{className:"text-gray-500 hover:text-gray-700",onClick:w,"aria-label":o?f?"M\u1edf r\u1ed9ng menu":"Thu g\u1ecdn menu":"M\u1edf menu",children:o?(0,ar.jsx)(lk,{className:"h-6 w-6"}):(0,ar.jsx)(ck,{className:"h-6 w-6"})}),(0,ar.jsx)("h2",{className:"text-lg font-medium hidden md:block",children:(()=>{for(const e of v){const t=e.items.find((e=>e.path===s.pathname));if(t)return t.text}return"Trang ch\u1ee7"})()})]}),(0,ar.jsx)("div",{className:"flex-1 flex justify-center",children:(0,ar.jsx)("div",{className:"flex items-center space-x-2 overflow-x-auto max-w-[90%] px-4",children:x.map(((e,t)=>e.component?(0,ar.jsx)("div",{className:"flex-shrink-0",children:e.component},t):(0,ar.jsxs)("button",{onClick:e.onClick,className:`${e.className||"px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"} flex items-center space-x-1 flex-shrink-0`,title:e.title||e.text,disabled:e.disabled,children:[e.icon&&e.icon,(0,ar.jsx)("span",{className:d&&e.text?"hidden sx:inline":"",children:e.text})]},t)))})}),(0,ar.jsxs)("div",{className:"relative profile-menu-container",children:[(0,ar.jsx)("button",{onClick:()=>u(!c),className:"flex items-center space-x-3 hover:bg-gray-50 rounded-lg p-2","aria-label":"Menu ng\u01b0\u1eddi d\xf9ng",children:(0,ar.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-medium",children:j})}),c&&(0,ar.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border py-1 z-50",children:[(0,ar.jsxs)("button",{onClick:()=>{i("/profile"),u(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-2",children:[(0,ar.jsx)(pr,{className:"h-4 w-4"}),(0,ar.jsx)("span",{children:"Th\xf4ng tin c\xe1 nh\xe2n"})]}),(0,ar.jsxs)("button",{onClick:N,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-2",children:[(0,ar.jsx)(ok,{className:"h-4 w-4"}),(0,ar.jsx)("span",{children:"\u0110\u0103ng xu\u1ea5t"})]})]})]})]})}),(0,ar.jsx)("main",{className:"pt-16 transition-all duration-200",children:a})]})]})},hk=fr("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),fk=fr("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]),pk=fr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),mk=fr("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),gk=fr("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),xk=fr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bk=e=>{if(!e)return"";if(e.startsWith("http")||e.startsWith("data:"))return e;if(e.startsWith("DSNV_Images/")){return`https://www.appsheet.com/template/gettablefileurl?appName=${encodeURIComponent("Qu\u1ea3nl\xfdqu\xe1ncafe-668554821")}&tableName=${encodeURIComponent("DSNV")}&fileName=${encodeURIComponent(e)}`}return e},yk=()=>{var e,t,r,a;const[i,s]=(0,n.useState)(!0),[o,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)(!1),[f,p]=(0,n.useState)(!1),[m,g]=(0,n.useState)(null),[x,b]=(0,n.useState)(null),[y,v]=(0,n.useState)({"H\u1ecd v\xe0 T\xean":"","Ch\u1ee9c v\u1ee5":"","Ph\xf2ng":"",Email:"",Image:""}),[N,w]=(0,n.useState)({currentPassword:"",newPassword:"",confirmPassword:""});(0,n.useEffect)((()=>{(async()=>{try{const e=ut.getUserData();if(!e||!e.username)return void et.error("Phi\xean \u0111\u0103ng nh\u1eadp \u0111\xe3 h\u1ebft h\u1ea1n");const t=(await ut.apiRequest("DSNV","Find",{Properties:{Selector:`Filter(DSNV, [username] = "${e.username}")`}}))[0];if(!t)throw new Error("Kh\xf4ng t\xecm th\u1ea5y th\xf4ng tin ng\u01b0\u1eddi d\xf9ng");g(t),v({"H\u1ecd v\xe0 T\xean":t["H\u1ecd v\xe0 T\xean"]||"","Ch\u1ee9c v\u1ee5":t["Ch\u1ee9c v\u1ee5"]||"","Ph\xf2ng":t["Ph\xf2ng"]||"",Email:t.Email||"",Image:t.Image||""})}catch(e){console.error("Error fetching user data:",e),et.error("Kh\xf4ng th\u1ec3 t\u1ea3i th\xf4ng tin ng\u01b0\u1eddi d\xf9ng")}finally{s(!1)}})()}),[]);const j=e=>{v({...y,[e.target.name]:e.target.value})},k=e=>{w({...N,[e.target.name]:e.target.value})};return i?(0,ar.jsxs)("div",{className:"flex flex-col justify-center items-center min-h-screen",children:[(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-500 rounded-full animate-spin"}),(0,ar.jsx)("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-transparent border-t-blue-300 rounded-full animate-pulse"})]}),(0,ar.jsx)("p",{className:"mt-4 text-gray-600 font-medium",children:"\u0110ang t\u1ea3i th\xf4ng tin..."})]}):(0,ar.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,ar.jsx)("div",{className:"bg-white rounded-xl shadow-sm",children:(0,ar.jsx)("div",{className:"p-6",children:(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,ar.jsx)("div",{className:"md:col-span-1",children:(0,ar.jsxs)("div",{className:"flex flex-col items-center",children:[(0,ar.jsxs)("div",{className:"relative group",children:[y.Image?(0,ar.jsx)("img",{src:y.Image instanceof File?URL.createObjectURL(y.Image):bk(y.Image),alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-md",onError:e=>{var t,r,n,a;e.target.onerror=null;const i=e.target.parentNode,s=(null===(t=y["H\u1ecd v\xe0 T\xean"])||void 0===t||null===(r=t[0])||void 0===r?void 0:r.toUpperCase())||(null===m||void 0===m||null===(n=m.username)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.toUpperCase())||"?",o=document.createElement("div");o.className="w-32 h-32 rounded-full bg-blue-500 flex items-center justify-center text-white text-4xl font-semibold border-4 border-white shadow-md",o.innerText=s,i&&i.replaceChild(o,e.target)}}):(0,ar.jsx)("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white text-4xl font-semibold border-4 border-white shadow-md",children:(null===(e=y["H\u1ecd v\xe0 T\xean"])||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase())||(null===m||void 0===m||null===(r=m.username)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.toUpperCase())||"?"}),o&&(0,ar.jsxs)("label",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-full cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,ar.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:async e=>{const t=e.target.files[0];if(t)if(t.size>5e6)et.error("K\xedch th\u01b0\u1edbc \u1ea3nh kh\xf4ng \u0111\u01b0\u1ee3c v\u01b0\u1ee3t qu\xe1 5MB");else try{b(t);const e=new FileReader;e.onloadend=()=>{v((t=>({...t,Image:e.result})))},e.readAsDataURL(t)}catch(r){console.error("Error handling image:",r),et.error("Kh\xf4ng th\u1ec3 \u0111\u1ecdc file \u1ea3nh")}},disabled:d}),(0,ar.jsx)(hk,{className:"h-8 w-8 text-white"})]})]}),(0,ar.jsx)("h3",{className:"mt-6 text-xl font-semibold text-gray-800",children:y["H\u1ecd v\xe0 T\xean"]||(null===m||void 0===m?void 0:m.username)}),(0,ar.jsx)("p",{className:"text-gray-500 mt-1",children:y["Ch\u1ee9c v\u1ee5"]}),(0,ar.jsx)("div",{className:"mt-4 flex gap-2",children:(0,ar.jsxs)("button",{onClick:()=>u(!0),disabled:d,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,ar.jsx)(fk,{className:"w-4 h-4 mr-2"}),"\u0110\u1ed5i m\u1eadt kh\u1ea9u"]})}),"Admin"===(null===m||void 0===m?void 0:m["Ph\xe2n quy\u1ec1n"])&&(0,ar.jsxs)("div",{className:"mt-4 flex items-center bg-blue-50 text-blue-700 px-3 py-1.5 rounded-full",children:[(0,ar.jsx)(pk,{className:"w-4 h-4 mr-1.5"}),(0,ar.jsx)("span",{className:"text-sm font-medium",children:"Qu\u1ea3n tr\u1ecb vi\xean"})]})]})}),(0,ar.jsxs)("div",{className:"md:col-span-3",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,ar.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Th\xf4ng tin c\xe1 nh\xe2n"}),(0,ar.jsx)("button",{onClick:()=>o?(async()=>{if(!d)try{h(!0);let t=y.Image;if(x)try{et.info("\u0110ang t\u1ea3i \u1ea3nh l\xean...",{autoClose:!1,toastId:"uploadingImage"});const e=await ut.uploadImage(x);e.success&&(t=e.url),et.dismiss("uploadingImage")}catch(e){console.error("Image upload error:",e),et.dismiss("uploadingImage"),et.error("Kh\xf4ng th\u1ec3 t\u1ea3i \u1ea3nh l\xean, nh\u01b0ng v\u1eabn ti\u1ebfp t\u1ee5c l\u01b0u th\xf4ng tin kh\xe1c")}const r={...m,...y,Image:t};await ut.apiRequest("DSNV","Edit",{Rows:[r]}),ut.saveAuthData(r),et.success("C\u1eadp nh\u1eadt th\xf4ng tin th\xe0nh c\xf4ng"),l(!1),b(null),g(r)}catch(e){console.error("Update profile error:",e),et.error("C\u1eadp nh\u1eadt th\xf4ng tin th\u1ea5t b\u1ea1i")}finally{h(!1)}})():l(!0),disabled:d,className:`inline-flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o?"bg-green-500 hover:bg-green-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"} ${d?"opacity-50 cursor-not-allowed":""}`,children:o?(0,ar.jsx)(ar.Fragment,{children:d?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"\u0110ang l\u01b0u..."]}):(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)(mk,{className:"w-4 h-4 mr-2"}),"L\u01b0u"]})}):(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)(gk,{className:"w-4 h-4 mr-2"}),"Ch\u1ec9nh s\u1eeda"]})})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"H\u1ecd v\xe0 t\xean"}),(0,ar.jsx)("input",{type:"text",name:"H\u1ecd v\xe0 T\xean",value:y["H\u1ecd v\xe0 T\xean"],onChange:j,disabled:!o||d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors disabled:bg-gray-50"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,ar.jsx)("input",{type:"email",name:"Email",value:y.Email,onChange:j,disabled:!o||d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors disabled:bg-gray-50"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ch\u1ee9c v\u1ee5"}),(0,ar.jsx)("input",{type:"text",name:"Ch\u1ee9c v\u1ee5",value:y["Ch\u1ee9c v\u1ee5"],onChange:j,disabled:!o||d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors disabled:bg-gray-50"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ph\xf2ng"}),(0,ar.jsx)("input",{type:"text",name:"Ph\xf2ng",value:y["Ph\xf2ng"],onChange:j,disabled:!o||d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors disabled:bg-gray-50"})]}),(0,ar.jsx)("div",{className:"sm:col-span-2 mt-2",children:(0,ar.jsxs)("div",{className:"text-sm text-gray-500",children:["T\xean \u0111\u0103ng nh\u1eadp: ",(0,ar.jsx)("span",{className:"font-medium text-gray-700",children:null===m||void 0===m?void 0:m.username})]})})]})]})]})})}),c&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center p-4 border-b",children:[(0,ar.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"}),(0,ar.jsx)("button",{onClick:()=>!f&&u(!1),disabled:f,className:"text-gray-500 hover:text-gray-700 disabled:opacity-50",children:(0,ar.jsx)(xk,{className:"w-5 h-5"})})]}),(0,ar.jsxs)("div",{className:"p-4 space-y-4",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["M\u1eadt kh\u1ea9u hi\u1ec7n t\u1ea1i ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"password",name:"currentPassword",value:N.currentPassword,onChange:k,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",required:!0})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["M\u1eadt kh\u1ea9u m\u1edbi ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"password",name:"newPassword",value:N.newPassword,onChange:k,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",required:!0})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u m\u1edbi ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"password",name:"confirmPassword",value:N.confirmPassword,onChange:k,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",required:!0})]})]}),(0,ar.jsxs)("div",{className:"p-4 border-t flex justify-end space-x-2",children:[(0,ar.jsx)("button",{onClick:()=>u(!1),disabled:f,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors "+(f?"opacity-50 cursor-not-allowed":""),children:"H\u1ee7y"}),(0,ar.jsx)("button",{onClick:async()=>{if(!f)if(N.currentPassword)if(N.newPassword)if(N.newPassword===N.confirmPassword)if(N.currentPassword===m.password)try{p(!0);const e={...m,password:N.newPassword};await ut.apiRequest("DSNV","Edit",{Rows:[e]}),ut.saveAuthData(e),g(e),et.success("\u0110\u1ed5i m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng"),u(!1),w({currentPassword:"",newPassword:"",confirmPassword:""})}catch(e){console.error("Password change error:",e),et.error("\u0110\u1ed5i m\u1eadt kh\u1ea9u th\u1ea5t b\u1ea1i")}finally{p(!1)}else et.error("M\u1eadt kh\u1ea9u hi\u1ec7n t\u1ea1i kh\xf4ng \u0111\xfang");else et.error("M\u1eadt kh\u1ea9u m\u1edbi kh\xf4ng kh\u1edbp");else et.error("Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u m\u1edbi");else et.error("Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u hi\u1ec7n t\u1ea1i")},disabled:f,className:"px-4 py-2 bg-blue-500 text-white rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors flex items-center "+(f?"opacity-50 cursor-not-allowed":""),children:f?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"\u0110ang x\u1eed l\xfd..."]}):"X\xe1c nh\u1eadn"})]})]})}),(0,ar.jsx)(lt,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})},vk=fr("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Nk=fr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),wk=fr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),jk=fr("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),kk=fr("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Tk=fr("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Sk=fr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ok=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)({"H\u1ecd v\xe0 T\xean":"","Ch\u1ee9c v\u1ee5":"","Ph\xf2ng":"",username:"",password:"","Ph\xe2n quy\u1ec1n":"User",Email:"",Image:""}),[i,s]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)(""),[d,h]=(0,n.useState)(!1),[f,p]=(0,n.useState)(null),[m,g]=(0,n.useState)(!1),[x,b]=(0,n.useState)({key:null,direction:"ascending"}),[y,v]=(0,n.useState)(!1),[N,w]=(0,n.useState)("T\u1ea4T C\u1ea2"),[j,k]=(0,n.useState)("T\u1ea4T C\u1ea2"),[T,S]=(0,n.useState)(null),[O,_]=(0,n.useState)(!1),[E,C]=(0,n.useState)(!1),A=(0,n.useRef)(null),[I,P]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(()=>{const e=ut.getUserData(),t=e&&"Admin"===e["Ph\xe2n quy\u1ec1n"];C(t)})(),H()}),[]);const H=async()=>{try{const e=await ut.apiRequest("DSNV","Find",{});t(e)}catch(e){console.error("Error fetching employee list:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch nh\xe2n vi\xean")}};(0,n.useEffect)((()=>{H()}),[]);const D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;E?(e?(v(!0),a({"H\u1ecd v\xe0 T\xean":e["H\u1ecd v\xe0 T\xean"]||"","Ch\u1ee9c v\u1ee5":e["Ch\u1ee9c v\u1ee5"]||"","Ph\xf2ng":e["Ph\xf2ng"]||"",username:e.username||"",password:e.password||"","Ph\xe2n quy\u1ec1n":e["Ph\xe2n quy\u1ec1n"]||"User",Email:e.Email||"",Image:e.Image||""}),S(e.Image||null)):(v(!1),a({"H\u1ecd v\xe0 T\xean":"","Ch\u1ee9c v\u1ee5":"","Ph\xf2ng":"",username:"",password:"","Ph\xe2n quy\u1ec1n":"User",Email:"",Image:""}),S(null)),_(!1),s(!0)):et.error("B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n th\u1ef1c hi\u1ec7n ch\u1ee9c n\u0103ng n\xe0y!")},M=()=>{s(!1),v(!1),S(null),a({"H\u1ecd v\xe0 T\xean":"","Ch\u1ee9c v\u1ee5":"","Ph\xf2ng":"",username:"",password:"","Ph\xe2n quy\u1ec1n":"User",Email:"",Image:""})},L=(e,t)=>{a((r=>({...r,[e]:t})))},R=()=>{h(!1),p(null)},F=e=>{let t="ascending";x.key===e&&"ascending"===x.direction&&(t="descending"),b({key:e,direction:t})},U=(0,n.useCallback)((()=>{const t=[...e];return x.key&&t.sort(((e,t)=>{const r=e[x.key]||"",n=t[x.key]||"";return r<n?"ascending"===x.direction?-1:1:r>n?"ascending"===x.direction?1:-1:0})),t}),[e,x]),G=["T\u1ea4T C\u1ea2",...new Set(e.map((e=>e["Ph\xf2ng"])).filter(Boolean))],B=["T\u1ea4T C\u1ea2",...new Set(e.map((e=>e["Ch\u1ee9c v\u1ee5"])).filter(Boolean))],z=U().filter((e=>{var t,r,n;const a=(null===(t=e["H\u1ecd v\xe0 T\xean"])||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null===(r=e.username)||void 0===r?void 0:r.toLowerCase().includes(c.toLowerCase()))||(null===(n=e.Email)||void 0===n?void 0:n.toLowerCase().includes(c.toLowerCase())),i="T\u1ea4T C\u1ea2"===j||e["Ph\xf2ng"]===j,s="T\u1ea4T C\u1ea2"===N||e["Ch\u1ee9c v\u1ee5"]===N;return a&&i&&s})),V=e=>x.key!==e?null:"ascending"===x.direction?"\u2191":"\u2193";return(0,ar.jsxs)("div",{className:"p-4 md:p-6 bg-gray-50 min-h-screen",children:[(0,ar.jsx)("div",{className:"mx-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 mb-6 border border-gray-100",children:[(0,ar.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[(0,ar.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Qu\u1ea3n L\xfd Nh\xe2n Vi\xean"}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ar.jsxs)("button",{onClick:()=>g(!m),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(vk,{className:"w-4 h-4"}),m?"\u1ea8n b\u1ed9 l\u1ecdc":"B\u1ed9 l\u1ecdc"]}),E&&(0,ar.jsxs)("button",{onClick:()=>D(),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(Nk,{className:"w-4 h-4"}),"Th\xeam nh\xe2n vi\xean"]})]})]}),(0,ar.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)(wk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,ar.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm theo t\xean, username ho\u1eb7c email...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:c,onChange:e=>u(e.target.value)})]}),m&&(0,ar.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"L\u1ecdc theo ph\xf2ng ban:"}),(0,ar.jsx)("div",{className:"flex flex-wrap gap-2",children:G.map(((e,t)=>(0,ar.jsx)("button",{onClick:()=>k(e),className:"px-3 py-1.5 rounded-full text-sm "+(j===e?"bg-indigo-100 text-indigo-800 border border-indigo-200":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:e},t)))})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"L\u1ecdc theo ch\u1ee9c v\u1ee5:"}),(0,ar.jsx)("div",{className:"flex flex-wrap gap-2",children:B.map(((e,t)=>(0,ar.jsx)("button",{onClick:()=>w(e),className:"px-3 py-1.5 rounded-full text-sm "+(N===e?"bg-blue-100 text-blue-800 border border-blue-200":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:e},t)))})]})]})})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,ar.jsxs)("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4",children:[(0,ar.jsx)("h3",{className:"text-sm text-blue-700 mb-1",children:"T\u1ed5ng s\u1ed1 nh\xe2n vi\xean"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-blue-800",children:e.length})]}),(0,ar.jsxs)("div",{className:"bg-green-50 border border-green-100 rounded-lg p-4",children:[(0,ar.jsx)("h3",{className:"text-sm text-green-700 mb-1",children:"S\u1ed1 l\u01b0\u1ee3ng qu\u1ea3n tr\u1ecb vi\xean"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-green-800",children:e.filter((e=>"Admin"===e["Ph\xe2n quy\u1ec1n"])).length})]}),(0,ar.jsxs)("div",{className:"bg-purple-50 border border-purple-100 rounded-lg p-4",children:[(0,ar.jsx)("h3",{className:"text-sm text-purple-700 mb-1",children:"S\u1ed1 l\u01b0\u1ee3ng ng\u01b0\u1eddi d\xf9ng"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-purple-800",children:e.filter((e=>"User"===e["Ph\xe2n quy\u1ec1n"])).length})]})]}),(0,ar.jsx)("div",{className:"overflow-x-auto",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gray-50",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsxs)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>F("H\u1ecd v\xe0 T\xean"),children:["H\u1ecd v\xe0 T\xean ",V("H\u1ecd v\xe0 T\xean")]}),(0,ar.jsxs)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>F("Ch\u1ee9c v\u1ee5"),children:["Ch\u1ee9c V\u1ee5 ",V("Ch\u1ee9c v\u1ee5")]}),(0,ar.jsxs)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>F("Ph\xf2ng"),children:["Ph\xf2ng ",V("Ph\xf2ng")]}),(0,ar.jsxs)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>F("username"),children:["Username ",V("username")]}),(0,ar.jsxs)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>F("Ph\xe2n quy\u1ec1n"),children:["Ph\xe2n Quy\u1ec1n ",V("Ph\xe2n quy\u1ec1n")]}),(0,ar.jsxs)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>F("Email"),children:["Email ",V("Email")]}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"H\xecnh \u1ea3nh"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-center",children:"Thao t\xe1c"})]})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:z.length>0?z.map(((e,t)=>(0,ar.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,ar.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e["H\u1ecd v\xe0 T\xean"]}),(0,ar.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-700",children:e["Ch\u1ee9c v\u1ee5"]||"\u2014"}),(0,ar.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-700",children:e["Ph\xf2ng"]||"\u2014"}),(0,ar.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-700",children:e.username}),(0,ar.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-700",children:(0,ar.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("Admin"===e["Ph\xe2n quy\u1ec1n"]?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:e["Ph\xe2n quy\u1ec1n"]})}),(0,ar.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-700",children:(0,ar.jsx)("div",{className:"max-w-xs truncate",children:e.Email||"\u2014"})}),(0,ar.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-700",children:e.Image?(0,ar.jsx)("div",{className:"w-10 h-10 relative",children:(0,ar.jsx)("img",{src:e.Image,alt:e["H\u1ecd v\xe0 T\xean"],className:"w-full h-full object-cover rounded-full border border-gray-200"})}):(0,ar.jsx)("div",{className:"w-10 h-10 flex items-center justify-center bg-gray-100 rounded-full border border-gray-200",children:(0,ar.jsx)(jk,{className:"w-5 h-5 text-gray-400"})})}),(0,ar.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:(0,ar.jsx)("div",{className:"flex justify-center space-x-2",children:E&&(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("button",{onClick:()=>D(e),className:"text-indigo-600 hover:text-indigo-900 p-1.5 rounded-full hover:bg-indigo-50",title:"S\u1eeda th\xf4ng tin nh\xe2n vi\xean",children:(0,ar.jsx)(kk,{className:"h-4 w-4"})}),(0,ar.jsx)("button",{onClick:()=>(e=>{E?(p(e),h(!0)):et.error("B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n x\xf3a nh\xe2n vi\xean!")})(e),className:"text-red-600 hover:text-red-900 p-1.5 rounded-full hover:bg-red-50",title:"X\xf3a nh\xe2n vi\xean",children:(0,ar.jsx)(Tk,{className:"h-4 w-4"})})]})})})]},t))):(0,ar.jsx)("tr",{children:(0,ar.jsx)("td",{colSpan:"8",className:"px-4 py-6 text-center text-sm text-gray-500",children:"Kh\xf4ng t\xecm th\u1ea5y nh\xe2n vi\xean n\xe0o ph\xf9 h\u1ee3p v\u1edbi ti\xeau ch\xed t\xecm ki\u1ebfm"})})})]})})]})}),i&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full p-6",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-5",children:[(0,ar.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:y?"C\u1eadp nh\u1eadt th\xf4ng tin nh\xe2n vi\xean":"Th\xeam nh\xe2n vi\xean m\u1edbi"}),(0,ar.jsx)("button",{onClick:M,className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ar.jsxs)("div",{className:"space-y-5",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["H\u1ecd v\xe0 t\xean ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"text",value:r["H\u1ecd v\xe0 T\xean"],onChange:e=>L("H\u1ecd v\xe0 T\xean",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Nh\u1eadp h\u1ecd v\xe0 t\xean",required:!0})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ch\u1ee9c v\u1ee5"}),(0,ar.jsx)("input",{type:"text",value:r["Ch\u1ee9c v\u1ee5"],onChange:e=>L("Ch\u1ee9c v\u1ee5",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Nh\u1eadp ch\u1ee9c v\u1ee5"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ph\xf2ng"}),(0,ar.jsx)("input",{type:"text",value:r["Ph\xf2ng"],onChange:e=>L("Ph\xf2ng",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Nh\u1eadp ph\xf2ng ban"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"email",value:r.Email,onChange:e=>L("Email",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Nh\u1eadp \u0111\u1ecba ch\u1ec9 email",required:!0})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ph\xe2n quy\u1ec1n ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("div",{className:"flex space-x-4 bg-gray-50 p-3 rounded-lg border border-gray-200",children:[(0,ar.jsxs)("label",{className:"flex items-center",children:[(0,ar.jsx)("input",{type:"radio",name:"role",value:"Admin",checked:"Admin"===r["Ph\xe2n quy\u1ec1n"],onChange:e=>L("Ph\xe2n quy\u1ec1n",e.target.value),className:"mr-2 h-4 w-4 text-indigo-600"}),(0,ar.jsx)("span",{className:"text-gray-800",children:"Admin"})]}),(0,ar.jsxs)("label",{className:"flex items-center",children:[(0,ar.jsx)("input",{type:"radio",name:"role",value:"User",checked:"User"===r["Ph\xe2n quy\u1ec1n"],onChange:e=>L("Ph\xe2n quy\u1ec1n",e.target.value),className:"mr-2 h-4 w-4 text-indigo-600"}),(0,ar.jsx)("span",{className:"text-gray-800",children:"User"})]})]})]})]}),(0,ar.jsxs)("div",{className:"space-y-5",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["T\xean \u0111\u0103ng nh\u1eadp ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"text",value:r.username,onChange:e=>L("username",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500 "+(y?"bg-gray-100":""),placeholder:"Nh\u1eadp t\xean \u0111\u0103ng nh\u1eadp",readOnly:y,required:!0}),y&&(0,ar.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng th\u1ec3 thay \u0111\u1ed5i sau khi \u0111\xe3 t\u1ea1o."})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["M\u1eadt kh\u1ea9u ",!y&&(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)("input",{type:O&&E?"text":"password",value:r.password,onChange:e=>L("password",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500 pr-10",placeholder:y?"Nh\u1eadp \u0111\u1ec3 thay \u0111\u1ed5i m\u1eadt kh\u1ea9u":"Nh\u1eadp m\u1eadt kh\u1ea9u",required:!y,readOnly:!E}),E&&(0,ar.jsx)("button",{type:"button",onClick:()=>{_(!O)},className:"absolute inset-y-0 right-0 flex items-center pr-3",children:O?(0,ar.jsx)(gr,{className:"h-5 w-5 text-gray-400"}):(0,ar.jsx)(xr,{className:"h-5 w-5 text-gray-400"})})]}),y&&E&&(0,ar.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\u0110\u1ec3 tr\u1ed1ng n\u1ebfu kh\xf4ng mu\u1ed1n thay \u0111\u1ed5i m\u1eadt kh\u1ea9u."}),!E&&(0,ar.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Ch\u1ec9 Admin m\u1edbi c\xf3 quy\u1ec1n xem v\xe0 s\u1eeda m\u1eadt kh\u1ea9u."})]}),(0,ar.jsxs)("div",{className:"mt-6",children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"H\xecnh \u1ea3nh"}),(0,ar.jsxs)("div",{ref:A,onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),P(!0)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),P(!1)},onDrop:e=>{if(e.preventDefault(),e.stopPropagation(),P(!1),e.dataTransfer.files&&e.dataTransfer.files[0]){const t=e.dataTransfer.files[0],r=ut.validateImage(t);if(!r.isValid)return void et.error(r.errors.join("\n"));a((e=>({...e,FILE_IMAGE:t})));const n=new FileReader;n.onloadend=()=>{S(n.result)},n.readAsDataURL(t),ut.shouldUploadImmediately&&(async e=>{if(e)try{const t=new FileReader;t.onloadend=()=>{S(t.result)},t.readAsDataURL(e);const r=et.loading("\u0110ang t\u1ea3i \u1ea3nh l\xean..."),n=await ut.uploadImage(e);if(!(n&&n.success&&n.url))throw new Error("Kh\xf4ng th\u1ec3 l\u1ea5y URL \u1ea3nh");L("Image",n.url),S(n.url),et.update(r,{render:"T\u1ea3i \u1ea3nh th\xe0nh c\xf4ng",type:"success",isLoading:!1,autoClose:2e3})}catch(t){console.error("Error uploading image:",t),et.error("L\u1ed7i khi t\u1ea3i \u1ea3nh: "+t.message),S(null)}})(t)}},className:"p-4 border-2 border-dashed rounded-lg flex flex-col items-center justify-center bg-gray-50 transition-all cursor-pointer hover:bg-gray-100 "+(I?"border-indigo-500 bg-indigo-50":"border-gray-300"),children:[(0,ar.jsx)("div",{className:"w-full flex items-center justify-center mb-3",children:(0,ar.jsx)("div",{className:"w-24 h-24 border rounded-full flex items-center justify-center bg-white overflow-hidden",children:T?(0,ar.jsx)("img",{src:T,alt:"Employee preview",className:"w-full h-full object-cover"}):(0,ar.jsx)(jk,{className:"h-10 w-10 text-gray-300"})})}),(0,ar.jsxs)("div",{className:"text-center",children:[(0,ar.jsx)(Sk,{className:"h-5 w-5 mx-auto text-gray-400 mb-1"}),(0,ar.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:I?"Th\u1ea3 \u1ea3nh v\xe0o \u0111\xe2y":"K\xe9o v\xe0 th\u1ea3 \u1ea3nh v\xe0o \u0111\xe2y ho\u1eb7c"}),(0,ar.jsxs)("label",{className:"cursor-pointer px-3 py-2 bg-white border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-50 transition-colors shadow-sm inline-flex items-center",children:[(0,ar.jsx)(Sk,{className:"h-4 w-4 mr-2"}),"Ch\u1ecdn \u1ea3nh",(0,ar.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0],r=ut.validateImage(t);if(!r.isValid)return void et.error(r.errors.join("\n"));a((e=>({...e,FILE_IMAGE:t})));const n=new FileReader;n.onloadend=()=>{S(n.result)},n.readAsDataURL(t)}}})]})]}),(0,ar.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"H\xecnh \u1ea3nh n\xean c\xf3 k\xedch th\u01b0\u1edbc vu\xf4ng, t\u1ed1i \u0111a 5MB."})]}),T&&(0,ar.jsx)("div",{className:"mt-2 flex justify-end",children:(0,ar.jsxs)("button",{type:"button",onClick:()=>{S(null),L("Image","")},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm text-red-600 hover:bg-red-50 transition-colors shadow-sm flex items-center",children:[(0,ar.jsx)(xk,{className:"h-4 w-4 mr-1"}),"X\xf3a \u1ea3nh"]})})]})]})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-3 pt-5 mt-6 border-t border-gray-200",children:[(0,ar.jsxs)("button",{onClick:M,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors shadow-sm flex items-center",disabled:o,children:[(0,ar.jsx)(xk,{className:"h-4 w-4 mr-1"}),"H\u1ee7y"]}),(0,ar.jsx)("button",{onClick:async()=>{if(!o&&E)try{l(!0);const t=(e=>{const t=[];return e["H\u1ecd v\xe0 T\xean"]||t.push("H\u1ecd v\xe0 t\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e.username||t.push("T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),y||e.password||t.push("M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e.Email||t.push("Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e.Email&&!/\S+@\S+\.\S+/.test(e.Email)&&t.push("Email kh\xf4ng h\u1ee3p l\u1ec7"),t})(r);if(t.length>0)return et.error(t.join("\n")),void l(!1);let n={...r};if(n.FILE_IMAGE)try{const e=await ut.uploadImage(n.FILE_IMAGE);if(!(e&&e.success&&e.url))throw new Error("Kh\xf4ng th\u1ec3 l\u1ea5y URL \u1ea3nh");n.Image=e.url}catch(e){return et.error("L\u1ed7i khi t\u1ea3i \u1ea3nh: "+e.message),void l(!1)}if(delete n.FILE_IMAGE,y)await ut.apiRequest("DSNV","Edit",{Rows:[n]}),et.success("C\u1eadp nh\u1eadt th\xf4ng tin nh\xe2n vi\xean th\xe0nh c\xf4ng!");else{const e=await ut.apiRequest("DSNV","Find",{});if(e.some((e=>e.username.toLowerCase()===n.username.toLowerCase())))return et.error("T\xean \u0111\u0103ng nh\u1eadp n\xe0y \u0111\xe3 t\u1ed3n t\u1ea1i!"),void l(!1);await ut.apiRequest("DSNV","Add",{Rows:[n]}),et.success("Th\xeam nh\xe2n vi\xean m\u1edbi th\xe0nh c\xf4ng!")}await H(),M()}catch(e){console.error("Error saving employee:",e),et.error("C\xf3 l\u1ed7i x\u1ea3y ra: "+(e.message||"Kh\xf4ng th\u1ec3 l\u01b0u th\xf4ng tin nh\xe2n vi\xean"))}finally{l(!1)}else E||et.error("B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n th\u1ef1c hi\u1ec7n ch\u1ee9c n\u0103ng n\xe0y!")},disabled:o,className:`px-5 py-2 bg-indigo-600 text-white rounded-lg ${o?"opacity-50 cursor-not-allowed":"hover:bg-indigo-700 hover:shadow-md"} flex items-center gap-2 transition-all`,children:o?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ar.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ar.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0110ang l\u01b0u..."]}):(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ar.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"L\u01b0u nh\xe2n vi\xean"]})})]})]})}),d&&f&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-5",children:[(0,ar.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"X\xe1c nh\u1eadn x\xf3a"}),(0,ar.jsx)("button",{onClick:R,className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsxs)("div",{className:"space-y-5",children:[(0,ar.jsxs)("div",{className:"bg-red-50 border border-red-100 rounded-lg p-4",children:[(0,ar.jsxs)("p",{className:"text-red-700",children:["B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a nh\xe2n vi\xean ",(0,ar.jsx)("span",{className:"font-bold",children:f["H\u1ecd v\xe0 T\xean"]}),"?"]}),(0,ar.jsx)("p",{className:"text-sm text-red-600 mt-2",children:"H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c v\xe0 s\u1ebd x\xf3a t\u1ea5t c\u1ea3 th\xf4ng tin c\u1ee7a nh\xe2n vi\xean n\xe0y."})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,ar.jsx)("button",{onClick:R,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors shadow-sm",children:"H\u1ee7y"}),(0,ar.jsxs)("button",{onClick:async()=>{if(f)try{await ut.apiRequest("DSNV","Delete",{Rows:[{username:f.username}]}),et.success("X\xf3a nh\xe2n vi\xean th\xe0nh c\xf4ng!"),await H(),R()}catch(e){console.error("Error deleting employee:",e),et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a nh\xe2n vi\xean")}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(Tk,{className:"h-4 w-4"}),"X\xf3a nh\xe2n vi\xean"]})]})]})]})}),(0,ar.jsx)(lt,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},_k=fr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ek=fr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Ck=fr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ak=fr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ik=fr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Pk=fr("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),Hk=fr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var Dk={version:"0.18.5"},Mk=1200,Lk=1252,Rk=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Fk={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Uk=function(e){-1!=Rk.indexOf(e)&&(Lk=Fk[0]=e)};var Gk=function(e){Mk=e,Uk(e)};function Bk(){Gk(1200),Uk(1252)}function zk(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Vk(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Kk,$k=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return 255==t&&254==r?function(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}(e.slice(2)):254==t&&255==r?Vk(e.slice(2)):65279==t?e.slice(1):e},Wk=function(e){return String.fromCharCode(e)},Xk=function(e){return String.fromCharCode(e)};var Yk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function qk(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)i=(r=e.charCodeAt(c++))>>2,s=(3&r)<<4|(n=e.charCodeAt(c++))>>4,o=(15&n)<<2|(a=e.charCodeAt(c++))>>6,l=63&a,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=Yk.charAt(i)+Yk.charAt(s)+Yk.charAt(o)+Yk.charAt(l);return t}function Qk(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)r=Yk.indexOf(e.charAt(l++))<<2|(i=Yk.indexOf(e.charAt(l++)))>>4,t+=String.fromCharCode(r),n=(15&i)<<4|(s=Yk.indexOf(e.charAt(l++)))>>2,64!==s&&(t+=String.fromCharCode(n)),a=(3&s)<<6|(o=Yk.indexOf(e.charAt(l++))),64!==o&&(t+=String.fromCharCode(a));return t}var Zk=function(){return"undefined"!==typeof Buffer&&"undefined"!==typeof process&&"undefined"!==typeof process.versions&&!!process.versions.node}(),Jk=function(){if("undefined"!==typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(fU){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function eT(e){return Zk?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function tT(e){return Zk?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var rT=function(e){return Zk?Jk(e,"binary"):e.split("").map((function(e){return 255&e.charCodeAt(0)}))};function nT(e){if("undefined"===typeof ArrayBuffer)return rT(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=255&e.charCodeAt(n);return t}function aT(e){if(Array.isArray(e))return e.map((function(e){return String.fromCharCode(e)})).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function iT(e){if("undefined"==typeof ArrayBuffer)throw new Error("Unsupported");if(e instanceof ArrayBuffer)return iT(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var sT=Zk?function(e){return Buffer.concat(e.map((function(e){return Buffer.isBuffer(e)?e:Jk(e)})))}:function(e){if("undefined"!==typeof Uint8Array){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if("string"==typeof e[t])throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map((function(e){return Array.isArray(e)?e:[].slice.call(e)})))};var oT=/\u0000/g,lT=/[\u0001-\u0006]/g;function cT(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function uT(e,t){var r=""+e;return r.length>=t?r:kS("0",t-r.length)+r}function dT(e,t){var r=""+e;return r.length>=t?r:kS(" ",t-r.length)+r}function hT(e,t){var r=""+e;return r.length>=t?r:r+kS(" ",t-r.length)}var fT=Math.pow(2,32);function pT(e,t){return e>fT||e<-fT?function(e,t){var r=""+Math.round(e);return r.length>=t?r:kS("0",t-r.length)+r}(e,t):function(e,t){var r=""+e;return r.length>=t?r:kS("0",t-r.length)+r}(Math.round(e),t)}function mT(e,t){return t=t||0,e.length>=7+t&&103===(32|e.charCodeAt(t))&&101===(32|e.charCodeAt(t+1))&&110===(32|e.charCodeAt(t+2))&&101===(32|e.charCodeAt(t+3))&&114===(32|e.charCodeAt(t+4))&&97===(32|e.charCodeAt(t+5))&&108===(32|e.charCodeAt(t+6))}var gT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],xT=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var bT={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},yT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},vT={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function NT(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,d=Math.floor(a);c<t&&(o=(d=Math.floor(a))*s+i,u=d*c+l,!(a-d<5e-8));)a=1/(a-d),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function wT(e,t,r){if(e>2958465||e<0)return null;var n=0|e,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,86400==++a&&(o.T=a=0,++n,++o.D)),60===n)s=r?[1317,10,29]:[1900,2,29],i=3;else if(0===n)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=function(e,t){t[0]-=581;var r=e.getDay();e<60&&(r=(r+6)%7);return r}(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var jT=new Date(1899,11,31,0,0,0),kT=jT.getTime(),TT=new Date(1900,2,1,0,0,0);function ST(e,t){var r=e.getTime();return t?r-=1262304e5:e>=TT&&(r+=864e5),(r-(kT+6e4*(e.getTimezoneOffset()-jT.getTimezoneOffset())))/864e5}function OT(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function _T(e){var t,r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=r>=-4&&r<=-1?e.toPrecision(10+r):Math.abs(r)<=9?function(e){var t=e<0?12:11,r=OT(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10)).length<=t?r:e.toExponential(5)}(e):10===r?e.toFixed(10).substr(0,12):function(e){var t=OT(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),OT(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function ET(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):_T(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return qT(14,ST(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function CT(e,t,r,n){var a,i="",s=0,o=0,l=r.y,c=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:a=l%100,c=2;break;default:a=l%1e4,c=4}break;case 109:switch(t.length){case 1:case 2:a=r.m,c=t.length;break;case 3:return xT[r.m-1][1];case 5:return xT[r.m-1][0];default:return xT[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:a=r.d,c=t.length;break;case 3:return gT[r.q][0];default:return gT[r.q][1]}break;case 104:switch(t.length){case 1:case 2:a=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:a=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:a=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==r.u||"s"!=t&&"ss"!=t?(o=n>=2?3===n?1e3:100:1===n?10:1,(s=Math.round(o*(r.S+r.u)))>=60*o&&(s=0),"s"===t?0===s?"0":""+s/o:(i=uT(s,2+n),"ss"===t?i.substr(0,2):"."+i.substr(2,t.length-1))):uT(r.S,t.length);case 90:switch(t){case"[h]":case"[hh]":a=24*r.D+r.H;break;case"[m]":case"[mm]":a=60*(24*r.D+r.H)+r.M;break;case"[s]":case"[ss]":a=60*(60*(24*r.D+r.H)+r.M)+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:a=l,c=1}return c>0?uT(a,c):""}function AT(e){if(e.length<=3)return e;for(var t=e.length%3,r=e.substr(0,t);t!=e.length;t+=3)r+=(r.length>0?",":"")+e.substr(t,3);return r}var IT=/%/g;function PT(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+PT(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),-1===(r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a)).indexOf("e")){var s=Math.floor(Math.log(t)*Math.LOG10E);for(-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);"0."===r.substr(0,2);)r=(r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,r,n){return t+r+n.substr(0,(a+i)%a)+"."+n.substr(i)+"E"}))}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var HT=/# (\?+)( ?)\/( ?)(\d+)/;var DT=/^#*0*\.([0#]+)/,MT=/\).*[0#]/,LT=/\(###\) ###\\?-####/;function RT(e){for(var t,r="",n=0;n!=e.length;++n)switch(t=e.charCodeAt(n)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(t)}return r}function FT(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function UT(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function GT(e,t,r){if(40===e.charCodeAt(0)&&!t.match(MT)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?GT("n",n,r):"("+GT("n",n,-r)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,r){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return VT(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}(e,t,r);if(-1!==t.indexOf("%"))return function(e,t,r){var n=t.replace(IT,""),a=t.length-n.length;return VT(e,n,r*Math.pow(10,2*a))+kS("%",a)}(e,t,r);if(-1!==t.indexOf("E"))return PT(t,r);if(36===t.charCodeAt(0))return"$"+GT(e,t.substr(" "==t.charAt(1)?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+pT(l,t.length);if(t.match(/^[#?]+$/))return"0"===(a=pT(r,0))&&(a=""),a.length>t.length?a:RT(t.substr(0,t.length-a.length))+a;if(i=t.match(HT))return function(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(0===i?"":""+i)+" "+(0===s?kS(" ",e[1].length+1+e[4].length):dT(s,e[1].length)+e[2]+"/"+e[3]+uT(o,e[4].length))}(i,l,c);if(t.match(/^#+0+$/))return c+pT(l,t.length-t.indexOf("0"));if(i=t.match(DT))return a=FT(r,i[1].length).replace(/^([^\.]+)$/,"$1."+RT(i[1])).replace(/\.$/,"."+RT(i[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+kS("0",RT(i[1]).length-t.length)})),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+FT(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+AT(pT(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+GT(e,t,-r):AT(""+(Math.floor(r)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(r,i[1].length)))+"."+uT(UT(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return GT(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=cT(GT(e,t.replace(/[\\-]/g,""),r)),s=0,cT(cT(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return s<a.length?a.charAt(s++):"0"===e?"0":""})));if(t.match(LT))return"("+(a=GT(e,"##########",r)).substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=NT(l,Math.pow(10,s)-1,!1),a=""+c," "==(u=VT("n",i[1],o[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],(u=hT(o[2],s)).length<i[4].length&&(u=RT(i[4].substr(i[4].length-u.length))+u),a+=u;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),c+((o=NT(l,Math.pow(10,s)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?dT(o[1],s)+i[2]+"/"+i[3]+hT(o[2],s):kS(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=pT(r,0),t.length<=a.length?a:RT(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var d=t.indexOf(".")-s,h=t.length-a.length-d;return RT(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=UT(r,i[1].length),r<0?"-"+GT(e,t,-r):AT(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?uT(0,3-e.length):"")+e}))+"."+uT(s,i[1].length);switch(t){case"###,##0.00":return GT(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var f=AT(pT(l,0));return"0"!==f?c+f:"";case"###,###.00":return GT(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return GT(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function BT(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+BT(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),!(r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a)).match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,r,n){return t+r+n.substr(0,(a+i)%a)+"."+n.substr(i)+"E"}))}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function zT(e,t,r){if(40===e.charCodeAt(0)&&!t.match(MT)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?zT("n",n,r):"("+zT("n",n,-r)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,r){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return VT(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}(e,t,r);if(-1!==t.indexOf("%"))return function(e,t,r){var n=t.replace(IT,""),a=t.length-n.length;return VT(e,n,r*Math.pow(10,2*a))+kS("%",a)}(e,t,r);if(-1!==t.indexOf("E"))return BT(t,r);if(36===t.charCodeAt(0))return"$"+zT(e,t.substr(" "==t.charAt(1)?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+uT(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,0===r&&(a=""),a.length>t.length?a:RT(t.substr(0,t.length-a.length))+a;if(i=t.match(HT))return function(e,t,r){return r+(0===t?"":""+t)+kS(" ",e[1].length+2+e[4].length)}(i,l,c);if(t.match(/^#+0+$/))return c+uT(l,t.length-t.indexOf("0"));if(i=t.match(DT))return a=(a=(""+r).replace(/^([^\.]+)$/,"$1."+RT(i[1])).replace(/\.$/,"."+RT(i[1]))).replace(/\.(\d*)$/,(function(e,t){return"."+t+kS("0",RT(i[1]).length-t.length)})),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+AT(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+zT(e,t,-r):AT(""+r)+"."+kS("0",i[1].length);if(i=t.match(/^#,#*,#0/))return zT(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=cT(zT(e,t.replace(/[\\-]/g,""),r)),s=0,cT(cT(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return s<a.length?a.charAt(s++):"0"===e?"0":""})));if(t.match(LT))return"("+(a=zT(e,"##########",r)).substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=NT(l,Math.pow(10,s)-1,!1),a=""+c," "==(u=VT("n",i[1],o[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],(u=hT(o[2],s)).length<i[4].length&&(u=RT(i[4].substr(i[4].length-u.length))+u),a+=u;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),c+((o=NT(l,Math.pow(10,s)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?dT(o[1],s)+i[2]+"/"+i[3]+hT(o[2],s):kS(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:RT(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var d=t.indexOf(".")-s,h=t.length-a.length-d;return RT(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+zT(e,t,-r):AT(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?uT(0,3-e.length):"")+e}))+"."+uT(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var f=AT(""+l);return"0"!==f?c+f:"";default:if(t.match(/\.[0#?]*$/))return zT(e,t.slice(0,t.lastIndexOf(".")),r)+RT(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function VT(e,t,r){return(0|r)===r?zT(e,t,r):GT(e,t,r)}var KT=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function $T(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":mT(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("\u4e0a\u5348/\u4e0b\u5348"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(n=r;"]"!==e.charAt(t++)&&t<e.length;)n+=e.charAt(t);if(n.match(KT))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||"\\"==r&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var WT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function XT(e,t){if(null==t)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0}return!1}function YT(e,t){var r=function(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),!0===r)throw new Error("Format |"+e+"| unterminated string ");return t}(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if("number"!==typeof t)return[4,4===r.length||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"]}var i=t>0?r[0]:t<0?r[1]:r[2];if(-1===r[0].indexOf("[")&&-1===r[1].indexOf("["))return[n,i];if(null!=r[0].match(/\[[=<>]/)||null!=r[1].match(/\[[=<>]/)){var s=r[0].match(WT),o=r[1].match(WT);return XT(t,s)?[n,r[0]]:XT(t,o)?[n,r[1]]:[n,r[null!=s&&null!=o?2:1]]}return[n,i]}function qT(e,t,r){null==r&&(r={});var n="";switch(typeof e){case"string":n="m/d/yy"==e&&r.dateNF?r.dateNF:e;break;case"number":null==(n=14==e&&r.dateNF?r.dateNF:(null!=r.table?r.table:bT)[e])&&(n=r.table&&r.table[yT[e]]||bT[yT[e]]),null==n&&(n=vT[e]||"General")}if(mT(n,0))return ET(t,r);t instanceof Date&&(t=ST(t,r.date1904));var a=YT(n,t);if(mT(a[1]))return ET(t,r);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,r,n){for(var a,i,s,o=[],l="",c=0,u="",d="t",h="H";c<e.length;)switch(u=e.charAt(c)){case"G":if(!mT(e,c))throw new Error("unrecognized character "+u+" in "+e);o[o.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(s=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(s);o[o.length]={t:"t",v:l},++c;break;case"\\":var f=e.charAt(++c),p="("===f||")"===f?f:"t";o[o.length]={t:p,v:f},++c;break;case"_":o[o.length]={t:"t",v:" "},c+=2;break;case"@":o[o.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==a&&null==(a=wT(t,r,"2"===e.charAt(c+1))))return"";o[o.length]={t:"X",v:e.substr(c,2)},d=u,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==a&&null==(a=wT(t,r)))return"";for(l=u;++c<e.length&&e.charAt(c).toLowerCase()===u;)l+=u;"m"===u&&"h"===d.toLowerCase()&&(u="M"),"h"===u&&(u=h),o[o.length]={t:u,v:l},d=u;break;case"A":case"a":case"\u4e0a":var m={t:u,v:u};if(null==a&&(a=wT(t,r)),"A/P"===e.substr(c,3).toUpperCase()?(null!=a&&(m.v=a.H>=12?"P":"A"),m.t="T",h="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=a&&(m.v=a.H>=12?"PM":"AM"),m.t="T",c+=5,h="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(c,5).toUpperCase()?(null!=a&&(m.v=a.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),m.t="T",c+=5,h="h"):(m.t="t",++c),null==a&&"T"===m.t)return"";o[o.length]=m,d=u;break;case"[":for(l=u;"]"!==e.charAt(c++)&&c<e.length;)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(KT)){if(null==a&&null==(a=wT(t,r)))return"";o[o.length]={t:"Z",v:l.toLowerCase()},d=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",$T(e)||(o[o.length]={t:"t",v:l}));break;case".":if(null!=a){for(l=u;++c<e.length&&"0"===(u=e.charAt(c));)l+=u;o[o.length]={t:"s",v:l};break}case"0":case"#":for(l=u;++c<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(c))>-1;)l+=u;o[o.length]={t:"n",v:l};break;case"?":for(l=u;e.charAt(++c)===u;)l+=u;o[o.length]={t:u,v:l},d=u;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":o[o.length]={t:1===n?"t":u,v:u},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=u;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)l+=e.charAt(c);o[o.length]={t:"D",v:l};break;case" ":o[o.length]={t:u,v:u},++c;break;case"$":o[o.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+e);o[o.length]={t:"t",v:u},++c}var g,x=0,b=0;for(c=o.length-1,d="t";c>=0;--c)switch(o[c].t){case"h":case"H":o[c].t=h,d="h",x<1&&(x=1);break;case"s":(g=o[c].v.match(/\.0+$/))&&(b=Math.max(b,g[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":d=o[c].t;break;case"m":"s"===d&&(o[c].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&o[c].v.match(/[Hh]/)&&(x=1),x<2&&o[c].v.match(/[Mm]/)&&(x=2),x<3&&o[c].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M),a.M>=60&&(a.M=0,++a.H);break;case 2:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M)}var y,v="";for(c=0;c<o.length;++c)switch(o[c].t){case"t":case"T":case" ":case"D":break;case"X":o[c].v="",o[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[c].v=CT(o[c].t.charCodeAt(0),o[c].v,a,b),o[c].t="t";break;case"n":case"?":for(y=c+1;null!=o[y]&&("?"===(u=o[y].t)||"D"===u||(" "===u||"t"===u)&&null!=o[y+1]&&("?"===o[y+1].t||"t"===o[y+1].t&&"/"===o[y+1].v)||"("===o[c].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===o[y].v||" "===o[y].v&&null!=o[y+1]&&"?"==o[y+1].t));)o[c].v+=o[y].v,o[y]={v:"",t:";"},++y;v+=o[c].v,c=y-1;break;case"G":o[c].t="t",o[c].v=ET(t,r)}var N,w,j="";if(v.length>0){40==v.charCodeAt(0)?(N=t<0&&45===v.charCodeAt(0)?-t:t,w=VT("n",v,N)):(w=VT("n",v,N=t<0&&n>1?-t:t),N<0&&o[0]&&"t"==o[0].t&&(w=w.substr(1),o[0].v="-"+o[0].v)),y=w.length-1;var k=o.length;for(c=0;c<o.length;++c)if(null!=o[c]&&"t"!=o[c].t&&o[c].v.indexOf(".")>-1){k=c;break}var T=o.length;if(k===o.length&&-1===w.indexOf("E")){for(c=o.length-1;c>=0;--c)null!=o[c]&&-1!=="n?".indexOf(o[c].t)&&(y>=o[c].v.length-1?(y-=o[c].v.length,o[c].v=w.substr(y+1,o[c].v.length)):y<0?o[c].v="":(o[c].v=w.substr(0,y+1),y=-1),o[c].t="t",T=c);y>=0&&T<o.length&&(o[T].v=w.substr(0,y+1)+o[T].v)}else if(k!==o.length&&-1===w.indexOf("E")){for(y=w.indexOf(".")-1,c=k;c>=0;--c)if(null!=o[c]&&-1!=="n?".indexOf(o[c].t)){for(i=o[c].v.indexOf(".")>-1&&c===k?o[c].v.indexOf(".")-1:o[c].v.length-1,j=o[c].v.substr(i+1);i>=0;--i)y>=0&&("0"===o[c].v.charAt(i)||"#"===o[c].v.charAt(i))&&(j=w.charAt(y--)+j);o[c].v=j,o[c].t="t",T=c}for(y>=0&&T<o.length&&(o[T].v=w.substr(0,y+1)+o[T].v),y=w.indexOf(".")+1,c=k;c<o.length;++c)if(null!=o[c]&&(-1!=="n?(".indexOf(o[c].t)||c===k)){for(i=o[c].v.indexOf(".")>-1&&c===k?o[c].v.indexOf(".")+1:0,j=o[c].v.substr(0,i);i<o[c].v.length;++i)y<w.length&&(j+=w.charAt(y++));o[c].v=j,o[c].t="t",T=c}}}for(c=0;c<o.length;++c)null!=o[c]&&"n?".indexOf(o[c].t)>-1&&(N=n>1&&t<0&&c>0&&"-"===o[c-1].v?-t:t,o[c].v=VT(o[c].t,o[c].v,N),o[c].t="t");var S="";for(c=0;c!==o.length;++c)null!=o[c]&&(S+=o[c].v);return S}(a[1],t,r,a[0])}function QT(e,t){if("number"!=typeof t){t=+t||-1;for(var r=0;r<392;++r)if(void 0!=bT[r]){if(bT[r]==e){t=r;break}}else t<0&&(t=r);t<0&&(t=391)}return bT[t]=e,t}function ZT(e){for(var t=0;392!=t;++t)void 0!==e[t]&&QT(e[t],t)}function JT(){var e;e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',bT=e}var eS={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},tS=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var rS=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),r=0;256!=r;++r)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=r)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[r]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}();var r=function(e){var t=0,r=0,n=0,a="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(n=0;256!=n;++n)a[n]=e[n];for(n=0;256!=n;++n)for(r=e[n],t=256+n;t<4096;t+=256)r=a[t]=r>>>8^e[255&r];var i=[];for(n=1;16!=n;++n)i[n-1]="undefined"!==typeof Int32Array?a.subarray(256*n,256*n+256):a.slice(256*n,256*n+256);return i}(t),n=r[0],a=r[1],i=r[2],s=r[3],o=r[4],l=r[5],c=r[6],u=r[7],d=r[8],h=r[9],f=r[10],p=r[11],m=r[12],g=r[13],x=r[14];return e.table=t,e.bstr=function(e,r){for(var n=~r,a=0,i=e.length;a<i;)n=n>>>8^t[255&(n^e.charCodeAt(a++))];return~n},e.buf=function(e,r){for(var b=~r,y=e.length-15,v=0;v<y;)b=x[e[v++]^255&b]^g[e[v++]^b>>8&255]^m[e[v++]^b>>16&255]^p[e[v++]^b>>>24]^f[e[v++]]^h[e[v++]]^d[e[v++]]^u[e[v++]]^c[e[v++]]^l[e[v++]]^o[e[v++]]^s[e[v++]]^i[e[v++]]^a[e[v++]]^n[e[v++]]^t[e[v++]];for(y+=15;v<y;)b=b>>>8^t[255&(b^e[v++])];return~b},e.str=function(e,r){for(var n=~r,a=0,i=e.length,s=0,o=0;a<i;)(s=e.charCodeAt(a++))<128?n=n>>>8^t[255&(n^s)]:s<2048?n=(n=n>>>8^t[255&(n^(192|s>>6&31))])>>>8^t[255&(n^(128|63&s))]:s>=55296&&s<57344?(s=64+(1023&s),o=1023&e.charCodeAt(a++),n=(n=(n=(n=n>>>8^t[255&(n^(240|s>>8&7))])>>>8^t[255&(n^(128|s>>2&63))])>>>8^t[255&(n^(128|o>>6&15|(3&s)<<4))])>>>8^t[255&(n^(128|63&o))]):n=(n=(n=n>>>8^t[255&(n^(224|s>>12&15))])>>>8^t[255&(n^(128|s>>6&63))])>>>8^t[255&(n^(128|63&s))];return~n},e}(),nS=function(){var e,t={};function r(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function n(e){if("/"==e.charAt(e.length-1))return n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function a(e,t){"string"===typeof t&&(t=new Date(t));var r=t.getHours();r=(r=r<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,r);var n=t.getFullYear()-1980;n=(n=n<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,n)}function i(e){S_(e,0);for(var t={},r=0;e.l<=e.length-4;){var n=e.read_shift(2),a=e.read_shift(2),i=e.l+a,s={};if(21589===n)1&(r=e.read_shift(1))&&(s.mtime=e.read_shift(4)),a>5&&(2&r&&(s.atime=e.read_shift(4)),4&r&&(s.ctime=e.read_shift(4))),s.mtime&&(s.mt=new Date(1e3*s.mtime));e.l=i,t[n]=s}return t}function s(){return e||(e={})}function o(e,t){if(80==e[0]&&75==e[1])return ne(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=w(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var r=t&&t.root||"",n=(Zk&&Buffer.isBuffer(e)?e.toString("binary"):w(e)).split("\r\n"),a=0,i="";for(a=0;a<n.length;++a)if(i=n[a],/^Content-Location:/i.test(i)&&(i=i.slice(i.indexOf("file")),r||(r=i.slice(0,i.lastIndexOf("/")+1)),i.slice(0,r.length)!=r))for(;r.length>0&&(r=(r=r.slice(0,r.length-1)).slice(0,r.lastIndexOf("/")+1),i.slice(0,r.length)!=r););var s=(n[1]||"").match(/boundary="(.*?)"/);if(!s)throw new Error("MAD cannot find boundary");var o="--"+(s[1]||""),l=[],c=[],u={FileIndex:l,FullPaths:c};h(u);var d,f=0;for(a=0;a<n.length;++a){var p=n[a];p!==o&&p!==o+"--"||(f++&&ce(u,n.slice(d,a),r),d=a)}return u}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var r,n,a,i,s,o,f=512,p=[],m=e.slice(0,512);S_(m,0);var g=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(b,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(m);switch(r=g[0]){case 3:f=512;break;case 4:f=4096;break;case 0:if(0==g[1])return ne(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+r)}512!==f&&S_(m=e.slice(0,f),28);var y=e.slice(0,f);!function(e,t){var r=9;switch(e.l+=2,r=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+r);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+r);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+r)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(m,r);var v=m.read_shift(4,"i");if(3===r&&0!==v)throw new Error("# Directory Sectors: Expected 0 saw "+v);m.l+=4,i=m.read_shift(4,"i"),m.l+=4,m.chk("00100000","Mini Stream Cutoff Size: "),s=m.read_shift(4,"i"),n=m.read_shift(4,"i"),o=m.read_shift(4,"i"),a=m.read_shift(4,"i");for(var N=-1,j=0;j<109&&!((N=m.read_shift(4,"i"))<0);++j)p[j]=N;var k=function(e,t){for(var r=Math.ceil(e.length/t)-1,n=[],a=1;a<r;++a)n[a-1]=e.slice(a*t,(a+1)*t);return n[r-1]=e.slice(r*t),n}(e,f);c(o,a,k,f,p);var T=function(e,t,r,n){var a=e.length,i=[],s=[],o=[],l=[],c=n-1,u=0,d=0,h=0,f=0;for(u=0;u<a;++u)if(o=[],(h=u+t)>=a&&(h-=a),!s[h]){l=[];var p=[];for(d=h;d>=0;){p[d]=!0,s[d]=!0,o[o.length]=d,l.push(e[d]);var m=r[Math.floor(4*d/n)];if(n<4+(f=4*d&c))throw new Error("FAT boundary crossed: "+d+" 4 "+n);if(!e[m])break;if(p[d=b_(e[m],f)])break}i[h]={nodes:o,data:WO([l])}}return i}(k,i,p,f);T[i].name="!Directory",n>0&&s!==x&&(T[s].name="!MiniFAT"),T[p[0]].name="!FAT",T.fat_addrs=p,T.ssz=f;var S=[],O=[],_=[];!function(e,t,r,n,a,i,s,o){for(var c,h=0,f=n.length?2:0,p=t[e].data,m=0,g=0;m<p.length;m+=128){var b=p.slice(m,m+128);S_(b,64),g=b.read_shift(2),c=YO(b,0,g-f),n.push(c);var y={name:c,type:b.read_shift(1),color:b.read_shift(1),L:b.read_shift(4,"i"),R:b.read_shift(4,"i"),C:b.read_shift(4,"i"),clsid:b.read_shift(16),state:b.read_shift(4,"i"),start:0,size:0};0!==b.read_shift(2)+b.read_shift(2)+b.read_shift(2)+b.read_shift(2)&&(y.ct=d(b,b.l-8)),0!==b.read_shift(2)+b.read_shift(2)+b.read_shift(2)+b.read_shift(2)&&(y.mt=d(b,b.l-8)),y.start=b.read_shift(4,"i"),y.size=b.read_shift(4,"i"),y.size<0&&y.start<0&&(y.size=y.type=0,y.start=x,y.name=""),5===y.type?(h=y.start,a>0&&h!==x&&(t[h].name="!StreamData")):y.size>=4096?(y.storage="fat",void 0===t[y.start]&&(t[y.start]=u(r,y.start,t.fat_addrs,t.ssz)),t[y.start].name=y.name,y.content=t[y.start].data.slice(0,y.size)):(y.storage="minifat",y.size<0?y.size=0:h!==x&&y.start!==x&&t[h]&&(y.content=l(y,t[h].data,(t[o]||{}).data))),y.content&&S_(y.content,0),i[c]=y,s.push(y)}}(i,T,k,S,n,{},O,s),function(e,t,r){for(var n=0,a=0,i=0,s=0,o=0,l=r.length,c=[],u=[];n<l;++n)c[n]=u[n]=n,t[n]=r[n];for(;o<u.length;++o)a=e[n=u[o]].L,i=e[n].R,s=e[n].C,c[n]===n&&(-1!==a&&c[a]!==a&&(c[n]=c[a]),-1!==i&&c[i]!==i&&(c[n]=c[i])),-1!==s&&(c[s]=n),-1!==a&&n!=c[n]&&(c[a]=c[n],u.lastIndexOf(a)<o&&u.push(a)),-1!==i&&n!=c[n]&&(c[i]=c[n],u.lastIndexOf(i)<o&&u.push(i));for(n=1;n<l;++n)c[n]===n&&(-1!==i&&c[i]!==i?c[n]=c[i]:-1!==a&&c[a]!==a&&(c[n]=c[a]));for(n=1;n<l;++n)if(0!==e[n].type){if((o=n)!=c[o])do{o=c[o],t[n]=t[o]+"/"+t[n]}while(0!==o&&-1!==c[o]&&o!=c[o]);c[n]=-1}for(t[0]+="/",n=1;n<l;++n)2!==e[n].type&&(t[n]+="/")}(O,_,S),S.shift();var E={FileIndex:O,FullPaths:_};return t&&t.raw&&(E.raw={header:y,sectors:k}),E}function l(e,t,r){for(var n=e.start,a=e.size,i=[],s=n;r&&a>0&&s>=0;)i.push(t.slice(s*g,s*g+g)),a-=g,s=b_(r,4*s);return 0===i.length?__(0):sT(i).slice(0,e.size)}function c(e,t,r,n,a){var i=x;if(e===x){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var s=r[e],o=(n>>>2)-1;if(!s)return;for(var l=0;l<o&&(i=b_(s,4*l))!==x;++l)a.push(i);c(b_(s,n-4),t-1,r,n,a)}}function u(e,t,r,n,a){var i=[],s=[];a||(a=[]);var o=n-1,l=0,c=0;for(l=t;l>=0;){a[l]=!0,i[i.length]=l,s.push(e[l]);var u=r[Math.floor(4*l/n)];if(n<4+(c=4*l&o))throw new Error("FAT boundary crossed: "+l+" 4 "+n);if(!e[u])break;l=b_(e[u],c)}return{nodes:i,data:WO([s])}}function d(e,t){return new Date(1e3*(x_(e,t+4)/1e7*Math.pow(2,32)+x_(e,t)/1e7-11644473600))}function h(e,t){var r=t||{},n=r.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=n+"/",e.FileIndex[0]={name:n,type:5}),r.CLSID&&(e.FileIndex[0].clsid=r.CLSID),function(e){var t="\x01Sh33tJ5";if(nS.find(e,"/"+t))return;var r=__(4);r[0]=55,r[1]=r[3]=50,r[2]=54,e.FileIndex.push({name:t,type:2,content:r,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),f(e)}(e)}function f(e,t){h(e);for(var a=!1,i=!1,s=e.FullPaths.length-1;s>=0;--s){var o=e.FileIndex[s];switch(o.type){case 0:i?a=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:i=!0,isNaN(o.R*o.L*o.C)&&(a=!0),o.R>-1&&o.L>-1&&o.R==o.L&&(a=!0);break;default:a=!0}}if(a||t){var l=new Date(1987,1,19),c=0,u=Object.create?Object.create(null):{},d=[];for(s=0;s<e.FullPaths.length;++s)u[e.FullPaths[s]]=!0,0!==e.FileIndex[s].type&&d.push([e.FullPaths[s],e.FileIndex[s]]);for(s=0;s<d.length;++s){var f=r(d[s][0]);(i=u[f])||(d.push([f,{name:n(f).replace("/",""),type:1,clsid:v,ct:l,mt:l,content:null}]),u[f]=!0)}for(d.sort((function(e,t){return function(e,t){for(var r=e.split("/"),n=t.split("/"),a=0,i=0,s=Math.min(r.length,n.length);a<s;++a){if(i=r[a].length-n[a].length)return i;if(r[a]!=n[a])return r[a]<n[a]?-1:1}return r.length-n.length}(e[0],t[0])})),e.FullPaths=[],e.FileIndex=[],s=0;s<d.length;++s)e.FullPaths[s]=d[s][0],e.FileIndex[s]=d[s][1];for(s=0;s<d.length;++s){var p=e.FileIndex[s],m=e.FullPaths[s];if(p.name=n(m).replace("/",""),p.L=p.R=p.C=-(p.color=1),p.size=p.content?p.content.length:0,p.start=0,p.clsid=p.clsid||v,0===s)p.C=d.length>1?1:-1,p.size=0,p.type=5;else if("/"==m.slice(-1)){for(c=s+1;c<d.length&&r(e.FullPaths[c])!=m;++c);for(p.C=c>=d.length?-1:c,c=s+1;c<d.length&&r(e.FullPaths[c])!=r(m);++c);p.R=c>=d.length?-1:c,p.type=1}else r(e.FullPaths[s+1]||"")==r(m)&&(p.R=s+1),p.type=2}}}function p(e,t){var r=t||{};if("mad"==r.fileType)return function(e,t){for(var r=t||{},n=r.boundary||"SheetJS",a=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(n="------="+n).slice(2)+'"',"","",""],i=e.FullPaths[0],s=i,o=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(s=e.FullPaths[l].slice(i.length),(o=e.FileIndex[l]).size&&o.content&&"\x01Sh33tJ5"!=s){s=s.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,(function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"})).replace(/[\u0080-\uFFFF]/g,(function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"}));for(var c=o.content,u=Zk&&Buffer.isBuffer(c)?c.toString("binary"):w(c),d=0,h=Math.min(1024,u.length),f=0,p=0;p<=h;++p)(f=u.charCodeAt(p))>=32&&f<128&&++d;var m=d>=4*h/5;a.push(n),a.push("Content-Location: "+(r.root||"file:///C:/SheetJS/")+s),a.push("Content-Transfer-Encoding: "+(m?"quoted-printable":"base64")),a.push("Content-Type: "+se(o,s)),a.push(""),a.push(m?le(u):oe(u))}return a.push(n+"--\r\n"),a.join("\r\n")}(e,r);if(f(e),"zip"===r.fileType)return function(e,t){var r=t||{},n=[],i=[],s=__(1),o=r.compression?8:0,l=0;0;var c=0,u=0,d=0,h=0,f=e.FullPaths[0],p=f,m=e.FileIndex[0],g=[],x=0;for(c=1;c<e.FullPaths.length;++c)if(p=e.FullPaths[c].slice(f.length),(m=e.FileIndex[c]).size&&m.content&&"\x01Sh33tJ5"!=p){var b=d,y=__(p.length);for(u=0;u<p.length;++u)y.write_shift(1,127&p.charCodeAt(u));y=y.slice(0,y.l),g[h]=rS.buf(m.content,0);var v=m.content;8==o&&(v=j(v)),(s=__(30)).write_shift(4,67324752),s.write_shift(2,20),s.write_shift(2,l),s.write_shift(2,o),m.mt?a(s,m.mt):s.write_shift(4,0),s.write_shift(-4,8&l?0:g[h]),s.write_shift(4,8&l?0:v.length),s.write_shift(4,8&l?0:m.content.length),s.write_shift(2,y.length),s.write_shift(2,0),d+=s.length,n.push(s),d+=y.length,n.push(y),d+=v.length,n.push(v),8&l&&((s=__(12)).write_shift(-4,g[h]),s.write_shift(4,v.length),s.write_shift(4,m.content.length),d+=s.l,n.push(s)),(s=__(46)).write_shift(4,33639248),s.write_shift(2,0),s.write_shift(2,20),s.write_shift(2,l),s.write_shift(2,o),s.write_shift(4,0),s.write_shift(-4,g[h]),s.write_shift(4,v.length),s.write_shift(4,m.content.length),s.write_shift(2,y.length),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(4,0),s.write_shift(4,b),x+=s.l,i.push(s),x+=y.length,i.push(y),++h}return s=__(22),s.write_shift(4,101010256),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,h),s.write_shift(2,h),s.write_shift(4,x),s.write_shift(4,d),s.write_shift(2,0),sT([sT(n),sT(i),s])}(e,r);var n=function(e){for(var t=0,r=0,n=0;n<e.FileIndex.length;++n){var a=e.FileIndex[n];if(a.content){var i=a.content.length;i>0&&(i<4096?t+=i+63>>6:r+=i+511>>9)}}for(var s=e.FullPaths.length+3>>2,o=t+127>>7,l=(t+7>>3)+r+s+o,c=l+127>>7,u=c<=109?0:Math.ceil((c-109)/127);l+c+u+127>>7>c;)u=++c<=109?0:Math.ceil((c-109)/127);var d=[1,u,c,o,s,r,t,0];return e.FileIndex[0].size=t<<6,d[7]=(e.FileIndex[0].start=d[0]+d[1]+d[2]+d[3]+d[4]+d[5])+(d[6]+7>>3),d}(e),i=__(n[7]<<9),s=0,o=0;for(s=0;s<8;++s)i.write_shift(1,y[s]);for(s=0;s<8;++s)i.write_shift(2,0);for(i.write_shift(2,62),i.write_shift(2,3),i.write_shift(2,65534),i.write_shift(2,9),i.write_shift(2,6),s=0;s<3;++s)i.write_shift(2,0);for(i.write_shift(4,0),i.write_shift(4,n[2]),i.write_shift(4,n[0]+n[1]+n[2]+n[3]-1),i.write_shift(4,0),i.write_shift(4,4096),i.write_shift(4,n[3]?n[0]+n[1]+n[2]-1:x),i.write_shift(4,n[3]),i.write_shift(-4,n[1]?n[0]-1:x),i.write_shift(4,n[1]),s=0;s<109;++s)i.write_shift(-4,s<n[2]?n[1]+s:-1);if(n[1])for(o=0;o<n[1];++o){for(;s<236+127*o;++s)i.write_shift(-4,s<n[2]?n[1]+s:-1);i.write_shift(-4,o===n[1]-1?x:o+1)}var l=function(e){for(o+=e;s<o-1;++s)i.write_shift(-4,s+1);e&&(++s,i.write_shift(-4,x))};for(o=s=0,o+=n[1];s<o;++s)i.write_shift(-4,N.DIFSECT);for(o+=n[2];s<o;++s)i.write_shift(-4,N.FATSECT);l(n[3]),l(n[4]);for(var c=0,u=0,d=e.FileIndex[0];c<e.FileIndex.length;++c)(d=e.FileIndex[c]).content&&((u=d.content.length)<4096||(d.start=o,l(u+511>>9)));for(l(n[6]+7>>3);511&i.l;)i.write_shift(-4,N.ENDOFCHAIN);for(o=s=0,c=0;c<e.FileIndex.length;++c)(d=e.FileIndex[c]).content&&(!(u=d.content.length)||u>=4096||(d.start=o,l(u+63>>6)));for(;511&i.l;)i.write_shift(-4,N.ENDOFCHAIN);for(s=0;s<n[4]<<2;++s){var h=e.FullPaths[s];if(h&&0!==h.length){d=e.FileIndex[s],0===s&&(d.start=d.size?d.start-1:x);var p=0===s&&r.root||d.name;if(u=2*(p.length+1),i.write_shift(64,p,"utf16le"),i.write_shift(2,u),i.write_shift(1,d.type),i.write_shift(1,d.color),i.write_shift(-4,d.L),i.write_shift(-4,d.R),i.write_shift(-4,d.C),d.clsid)i.write_shift(16,d.clsid,"hex");else for(c=0;c<4;++c)i.write_shift(4,0);i.write_shift(4,d.state||0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,d.start),i.write_shift(4,d.size),i.write_shift(4,0)}else{for(c=0;c<17;++c)i.write_shift(4,0);for(c=0;c<3;++c)i.write_shift(4,-1);for(c=0;c<12;++c)i.write_shift(4,0)}}for(s=1;s<e.FileIndex.length;++s)if((d=e.FileIndex[s]).size>=4096)if(i.l=d.start+1<<9,Zk&&Buffer.isBuffer(d.content))d.content.copy(i,i.l,0,d.size),i.l+=d.size+511&-512;else{for(c=0;c<d.size;++c)i.write_shift(1,d.content[c]);for(;511&c;++c)i.write_shift(1,0)}for(s=1;s<e.FileIndex.length;++s)if((d=e.FileIndex[s]).size>0&&d.size<4096)if(Zk&&Buffer.isBuffer(d.content))d.content.copy(i,i.l,0,d.size),i.l+=d.size+63&-64;else{for(c=0;c<d.size;++c)i.write_shift(1,d.content[c]);for(;63&c;++c)i.write_shift(1,0)}if(Zk)i.l=i.length;else for(;i.l<i.length;)i.write_shift(1,0);return i}t.version="1.2.1";var m,g=64,x=-2,b="d0cf11e0a1b11ae1",y=[208,207,17,224,161,177,26,225],v="00000000000000000000000000000000",N={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:x,FREESECT:-1,HEADER_SIGNATURE:b,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:v,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function w(e){for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function j(e){return m?m.deflateRawSync(e):X(e)}var k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],S=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function O(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var _="undefined"!==typeof Uint8Array,E=_?new Uint8Array(256):[],C=0;C<256;++C)E[C]=O(C);function A(e,t){var r=E[255&e];return t<=8?r>>>8-t:(r=r<<8|E[e>>8&255],t<=16?r>>>16-t:(r=r<<8|E[e>>16&255])>>>24-t)}function I(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=6?0:e[n+1]<<8))>>>r&3}function P(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=5?0:e[n+1]<<8))>>>r&7}function H(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=3?0:e[n+1]<<8))>>>r&31}function D(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=1?0:e[n+1]<<8))>>>r&127}function M(e,t,r){var n=7&t,a=t>>>3,i=(1<<r)-1,s=e[a]>>>n;return r<8-n?s&i:(s|=e[a+1]<<8-n,r<16-n?s&i:(s|=e[a+2]<<16-n,r<24-n?s&i:(s|=e[a+3]<<24-n)&i))}function L(e,t,r){var n=7&t,a=t>>>3;return n<=5?e[a]|=(7&r)<<n:(e[a]|=r<<n&255,e[a+1]=(7&r)>>8-n),t+3}function R(e,t,r){return r=(1&r)<<(7&t),e[t>>>3]|=r,t+1}function F(e,t,r){var n=t>>>3;return r<<=7&t,e[n]|=255&r,r>>>=8,e[n+1]=r,t+8}function U(e,t,r){var n=t>>>3;return r<<=7&t,e[n]|=255&r,r>>>=8,e[n+1]=255&r,e[n+2]=r>>>8,t+16}function G(e,t){var r=e.length,n=2*r>t?2*r:t+5,a=0;if(r>=t)return e;if(Zk){var i=tT(n);if(e.copy)e.copy(i);else for(;a<e.length;++a)i[a]=e[a];return i}if(_){var s=new Uint8Array(n);if(s.set)s.set(e);else for(;a<r;++a)s[a]=e[a];return s}return e.length=n,e}function B(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=0;return t}function z(e,t,r){var n=1,a=0,i=0,s=0,o=0,l=e.length,c=_?new Uint16Array(32):B(32);for(i=0;i<32;++i)c[i]=0;for(i=l;i<r;++i)e[i]=0;l=e.length;var u=_?new Uint16Array(l):B(l);for(i=0;i<l;++i)c[a=e[i]]++,n<a&&(n=a),u[i]=0;for(c[0]=0,i=1;i<=n;++i)c[i+16]=o=o+c[i-1]<<1;for(i=0;i<l;++i)0!=(o=e[i])&&(u[i]=c[o+16]++);var d=0;for(i=0;i<l;++i)if(0!=(d=e[i]))for(o=A(u[i],n)>>n-d,s=(1<<n+4-d)-1;s>=0;--s)t[o|s<<d]=15&d|i<<4;return n}var V=_?new Uint16Array(512):B(512),K=_?new Uint16Array(32):B(32);if(!_){for(var $=0;$<512;++$)V[$]=0;for($=0;$<32;++$)K[$]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);z(e,K,32);var r=[];for(t=0;t<=143;t++)r.push(8);for(;t<=255;t++)r.push(9);for(;t<=279;t++)r.push(7);for(;t<=287;t++)r.push(8);z(r,V,288)}();var W=function(){for(var e=_?new Uint8Array(32768):[],t=0,r=0;t<S.length-1;++t)for(;r<S[t+1];++r)e[r]=t;for(;r<32768;++r)e[r]=29;var n=_?new Uint8Array(259):[];for(t=0,r=0;t<T.length-1;++t)for(;r<T[t+1];++r)n[r]=t;return function(t,r){return t.length<8?function(e,t){for(var r=0;r<e.length;){var n=Math.min(65535,e.length-r),a=r+n==e.length;for(t.write_shift(1,+a),t.write_shift(2,n),t.write_shift(2,65535&~n);n-- >0;)t[t.l++]=e[r++]}return t.l}(t,r):function(t,r){for(var a=0,i=0,s=_?new Uint16Array(32768):[];i<t.length;){var o=Math.min(65535,t.length-i);if(o<10){for(7&(a=L(r,a,+!(i+o!=t.length)))&&(a+=8-(7&a)),r.l=a/8|0,r.write_shift(2,o),r.write_shift(2,65535&~o);o-- >0;)r[r.l++]=t[i++];a=8*r.l}else{a=L(r,a,+!(i+o!=t.length)+2);for(var l=0;o-- >0;){var c=t[i],u=-1,d=0;if((u=s[l=32767&(l<<5^c)])&&((u|=-32768&i)>i&&(u-=32768),u<i))for(;t[u+d]==t[i+d]&&d<250;)++d;if(d>2){(c=n[d])<=22?a=F(r,a,E[c+1]>>1)-1:(F(r,a,3),F(r,a+=5,E[c-23]>>5),a+=3);var h=c<8?0:c-4>>2;h>0&&(U(r,a,d-T[c]),a+=h),c=e[i-u],a=F(r,a,E[c]>>3),a-=3;var f=c<4?0:c-2>>1;f>0&&(U(r,a,i-u-S[c]),a+=f);for(var p=0;p<d;++p)s[l]=32767&i,l=32767&(l<<5^t[i]),++i;o-=d-1}else c<=143?c+=48:a=R(r,a,1),a=F(r,a,E[c]),s[l]=32767&i,++i}a=F(r,a,0)-1}}return r.l=(a+7)/8|0,r.l}(t,r)}}();function X(e){var t=__(50+Math.floor(1.1*e.length)),r=W(e,t);return t.slice(0,r)}var Y=_?new Uint16Array(32768):B(32768),q=_?new Uint16Array(32768):B(32768),Q=_?new Uint16Array(128):B(128),Z=1,J=1;function ee(e,t){var r=H(e,t)+257,n=H(e,t+=5)+1,a=function(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=4?0:e[n+1]<<8))>>>r&15}(e,t+=5)+4;t+=4;for(var i=0,s=_?new Uint8Array(19):B(19),o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=_?new Uint8Array(8):B(8),u=_?new Uint8Array(8):B(8),d=s.length,h=0;h<a;++h)s[k[h]]=i=P(e,t),l<i&&(l=i),c[i]++,t+=3;var f=0;for(c[0]=0,h=1;h<=l;++h)u[h]=f=f+c[h-1]<<1;for(h=0;h<d;++h)0!=(f=s[h])&&(o[h]=u[f]++);var p=0;for(h=0;h<d;++h)if(0!=(p=s[h])){f=E[o[h]]>>8-p;for(var m=(1<<7-p)-1;m>=0;--m)Q[f|m<<p]=7&p|h<<3}var g=[];for(l=1;g.length<r+n;)switch(t+=7&(f=Q[D(e,t)]),f>>>=3){case 16:for(i=3+I(e,t),t+=2,f=g[g.length-1];i-- >0;)g.push(f);break;case 17:for(i=3+P(e,t),t+=3;i-- >0;)g.push(0);break;case 18:for(i=11+D(e,t),t+=7;i-- >0;)g.push(0);break;default:g.push(f),l<f&&(l=f)}var x=g.slice(0,r),b=g.slice(r);for(h=r;h<286;++h)x[h]=0;for(h=n;h<30;++h)b[h]=0;return Z=z(x,Y,286),J=z(b,q,30),t}function te(e,t){var r=function(e,t){if(3==e[0]&&!(3&e[1]))return[eT(t),2];for(var r=0,n=0,a=tT(t||1<<18),i=0,s=a.length>>>0,o=0,l=0;0==(1&n);)if(n=P(e,r),r+=3,n>>>1!=0)for(n>>1==1?(o=9,l=5):(r=ee(e,r),o=Z,l=J);;){!t&&s<i+32767&&(s=(a=G(a,i+32767)).length);var c=M(e,r,o),u=n>>>1==1?V[c]:Y[c];if(r+=15&u,0===((u>>>=4)>>>8&255))a[i++]=u;else{if(256==u)break;var d=(u-=257)<8?0:u-4>>2;d>5&&(d=0);var h=i+T[u];d>0&&(h+=M(e,r,d),r+=d),c=M(e,r,l),r+=15&(u=n>>>1==1?K[c]:q[c]);var f=(u>>>=4)<4?0:u-2>>1,p=S[u];for(f>0&&(p+=M(e,r,f),r+=f),!t&&s<h&&(s=(a=G(a,h+100)).length);i<h;)a[i]=a[i-p],++i}}else{7&r&&(r+=8-(7&r));var m=e[r>>>3]|e[1+(r>>>3)]<<8;if(r+=32,m>0)for(!t&&s<i+m&&(s=(a=G(a,i+m)).length);m-- >0;)a[i++]=e[r>>>3],r+=8}return t?[a,r+7>>>3]:[a.slice(0,i),r+7>>>3]}(e.slice(e.l||0),t);return e.l+=r[1],r[0]}function re(e,t){if(!e)throw new Error(t);"undefined"!==typeof console&&console.error(t)}function ne(e,t){var r=e;S_(r,0);var n={FileIndex:[],FullPaths:[]};h(n,{root:t.root});for(var a=r.length-4;(80!=r[a]||75!=r[a+1]||5!=r[a+2]||6!=r[a+3])&&a>=0;)--a;r.l=a+4,r.l+=4;var s=r.read_shift(2);r.l+=6;var o=r.read_shift(4);for(r.l=o,a=0;a<s;++a){r.l+=20;var l=r.read_shift(4),c=r.read_shift(4),u=r.read_shift(2),d=r.read_shift(2),f=r.read_shift(2);r.l+=8;var p=r.read_shift(4),m=i(r.slice(r.l+u,r.l+u+d));r.l+=u+d+f;var g=r.l;r.l=p+4,ae(r,l,c,n,m),r.l=g}return n}function ae(e,t,r,n,a){e.l+=2;var s=e.read_shift(2),o=e.read_shift(2),l=function(e){var t=65535&e.read_shift(2),r=65535&e.read_shift(2),n=new Date,a=31&r,i=15&(r>>>=5);r>>>=4,n.setMilliseconds(0),n.setFullYear(r+1980),n.setMonth(i-1),n.setDate(a);var s=31&t,o=63&(t>>>=5);return t>>>=6,n.setHours(t),n.setMinutes(o),n.setSeconds(s<<1),n}(e);if(8257&s)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var c=e.read_shift(4),u=e.read_shift(4),d=e.read_shift(2),h=e.read_shift(2),f="",p=0;p<d;++p)f+=String.fromCharCode(e[e.l++]);if(h){var g=i(e.slice(e.l,e.l+h));(g[21589]||{}).mt&&(l=g[21589].mt),((a||{})[21589]||{}).mt&&(l=a[21589].mt)}e.l+=h;var x=e.slice(e.l,e.l+c);switch(o){case 8:x=function(e,t){if(!m)return te(e,t);var r=new(0,m.InflateRaw),n=r._processChunk(e.slice(e.l),r._finishFlushFlag);return e.l+=r.bytesRead,n}(e,u);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+o)}var b=!1;8&s&&(134695760==e.read_shift(4)&&(e.read_shift(4),b=!0),c=e.read_shift(4),u=e.read_shift(4)),c!=t&&re(b,"Bad compressed size: "+t+" != "+c),u!=r&&re(b,"Bad uncompressed size: "+r+" != "+u),ue(n,f,x,{unsafe:!0,mt:l})}var ie={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function se(e,t){if(e.ctype)return e.ctype;var r=e.name||"",n=r.match(/\.([^\.]+)$/);return n&&ie[n[1]]||t&&(n=(r=t).match(/[\.\\]([^\.\\])+$/))&&ie[n[1]]?ie[n[1]]:"application/octet-stream"}function oe(e){for(var t=qk(e),r=[],n=0;n<t.length;n+=76)r.push(t.slice(n,n+76));return r.join("\r\n")+"\r\n"}function le(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,(function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)}));"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var r=[],n=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),a=0;a<n.length;++a){var i=n[a];if(0!=i.length)for(var s=0;s<i.length;){var o=76,l=i.slice(s,s+o);"="==l.charAt(o-1)?o--:"="==l.charAt(o-2)?o-=2:"="==l.charAt(o-3)&&(o-=3),l=i.slice(s,s+o),(s+=o)<i.length&&(l+="="),r.push(l)}else r.push("")}return r.join("\r\n")}function ce(e,t,r){for(var n,a="",i="",s="",o=0;o<10;++o){var l=t[o];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":a=c[2].trim();break;case"content-type":s=c[2].trim();break;case"content-transfer-encoding":i=c[2].trim()}}switch(++o,i.toLowerCase()){case"base64":n=rT(Qk(t.slice(o).join("")));break;case"quoted-printable":n=function(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r];r<=e.length&&"="==n.charAt(n.length-1);)n=n.slice(0,n.length-1)+e[++r];t.push(n)}for(var a=0;a<t.length;++a)t[a]=t[a].replace(/[=][0-9A-Fa-f]{2}/g,(function(e){return String.fromCharCode(parseInt(e.slice(1),16))}));return rT(t.join("\r\n"))}(t.slice(o));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+i)}var u=ue(e,a.slice(r.length),n,{unsafe:!0});s&&(u.ctype=s)}function ue(e,t,r,a){var i=a&&a.unsafe;i||h(e);var s=!i&&nS.find(e,t);if(!s){var o=e.FullPaths[0];t.slice(0,o.length)==o?o=t:("/"!=o.slice(-1)&&(o+="/"),o=(o+t).replace("//","/")),s={name:n(t),type:2},e.FileIndex.push(s),e.FullPaths.push(o),i||nS.utils.cfb_gc(e)}return s.content=r,s.size=r?r.length:0,a&&(a.CLSID&&(s.clsid=a.CLSID),a.mt&&(s.mt=a.mt),a.ct&&(s.ct=a.ct)),s}return t.find=function(e,t){var r=e.FullPaths.map((function(e){return e.toUpperCase()})),n=r.map((function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]})),a=!1;47===t.charCodeAt(0)?(a=!0,t=r[0].slice(0,-1)+t):a=-1!==t.indexOf("/");var i=t.toUpperCase(),s=!0===a?r.indexOf(i):n.indexOf(i);if(-1!==s)return e.FileIndex[s];var o=!i.match(lT);for(i=i.replace(oT,""),o&&(i=i.replace(lT,"!")),s=0;s<r.length;++s){if((o?r[s].replace(lT,"!"):r[s]).replace(oT,"")==i)return e.FileIndex[s];if((o?n[s].replace(lT,"!"):n[s]).replace(oT,"")==i)return e.FileIndex[s]}return null},t.read=function(t,r){var n=r&&r.type;switch(n||Zk&&Buffer.isBuffer(t)&&(n="buffer"),n||"base64"){case"file":return function(t,r){return s(),o(e.readFileSync(t),r)}(t,r);case"base64":return o(rT(Qk(t)),r);case"binary":return o(rT(t),r)}return o(t,r)},t.parse=o,t.write=function(t,r){var n=p(t,r);switch(r&&r.type||"buffer"){case"file":return s(),e.writeFileSync(r.filename,n),n;case"binary":return"string"==typeof n?n:w(n);case"base64":return qk("string"==typeof n?n:w(n));case"buffer":if(Zk)return Buffer.isBuffer(n)?n:Jk(n);case"array":return"string"==typeof n?rT(n):n}return n},t.writeFile=function(t,r,n){s();var a=p(t,n);e.writeFileSync(r,a)},t.utils={cfb_new:function(e){var t={};return h(t,e),t},cfb_add:ue,cfb_del:function(e,t){h(e);var r=nS.find(e,t);if(r)for(var n=0;n<e.FileIndex.length;++n)if(e.FileIndex[n]==r)return e.FileIndex.splice(n,1),e.FullPaths.splice(n,1),!0;return!1},cfb_mov:function(e,t,r){h(e);var a=nS.find(e,t);if(a)for(var i=0;i<e.FileIndex.length;++i)if(e.FileIndex[i]==a)return e.FileIndex[i].name=n(r),e.FullPaths[i]=r,!0;return!1},cfb_gc:function(e){f(e,!0)},ReadShift:v_,CheckField:T_,prep_blob:S_,bconcat:sT,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");m=e}catch(fU){console.error("cannot use native zlib: "+(fU.message||fU))}},_deflateRaw:X,_inflateRaw:te,consts:N},t}();let aS;function iS(e){return"string"===typeof e?nT(e):Array.isArray(e)?function(e){if("undefined"===typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function sS(e,t,r){if("undefined"!==typeof aS&&aS.writeFileSync)return r?aS.writeFileSync(e,t,r):aS.writeFileSync(e,t);if("undefined"!==typeof Deno){if(r&&"string"==typeof t)switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=nT(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n="utf8"==r?dO(t):t;if("undefined"!==typeof IE_SaveFile)return IE_SaveFile(n,e);if("undefined"!==typeof Blob){var a=new Blob([iS(n)],{type:"application/octet-stream"});if("undefined"!==typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if("undefined"!==typeof saveAs)return saveAs(a,e);if("undefined"!==typeof URL&&"undefined"!==typeof document&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if("object"===typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(i)}),6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(null!=s.download)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(i)}),6e4),i}}if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=aT(t)),o.write(t),o.close(),t}catch(fU){if(!fU.message||!fU.message.match(/onstruct/))throw fU}throw new Error("cannot save file "+e)}function oS(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function lS(e,t){for(var r=[],n=oS(e),a=0;a!==n.length;++a)null==r[e[n[a]][t]]&&(r[e[n[a]][t]]=n[a]);return r}function cS(e){for(var t=[],r=oS(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function uS(e){for(var t=[],r=oS(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}var dS=new Date(1899,11,30,0,0,0);function hS(e,t){var r=e.getTime();return t&&(r-=1263168e5),(r-(dS.getTime()+6e4*(e.getTimezoneOffset()-dS.getTimezoneOffset())))/864e5}var fS=new Date,pS=dS.getTime()+6e4*(fS.getTimezoneOffset()-dS.getTimezoneOffset()),mS=fS.getTimezoneOffset();function gS(e){var t=new Date;return t.setTime(24*e*60*60*1e3+pS),t.getTimezoneOffset()!==mS&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-mS)),t}function xS(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(!n)throw new Error("Unsupported ISO Duration Field: M");r*=60}t+=r*parseInt(a[i],10)}return t}var bS=new Date("2017-02-19T19:06:09.000Z"),yS=isNaN(bS.getFullYear())?new Date("2/19/17"):bS,vS=2017==yS.getFullYear();function NS(e,t){var r=new Date(e);if(vS)return t>0?r.setTime(r.getTime()+60*r.getTimezoneOffset()*1e3):t<0&&r.setTime(r.getTime()-60*r.getTimezoneOffset()*1e3),r;if(e instanceof Date)return e;if(1917==yS.getFullYear()&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-60*i.getTimezoneOffset()*1e3)),i}function wS(e,t){if(Zk&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return dO(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return dO(Vk(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!==typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return dO(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return dO(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"\u20ac":"\x80","\u201a":"\x82","\u0192":"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02c6":"\x88","\u2030":"\x89","\u0160":"\x8a","\u2039":"\x8b","\u0152":"\x8c","\u017d":"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99","\u0161":"\x9a","\u203a":"\x9b","\u0153":"\x9c","\u017e":"\x9e","\u0178":"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,(function(e){return r[e]||e}))}catch(fU){}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function jS(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=jS(e[r]));return t}function kS(e,t){for(var r="";r.length<t;)r+=e;return r}function TS(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,(function(){return r*=100,""}));return isNaN(t=Number(n))?(n=n.replace(/[(](.*)[)]/,(function(e,t){return r=-r,t})),isNaN(t=Number(n))?t:t/r):t/r}var SS=["january","february","march","april","may","june","july","august","september","october","november","december"];function OS(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==SS.indexOf(s))return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&101!=n?t:e.match(/[^-0-9:,\/\\]/)?r:t}var _S=function(){var e=5=="abacaba".split(/(:?b)/i).length;return function(t,r,n){if(e||"string"==typeof r)return t.split(r);for(var a=t.split(r),i=[a[0]],s=1;s<a.length;++s)i.push(n),i.push(a[s]);return i}}();function ES(e){return e?e.content&&e.type?wS(e.content,!0):e.data?$k(e.data):e.asNodeBuffer&&Zk?$k(e.asNodeBuffer().toString("binary")):e.asBinary?$k(e.asBinary()):e._data&&e._data.getContent?$k(wS(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function CS(e){if(!e)return null;if(e.data)return zk(e.data);if(e.asNodeBuffer&&Zk)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return"string"==typeof t?zk(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function AS(e,t){for(var r=e.FullPaths||oS(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function IS(e,t){var r=AS(e,t);if(null==r)throw new Error("Cannot find file "+t+" in zip");return r}function PS(e,t,r){if(!r)return function(e){return e&&".bin"===e.name.slice(-4)?CS(e):ES(e)}(IS(e,t));if(!t)return null;try{return PS(e,t)}catch(fU){return null}}function HS(e,t,r){if(!r)return ES(IS(e,t));if(!t)return null;try{return HS(e,t)}catch(fU){return null}}function DS(e,t,r){if(!r)return CS(IS(e,t));if(!t)return null;try{return DS(e,t)}catch(fU){return null}}function MS(e){for(var t=e.FullPaths||oS(e.files),r=[],n=0;n<t.length;++n)"/"!=t[n].slice(-1)&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function LS(e,t,r){if(e.FullPaths){var n;if("string"==typeof r)return n=Zk?Jk(r):function(e){for(var t=[],r=0,n=e.length+250,a=eT(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|63&s;else if(s>=55296&&s<57344){s=64+(1023&s);var o=1023&e.charCodeAt(++i);a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(3&s)<<4,a[r++]=128|63&o}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|63&s;r>n&&(t.push(a.slice(0,r)),r=0,a=eT(65535),n=65530)}return t.push(a.slice(0,r)),sT(t)}(r),nS.utils.cfb_add(e,t,n);nS.utils.cfb_add(e,t,r)}else e.file(t,r)}function RS(){return nS.utils.cfb_new()}function FS(e,t){switch(t.type){case"base64":return nS.read(e,{type:"base64"});case"binary":return nS.read(e,{type:"binary"});case"buffer":case"array":return nS.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function US(e,t){if("/"==e.charAt(0))return e.slice(1);var r=t.split("/");"/"!=t.slice(-1)&&r.pop();for(var n=e.split("/");0!==n.length;){var a=n.shift();".."===a?r.pop():"."!==a&&r.push(a)}return r.join("/")}var GS='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',BS=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,zS=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,VS=GS.match(zS)?zS:/<[^>]*>/g,KS=/<\w*:/,$S=/<(\/?)\w+:/;function WS(e,t,r){for(var n={},a=0,i=0;a!==e.length&&(32!==(i=e.charCodeAt(a))&&10!==i&&13!==i);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(BS),o=0,l="",c=0,u="",d="",h=1;if(s)for(c=0;c!=s.length;++c){for(d=s[c],i=0;i!=d.length&&61!==d.charCodeAt(i);++i);for(u=d.slice(0,i).trim();32==d.charCodeAt(i+1);)++i;for(h=34==(a=d.charCodeAt(i+1))||39==a?1:0,l=d.slice(i+1+h,d.length-h),o=0;o!=u.length&&58!==u.charCodeAt(o);++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,r||(n[u.toLowerCase()]=l);else{var f=(5===o&&"xmlns"===u.slice(0,5)?"xmlns":"")+u.slice(o+1);if(n[f]&&"ext"==u.slice(o-3,o))continue;n[f]=l,r||(n[f.toLowerCase()]=l)}}return n}function XS(e){return e.replace($S,"<$1")}var YS={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},qS=cS(YS),QS=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,t=/_x([\da-fA-F]{4})_/gi;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(-1==i)return a.replace(e,(function(e,t){return YS[e]||String.fromCharCode(parseInt(t,e.indexOf("x")>-1?16:10))||e})).replace(t,(function(e,t){return String.fromCharCode(parseInt(t,16))}));var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),ZS=/[&<>'"]/g,JS=/[\u0000-\u0008\u000b-\u001f]/g;function eO(e){return(e+"").replace(ZS,(function(e){return qS[e]})).replace(JS,(function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"}))}function tO(e){return eO(e).replace(/ /g,"_x0020_")}var rO=/[\u0000-\u001f]/g;function nO(e){return(e+"").replace(ZS,(function(e){return qS[e]})).replace(/\n/g,"<br/>").replace(rO,(function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"}))}var aO=function(){var e=/&#(\d+);/g;function t(e,t){return String.fromCharCode(parseInt(t,10))}return function(r){return r.replace(e,t)}}();function iO(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function sO(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;)(n=e.charCodeAt(r++))<128?t+=String.fromCharCode(n):(a=e.charCodeAt(r++),n>191&&n<224?(s=(31&n)<<6,s|=63&a,t+=String.fromCharCode(s)):(i=e.charCodeAt(r++),n<240?t+=String.fromCharCode((15&n)<<12|(63&a)<<6|63&i):(o=((7&n)<<18|(63&a)<<12|(63&i)<<6|63&(s=e.charCodeAt(r++)))-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(1023&o)))));return t}function oO(e){var t,r,n,a=eT(2*e.length),i=1,s=0,o=0;for(r=0;r<e.length;r+=i)i=1,(n=e.charCodeAt(r))<128?t=n:n<224?(t=64*(31&n)+(63&e.charCodeAt(r+1)),i=2):n<240?(t=4096*(15&n)+64*(63&e.charCodeAt(r+1))+(63&e.charCodeAt(r+2)),i=3):(i=4,t=262144*(7&n)+4096*(63&e.charCodeAt(r+1))+64*(63&e.charCodeAt(r+2))+(63&e.charCodeAt(r+3)),o=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==o&&(a[s++]=255&o,a[s++]=o>>>8,o=0),a[s++]=t%256,a[s++]=t>>>8;return a.slice(0,s).toString("ucs2")}function lO(e){return Jk(e,"binary").toString("utf8")}var cO="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",uO=Zk&&(lO(cO)==sO(cO)&&lO||oO(cO)==sO(cO)&&oO)||sO,dO=Zk?function(e){return Jk(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(63&n)));break;case n>=55296&&n<57344:n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(63&a)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(63&n)))}return t.join("")},hO=function(){var e={};return function(t,r){var n=t+"|"+(r||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",r||"")}}(),fO=function(){var e=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map((function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]}));return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),n=0;n<e.length;++n)r=r.replace(e[n][0],e[n][1]);return r}}(),pO=function(){var e={};return function(t){return void 0!==e[t]?e[t]:e[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),mO=/<\/?(?:vt:)?variant>/g,gO=/<(?:vt:)([^>]*)>([\s\S]*)</;function xO(e,t){var r=WS(e),n=e.match(pO(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach((function(e){var t=e.replace(mO,"").match(gO);t&&a.push({v:uO(t[2]),t:t[1]})})),a}var bO=/(^\s|\s$|\n)/;function yO(e,t){return"<"+e+(t.match(bO)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function vO(e){return oS(e).map((function(t){return" "+t+'="'+e[t]+'"'})).join("")}function NO(e,t,r){return"<"+e+(null!=r?vO(r):"")+(null!=t?(t.match(bO)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function wO(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(fU){if(t)throw fU}return""}function jO(e){if(Zk&&Buffer.isBuffer(e))return e.toString("utf8");if("string"===typeof e)return e;if("undefined"!==typeof Uint8Array&&e instanceof Uint8Array)return uO(aT(iT(e)));throw new Error("Bad input format: expected Buffer or string")}var kO=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,TO="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",SO="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",OO="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",_O="http://schemas.openxmlformats.org/package/2006/content-types",EO="http://schemas.openxmlformats.org/package/2006/relationships",CO="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",AO="http://purl.org/dc/elements/1.1/",IO="http://purl.org/dc/terms/",PO="http://purl.org/dc/dcmitype/",HO="http://schemas.openxmlformats.org/officeDocument/2006/relationships",DO="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",MO="http://www.w3.org/2001/XMLSchema-instance",LO="http://www.w3.org/2001/XMLSchema",RO=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],FO="urn:schemas-microsoft-com:office:office",UO="urn:schemas-microsoft-com:office:excel",GO="urn:schemas-microsoft-com:office:spreadsheet",BO="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",zO="http://macVmlSchemaUri",VO="urn:schemas-microsoft-com:vml",KO="http://www.w3.org/TR/REC-html40";var $O=function(e){for(var t=[],r=0;r<e[0].length;++r)if(e[0][r])for(var n=0,a=e[0][r].length;n<a;n+=10240)t.push.apply(t,e[0][r].slice(n,n+10240));return t},WO=Zk?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map((function(e){return Buffer.isBuffer(e)?e:Jk(e)}))):$O(e)}:$O,XO=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(m_(e,a)));return n.join("").replace(oT,"")},YO=Zk?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(oT,""):XO(e,t,r)}:XO,qO=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},QO=Zk?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):qO(e,t,r)}:qO,ZO=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(p_(e,a)));return n.join("")},JO=Zk?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):ZO(e,t,r)}:ZO,e_=function(e,t){var r=x_(e,t);return r>0?JO(e,t+4,t+4+r-1):""},t_=e_,r_=function(e,t){var r=x_(e,t);return r>0?JO(e,t+4,t+4+r-1):""},n_=r_,a_=function(e,t){var r=2*x_(e,t);return r>0?JO(e,t+4,t+4+r-1):""},i_=a_,s_=function(e,t){var r=x_(e,t);return r>0?YO(e,t+4,t+4+r):""},o_=s_,l_=function(e,t){var r=x_(e,t);return r>0?JO(e,t+4,t+4+r):""},c_=l_,u_=function(e,t){return function(e,t){for(var r=1-2*(e[t+7]>>>7),n=((127&e[t+7])<<4)+(e[t+6]>>>4&15),a=15&e[t+6],i=5;i>=0;--i)a=256*a+e[t+i];return 2047==n?0==a?r*(1/0):NaN:(0==n?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}(e,t)},d_=u_,h_=function(e){return Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array};function f_(){YO=function(e,t,r){return Kk.utils.decode(1200,e.slice(t,r)).replace(oT,"")},JO=function(e,t,r){return Kk.utils.decode(65001,e.slice(t,r))},t_=function(e,t){var r=x_(e,t);return r>0?Kk.utils.decode(Lk,e.slice(t+4,t+4+r-1)):""},n_=function(e,t){var r=x_(e,t);return r>0?Kk.utils.decode(Mk,e.slice(t+4,t+4+r-1)):""},i_=function(e,t){var r=2*x_(e,t);return r>0?Kk.utils.decode(1200,e.slice(t+4,t+4+r-1)):""},o_=function(e,t){var r=x_(e,t);return r>0?Kk.utils.decode(1200,e.slice(t+4,t+4+r)):""},c_=function(e,t){var r=x_(e,t);return r>0?Kk.utils.decode(65001,e.slice(t+4,t+4+r)):""}}Zk&&(t_=function(e,t){if(!Buffer.isBuffer(e))return e_(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},n_=function(e,t){if(!Buffer.isBuffer(e))return r_(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},i_=function(e,t){if(!Buffer.isBuffer(e))return a_(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},o_=function(e,t){if(!Buffer.isBuffer(e))return s_(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},c_=function(e,t){if(!Buffer.isBuffer(e))return l_(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},d_=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):u_(e,t)},h_=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array}),"undefined"!==typeof Kk&&f_();var p_=function(e,t){return e[t]},m_=function(e,t){return 256*e[t+1]+e[t]},g_=function(e,t){var r=256*e[t+1]+e[t];return r<32768?r:-1*(65535-r+1)},x_=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},b_=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},y_=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function v_(e,t){var r,n,a,i,s,o,l="",c=[];switch(t){case"dbcs":if(o=this.l,Zk&&Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(s=0;s<e;++s)l+=String.fromCharCode(m_(this,o)),o+=2;e*=2;break;case"utf8":l=JO(this,this.l,this.l+e);break;case"utf16le":e*=2,l=YO(this,this.l,this.l+e);break;case"wstr":if("undefined"===typeof Kk)return v_.call(this,e,"dbcs");l=Kk.utils.decode(Mk,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":l=t_(this,this.l),e=4+x_(this,this.l);break;case"lpstr-cp":l=n_(this,this.l),e=4+x_(this,this.l);break;case"lpwstr":l=i_(this,this.l),e=4+2*x_(this,this.l);break;case"lpp4":e=4+x_(this,this.l),l=o_(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+x_(this,this.l),l=c_(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(a=p_(this,this.l+e++));)c.push(Wk(a));l=c.join("");break;case"_wstr":for(e=0,l="";0!==(a=m_(this,this.l+e));)c.push(Wk(a)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(l="",o=this.l,s=0;s<e;++s){if(this.lens&&-1!==this.lens.indexOf(o))return a=p_(this,o),this.l=o+1,i=v_.call(this,e-s,a?"dbcs-cont":"sbcs-cont"),c.join("")+i;c.push(Wk(m_(this,o))),o+=2}l=c.join(""),e*=2;break;case"cpstr":if("undefined"!==typeof Kk){l=Kk.utils.decode(Mk,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(l="",o=this.l,s=0;s!=e;++s){if(this.lens&&-1!==this.lens.indexOf(o))return a=p_(this,o),this.l=o+1,i=v_.call(this,e-s,a?"dbcs-cont":"sbcs-cont"),c.join("")+i;c.push(Wk(p_(this,o))),o+=1}l=c.join("");break;default:switch(e){case 1:return r=p_(this,this.l),this.l++,r;case 2:return r=("i"===t?g_:m_)(this,this.l),this.l+=2,r;case 4:case-4:return"i"===t||0===(128&this[this.l+3])?(r=(e>0?b_:y_)(this,this.l),this.l+=4,r):(n=x_(this,this.l),this.l+=4,n);case 8:case-8:if("f"===t)return n=8==e?d_(this,this.l):d_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:l=QO(this,this.l,e)}}return this.l+=e,l}var N_=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},w_=function(e,t,r){e[r]=255&t,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},j_=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255};function k_(e,t,r){var n=0,a=0;if("dbcs"===r){for(a=0;a!=t.length;++a)j_(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if("sbcs"===r){if("undefined"!==typeof Kk&&874==Lk)for(a=0;a!=t.length;++a){var i=Kk.utils.encode(Lk,t.charAt(a));this[this.l+a]=i[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=255&t.charCodeAt(a);n=t.length}else{if("hex"===r){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}if("utf16le"===r){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=255&o,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}switch(e){case 1:n=1,this[this.l]=255&t;break;case 2:n=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:n=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:n=4,N_(this,t,this.l);break;case 8:if(n=8,"f"===r){!function(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?0==s?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=255&i;e[r+6]=(15&a)<<4|15&i,e[r+7]=a>>4|n}(this,t,this.l);break}case 16:break;case-4:n=4,w_(this,t,this.l)}}return this.l+=n,this}function T_(e,t){var r=QO(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function S_(e,t){e.l=t,e.read_shift=v_,e.chk=T_,e.write_shift=k_}function O_(e,t){e.l+=t}function __(e){var t=eT(e);return S_(t,0),t}function E_(e,t,r){if(e){var n,a,i;S_(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){128&(o=e.read_shift(1))&&(o=(127&o)+((127&e.read_shift(1))<<7));var c=DD[o]||DD[65535];for(i=127&(n=e.read_shift(1)),a=1;a<4&&128&n;++a)i+=(127&(n=e.read_shift(1)))<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function C_(){var e=[],t=Zk?256:2048,r=function(e){var t=__(e);return S_(t,0),t},n=r(t),a=function(){n&&(n.length>n.l&&((n=n.slice(0,n.l)).l=n.length),n.length>0&&e.push(n),n=null)},i=function(e){return n&&e<n.length-n.l?n:(a(),n=r(Math.max(e+1,t)))};return{next:i,push:function(e){a(),null==(n=e).l&&(n.l=n.length),i(t)},end:function(){return a(),sT(e)},_bufs:e}}function A_(e,t,r,n){var a,i=+t;if(!isNaN(i)){n||(n=DD[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var s=e.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,128+(127&i)),s.write_shift(1,i>>7));for(var o=0;4!=o;++o){if(!(n>=128)){s.write_shift(1,n);break}s.write_shift(1,128+(127&n)),n>>=7}n>0&&h_(r)&&e.push(r)}}function I_(e,t,r){var n=jS(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function P_(e,t,r){var n=jS(e);return n.s=I_(n.s,t.s,r),n.e=I_(n.e,t.s,r),n}function H_(e,t){if(e.cRel&&e.c<0)for(e=jS(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=jS(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=G_(e);return e.cRel||null==e.cRel||(r=r.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(r=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(r)),r}function D_(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?H_(e.s,t.biff)+":"+H_(e.e,t.biff):(e.s.rRel?"":"$")+L_(e.s.r)+":"+(e.e.rRel?"":"$")+L_(e.e.r):(e.s.cRel?"":"$")+F_(e.s.c)+":"+(e.e.cRel?"":"$")+F_(e.e.c)}function M_(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function L_(e){return""+(e+1)}function R_(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function F_(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function U_(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function G_(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function B_(e){var t=e.indexOf(":");return-1==t?{s:U_(e),e:U_(e)}:{s:U_(e.slice(0,t)),e:U_(e.slice(t+1))}}function z_(e,t){return"undefined"===typeof t||"number"===typeof t?z_(e.s,e.e):("string"!==typeof e&&(e=G_(e)),"string"!==typeof t&&(t=G_(t)),e==t?e:e+":"+t)}function V_(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||10!=a)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function K_(e,t){var r="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=qT(e.z,r?hS(t):t)}catch(fU){}try{return e.w=qT((e.XF||{}).numFmtId||(r?14:0),r?hS(t):t)}catch(fU){return""+t}}function $_(e,t,r){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),"e"==e.t?AE[e.v]||e.v:K_(e,void 0==t?e.v:t))}function W_(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function X_(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense;var i=e||(a?[]:{}),s=0,o=0;if(i&&null!=n.origin){if("number"==typeof n.origin)s=n.origin;else{var l="string"==typeof n.origin?U_(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=V_(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),-1==s&&(c.e.r=s=u.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[d].length;++h)if("undefined"!==typeof t[d][h]){var f={v:t[d][h]},p=s+d,m=o+h;if(c.s.r>p&&(c.s.r=p),c.s.c>m&&(c.s.c=m),c.e.r<p&&(c.e.r=p),c.e.c<m&&(c.e.c=m),!t[d][h]||"object"!==typeof t[d][h]||Array.isArray(t[d][h])||t[d][h]instanceof Date)if(Array.isArray(f.v)&&(f.f=t[d][h][1],f.v=f.v[0]),null===f.v)if(f.f)f.t="n";else if(n.nullError)f.t="e",f.v=0;else{if(!n.sheetStubs)continue;f.t="z"}else"number"===typeof f.v?f.t="n":"boolean"===typeof f.v?f.t="b":f.v instanceof Date?(f.z=n.dateNF||bT[14],n.cellDates?(f.t="d",f.w=qT(f.z,hS(f.v))):(f.t="n",f.v=hS(f.v),f.w=qT(f.z,f.v))):f.t="s";else f=t[d][h];if(a)i[p]||(i[p]=[]),i[p][m]&&i[p][m].z&&(f.z=i[p][m].z),i[p][m]=f;else{var g=G_({c:m,r:p});i[g]&&i[g].z&&(f.z=i[g].z),i[g]=f}}}return c.s.c<1e7&&(i["!ref"]=z_(c)),i}function Y_(e,t){return X_(null,e,t)}function q_(e,t){return t||(t=__(4)),t.write_shift(4,e),t}function Q_(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function Z_(e,t){var r=!1;return null==t&&(r=!0,t=__(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function J_(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function eE(e,t){var r=e.l,n=e.read_shift(1),a=Q_(e),i=[],s={t:a,h:a};if(0!==(1&n)){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(J_(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var tE=eE;function rE(e,t){var r=!1;return null==t&&(r=!0,t=__(23+4*e.t.length)),t.write_shift(1,1),Z_(e.t,t),t.write_shift(4,1),function(e,t){t||(t=__(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function nE(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function aE(e,t){return null==t&&(t=__(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function iE(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function sE(e,t){return null==t&&(t=__(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var oE=Q_,lE=Z_;function cE(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function uE(e,t){var r=!1;return null==t&&(r=!0,t=__(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var dE=Q_,hE=cE,fE=uE;function pE(e){var t=e.slice(e.l,e.l+4),r=1&t[0],n=2&t[0];e.l+=4;var a=0===n?d_([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):b_(t,0)>>2;return r?a/100:a}function mE(e,t){null==t&&(t=__(4));var r=0,n=0,a=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?n=1:a==(0|a)&&a>=-(1<<29)&&a<1<<29&&(n=1,r=1),!n)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((r?a:e)<<2)+(r+2))}function gE(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var xE=gE,bE=function(e,t){return t||(t=__(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function yE(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function vE(e,t){return(t||__(8)).write_shift(8,e,"f")}function NE(e,t){if(t||(t=__(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),e.rgb&&null==e.theme){var n=e.rgb||"FFFFFF";"number"==typeof n&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}function wE(e,t){var r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return{2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"}[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,1==t?"lpstr":"lpwstr")}var jE=80,kE=[jE,81],TE={1:{n:"CodePage",t:2},2:{n:"Category",t:jE},3:{n:"PresentationFormat",t:jE},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:jE},15:{n:"Company",t:jE},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:jE},27:{n:"ContentStatus",t:jE},28:{n:"Language",t:jE},29:{n:"Version",t:jE},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},SE={1:{n:"CodePage",t:2},2:{n:"Title",t:jE},3:{n:"Subject",t:jE},4:{n:"Author",t:jE},5:{n:"Keywords",t:jE},6:{n:"Comments",t:jE},7:{n:"Template",t:jE},8:{n:"LastAuthor",t:jE},9:{n:"RevNumber",t:jE},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:jE},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},OE={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},_E=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function EE(e){return e.map((function(e){return[e>>16&255,e>>8&255,255&e]}))}var CE=jS(EE([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),AE={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},IE={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},PE={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},HE={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function DE(e,t){var r,n=function(e){for(var t=[],r=oS(e),n=0;n!==r.length;++n)null==t[e[r[n]]]&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}(PE),a=[];a[a.length]=GS,a[a.length]=NO("Types",null,{xmlns:_O,"xmlns:xsd":LO,"xmlns:xsi":MO}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map((function(e){return NO("Default",null,{Extension:e[0],ContentType:e[1]})})));var i=function(n){e[n]&&e[n].length>0&&(r=e[n][0],a[a.length]=NO("Override",null,{PartName:("/"==r[0]?"":"/")+r,ContentType:HE[n][t.bookType]||HE[n].xlsx}))},s=function(r){(e[r]||[]).forEach((function(e){a[a.length]=NO("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:HE[r][t.bookType]||HE[r].xlsx})}))},o=function(t){(e[t]||[]).forEach((function(e){a[a.length]=NO("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:n[t][0]})}))};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var ME={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function LE(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function RE(e,t){var r={"!id":{}};if(!e)return r;"/"!==t.charAt(0)&&(t="/"+t);var n={};return(e.match(VS)||[]).forEach((function(e){var a=WS(e);if("<Relationship"===a[0]){var i={};i.Type=a.Type,i.Target=a.Target,i.Id=a.Id,a.TargetMode&&(i.TargetMode=a.TargetMode);var s="External"===a.TargetMode?a.Target:US(a.Target,t);r[s]=i,n[a.Id]=i}})),r["!id"]=n,r}function FE(e){var t=[GS,NO("Relationships",null,{xmlns:EO})];return oS(e["!id"]).forEach((function(r){t[t.length]=NO("Relationship",null,e["!id"][r])})),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function UE(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,i?a.TargetMode=i:[ME.HLINK,ME.XPATH,ME.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function GE(e,t,r){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function BE(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Dk.version+"</meta:generator></office:meta></office:document-meta>"}var zE=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],VE=function(){for(var e=new Array(zE.length),t=0;t<zE.length;++t){var r=zE[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function KE(e){var t={};e=uO(e);for(var r=0;r<zE.length;++r){var n=zE[r],a=e.match(VE[r]);null!=a&&a.length>0&&(t[n[1]]=QS(a[1])),"date"===n[2]&&t[n[1]]&&(t[n[1]]=NS(t[n[1]]))}return t}function $E(e,t,r,n,a){null==a[e]&&null!=t&&""!==t&&(a[e]=t,t=eO(t),n[n.length]=r?NO(e,t,r):yO(e,t))}function WE(e,t){var r=t||{},n=[GS,NO("cp:coreProperties",null,{"xmlns:cp":TO,"xmlns:dc":AO,"xmlns:dcterms":IO,"xmlns:dcmitype":PO,"xmlns:xsi":MO})],a={};if(!e&&!r.Props)return n.join("");e&&(null!=e.CreatedDate&&$E("dcterms:created","string"===typeof e.CreatedDate?e.CreatedDate:wO(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),null!=e.ModifiedDate&&$E("dcterms:modified","string"===typeof e.ModifiedDate?e.ModifiedDate:wO(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=zE.length;++i){var s=zE[i],o=r.Props&&null!=r.Props[s[1]]?r.Props[s[1]]:e?e[s[1]]:null;!0===o?o="1":!1===o?o="0":"number"==typeof o&&(o=String(o)),null!=o&&$E(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var XE=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],YE=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function qE(e,t,r,n){var a=[];if("string"==typeof e)a=xO(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map((function(e){return{v:e}})));var s="string"==typeof t?xO(t,n).map((function(e){return e.v})):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"\u5de5\u4f5c\u8868":case"\u041b\u0438\u0441\u0442\u044b":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30ef\u30fc\u30af\u30b7\u30fc\u30c8":case"\u05d2\u05dc\u05d9\u05d5\u05e0\u05d5\u05ea \u05e2\u05d1\u05d5\u05d3\u05d4":case"Arbeitsbl\xe4tter":case"\xc7al\u0131\u015fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xe1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xe1lculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"\u540d\u524d\u4ed8\u304d\u4e00\u89a7":case"Benannte Bereiche":case"Navngivne omr\xe5der":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l)}o+=l}}function QE(e){var t=[],r=NO;return e||(e={}),e.Application="SheetJS",t[t.length]=GS,t[t.length]=NO("Properties",null,{xmlns:OO,"xmlns:vt":DO}),XE.forEach((function(n){if(void 0!==e[n[1]]){var a;switch(n[2]){case"string":a=eO(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false"}void 0!==a&&(t[t.length]=r(n[0],a))}})),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map((function(e){return"<vt:lpstr>"+eO(e)+"</vt:lpstr>"})).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var ZE=/<[^>]+>[^<]*/g;function JE(e){var t=[GS,NO("Properties",null,{xmlns:SO,"xmlns:vt":DO})];if(!e)return t.join("");var r=1;return oS(e).forEach((function(n){++r,t[t.length]=NO("property",function(e,t){switch(typeof e){case"string":var r=NO("vt:lpwstr",eO(e));return t&&(r=r.replace(/&quot;/g,"_x0022_")),r;case"number":return NO((0|e)==e?"vt:i4":"vt:r8",eO(String(e)));case"boolean":return NO("vt:bool",e?"true":"false")}if(e instanceof Date)return NO("vt:filetime",wO(e));throw new Error("Unable to serialize "+e)}(e[n],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:eO(n)})})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var eC,tC={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function rC(e,t,r){eC||(eC=cS(tC)),e[t=eC[t]||t]=r}function nC(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date(1e3*(r/1e7*Math.pow(2,32)+t/1e7-11644473600)).toISOString().replace(/\.000/,"")}function aC(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function iC(e,t,r){var n=e.read_shift(0,"lpwstr");return r&&(e.l+=4-(n.length+1&3)&3),n}function sC(e,t,r){return 31===t?iC(e):aC(e,0,r)}function oC(e,t,r){return sC(e,t,!1===r?0:4)}function lC(e){var t=e.l,r=dC(e,81);return 0==e[e.l]&&0==e[e.l+1]&&e.l-t&2&&(e.l+=2),[r,dC(e,3)]}function cC(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,1200===t?"utf16le":"utf8").replace(oT,"").replace(lT,"!"),1200===t&&s%2&&(e.l+=2)}return 3&e.l&&(e.l=e.l>>3<<2),n}function uC(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(3&t)>0&&(e.l+=4-(3&t)&3),r}function dC(e,t,r){var n,a=e.read_shift(2),i=r||{};if(e.l+=2,12!==t&&a!==t&&-1===kE.indexOf(t)&&(4126!=(65534&t)||4126!=(65534&a)))throw new Error("Expected type "+t+" saw "+a);switch(12===t?a:t){case 2:return n=e.read_shift(2,"i"),i.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i");case 11:return 0!==e.read_shift(4);case 19:return n=e.read_shift(4);case 30:return aC(e,0,4).replace(oT,"");case 31:return iC(e);case 64:return nC(e);case 65:return uC(e);case 71:return function(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}(e);case 80:return oC(e,a,!i.raw).replace(oT,"");case 81:return function(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return sC(e,t,0)}(e,a).replace(oT,"");case 4108:return function(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(lC(e));return r}(e);case 4126:case 4127:return 4127==a?function(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(oT,""),e.l-a&2&&(e.l+=2)}return r}(e):function(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(oT,"");return r}(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}}function hC(e,t){var r=__(4),n=__(4);switch(r.write_shift(4,80==e?31:e),e){case 3:n.write_shift(-4,t);break;case 5:(n=__(8)).write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,r=t%Math.pow(2,32),n=(t-r)/Math.pow(2,32);n*=1e7;var a=(r*=1e7)/Math.pow(2,32)|0;a>0&&(r%=Math.pow(2,32),n+=a);var i=__(8);return i.write_shift(4,r),i.write_shift(4,n),i}(t);break;case 31:case 80:for((n=__(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return sT([r,n])}function fC(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),d=e.read_shift(4);i[s]=[u,d+r]}i.sort((function(e,t){return e[1]-t[1]}));var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var f=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,f=!1);break;case 80:case 4108:e.l<=i[s][1]&&(e.l=i[s][1],f=!1)}if((!t||0==s)&&e.l<=i[s][1]&&(f=!1,e.l=i[s][1]),f)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var p=t[i[s][0]];if(h[p.n]=dC(e,p.t,{raw:!0}),"version"===p.p&&(h[p.n]=String(h[p.n]>>16)+"."+("0000"+String(65535&h[p.n])).slice(-4)),"CodePage"==p.n)switch(h[p.n]){case 0:h[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Gk(o=h[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[p.n])}}else if(1===i[s][0]){if(o=h.CodePage=dC(e,2),Gk(o),-1!==l){var m=e.l;e.l=i[l][1],c=cC(e,o),e.l=m}}else if(0===i[s][0]){if(0===o){l=s,e.l=i[s+1][1];continue}c=cC(e,o)}else{var g,x=c[i[s][0]];switch(e[e.l]){case 65:e.l+=4,g=uC(e);break;case 30:case 31:e.l+=4,g=oC(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,g=e.read_shift(4,"i");break;case 19:e.l+=4,g=e.read_shift(4);break;case 5:e.l+=4,g=e.read_shift(8,"f");break;case 11:e.l+=4,g=vC(e,4);break;case 64:e.l+=4,g=NS(nC(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[x]=g}}return e.l=r+n,h}var pC=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function mC(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function gC(e,t,r){var n=__(8),a=[],i=[],s=8,o=0,l=__(8),c=__(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),i.push(l),a.push(c),s+=8+l.length,!t){(c=__(8)).write_shift(4,0),a.unshift(c);var u=[__(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var d=e[o][0];for((l=__(8+2*(d.length+1)+(d.length%2?0:2))).write_shift(4,o+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=sT(u),i.unshift(l),s+=8+l.length}for(o=0;o<e.length;++o)if((!t||t[e[o][0]])&&!(pC.indexOf(e[o][0])>-1||YE.indexOf(e[o][0])>-1)&&null!=e[o][1]){var h=e[o][1],f=0;if(t){var p=r[f=+t[e[o][0]]];if("version"==p.p&&"string"==typeof h){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}l=hC(p.t,h)}else{var g=mC(h);-1==g&&(g=31,h=String(h)),l=hC(g,h)}i.push(l),(c=__(8)).write_shift(4,t?f:2+o),a.push(c),s+=8+l.length}var x=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,x),x+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),sT([n].concat(a).concat(i))}function xC(e,t,r){var n=e.content;if(!n)return{};S_(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==nS.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(1!==(a=n.read_shift(4))&&2!==a)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),1===a&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);2===a&&(s=n.read_shift(16),l=n.read_shift(4));var d,h=fC(n,t),f={SystemIdentifier:c};for(var p in h)f[p]=h[p];if(f.FMTID=i,1===a)return f;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);try{d=fC(n,null)}catch(fU){}for(p in d)f[p]=d[p];return f.FMTID=[i,s],f}function bC(e,t,r,n,a,i){var s=__(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,nS.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var l=gC(e,r,n);if(o.push(l),a){var c=gC(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+l.length),o.push(c)}return sT(o)}function yC(e,t){return e.read_shift(t),null}function vC(e,t){return 1===e.read_shift(t)}function NC(e,t){return t||(t=__(2)),t.write_shift(2,+!!e),t}function wC(e){return e.read_shift(2,"u")}function jC(e,t){return t||(t=__(2)),t.write_shift(2,e),t}function kC(e,t){return function(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}(e,t,wC)}function TC(e,t,r){return r||(r=__(2)),r.write_shift(1,"e"==t?+e:+!!e),r.write_shift(1,"e"==t?1:0),r}function SC(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont",i=Mk;(r&&r.biff>=8&&(Mk=1200),r&&8!=r.biff)?12==r.biff&&(a="wstr"):e.read_shift(1)&&(a="dbcs-cont");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return Mk=i,s}function OC(e){var t=Mk;Mk=1200;var r,n=e.read_shift(2),a=e.read_shift(1),i=4&a,s=8&a,o=1+(1&a),l=0,c={};s&&(l=e.read_shift(2)),i&&(r=e.read_shift(4));var u=2==o?"dbcs-cont":"sbcs-cont",d=0===n?"":e.read_shift(n,u);return s&&(e.l+=4*l),i&&(e.l+=r),c.t=d,s||(c.raw="<t>"+c.t+"</t>",c.r=c.t),Mk=t,c}function _C(e){var t=e.t||"",r=__(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=__(2*t.length);return n.write_shift(2*t.length,t,"utf16le"),sT([r,n])}function EC(e,t,r){if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function CC(e,t,r){var n=e.read_shift(r&&2==r.biff?1:2);return 0===n?(e.l++,""):EC(e,n,r)}function AC(e,t,r){if(r.biff>5)return CC(e,0,r);var n=e.read_shift(1);return 0===n?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function IC(e,t,r){return r||(r=__(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function PC(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return function(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,"795881f43b1d7f48af2c825dc4852763"===e.read_shift(16)&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(oT,"");return n&&(e.l+=24),a}(e);case"0303000000000000c000000000000046":return function(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,57005!=e.read_shift(2))throw new Error("Bad FileMoniker");if(0===e.read_shift(4))return r+n.replace(/\\/g,"/");var a=e.read_shift(4);if(3!=e.read_shift(2))throw new Error("Bad FileMoniker");return r+e.read_shift(a>>1,"utf16le").replace(oT,"")}(e);default:throw new Error("Unsupported Moniker "+r)}}function HC(e){var t=e.read_shift(4);return t>0?e.read_shift(t,"utf16le").replace(oT,""):""}function DC(e,t){t||(t=__(6+2*e.length)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function MC(e){var t=__(512),r=0,n=e.Target;"file://"==n.slice(0,7)&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(28==i)DC(n=n.slice(1),t);else if(2&i){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),8&i&&DC(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var l=0;"../"==n.slice(3*l,3*l+3)||"..\\"==n.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,255&n.charCodeAt(r+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function LC(e){return[e.read_shift(1),e.read_shift(1),e.read_shift(1),e.read_shift(1)]}function RC(e,t){var r=LC(e);return r[3]=0,r}function FC(e){return{r:e.read_shift(2),c:e.read_shift(2),ixfe:e.read_shift(2)}}function UC(e,t,r,n){return n||(n=__(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function GC(e,t,r){var n=r.biff>8?4:2;return[e.read_shift(n),e.read_shift(n,"i"),e.read_shift(n,"i")]}function BC(e){return[e.read_shift(2),pE(e)]}function zC(e){var t=e.read_shift(2),r=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:r}}}function VC(e,t){return t||(t=__(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function KC(e){var t=e.read_shift(2),r=e.read_shift(2);return{s:{c:e.read_shift(1),r:t},e:{c:e.read_shift(1),r:r}}}var $C=KC;function WC(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function XC(e){e.l+=2,e.l+=e.read_shift(2)}var YC={0:XC,4:XC,5:XC,6:XC,7:function(e){return e.l+=4,e.cf=e.read_shift(2),{}},8:XC,9:XC,10:XC,11:XC,12:XC,13:function(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t},14:XC,15:XC,16:XC,17:XC,18:XC,19:XC,20:XC,21:WC};function qC(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),(t-=2)>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function QC(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":case"xla":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;default:throw new Error("unsupported BIFF version")}var i=__(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function ZC(e,t){var r=!t||t.biff>=8?2:1,n=__(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function JC(e,t,r){var n=0;r&&2==r.biff||(n=e.read_shift(2));var a=e.read_shift(2);return r&&2==r.biff&&(n=1-(a>>15),a&=32767),[{Unsynced:1&n,DyZero:(2&n)>>1,ExAsc:(4&n)>>2,ExDsc:(8&n)>>3},a]}function eA(e,t,r,n){var a=r&&5==r.biff;n||(n=__(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return null==i.l&&(i.l=i.length),i}var tA=AC;function rA(e,t,r){var n=e.l+t,a=8!=r.biff&&r.biff?2:4,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function nA(e,t,r,n){var a=r&&5==r.biff;n||(n=__(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function aA(e,t,r){var n=FC(e);2!=r.biff&&9!=t||++e.l;var a=function(e){var t=e.read_shift(1);return 1===e.read_shift(1)?t:1===t}(e);return n.val=a,n.t=!0===a||!1===a?"b":"e",n}var iA=function(e,t,r){return 0===t?"":AC(e,0,r)};function sA(e,t,r){var n,a=e.read_shift(2),i={fBuiltIn:1&a,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return 14849===r.sbcch&&(n=function(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=SC(e,0,r),i=e.read_shift(2);if(i!==(n-=e.l))throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}(e,t-2,r)),i.body=n||e.read_shift(t-2),"string"===typeof n&&(i.Name=n),i}var oA=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function lA(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&2==r.biff?1:2),l=0;(!r||r.biff>=5)&&(5!=r.biff&&(e.l+=2),l=e.read_shift(2),5==r.biff&&(e.l+=2),e.l+=4);var c=EC(e,s,r);32&a&&(c=oA[c.charCodeAt(0)]);var u=n-e.l;r&&2==r.biff&&--u;var d=n!=e.l&&0!==o&&u>0?function(e,t,r,n){var a,i=e.l+t,s=wP(e,n,r);i!==e.l&&(a=NP(e,i-e.l,s,r));return[s,a]}(e,u,r,o):[];return{chKey:i,Name:c,itab:l,rgce:d}}function cA(e,t,r){if(r.biff<8)return function(e,t,r){3==e[e.l+1]&&e[e.l]++;var n=SC(e,0,r);return 3==n.charCodeAt(0)?n.slice(1):n}(e,0,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);0!==i--;)n.push(GC(e,r.biff,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function uA(e,t,r){var n=$C(e,6);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,_P(e,t,r)]}var dA={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function hA(e){var t=__(24),r=U_(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return sT([t,MC(e[1])])}function fA(e){var t=e[1].Tooltip,r=__(10+2*(t.length+1));r.write_shift(2,2048);var n=U_(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function pA(e,t,r){if(!r.cellStyles)return O_(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);2==n&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}var mA=FC,gA=kC,xA=CC;var bA=[2,3,48,49,131,139,140,245],yA=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=cS({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(t,r){var n=r||{};n.dateNF||(n.dateNF="yyyymmdd");var a=Y_(function(t,r){var n=[],a=eT(1);switch(r.type){case"base64":a=rT(Qk(t));break;case"binary":a=rT(t);break;case"buffer":case"array":a=t}S_(a,0);var i=a.read_shift(1),s=!!(136&i),o=!1,l=!1;switch(i){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:o=!0,s=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+i.toString(16))}var c=0,u=521;2==i&&(c=a.read_shift(2)),a.l+=3,2!=i&&(c=a.read_shift(4)),c>1048576&&(c=1e6),2!=i&&(u=a.read_shift(2));var d=a.read_shift(2),h=r.codepage||1252;2!=i&&(a.l+=16,a.read_shift(1),0!==a[a.l]&&(h=e[a[a.l]]),a.l+=1,a.l+=2),l&&(a.l+=36);for(var f=[],p={},m=Math.min(a.length,2==i?521:u-10-(o?264:0)),g=l?32:11;a.l<m&&13!=a[a.l];)switch((p={}).name=Kk.utils.decode(h,a.slice(a.l,a.l+g)).replace(/[\u0000\r\n].*$/g,""),a.l+=g,p.type=String.fromCharCode(a.read_shift(1)),2==i||l||(p.offset=a.read_shift(4)),p.len=a.read_shift(1),2==i&&(p.offset=a.read_shift(2)),p.dec=a.read_shift(1),p.name.length&&f.push(p),2!=i&&(a.l+=l?13:14),p.type){case"B":o&&8==p.len||!r.WTF||console.log("Skipping "+p.name+":"+p.type);break;case"G":case"P":r.WTF&&console.log("Skipping "+p.name+":"+p.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+p.type)}if(13!==a[a.l]&&(a.l=u-1),13!==a.read_shift(1))throw new Error("DBF Terminator not found "+a.l+" "+a[a.l]);a.l=u;var x=0,b=0;for(n[0]=[],b=0;b!=f.length;++b)n[0][b]=f[b].name;for(;c-- >0;)if(42!==a[a.l])for(++a.l,n[++x]=[],b=0,b=0;b!=f.length;++b){var y=a.slice(a.l,a.l+f[b].len);a.l+=f[b].len,S_(y,0);var v=Kk.utils.decode(h,y);switch(f[b].type){case"C":v.trim().length&&(n[x][b]=v.replace(/\s+$/,""));break;case"D":8===v.length?n[x][b]=new Date(+v.slice(0,4),+v.slice(4,6)-1,+v.slice(6,8)):n[x][b]=v;break;case"F":n[x][b]=parseFloat(v.trim());break;case"+":case"I":n[x][b]=l?2147483648^y.read_shift(-4,"i"):y.read_shift(4,"i");break;case"L":switch(v.trim().toUpperCase()){case"Y":case"T":n[x][b]=!0;break;case"N":case"F":n[x][b]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+v+"|")}break;case"M":if(!s)throw new Error("DBF Unexpected MEMO for type "+i.toString(16));n[x][b]="##MEMO##"+(l?parseInt(v.trim(),10):y.read_shift(4));break;case"N":(v=v.replace(/\u0000/g,"").trim())&&"."!=v&&(n[x][b]=+v||0);break;case"@":n[x][b]=new Date(y.read_shift(-8,"f")-621356832e5);break;case"T":n[x][b]=new Date(864e5*(y.read_shift(4)-2440588)+y.read_shift(4));break;case"Y":n[x][b]=y.read_shift(4,"i")/1e4+y.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":n[x][b]=-y.read_shift(-8,"f");break;case"B":if(o&&8==f[b].len){n[x][b]=y.read_shift(8,"f");break}case"G":case"P":y.l+=f[b].len;break;case"0":if("_NullFlags"===f[b].name)break;default:throw new Error("DBF Unsupported data type "+f[b].type)}}else a.l+=d;if(2!=i&&a.l<a.length&&26!=a[a.l++])throw new Error("DBF EOF Marker missing "+(a.l-1)+" of "+a.length+" "+a[a.l-1].toString(16));return r&&r.sheetRows&&(n=n.slice(0,r.sheetRows)),r.DBF=f,n}(t,n),n);return a["!cols"]=n.DBF.map((function(e){return{wch:e.len,DBF:e}})),delete n.DBF,a}var n={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return W_(r(e,t),t)}catch(fU){if(t&&t.WTF)throw fU}return{SheetNames:[],Sheets:{}}},to_sheet:r,from_sheet:function(e,r){var a=r||{};if(+a.codepage>=0&&Gk(+a.codepage),"string"==a.type)throw new Error("Cannot write DBF to JS string");var i=C_(),s=aL(e,{header:1,raw:!0,cellDates:!0}),o=s[0],l=s.slice(1),c=e["!cols"]||[],u=0,d=0,h=0,f=1;for(u=0;u<o.length;++u)if(((c[u]||{}).DBF||{}).name)o[u]=c[u].DBF.name,++h;else if(null!=o[u]){if(++h,"number"===typeof o[u]&&(o[u]=o[u].toString(10)),"string"!==typeof o[u])throw new Error("DBF Invalid column name "+o[u]+" |"+typeof o[u]+"|");if(o.indexOf(o[u])!==u)for(d=0;d<1024;++d)if(-1==o.indexOf(o[u]+"_"+d)){o[u]+="_"+d;break}}var p=V_(e["!ref"]),m=[],g=[],x=[];for(u=0;u<=p.e.c-p.s.c;++u){var b="",y="",v=0,N=[];for(d=0;d<l.length;++d)null!=l[d][u]&&N.push(l[d][u]);if(0!=N.length&&null!=o[u]){for(d=0;d<N.length;++d){switch(typeof N[d]){case"number":y="B";break;case"string":default:y="C";break;case"boolean":y="L";break;case"object":y=N[d]instanceof Date?"D":"C"}v=Math.max(v,String(N[d]).length),b=b&&b!=y?"C":y}v>250&&(v=250),"C"==(y=((c[u]||{}).DBF||{}).type)&&c[u].DBF.len>v&&(v=c[u].DBF.len),"B"==b&&"N"==y&&(b="N",x[u]=c[u].DBF.dec,v=c[u].DBF.len),g[u]="C"==b||"N"==y?v:n[b]||0,f+=g[u],m[u]=b}else m[u]="?"}var w=i.next(32);for(w.write_shift(4,318902576),w.write_shift(4,l.length),w.write_shift(2,296+32*h),w.write_shift(2,f),u=0;u<4;++u)w.write_shift(4,0);for(w.write_shift(4,(+t[Lk]||3)<<8),u=0,d=0;u<o.length;++u)if(null!=o[u]){var j=i.next(32),k=(o[u].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);j.write_shift(1,k,"sbcs"),j.write_shift(1,"?"==m[u]?"C":m[u],"sbcs"),j.write_shift(4,d),j.write_shift(1,g[u]||n[m[u]]||0),j.write_shift(1,x[u]||0),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(1,0),j.write_shift(4,0),j.write_shift(4,0),d+=g[u]||n[m[u]]||0}var T=i.next(264);for(T.write_shift(4,13),u=0;u<65;++u)T.write_shift(4,0);for(u=0;u<l.length;++u){var S=i.next(f);for(S.write_shift(1,0),d=0;d<o.length;++d)if(null!=o[d])switch(m[d]){case"L":S.write_shift(1,null==l[u][d]?63:l[u][d]?84:70);break;case"B":S.write_shift(8,l[u][d]||0,"f");break;case"N":var O="0";for("number"==typeof l[u][d]&&(O=l[u][d].toFixed(x[d]||0)),h=0;h<g[d]-O.length;++h)S.write_shift(1,32);S.write_shift(1,O,"sbcs");break;case"D":l[u][d]?(S.write_shift(4,("0000"+l[u][d].getFullYear()).slice(-4),"sbcs"),S.write_shift(2,("00"+(l[u][d].getMonth()+1)).slice(-2),"sbcs"),S.write_shift(2,("00"+l[u][d].getDate()).slice(-2),"sbcs")):S.write_shift(8,"00000000","sbcs");break;case"C":var _=String(null!=l[u][d]?l[u][d]:"").slice(0,g[d]);for(S.write_shift(1,_,"sbcs"),h=0;h<g[d]-_.length;++h)S.write_shift(1,32)}}return i.next(1).write_shift(1,26),i.end()}}}(),vA=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+oS(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(t,r){var n=e[r];return"number"==typeof n?Xk(n):n},n=function(e,t,r){var n=t.charCodeAt(0)-32<<4|r.charCodeAt(0)-48;return 59==n?e:Xk(n)};function a(e,a){var i,s=e.split(/[\n\r]+/),o=-1,l=-1,c=0,u=0,d=[],h=[],f=null,p={},m=[],g=[],x=[],b=0;for(+a.codepage>=0&&Gk(+a.codepage);c!==s.length;++c){b=0;var y,v=s[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),N=v.replace(/;;/g,"\0").split(";").map((function(e){return e.replace(/\u0000/g,";")})),w=N[0];if(v.length>0)switch(w){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==N[1].charAt(0)&&h.push(v.slice(3).replace(/;;/g,";"));break;case"C":var j=!1,k=!1,T=!1,S=!1,O=-1,_=-1;for(u=1;u<N.length;++u)switch(N[u].charAt(0)){case"A":case"G":break;case"X":l=parseInt(N[u].slice(1))-1,k=!0;break;case"Y":for(o=parseInt(N[u].slice(1))-1,k||(l=0),i=d.length;i<=o;++i)d[i]=[];break;case"K":'"'===(y=N[u].slice(1)).charAt(0)?y=y.slice(1,y.length-1):"TRUE"===y?y=!0:"FALSE"===y?y=!1:isNaN(TS(y))?isNaN(OS(y).getDate())||(y=NS(y)):(y=TS(y),null!==f&&$T(f)&&(y=gS(y))),"undefined"!==typeof Kk&&"string"==typeof y&&"string"!=(a||{}).type&&(a||{}).codepage&&(y=Kk.utils.decode(a.codepage,y)),j=!0;break;case"E":S=!0;var E=qI(N[u].slice(1),{r:o,c:l});d[o][l]=[d[o][l],E];break;case"S":T=!0,d[o][l]=[d[o][l],"S5S"];break;case"R":O=parseInt(N[u].slice(1))-1;break;case"C":_=parseInt(N[u].slice(1))-1;break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+v)}if(j&&(d[o][l]&&2==d[o][l].length?d[o][l][0]=y:d[o][l]=y,f=null),T){if(S)throw new Error("SYLK shared formula cannot have own formula");var C=O>-1&&d[O][_];if(!C||!C[1])throw new Error("SYLK shared formula cannot find base");d[o][l][1]=JI(C[1],{r:o-O,c:l-_})}break;case"F":var A=0;for(u=1;u<N.length;++u)switch(N[u].charAt(0)){case"X":l=parseInt(N[u].slice(1))-1,++A;break;case"Y":for(o=parseInt(N[u].slice(1))-1,i=d.length;i<=o;++i)d[i]=[];break;case"M":b=parseInt(N[u].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":f=h[parseInt(N[u].slice(1))];break;case"W":for(x=N[u].slice(1).split(" "),i=parseInt(x[0],10);i<=parseInt(x[1],10);++i)b=parseInt(x[2],10),g[i-1]=0===b?{hidden:!0}:{wch:b},sI(g[i-1]);break;case"C":g[l=parseInt(N[u].slice(1))-1]||(g[l]={});break;case"R":m[o=parseInt(N[u].slice(1))-1]||(m[o]={}),b>0?(m[o].hpt=b,m[o].hpx=cI(b)):0===b&&(m[o].hidden=!0);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+v)}A<1&&(f=null);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+v)}}return m.length>0&&(p["!rows"]=m),g.length>0&&(p["!cols"]=g),a&&a.sheetRows&&(d=d.slice(0,a.sheetRows)),[d,p]}function i(e,t){var r=function(e,t){switch(t.type){case"base64":return a(Qk(e),t);case"binary":return a(e,t);case"buffer":return a(Zk&&Buffer.isBuffer(e)?e.toString("binary"):aT(e),t);case"array":return a(wS(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),n=r[0],i=r[1],s=Y_(n,t);return oS(i).forEach((function(e){s[e]=i[e]})),s}function s(e,t,r,n){var a="C;Y"+(r+1)+";X"+(n+1)+";K";switch(e.t){case"n":a+=e.v||0,e.f&&!e.F&&(a+=";E"+ZI(e.f,{r:r,c:n}));break;case"b":a+=e.v?"TRUE":"FALSE";break;case"e":a+=e.w||e.v;break;case"d":a+='"'+(e.w||e.v)+'"';break;case"s":a+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return a}return e["|"]=254,{to_workbook:function(e,t){return W_(i(e,t),t)},to_sheet:i,from_sheet:function(e,t){var r,n,a=["ID;PWXL;N;E"],i=[],o=V_(e["!ref"]),l=Array.isArray(e),c="\r\n";a.push("P;PGeneral"),a.push("F;P0;DG0G8;M255"),e["!cols"]&&(n=a,e["!cols"].forEach((function(e,t){var r="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?r+="0":("number"!=typeof e.width||e.wpx||(e.wpx=tI(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=rI(e.wpx)),"number"==typeof e.wch&&(r+=Math.round(e.wch)))," "!=r.charAt(r.length-1)&&n.push(r)}))),e["!rows"]&&function(e,t){t.forEach((function(t,r){var n="F;";t.hidden?n+="M0;":t.hpt?n+="M"+20*t.hpt+";":t.hpx&&(n+="M"+20*lI(t.hpx)+";"),n.length>2&&e.push(n+"R"+(r+1))}))}(a,e["!rows"]),a.push("B;Y"+(o.e.r-o.s.r+1)+";X"+(o.e.c-o.s.c+1)+";D"+[o.s.c,o.s.r,o.e.c,o.e.r].join(" "));for(var u=o.s.r;u<=o.e.r;++u)for(var d=o.s.c;d<=o.e.c;++d){var h=G_({r:u,c:d});(r=l?(e[u]||[])[d]:e[h])&&(null!=r.v||r.f&&!r.F)&&i.push(s(r,0,u,d))}return a.join(c)+c+i.join(c)+c+"E"+c}}}(),NA=function(){function e(e,t){for(var r=e.split("\n"),n=-1,a=-1,i=0,s=[];i!==r.length;++i)if("BOT"!==r[i].trim()){if(!(n<0)){for(var o=r[i].trim().split(","),l=o[0],c=o[1],u=r[++i]||"";1&(u.match(/["]/g)||[]).length&&i<r.length-1;)u+="\n"+r[++i];switch(u=u.trim(),+l){case-1:if("BOT"===u){s[++n]=[],a=0;continue}if("EOD"!==u)throw new Error("Unrecognized DIF special command "+u);break;case 0:"TRUE"===u?s[n][a]=!0:"FALSE"===u?s[n][a]=!1:isNaN(TS(c))?isNaN(OS(c).getDate())?s[n][a]=c:s[n][a]=NS(c):s[n][a]=TS(c),++a;break;case 1:(u=(u=u.slice(1,u.length-1)).replace(/""/g,'"'))&&u.match(/^=".*"$/)&&(u=u.slice(2,-1)),s[n][a++]=""!==u?u:null}if("EOD"===u)break}}else s[++n]=[],a=0;return t&&t.sheetRows&&(s=s.slice(0,t.sheetRows)),s}function t(t,r){return Y_(function(t,r){switch(r.type){case"base64":return e(Qk(t),r);case"binary":return e(t,r);case"buffer":return e(Zk&&Buffer.isBuffer(t)?t.toString("binary"):aT(t),r);case"array":return e(wS(t),r)}throw new Error("Unrecognized type "+r.type)}(t,r),r)}var r=function(){var e=function(e,t,r,n,a){e.push(t),e.push(r+","+n),e.push('"'+a.replace(/"/g,'""')+'"')},t=function(e,t,r,n){e.push(t+","+r),e.push(1==t?'"'+n.replace(/"/g,'""')+'"':n)};return function(r){var n,a=[],i=V_(r["!ref"]),s=Array.isArray(r);e(a,"TABLE",0,1,"sheetjs"),e(a,"VECTORS",0,i.e.r-i.s.r+1,""),e(a,"TUPLES",0,i.e.c-i.s.c+1,""),e(a,"DATA",0,0,"");for(var o=i.s.r;o<=i.e.r;++o){t(a,-1,0,"BOT");for(var l=i.s.c;l<=i.e.c;++l){var c=G_({r:o,c:l});if(n=s?(r[o]||[])[l]:r[c])switch(n.t){case"n":var u=n.w;u||null==n.v||(u=n.v),null==u?n.f&&!n.F?t(a,1,0,"="+n.f):t(a,1,0,""):t(a,0,u,"V");break;case"b":t(a,0,n.v?1:0,n.v?"TRUE":"FALSE");break;case"s":t(a,1,0,isNaN(n.v)?n.v:'="'+n.v+'"');break;case"d":n.w||(n.w=qT(n.z||bT[14],hS(NS(n.v)))),t(a,0,n.w,"V");break;default:t(a,1,0,"")}else t(a,1,0,"")}}t(a,-1,0,"EOD");return a.join("\r\n")}}();return{to_workbook:function(e,r){return W_(t(e,r),r)},to_sheet:t,from_sheet:r}}(),wA=function(){function e(e){return e.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(t,r){return Y_(function(t,r){for(var n=t.split("\n"),a=-1,i=-1,s=0,o=[];s!==n.length;++s){var l=n[s].trim().split(":");if("cell"===l[0]){var c=U_(l[1]);if(o.length<=c.r)for(a=o.length;a<=c.r;++a)o[a]||(o[a]=[]);switch(a=c.r,i=c.c,l[2]){case"t":o[a][i]=e(l[3]);break;case"v":o[a][i]=+l[3];break;case"vtf":var u=l[l.length-1];case"vtc":"nl"===l[3]?o[a][i]=!!+l[4]:o[a][i]=+l[4],"vtf"==l[2]&&(o[a][i]=[o[a][i],u])}}}return r&&r.sheetRows&&(o=o.slice(0,r.sheetRows)),o}(t,r),r)}var n=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",i=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),s="--SocialCalcSpreadsheetControlSave--";function o(e){if(!e||!e["!ref"])return"";for(var r,n=[],a=[],i="",s=B_(e["!ref"]),o=Array.isArray(e),l=s.s.r;l<=s.e.r;++l)for(var c=s.s.c;c<=s.e.c;++c)if(i=G_({r:l,c:c}),(r=o?(e[l]||[])[c]:e[i])&&null!=r.v&&"z"!==r.t){switch(a=["cell",i,"t"],r.t){case"s":case"str":a.push(t(r.v));break;case"n":r.f?(a[2]="vtf",a[3]="n",a[4]=r.v,a[5]=t(r.f)):(a[2]="v",a[3]=r.v);break;case"b":a[2]="vt"+(r.f?"f":"c"),a[3]="nl",a[4]=r.v?"1":"0",a[5]=t(r.f||(r.v?"TRUE":"FALSE"));break;case"d":var u=hS(NS(r.v));a[2]="vtc",a[3]="nd",a[4]=""+u,a[5]=r.w||qT(r.z||bT[14],u);break;case"e":continue}n.push(a.join(":"))}return n.push("sheet:c:"+(s.e.c-s.s.c+1)+":r:"+(s.e.r-s.s.r+1)+":tvf:1"),n.push("valueformat:1:text-wiki"),n.join("\n")}return{to_workbook:function(e,t){return W_(r(e,t),t)},to_sheet:r,from_sheet:function(e){return[n,a,i,a,o(e),s].join("\n")}}}(),jA=function(){function e(e,t,r,n,a){a.raw?t[r][n]=e:""===e||("TRUE"===e?t[r][n]=!0:"FALSE"===e?t[r][n]=!1:isNaN(TS(e))?isNaN(OS(e).getDate())?t[r][n]=e:t[r][n]=NS(e):t[r][n]=TS(e))}var t={44:",",9:"\t",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function n(e){for(var n={},a=!1,i=0,s=0;i<e.length;++i)34==(s=e.charCodeAt(i))?a=!a:!a&&s in t&&(n[s]=(n[s]||0)+1);for(i in s=[],n)Object.prototype.hasOwnProperty.call(n,i)&&s.push([n[i],i]);if(!s.length)for(i in n=r)Object.prototype.hasOwnProperty.call(n,i)&&s.push([n[i],i]);return s.sort((function(e,t){return e[0]-t[0]||r[e[1]]-r[t[1]]})),t[s.pop()[1]]||44}function a(e,t){var r=t||{},a="";var i=r.dense?[]:{},s={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(a=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(a=e.charAt(4),e=e.slice(6)):a=n(e.slice(0,1024)):a=r&&r.FS?r.FS:n(e.slice(0,1024));var o=0,l=0,c=0,u=0,d=0,h=a.charCodeAt(0),f=!1,p=0,m=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var g=null!=r.dateNF?function(e){var t="number"==typeof e?bT[e]:e;return t=t.replace(tS,"(\\d+)"),new RegExp("^"+t+"$")}(r.dateNF):null;function x(){var t=e.slice(u,d),n={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)n.t="z";else if(r.raw)n.t="s",n.v=t;else if(0===t.trim().length)n.t="s",n.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(n.t="s",n.v=t.slice(2,-1).replace(/""/g,'"')):!function(e){return 1!=e.length}(t)?(n.t="s",n.v=t):(n.t="n",n.f=t.slice(1));else if("TRUE"==t)n.t="b",n.v=!0;else if("FALSE"==t)n.t="b",n.v=!1;else if(isNaN(c=TS(t)))if(!isNaN(OS(t).getDate())||g&&t.match(g)){n.z=r.dateNF||bT[14];var a=0;g&&t.match(g)&&(t=function(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(tS)||[]).forEach((function(e,t){var c=parseInt(r[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":n=c;break;case"d":i=c;break;case"h":s=c;break;case"s":l=c;break;case"m":s>=0?o=c:a=c}})),l>=0&&-1==o&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:(new Date).getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==s&&-1==o&&-1==l?c:-1==n&&-1==a&&-1==i?u:c+"T"+u}(0,r.dateNF,t.match(g)||[]),a=1),r.cellDates?(n.t="d",n.v=NS(t,a)):(n.t="n",n.v=hS(NS(t,a))),!1!==r.cellText&&(n.w=qT(n.z,n.v instanceof Date?hS(n.v):n.v)),r.cellNF||delete n.z}else n.t="s",n.v=t;else n.t="n",!1!==r.cellText&&(n.w=t),n.v=c;if("z"==n.t||(r.dense?(i[o]||(i[o]=[]),i[o][l]=n):i[G_({c:l,r:o})]=n),u=d+1,m=e.charCodeAt(u),s.e.c<l&&(s.e.c=l),s.e.r<o&&(s.e.r=o),p==h)++l;else if(l=0,++o,r.sheetRows&&r.sheetRows<=o)return!0}e:for(;d<e.length;++d)switch(p=e.charCodeAt(d)){case 34:34===m&&(f=!f);break;case h:case 10:case 13:if(!f&&x())break e}return d-u>0&&x(),i["!ref"]=z_(s),i}function i(t,r){return r&&r.PRN?r.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?a(t,r):Y_(function(t,r){var n=r||{},a=[];if(!t||0===t.length)return a;for(var i=t.split(/[\r\n]/),s=i.length-1;s>=0&&0===i[s].length;)--s;for(var o=10,l=0,c=0;c<=s;++c)-1==(l=i[c].indexOf(" "))?l=i[c].length:l++,o=Math.max(o,l);for(c=0;c<=s;++c){a[c]=[];var u=0;for(e(i[c].slice(0,o).trim(),a,c,u,n),u=1;u<=(i[c].length-o)/10+1;++u)e(i[c].slice(o+10*(u-1),o+10*u).trim(),a,c,u,n)}return n.sheetRows&&(a=a.slice(0,n.sheetRows)),a}(t,r),r):a(t,r)}function s(e,t){var r="",n="string"==t.type?[0,0,0,0]:$M(e,t);switch(t.type){case"base64":r=Qk(e);break;case"binary":case"string":r=e;break;case"buffer":r=65001==t.codepage?e.toString("utf8"):t.codepage&&"undefined"!==typeof Kk?Kk.utils.decode(t.codepage,e):Zk&&Buffer.isBuffer(e)?e.toString("binary"):aT(e);break;case"array":r=wS(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==n[0]&&187==n[1]&&191==n[2]?r=uO(r.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?r=uO(r):"binary"==t.type&&"undefined"!==typeof Kk&&t.codepage&&(r=Kk.utils.decode(t.codepage,Kk.utils.encode(28591,r))),"socialcalc:version:"==r.slice(0,19)?wA.to_sheet("string"==t.type?r:uO(r),t):i(r,t)}return{to_workbook:function(e,t){return W_(s(e,t),t)},to_sheet:s,from_sheet:function(e){for(var t,r=[],n=V_(e["!ref"]),a=Array.isArray(e),i=n.s.r;i<=n.e.r;++i){for(var s=[],o=n.s.c;o<=n.e.c;++o){var l=G_({r:i,c:o});if((t=a?(e[i]||[])[o]:e[l])&&null!=t.v){for(var c=(t.w||($_(t),t.w)||"").slice(0,10);c.length<10;)c+=" ";s.push(c+(0===o?" ":""))}else s.push("          ")}r.push(s.join(""))}return r.join("\n")}}}();var kA=function(){function e(e,t,r){if(e){S_(e,e.l||0);for(var n=r.Enum||x;e.l<e.length;){var a=e.read_shift(2),i=n[a]||n[65535],s=e.read_shift(2),o=e.l+s,l=i.f&&i.f(e,s,r);if(e.l=o,t(l,i,a))return}}}function t(t,r){if(!t)return t;var n=r||{};var a=n.dense?[]:{},i="Sheet1",s="",o=0,l={},c=[],u=[],d={s:{r:0,c:0},e:{r:0,c:0}},h=n.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])n.Enum=x,e(t,(function(e,t,r){switch(r){case 0:n.vers=e,e>=4096&&(n.qpro=!0);break;case 6:d=e;break;case 204:e&&(s=e);break;case 222:s=e;break;case 15:case 51:n.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==r&&112==(112&e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=n.dateNF||bT[14],n.cellDates&&(e[1].t="d",e[1].v=gS(e[1].v))),n.qpro&&e[3]>o&&(a["!ref"]=z_(d),l[i]=a,c.push(i),a=n.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],i=s||"Sheet"+(o+1),s="");var u=n.dense?(a[e[0].r]||[])[e[0].c]:a[G_(e[0])];if(u){u.t=e[1].t,u.v=e[1].v,null!=e[1].z&&(u.z=e[1].z),null!=e[1].f&&(u.f=e[1].f);break}n.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[G_(e[0])]=e[1]}}),n);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);n.Enum=b,14==t[2]&&(n.qpro=!0,t.l=0),e(t,(function(e,t,r){switch(r){case 204:i=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>o&&(a["!ref"]=z_(d),l[i]=a,c.push(i),a=n.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],i="Sheet"+(o+1)),h>0&&e[0].r>=h)break;n.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[G_(e[0])]=e[1],d.e.c<e[0].c&&(d.e.c=e[0].c),d.e.r<e[0].r&&(d.e.r=e[0].r);break;case 27:e[14e3]&&(u[e[14e3][0]]=e[14e3][1]);break;case 1537:u[e[0]]=e[1],e[0]==o&&(i=e[1])}}),n)}if(a["!ref"]=z_(d),l[s||i]=a,c.push(s||i),!u.length)return{SheetNames:c,Sheets:l};for(var f={},p=[],m=0;m<u.length;++m)l[c[m]]?(p.push(u[m]||c[m]),f[u[m]]=l[u[m]]||l[c[m]]):(p.push(u[m]),f[u[m]]={"!ref":"A1"});return{SheetNames:p,Sheets:f}}function r(e,t,r){var n=[{c:0,r:0},{t:"n",v:0},0,0];return r.qpro&&20768!=r.vers?(n[0].c=e.read_shift(1),n[3]=e.read_shift(1),n[0].r=e.read_shift(2),e.l+=2):(n[2]=e.read_shift(1),n[0].c=e.read_shift(2),n[0].r=e.read_shift(2)),n}function n(e,t,n){var a=e.l+t,i=r(e,0,n);if(i[1].t="s",20768==n.vers){e.l++;var s=e.read_shift(1);return i[1].v=e.read_shift(s,"utf8"),i}return n.qpro&&e.l++,i[1].v=e.read_shift(a-e.l,"cstr"),i}function a(e,t,r){var n=__(7+r.length);n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(1,39);for(var a=0;a<n.length;++a){var i=r.charCodeAt(a);n.write_shift(1,i>=128?95:i)}return n.write_shift(1,0),n}function i(e,t,r){var n=__(7);return n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r,"i"),n}function s(e,t,r){var n=__(13);return n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(8,r,"f"),n}function o(e,t,r){var n=32768&t;return t=(n?e:0)+((t&=-32769)>=8192?t-16384:t),(n?"":"$")+(r?F_(t):L_(t))}var l={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},c=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function u(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function d(e,t,r,n){var a=__(6+n.length);a.write_shift(2,e),a.write_shift(1,r),a.write_shift(1,t),a.write_shift(1,39);for(var i=0;i<n.length;++i){var s=n.charCodeAt(i);a.write_shift(1,s>=128?95:s)}return a.write_shift(1,0),a}function h(e,t){var r=u(e),n=e.read_shift(4),a=e.read_shift(4),i=e.read_shift(2);if(65535==i)return 0===n&&3221225472===a?(r[1].t="e",r[1].v=15):0===n&&3489660928===a?(r[1].t="e",r[1].v=42):r[1].v=0,r;var s=32768&i;return i=(32767&i)-16446,r[1].v=(1-2*s)*(a*Math.pow(2,i+32)+n*Math.pow(2,i)),r}function f(e,t,r,n){var a=__(14);if(a.write_shift(2,e),a.write_shift(1,r),a.write_shift(1,t),0==n)return a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,65535),a;var i,s=0,o=0,l=0;return n<0&&(s=1,n=-n),o=0|Math.log2(n),0==(2147483648&(l=(n/=Math.pow(2,o-31))>>>0))&&(++o,l=(n/=2)>>>0),n-=l,l|=2147483648,l>>>=0,i=(n*=Math.pow(2,32))>>>0,a.write_shift(4,i),a.write_shift(4,l),o+=16383+(s?32768:0),a.write_shift(2,o),a}function p(e,t){var r=u(e),n=e.read_shift(8,"f");return r[1].v=n,r}function m(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function g(e,t){var r=__(5+e.length);r.write_shift(2,14e3),r.write_shift(2,t);for(var n=0;n<e.length;++n){var a=e.charCodeAt(n);r[r.l++]=a>127?95:a}return r[r.l++]=0,r}var x={0:{n:"BOF",f:wC},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,r){var n={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&r.qpro?(n.s.c=e.read_shift(1),e.l++,n.s.r=e.read_shift(2),n.e.c=e.read_shift(1),e.l++,n.e.r=e.read_shift(2),n):(n.s.c=e.read_shift(2),n.s.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),n.e.c=e.read_shift(2),n.e.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),65535==n.s.c&&(n.s.c=n.e.c=n.s.r=n.e.r=0),n)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,n){var a=r(e,0,n);return a[1].v=e.read_shift(2,"i"),a}},14:{n:"NUMBER",f:function(e,t,n){var a=r(e,0,n);return a[1].v=e.read_shift(8,"f"),a}},15:{n:"LABEL",f:n},16:{n:"FORMULA",f:function(e,t,n){var a=e.l+t,i=r(e,0,n);if(i[1].v=e.read_shift(8,"f"),n.qpro)e.l=a;else{var s=e.read_shift(2);!function(e,t){S_(e,0);var r=[],n=0,a="",i="",s="",u="";for(;e.l<e.length;){var d=e[e.l++];switch(d){case 0:r.push(e.read_shift(8,"f"));break;case 1:i=o(t[0].c,e.read_shift(2),!0),a=o(t[0].r,e.read_shift(2),!1),r.push(i+a);break;case 2:var h=o(t[0].c,e.read_shift(2),!0),f=o(t[0].r,e.read_shift(2),!1);i=o(t[0].c,e.read_shift(2),!0),a=o(t[0].r,e.read_shift(2),!1),r.push(h+f+":"+i+a);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:r.push("("+r.pop()+")");break;case 5:r.push(e.read_shift(2));break;case 6:for(var p="";d=e[e.l++];)p+=String.fromCharCode(d);r.push('"'+p.replace(/"/g,'""')+'"');break;case 8:r.push("-"+r.pop());break;case 23:r.push("+"+r.pop());break;case 22:r.push("NOT("+r.pop()+")");break;case 20:case 21:u=r.pop(),s=r.pop(),r.push(["AND","OR"][d-20]+"("+s+","+u+")");break;default:if(d<32&&c[d])u=r.pop(),s=r.pop(),r.push(s+c[d]+u);else{if(!l[d])return d<=7?console.error("WK1 invalid opcode "+d.toString(16)):d<=24?console.error("WK1 unsupported op "+d.toString(16)):d<=30?console.error("WK1 invalid opcode "+d.toString(16)):d<=115?console.error("WK1 unsupported function opcode "+d.toString(16)):console.error("WK1 unrecognized opcode "+d.toString(16));if(69==(n=l[d][1])&&(n=e[e.l++]),n>r.length)return void console.error("WK1 bad formula parse 0x"+d.toString(16)+":|"+r.join("|")+"|");var m=r.slice(-n);r.length-=n,r.push(l[d][0]+"("+m.join(",")+")")}}}1==r.length?t[1].f=""+r[0]:console.error("WK1 bad formula parse |"+r.join("|")+"|")}(e.slice(e.l,e.l+s),i),e.l+=s}return i}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:n},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:m},222:{n:"SHEETNAMELP",f:function(e,t){var r=e[e.l++];r>t-1&&(r=t-1);for(var n="";n.length<r;)n+=String.fromCharCode(e[e.l++]);return n}},65535:{n:""}},b={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var r=u(e);return r[1].t="s",r[1].v=e.read_shift(t-4,"cstr"),r}},23:{n:"NUMBER17",f:h},24:{n:"NUMBER18",f:function(e,t){var r=u(e);r[1].v=e.read_shift(2);var n=r[1].v>>1;if(1&r[1].v)switch(7&n){case 0:n=5e3*(n>>3);break;case 1:n=500*(n>>3);break;case 2:n=(n>>3)/20;break;case 3:n=(n>>3)/200;break;case 4:n=(n>>3)/2e3;break;case 5:n=(n>>3)/2e4;break;case 6:n=(n>>3)/16;break;case 7:n=(n>>3)/64}return r[1].v=n,r}},25:{n:"FORMULA19",f:function(e,t){var r=h(e);return e.l+=t-14,r}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var r={},n=e.l+t;e.l<n;){var a=e.read_shift(2);if(14e3==a){for(r[a]=[0,""],r[a][0]=e.read_shift(2);e[e.l];)r[a][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return r}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var r=u(e),n=e.read_shift(4);return r[1].v=n>>6,r}},38:{n:"??"},39:{n:"NUMBER27",f:p},40:{n:"FORMULA28",f:function(e,t){var r=p(e);return e.l+=t-10,r}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:m},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,r){if(r.qpro&&!(t<21)){var n=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[n,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var r=t||{};if(+r.codepage>=0&&Gk(+r.codepage),"string"==r.type)throw new Error("Cannot write WK1 to JS string");var n=C_(),o=V_(e["!ref"]),l=Array.isArray(e),c=[];LD(n,0,function(e){var t=__(2);return t.write_shift(2,e),t}(1030)),LD(n,6,function(e){var t=__(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(o));for(var u=Math.min(o.e.r,8191),d=o.s.r;d<=u;++d)for(var h=L_(d),f=o.s.c;f<=o.e.c;++f){d===o.s.r&&(c[f]=F_(f));var p=c[f]+h,m=l?(e[d]||[])[f]:e[p];if(m&&"z"!=m.t)if("n"==m.t)(0|m.v)==m.v&&m.v>=-32768&&m.v<=32767?LD(n,13,i(d,f,m.v)):LD(n,14,s(d,f,m.v));else LD(n,15,a(d,f,$_(m).slice(0,239)))}return LD(n,1),n.end()},book_to_wk3:function(e,t){var r=t||{};if(+r.codepage>=0&&Gk(+r.codepage),"string"==r.type)throw new Error("Cannot write WK3 to JS string");var n=C_();LD(n,0,function(e){var t=__(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var r=0,n=0,a=0,i=0;i<e.SheetNames.length;++i){var s=e.SheetNames[i],o=e.Sheets[s];if(o&&o["!ref"]){++a;var l=B_(o["!ref"]);r<l.e.r&&(r=l.e.r),n<l.e.c&&(n=l.e.c)}}r>8191&&(r=8191);return t.write_shift(2,r),t.write_shift(1,a),t.write_shift(1,n),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var a=0,i=0;a<e.SheetNames.length;++a)(e.Sheets[e.SheetNames[a]]||{})["!ref"]&&LD(n,27,g(e.SheetNames[a],i++));var s=0;for(a=0;a<e.SheetNames.length;++a){var o=e.Sheets[e.SheetNames[a]];if(o&&o["!ref"]){for(var l=V_(o["!ref"]),c=Array.isArray(o),u=[],h=Math.min(l.e.r,8191),p=l.s.r;p<=h;++p)for(var m=L_(p),x=l.s.c;x<=l.e.c;++x){p===l.s.r&&(u[x]=F_(x));var b=u[x]+m,y=c?(o[p]||[])[x]:o[b];if(y&&"z"!=y.t)if("n"==y.t)LD(n,23,f(p,x,s,y.v));else LD(n,22,d(p,x,s,$_(y).slice(0,239)))}++s}}return LD(n,1),n.end()},to_workbook:function(e,r){switch(r.type){case"base64":return t(rT(Qk(e)),r);case"binary":return t(rT(e),r);case"buffer":case"array":return t(e,r)}throw"Unsupported type "+r.type}}}();var TA=function(){var e=hO("t"),t=hO("rPr");function r(r){var n=r.match(e);if(!n)return{t:"s",v:""};var a={t:"s",v:QS(n[1])},i=r.match(t);return i&&(a.s=function(e){var t={},r=e.match(VS),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=WS(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if("1"==i.val)break;t.cp=Fk[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting"}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if("0"==i.val)break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if("0"==i.val)break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":case"<scheme>":case"<scheme/>":case"</scheme>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(47!==i[0].charCodeAt(1)&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}(i[1])),a}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(e){return e.replace(n,"").split(a).map(r).filter((function(e){return e.v}))}}(),SA=function(){var e=/(\r\n|\n)/g;function t(t){var r=[[],t.v,[]];return t.v?(t.s&&function(e,t,r){var n=[];e.u&&n.push("text-decoration: underline;"),e.uval&&n.push("text-underline-style:"+e.uval+";"),e.sz&&n.push("font-size:"+e.sz+"pt;"),e.outline&&n.push("text-effect: outline;"),e.shadow&&n.push("text-shadow: auto;"),t.push('<span style="'+n.join("")+'">'),e.b&&(t.push("<b>"),r.push("</b>")),e.i&&(t.push("<i>"),r.push("</i>")),e.strike&&(t.push("<s>"),r.push("</s>"));var a=e.valign||"";"superscript"==a||"super"==a?a="sup":"subscript"==a&&(a="sub"),""!=a&&(t.push("<"+a+">"),r.push("</"+a+">")),r.push("</span>")}(t.s,r[0],r[2]),r[0].join("")+r[1].replace(e,"<br/>")+r[2].join("")):""}return function(e){return e.map(t).join("")}}(),OA=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,_A=/<(?:\w+:)?r>/,EA=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function CA(e,t){var r=!t||t.cellHTML,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=QS(uO(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=uO(e),r&&(n.h=nO(n.t))):e.match(_A)&&(n.r=uO(e),n.t=QS(uO((e.replace(EA,"").match(OA)||[]).join("").replace(VS,""))),r&&(n.h=SA(TA(n.r)))),n):{t:""}}var AA=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,IA=/<(?:\w+:)?(?:si|sstItem)>/g,PA=/<\/(?:\w+:)?(?:si|sstItem)>/;var HA=/^\s|\s$|[\t\n\r]/;function DA(e,t){if(!t.bookSST)return"";var r=[GS];r[r.length]=NO("sst",null,{xmlns:RO[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(null!=e[n]){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(HA)&&(i+=' xml:space="preserve"'),i+=">"+eO(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}var MA=function(e,t){var r=!1;return null==t&&(r=!0,t=__(15+4*e.t.length)),t.write_shift(1,0),Z_(e.t,t),r?t.slice(0,t.l):t};function LA(e){var t=C_();A_(t,159,function(e,t){return t||(t=__(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var r=0;r<e.length;++r)A_(t,19,MA(e[r]));return A_(t,160),t.end()}function RA(e){if("undefined"!==typeof Kk)return Kk.utils.encode(Lk,e);for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function FA(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function UA(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function GA(e){var t=function(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=FA(e,4),t.U=FA(e,4),t.W=FA(e,4),t}(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),4!=e.read_shift(4))throw new Error("Bad !Primary record");return t}function BA(e,t){var r=e.l+t,n={};n.Flags=63&e.read_shift(4),e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=36==n.Flags;break;case 26625:a=4==n.Flags;break;case 0:a=16==n.Flags||4==n.Flags||36==n.Flags;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function zA(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function VA(e){if(36!=(63&e.read_shift(4)))throw new Error("EncryptionInfo mismatch");var t=e.read_shift(4);return{t:"Std",h:BA(e,t),v:zA(e,e.length-e.l)}}function KA(){throw new Error("File is password-protected: ECMA-376 Extensible")}function $A(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(VS,(function(e){var r=WS(e);switch(XS(r[0])){case"<?xml":case"<encryption":case"</encryption>":case"</keyEncryptors>":case"</keyEncryptor>":break;case"<keyData":t.forEach((function(e){n[e]=r[e]}));break;case"<dataIntegrity":n.encryptedHmacKey=r.encryptedHmacKey,n.encryptedHmacValue=r.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"<keyEncryptor":n.uri=r.uri;break;case"<encryptedKey":n.encs.push(r);break;default:throw r[0]}})),n}function WA(e){var t,r,n=0,a=RA(e),i=a.length+1;for((t=eT(i))[0]=a.length,r=1;r!=i;++r)t[r]=a[r-1];for(r=i-1;r>=0;--r)n=((0===(16384&n)?0:1)|n<<1&32767)^t[r];return 52811^n}var XA=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(e,t){return 255&((r=e^t)/2|128*r);var r};return function(a){for(var i,s,o,l=RA(a),c=function(e){for(var n=t[e.length-1],a=104,i=e.length-1;i>=0;--i)for(var s=e[i],o=0;7!=o;++o)64&s&&(n^=r[a]),s*=2,--a;return n}(l),u=l.length,d=eT(16),h=0;16!=h;++h)d[h]=0;for(1===(1&u)&&(i=c>>8,d[u]=n(e[0],i),--u,i=255&c,s=l[l.length-1],d[u]=n(s,i));u>0;)i=c>>8,d[--u]=n(l[u],i),i=255&c,d[--u]=n(l[u],i);for(u=15,o=15-l.length;o>0;)i=c>>8,d[u]=n(e[o],i),--o,i=255&c,d[--u]=n(l[u],i),--u,--o;return d}}(),YA=function(e){var t=0,r=XA(e);return function(e){var n=function(e,t,r,n,a){var i,s;for(a||(a=t),n||(n=XA(e)),i=0;i!=t.length;++i)s=t[i],s=255&((s^=n[r])>>5|s<<3),a[i]=s,++r;return[a,r,n]}("",e,t,r);return t=n[1],n[0]}};function qA(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,1===n.Info?n.Data=function(e){var t={},r=t.EncryptionVersionInfo=FA(e,4);if(1!=r.Major||1!=r.Minor)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}(e):n.Data=function(e,t){var r={},n=r.EncryptionVersionInfo=FA(e,4);if(t-=4,2!=n.Minor)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=BA(e,a),t-=a,r.EncryptionVerifier=zA(e,t),r}(e,t),n}var QA=function(){function e(e,r){switch(r.type){case"base64":return t(Qk(e),r);case"binary":return t(e,r);case"buffer":return t(Zk&&Buffer.isBuffer(e)?e.toString("binary"):aT(e),r);case"array":return t(wS(e),r)}throw new Error("Unrecognized type "+r.type)}function t(e,t){var r=(t||{}).dense?[]:{},n=e.match(/\\trowd.*?\\row\b/g);if(!n.length)throw new Error("RTF missing table");var a={s:{c:0,r:0},e:{c:0,r:n.length-1}};return n.forEach((function(e,t){Array.isArray(r)&&(r[t]=[]);for(var n,i=/\\\w+\b/g,s=0,o=-1;n=i.exec(e);){if("\\cell"===n[0]){var l=e.slice(s,i.lastIndex-n[0].length);if(" "==l[0]&&(l=l.slice(1)),++o,l.length){var c={v:l,t:"s"};Array.isArray(r)?r[t][o]=c:r[G_({r:t,c:o})]=c}}s=i.lastIndex}o>a.e.c&&(a.e.c=o)})),r["!ref"]=z_(a),r}return{to_workbook:function(t,r){return W_(e(t,r),r)},to_sheet:e,from_sheet:function(e){for(var t,r=["{\\rtf1\\ansi"],n=V_(e["!ref"]),a=Array.isArray(e),i=n.s.r;i<=n.e.r;++i){r.push("\\trowd\\trautofit1");for(var s=n.s.c;s<=n.e.c;++s)r.push("\\cellx"+(s+1));for(r.push("\\pard\\intbl"),s=n.s.c;s<=n.e.c;++s){var o=G_({r:i,c:s});(t=a?(e[i]||[])[s]:e[o])&&(null!=t.v||t.f&&!t.F)&&(r.push(" "+(t.w||($_(t),t.w))),r.push("\\cell"))}r.push("\\pard\\intbl\\row")}return r.join("")+"}"}}}();function ZA(e){for(var t=0,r=1;3!=t;++t)r=256*r+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function JA(e,t){if(0===t)return e;var r=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(0===s)return[0,0,t];var o,l=0,c=a+i;switch(o=s/(c>1?2-c:c),a){case t:l=((r-n)/s+6)%6;break;case r:l=(n-t)/s+2;break;case n:l=(t-r)/s+4}return[l/6,o,c/2]}(function(e){var t=e.slice("#"===e[0]?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}(e));return r[2]=t<0?r[2]*(1+t):1-(1-r[2])*(1-t),ZA(function(e){var t,r=e[0],n=e[1],a=e[2],i=2*n*(a<.5?a:1-a),s=a-i/2,o=[s,s,s],l=6*r;if(0!==n)switch(0|l){case 0:case 6:t=i*l,o[0]+=i,o[1]+=t;break;case 1:t=i*(2-l),o[0]+=t,o[1]+=i;break;case 2:t=i*(l-2),o[1]+=i,o[2]+=t;break;case 3:t=i*(4-l),o[1]+=t,o[2]+=i;break;case 4:t=i*(l-4),o[2]+=i,o[0]+=t;break;case 5:t=i*(6-l),o[2]+=t,o[0]+=i}for(var c=0;3!=c;++c)o[c]=Math.round(255*o[c]);return o}(r))}var eI=6;function tI(e){return Math.floor((e+Math.round(128/eI)/256)*eI)}function rI(e){return Math.floor((e-5)/eI*100+.5)/100}function nI(e){return Math.round((e*eI+5)/eI*256)/256}function aI(e){return nI(rI(tI(e)))}function iI(e){var t=Math.abs(e-aI(e)),r=eI;if(t>.005)for(eI=1;eI<15;++eI)Math.abs(e-aI(e))<=t&&(t=Math.abs(e-aI(e)),r=eI);eI=r}function sI(e){e.width?(e.wpx=tI(e.width),e.wch=rI(e.wpx),e.MDW=eI):e.wpx?(e.wch=rI(e.wpx),e.width=nI(e.wch),e.MDW=eI):"number"==typeof e.wch&&(e.width=nI(e.wch),e.wpx=tI(e.width),e.MDW=eI),e.customWidth&&delete e.customWidth}var oI=96;function lI(e){return 96*e/oI}function cI(e){return e*oI/96}var uI={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};var dI=["numFmtId","fillId","fontId","borderId","xfId"],hI=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];var fI=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(i,s,o){var l,c={};return i?((l=(i=i.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"")).match(e))&&function(e,t,r){t.NumberFmt=[];for(var n=oS(bT),a=0;a<n.length;++a)t.NumberFmt[n[a]]=bT[n[a]];var i=e[0].match(VS);if(i)for(a=0;a<i.length;++a){var s=WS(i[a]);switch(XS(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":case"</numFmt>":break;case"<numFmt":var o=QS(uO(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&null!=t.NumberFmt[l];--l);t.NumberFmt[l]=o}QT(o,l)}break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}(l,c,o),(l=i.match(n))&&function(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(VS)||[]).forEach((function(e){var s=WS(e);switch(XS(s[0])){case"<fonts":case"<fonts>":case"</fonts>":case"<font":case"<font>":case"<name/>":case"</name>":case"<sz/>":case"</sz>":case"<vertAlign/>":case"</vertAlign>":case"<family/>":case"</family>":case"<scheme/>":case"</scheme>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":s.val&&(a.name=uO(s.val));break;case"<b":a.bold=s.val?iO(s.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=s.val?iO(s.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(s.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=s.val?iO(s.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=s.val?iO(s.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=s.val?iO(s.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=s.val?iO(s.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=s.val?iO(s.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":s.val&&(a.sz=+s.val);break;case"<vertAlign":s.val&&(a.vertAlign=s.val);break;case"<family":s.val&&(a.family=parseInt(s.val,10));break;case"<scheme":s.val&&(a.scheme=s.val);break;case"<charset":if("1"==s.val)break;s.codepage=Fk[parseInt(s.val,10)];break;case"<color":if(a.color||(a.color={}),s.auto&&(a.color.auto=iO(s.auto)),s.rgb)a.color.rgb=s.rgb.slice(-6);else if(s.indexed){a.color.index=parseInt(s.indexed,10);var o=CE[a.color.index];81==a.color.index&&(o=CE[1]),o||(o=CE[1]),a.color.rgb=o[0].toString(16)+o[1].toString(16)+o[2].toString(16)}else s.theme&&(a.color.theme=parseInt(s.theme,10),s.tint&&(a.color.tint=parseFloat(s.tint)),s.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=JA(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<AlternateContent":case"<ext":i=!0;break;case"</AlternateContent>":case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+s[0]+" in fonts")}}))}(l,c,s,o),(l=i.match(r))&&function(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(VS)||[]).forEach((function(e){var r=WS(e);switch(XS(r[0])){case"<fills":case"<fills>":case"</fills>":case"</fill>":case"<gradientFill>":case"<patternFill/>":case"</patternFill>":case"<bgColor/>":case"</bgColor>":case"<fgColor/>":case"</fgColor>":case"<stop":case"<stop/>":case"</stop>":case"<color":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":r.patternType&&(a.patternType=r.patternType);break;case"<bgColor":a.bgColor||(a.bgColor={}),r.indexed&&(a.bgColor.indexed=parseInt(r.indexed,10)),r.theme&&(a.bgColor.theme=parseInt(r.theme,10)),r.tint&&(a.bgColor.tint=parseFloat(r.tint)),r.rgb&&(a.bgColor.rgb=r.rgb.slice(-6));break;case"<fgColor":a.fgColor||(a.fgColor={}),r.theme&&(a.fgColor.theme=parseInt(r.theme,10)),r.tint&&(a.fgColor.tint=parseFloat(r.tint)),null!=r.rgb&&(a.fgColor.rgb=r.rgb.slice(-6));break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+r[0]+" in fills")}}))}(l,c,0,o),(l=i.match(a))&&function(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(VS)||[]).forEach((function(e){var r=WS(e);switch(XS(r[0])){case"<borders":case"<borders>":case"</borders>":case"</border>":case"<left/>":case"<left":case"<left>":case"</left>":case"<right/>":case"<right":case"<right>":case"</right>":case"<top/>":case"<top":case"<top>":case"</top>":case"<bottom/>":case"<bottom":case"<bottom>":case"</bottom>":case"<diagonal":case"<diagonal>":case"<diagonal/>":case"</diagonal>":case"<horizontal":case"<horizontal>":case"<horizontal/>":case"</horizontal>":case"<vertical":case"<vertical>":case"<vertical/>":case"</vertical>":case"<start":case"<start>":case"<start/>":case"</start>":case"<end":case"<end>":case"<end/>":case"</end>":case"<color":case"<color>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<border":case"<border>":case"<border/>":a={},r.diagonalUp&&(a.diagonalUp=iO(r.diagonalUp)),r.diagonalDown&&(a.diagonalDown=iO(r.diagonalDown)),t.Borders.push(a);break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+r[0]+" in borders")}}))}(l,c,0,o),(l=i.match(t))&&function(e,t,r){var n;t.CellXf=[];var a=!1;(e[0].match(VS)||[]).forEach((function(e){var i=WS(e),s=0;switch(XS(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":case"</xf>":case"</alignment>":case"<protection":case"</protection>":case"<protection/>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<xf":case"<xf/>":for(delete(n=i)[0],s=0;s<dI.length;++s)n[dI[s]]&&(n[dI[s]]=parseInt(n[dI[s]],10));for(s=0;s<hI.length;++s)n[hI[s]]&&(n[hI[s]]=iO(n[hI[s]]));if(t.NumberFmt&&n.numFmtId>392)for(s=392;s>60;--s)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[s]){n.numFmtId=s;break}t.CellXf.push(n);break;case"<alignment":case"<alignment/>":var o={};i.vertical&&(o.vertical=i.vertical),i.horizontal&&(o.horizontal=i.horizontal),null!=i.textRotation&&(o.textRotation=i.textRotation),i.indent&&(o.indent=i.indent),i.wrapText&&(o.wrapText=iO(i.wrapText)),n.alignment=o;break;case"<AlternateContent":case"<ext":a=!0;break;case"</AlternateContent>":case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}}))}(l,c,o),c):c}}();function pI(e,t){var r,n=[GS,NO("styleSheet",null,{xmlns:RO[0],"xmlns:vt":DO})];return e.SSF&&null!=(r=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach((function(r){for(var n=r[0];n<=r[1];++n)null!=e[n]&&(t[t.length]=NO("numFmt",null,{numFmtId:n,formatCode:eO(e[n])}))})),1===t.length?"":(t[t.length]="</numFmts>",t[0]=NO("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=function(e){var t=[];return t[t.length]=NO("cellXfs",null),e.forEach((function(e){t[t.length]=NO("xf",null,e)})),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=NO("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function mI(e,t,r){r||(r=__(6+4*t.length)),r.write_shift(2,e),Z_(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return null==r.l&&(r.l=r.length),n}function gI(e,t){t||(t=__(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=__(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,r),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var r=0;"superscript"==e.vertAlign?r=1:"subscript"==e.vertAlign&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),NE(e.color,t);var n=0;return"major"==e.scheme&&(n=1),"minor"==e.scheme&&(n=2),t.write_shift(1,n),Z_(e.name,t),t.length>t.l?t.slice(0,t.l):t}var xI,bI=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],yI=O_;function vI(e,t){t||(t=__(84)),xI||(xI=cS(bI));var r=xI[e.patternType];null==r&&(r=40),t.write_shift(4,r);var n=0;if(40!=r)for(NE({auto:1},t),NE({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function NI(e,t,r){r||(r=__(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);return r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function wI(e,t){return t||(t=__(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var jI=O_;function kI(e){var t;A_(e,613,q_(1)),A_(e,46,(t||(t=__(51)),t.write_shift(1,0),wI(0,t),wI(0,t),wI(0,t),wI(0,t),wI(0,t),t.length>t.l?t.slice(0,t.l):t)),A_(e,614)}function TI(e){var t,r;A_(e,619,q_(1)),A_(e,48,(t={xfId:0,builtinId:0,name:"Normal"},r||(r=__(52)),r.write_shift(4,t.xfId),r.write_shift(2,1),r.write_shift(1,+t.builtinId),r.write_shift(1,0),uE(t.name||"",r),r.length>r.l?r.slice(0,r.l):r)),A_(e,620)}function SI(e){A_(e,508,function(e,t,r){var n=__(2052);return n.write_shift(4,e),uE(t,n),uE(r,n),n.length>n.l?n.slice(0,n.l):n}(0,"TableStyleMedium9","PivotStyleMedium4")),A_(e,509)}function OI(e,t){var r=C_();return A_(r,278),function(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach((function(e){for(var n=e[0];n<=e[1];++n)null!=t[n]&&++r})),0!=r&&(A_(e,615,q_(r)),[[5,8],[23,26],[41,44],[50,392]].forEach((function(r){for(var n=r[0];n<=r[1];++n)null!=t[n]&&A_(e,44,mI(n,t[n]))})),A_(e,616))}}(r,e.SSF),function(e){A_(e,611,q_(1)),A_(e,43,gI({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),A_(e,612)}(r),function(e){A_(e,603,q_(2)),A_(e,45,vI({patternType:"none"})),A_(e,45,vI({patternType:"gray125"})),A_(e,604)}(r),kI(r),function(e){A_(e,626,q_(1)),A_(e,47,NI({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),A_(e,627)}(r),function(e,t){A_(e,617,q_(t.length)),t.forEach((function(t){A_(e,47,NI(t,0))})),A_(e,618)}(r,t.cellXfs),TI(r),function(e){A_(e,505,q_(0)),A_(e,506)}(r),SI(r),A_(r,279),r.end()}var _I=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function EI(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(VS)||[]).forEach((function(e){var a=WS(e);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===a[0].charAt(1)?(t.themeElements.clrScheme[_I.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}}))}function CI(){}function AI(){}var II=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,PI=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,HI=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;var DI=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function MI(e,t){var r;e&&0!==e.length||(e=LI());var n={};if(!(r=e.match(DI)))throw new Error("themeElements not found in theme");return function(e,t,r){var n;t.themeElements={},[["clrScheme",II,EI],["fontScheme",PI,CI],["fmtScheme",HI,AI]].forEach((function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)}))}(r[0],n,t),n.raw=e,n}function LI(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var r=[GS];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',r[r.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',r[r.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',r[r.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',r[r.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',r[r.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',r[r.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function RI(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:case 4:e.l+=4;break;case 1:t.xclrValue=function(e,t){return O_(e,t)}(e,4);break;case 2:t.xclrValue=LC(e);break;case 3:t.xclrValue=function(e){return e.read_shift(4)}(e)}return e.l+=8,t}function FI(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=RI(e);break;case 6:n[1]=function(e,t){return O_(e,t)}(e,r);break;case 14:case 15:n[1]=e.read_shift(1===r?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function UI(){var e=C_();return A_(e,332),A_(e,334,q_(1)),A_(e,335,function(e){var t=__(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Z_(e.name,t),t.slice(0,t.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),A_(e,336),A_(e,339,function(e,t){var r=__(8+2*t.length);return r.write_shift(4,e),Z_(t,r),r.slice(0,r.l)}(1,"XLDAPR")),A_(e,52),A_(e,35,q_(514)),A_(e,4096,q_(0)),A_(e,4097,jC(1)),A_(e,36),A_(e,53),A_(e,340),A_(e,337,function(e,t){var r=__(8);return r.write_shift(4,e),r.write_shift(4,t?1:0),r}(1,!0)),A_(e,51,function(e){var t=__(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}([[1,0]])),A_(e,338),A_(e,333),e.end()}function GI(){var e=[GS];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var BI=1024;function zI(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[NO("xml",null,{"xmlns:v":VO,"xmlns:o":FO,"xmlns:x":UO,"xmlns:mv":zO}).replace(/\/>/,">"),NO("o:shapelayout",NO("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),NO("v:shapetype",[NO("v:stroke",null,{joinstyle:"miter"}),NO("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];BI<1e3*e;)BI+=1e3;return t.forEach((function(e){var t=U_(e[0]),r={color2:"#BEFF82",type:"gradient"};"gradient"==r.type&&(r.angle="-180");var n="gradient"==r.type?NO("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,i=NO("v:fill",n,r);++BI,a=a.concat(["<v:shape"+vO({id:"_x0000_s"+BI,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",i,NO("v:shadow",null,{on:"t",obscured:"t"}),NO("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",yO("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),yO("x:AutoFill","False"),yO("x:Row",String(t.r)),yO("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])})),a.push("</xml>"),a.join("")}function VI(e,t,r,n){var a,i=Array.isArray(e);t.forEach((function(t){var s=U_(t.ref);if(i?(e[s.r]||(e[s.r]=[]),a=e[s.r][s.c]):a=e[t.ref],!a){a={t:"z"},i?e[s.r][s.c]=a:e[t.ref]=a;var o=V_(e["!ref"]||"BDWGO1000001:A1");o.s.r>s.r&&(o.s.r=s.r),o.e.r<s.r&&(o.e.r=s.r),o.s.c>s.c&&(o.s.c=s.c),o.e.c<s.c&&(o.e.c=s.c);var l=z_(o);l!==e["!ref"]&&(e["!ref"]=l)}a.c||(a.c=[]);var c={a:t.author,t:t.t,r:t.r,T:r};t.h&&(c.h=t.h);for(var u=a.c.length-1;u>=0;--u){if(!r&&a.c[u].T)return;r&&!a.c[u].T&&a.c.splice(u,1)}if(r&&n)for(u=0;u<n.length;++u)if(c.a==n[u].id){c.a=n[u].name||c.a;break}a.c.push(c)}))}function KI(e){var t=[GS,NO("comments",null,{xmlns:RO[0]})],r=[];return t.push("<authors>"),e.forEach((function(e){e[1].forEach((function(e){var n=eO(e.a);-1==r.indexOf(n)&&(r.push(n),t.push("<author>"+n+"</author>")),e.T&&e.ID&&-1==r.indexOf("tc="+e.ID)&&(r.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))}))})),0==r.length&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach((function(e){var n=0,a=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?n=r.indexOf("tc="+e[1][0].ID):e[1].forEach((function(e){e.a&&(n=r.indexOf(eO(e.a))),a.push(e.t||"")})),t.push('<comment ref="'+e[0]+'" authorId="'+n+'"><text>'),a.length<=1)t.push(yO("t",eO(a[0]||"")));else{for(var i="Comment:\n    "+a[0]+"\n",s=1;s<a.length;++s)i+="Reply:\n    "+a[s]+"\n";t.push(yO("t",eO(i)))}t.push("</text></comment>")})),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function $I(e,t,r){var n=[GS,NO("ThreadedComments",null,{xmlns:CO}).replace(/[\/]>/,">")];return e.forEach((function(e){var a="";(e[1]||[]).forEach((function(i,s){if(i.T){i.a&&-1==t.indexOf(i.a)&&t.push(i.a);var o={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};0==s?a=o.id:o.parentId=a,i.ID=o.id,i.a&&(o.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(i.a)).slice(-12)+"}"),n.push(NO("threadedComment",yO("text",i.t||""),o))}else delete i.ID}))})),n.push("</ThreadedComments>"),n.join("")}var WI=Q_;function XI(e){var t=C_(),r=[];return A_(t,628),A_(t,630),e.forEach((function(e){e[1].forEach((function(e){r.indexOf(e.a)>-1||(r.push(e.a.slice(0,54)),A_(t,632,function(e){return Z_(e.slice(0,54))}(e.a)))}))})),A_(t,631),A_(t,633),e.forEach((function(e){e[1].forEach((function(n){n.iauthor=r.indexOf(n.a);var a={s:U_(e[0]),e:U_(e[0])};A_(t,635,function(e,t){return null==t&&(t=__(36)),t.write_shift(4,e[1].iauthor),bE(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([a,n])),n.t&&n.t.length>0&&A_(t,637,rE(n)),A_(t,636),delete n.iauthor}))})),A_(t,634),A_(t,629),t.end()}var YI=["xlsb","xlsm","xlam","biff8","xla"];var qI=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(e,r,n,a){var i=!1,s=!1;0==n.length?s=!0:"["==n.charAt(0)&&(s=!0,n=n.slice(1,-1)),0==a.length?i=!0:"["==a.charAt(0)&&(i=!0,a=a.slice(1,-1));var o=n.length>0?0|parseInt(n,10):0,l=a.length>0?0|parseInt(a,10):0;return i?l+=t.c:--l,s?o+=t.r:--o,r+(i?"":"$")+F_(l)+(s?"":"$")+L_(o)}return function(n,a){return t=a,n.replace(e,r)}}(),QI=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ZI=function(){return function(e,t){return e.replace(QI,(function(e,r,n,a,i,s){var o=R_(a)-(n?0:t.c),l=M_(s)-(i?0:t.r);return r+"R"+(0==l?"":i?l+1:"["+l+"]")+"C"+(0==o?"":n?o+1:"["+o+"]")}))}}();function JI(e,t){return e.replace(QI,(function(e,r,n,a,i,s){return r+("$"==n?n+a:F_(R_(a)+t.c))+("$"==i?i+s:L_(M_(s)+t.r))}))}function eP(e,t,r){var n=B_(t).s,a=U_(r);return JI(e,{r:a.r-n.r,c:a.c-n.c})}function tP(e){return e.replace(/_xlfn\./g,"")}function rP(e){e.l+=1}function nP(e,t){var r=e.read_shift(1==t?1:2);return[16383&r,r>>14&1,r>>15&1]}function aP(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return iP(e);12==r.biff&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=nP(e,2),o=nP(e,2);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function iP(e){var t=nP(e,2),r=nP(e,2),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function sP(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return function(e){var t=nP(e,2),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}(e);var n=e.read_shift(r&&12==r.biff?4:2),a=nP(e,2);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function oP(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:255&r,fQuoted:!!(16384&r),cRel:r>>15,rRel:r>>15}}function lP(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function cP(e){return[e.read_shift(1),e.read_shift(1)]}function uP(e,t){var r=[e.read_shift(1)];if(12==t)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2}switch(r[0]){case 4:r[1]=vC(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:r[1]=AE[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:r[1]=yE(e);break;case 2:r[1]=AC(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function dP(e,t,r){for(var n=e.read_shift(12==r.biff?4:2),a=[],i=0;i!=n;++i)a.push((12==r.biff?xE:zC)(e,8));return a}function hP(e,t,r){var n=0,a=0;12==r.biff?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,0==--a&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=uP(e,r.biff);return s}function fP(e,t,r){return e.l+=2,[oP(e)]}function pP(e){return e.l+=6,[]}function mP(e){return e.l+=2,[wC(e),1&e.read_shift(2)]}var gP=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var xP={1:{n:"PtgExp",f:function(e,t,r){return e.l++,r&&12==r.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(r&&2==r.biff?1:2)]}},2:{n:"PtgTbl",f:O_},3:{n:"PtgAdd",f:rP},4:{n:"PtgSub",f:rP},5:{n:"PtgMul",f:rP},6:{n:"PtgDiv",f:rP},7:{n:"PtgPower",f:rP},8:{n:"PtgConcat",f:rP},9:{n:"PtgLt",f:rP},10:{n:"PtgLe",f:rP},11:{n:"PtgEq",f:rP},12:{n:"PtgGe",f:rP},13:{n:"PtgGt",f:rP},14:{n:"PtgNe",f:rP},15:{n:"PtgIsect",f:rP},16:{n:"PtgUnion",f:rP},17:{n:"PtgRange",f:rP},18:{n:"PtgUplus",f:rP},19:{n:"PtgUminus",f:rP},20:{n:"PtgPercent",f:rP},21:{n:"PtgParen",f:rP},22:{n:"PtgMissArg",f:rP},23:{n:"PtgStr",f:function(e,t,r){return e.l++,SC(e,0,r)}},26:{n:"PtgSheet",f:function(e,t,r){return e.l+=5,e.l+=2,e.l+=2==r.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,r){return e.l+=2==r.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,AE[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,yE(e)}},32:{n:"PtgArray",f:function(e,t,r){var n=(96&e[e.l++])>>5;return e.l+=2==r.biff?6:12==r.biff?14:7,[n]}},33:{n:"PtgFunc",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[FP[a],RP[a],n]}},34:{n:"PtgFuncVar",f:function(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[88==n?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[a,(0===i[0]?RP:LP)[i[1]]]}},35:{n:"PtgName",f:function(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[n,0,i]}},36:{n:"PtgRef",f:function(e,t,r){var n=(96&e[e.l])>>5;return e.l+=1,[n,sP(e,0,r)]}},37:{n:"PtgArea",f:function(e,t,r){return[(96&e[e.l++])>>5,aP(e,r.biff>=2&&r.biff,r)]}},38:{n:"PtgMemArea",f:function(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=r&&2==r.biff?3:4,[n,e.read_shift(r&&2==r.biff?1:2)]}},39:{n:"PtgMemErr",f:O_},40:{n:"PtgMemNoMem",f:O_},41:{n:"PtgMemFunc",f:function(e,t,r){return[e.read_shift(1)>>>5&3,e.read_shift(r&&2==r.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,12==r.biff&&(e.l+=2),[n]}},43:{n:"PtgAreaErr",f:function(e,t,r){var n=(96&e[e.l++])>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}},44:{n:"PtgRefN",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var a=function(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return function(e){var t=e.read_shift(2),r=e.read_shift(1),n=(32768&t)>>15,a=(16384&t)>>14;return t&=16383,1==n&&t>=8192&&(t-=16384),1==a&&r>=128&&(r-=256),{r:t,c:r,cRel:a,rRel:n}}(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(16384&i)>>14,o=(32768&i)>>15;if(i&=16383,1==o)for(;a>524287;)a-=1048576;if(1==s)for(;i>8191;)i-=16384;return{r:a,c:i,cRel:s,rRel:o}}(e,0,r);return[n,a]}},45:{n:"PtgAreaN",f:function(e,t,r){var n=(96&e[e.l++])>>5,a=function(e,t,r){if(r.biff<8)return iP(e);var n=e.read_shift(12==r.biff?4:2),a=e.read_shift(12==r.biff?4:2),i=nP(e,2),s=nP(e,2);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}(e,0,r);return[n,a]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,r){return 5==r.biff?function(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(2);return r&&5==r.biff&&(e.l+=12),[n,a,sP(e,0,r)]}},59:{n:"PtgArea3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,a=e.read_shift(2,"i");if(r)switch(r.biff){case 5:e.l+=12;break;case 12:0}return[n,a,aP(e,0,r)]}},60:{n:"PtgRefErr3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6}return e.l+=i,[n,a]}},61:{n:"PtgAreaErr3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12}return e.l+=i,[n,a]}},255:{}},bP={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},yP={1:{n:"PtgElfLel",f:mP},2:{n:"PtgElfRw",f:fP},3:{n:"PtgElfCol",f:fP},6:{n:"PtgElfRwV",f:fP},7:{n:"PtgElfColV",f:fP},10:{n:"PtgElfRadical",f:fP},11:{n:"PtgElfRadicalS",f:pP},13:{n:"PtgElfColS",f:pP},15:{n:"PtgElfColSV",f:pP},16:{n:"PtgElfRadicalLel",f:mP},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2);return{ixti:t,coltype:3&r,rt:gP[r>>2&31],idx:n,c:a,C:i}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},vP={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=r&&2==r.biff?3:4,[n]}},2:{n:"PtgAttrIf",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(r&&2==r.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,r){e.l+=2;for(var n=e.read_shift(r&&2==r.biff?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&2==r.biff?1:2));return a}},8:{n:"PtgAttrGoto",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(r&&2==r.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,r){e.l+=r&&2==r.biff?3:4}},32:{n:"PtgAttrBaxcel",f:lP},33:{n:"PtgAttrBaxcel",f:lP},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),cP(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),cP(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function NP(e,t,r,n){if(n.biff<8)return O_(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=hP(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=dP(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&12==n.biff&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return 0!==(t=a-e.l)&&i.push(O_(e,t)),i}function wP(e,t,r){for(var n,a,i=e.l+t,s=[];i!=e.l;)t=i-e.l,a=e[e.l],n=xP[a]||xP[bP[a]],24!==a&&25!==a||(n=(24===a?yP:vP)[e[e.l+1]]),n&&n.f?s.push([n.n,n.f(e,t,r)]):O_(e,t);return s}function jP(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)if(2===s[0])a.push('"'+s[1].replace(/"/g,'""')+'"');else a.push(s[1]);else a.push("")}t.push(a.join(","))}return t.join(";")}var kP={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function TP(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=-1==n[1]?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return null!=r.SID?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=-1==n[1]?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map((function(e){return e.Name})).join(";;");default:return e[n[0]][0][3]?(a=-1==n[1]?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function SP(e,t,r){var n=TP(e,t,r);return"#REF"==n?n:function(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(n,r)}function OP(e,t,r,n,a){var i,s,o,l,c=a&&a.biff||8,u={s:{c:0,r:0},e:{c:0,r:0}},d=[],h=0,f=0,p="";if(!e[0]||!e[0][0])return"";for(var m=-1,g="",x=0,b=e[0].length;x<b;++x){var y=e[0][x];switch(y[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(i=d.pop(),s=d.pop(),m>=0){switch(e[0][m][1][0]){case 0:g=kS(" ",e[0][m][1][1]);break;case 1:g=kS("\r",e[0][m][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}s+=g,m=-1}d.push(s+kP[y[0]]+i);break;case"PtgIsect":i=d.pop(),s=d.pop(),d.push(s+" "+i);break;case"PtgUnion":i=d.pop(),s=d.pop(),d.push(s+","+i);break;case"PtgRange":i=d.pop(),s=d.pop(),d.push(s+":"+i);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":o=I_(y[1][1],u,a),d.push(H_(o,c));break;case"PtgRefN":o=r?I_(y[1][1],r,a):y[1][1],d.push(H_(o,c));break;case"PtgRef3d":h=y[1][1],o=I_(y[1][2],u,a);p=SP(n,h,a);d.push(p+"!"+H_(o,c));break;case"PtgFunc":case"PtgFuncVar":var v=y[1][0],N=y[1][1];v||(v=0);var w=0==(v&=127)?[]:d.slice(-v);d.length-=v,"User"===N&&(N=w.shift()),d.push(N+"("+w.join(",")+")");break;case"PtgBool":d.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":d.push(y[1]);break;case"PtgNum":d.push(String(y[1]));break;case"PtgStr":d.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=P_(y[1][1],r?{s:r}:u,a),d.push(D_(l,a));break;case"PtgArea":l=P_(y[1][1],u,a),d.push(D_(l,a));break;case"PtgArea3d":h=y[1][1],l=y[1][2],p=SP(n,h,a),d.push(p+"!"+D_(l,a));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgName":f=y[1][2];var j=(n.names||[])[f-1]||(n[0]||[])[f],k=j?j.Name:"SH33TJSNAME"+String(f);k&&"_xlfn."==k.slice(0,6)&&!a.xlfn&&(k=k.slice(6)),d.push(k);break;case"PtgNameX":var T,S=y[1][1];if(f=y[1][2],!(a.biff<=5)){var O="";if(14849==((n[S]||[])[0]||[])[0]||(1025==((n[S]||[])[0]||[])[0]?n[S][f]&&n[S][f].itab>0&&(O=n.SheetNames[n[S][f].itab-1]+"!"):O=n.SheetNames[f-1]+"!"),n[S]&&n[S][f])O+=n[S][f].Name;else if(n[0]&&n[0][f])O+=n[0][f].Name;else{var _=(TP(n,S,a)||"").split(";;");_[f-1]?O=_[f-1]:O+="SH33TJSERRX"}d.push(O);break}S<0&&(S=-S),n[S]&&(T=n[S][f]),T||(T={Name:"SH33TJSERRY"}),d.push(T.Name);break;case"PtgParen":var E="(",C=")";if(m>=0){switch(g="",e[0][m][1][0]){case 2:E=kS(" ",e[0][m][1][1])+E;break;case 3:E=kS("\r",e[0][m][1][1])+E;break;case 4:C=kS(" ",e[0][m][1][1])+C;break;case 5:C=kS("\r",e[0][m][1][1])+C;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}d.push(E+d.pop()+C);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":d.push("#REF!");break;case"PtgExp":o={c:y[1][1],r:y[1][0]};var A={c:r.c,r:r.r};if(n.sharedf[G_(o)]){var I=n.sharedf[G_(o)];d.push(OP(I,u,A,n,a))}else{var P=!1;for(i=0;i!=n.arrayf.length;++i)if(s=n.arrayf[i],!(o.c<s[0].s.c||o.c>s[0].e.c)&&!(o.r<s[0].s.r||o.r>s[0].e.r)){d.push(OP(s[1],u,A,n,a)),P=!0;break}P||d.push(y[1])}break;case"PtgArray":d.push("{"+jP(y[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=x;break;case"PtgMissArg":d.push("");break;case"PtgList":d.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(y))}if(3!=a.biff&&m>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][x][0])){var H=!0;switch((y=e[0][m])[1][0]){case 4:H=!1;case 0:g=kS(" ",y[1][1]);break;case 5:H=!1;case 1:g=kS("\r",y[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}d.push((H?g:"")+d.pop()+(H?"":g)),m=-1}}if(d.length>1&&a.WTF)throw new Error("bad formula stack");return d[0]}function _P(e,t,r){var n,a=e.l+t,i=2==r.biff?1:2,s=e.read_shift(i);if(65535==s)return[[],O_(e,t-2)];var o=wP(e,s,r);return t!==s+i&&(n=NP(e,t-s-i,o,r)),e.l=a,[o,n]}function EP(e,t,r){var n,a=e.l+t,i=e.read_shift(2),s=wP(e,i,r);return 65535==i?[[],O_(e,t-2)]:(t!==i+2&&(n=NP(e,a-i-2,s,r)),[s,n])}function CP(e,t,r){var n=e.l+t,a=FC(e);2==r.biff&&++e.l;var i=function(e){var t;if(65535!==m_(e,e.l+6))return[yE(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=1===e[e.l+2],e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}(e),s=e.read_shift(1);2!=r.biff&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=function(e,t,r){var n,a=e.l+t,i=2==r.biff?1:2,s=e.read_shift(i);if(65535==s)return[[],O_(e,t-2)];var o=wP(e,s,r);return t!==s+i&&(n=NP(e,t-s-i,o,r)),e.l=a,[o,n]}(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function AP(e,t,r,n,a){var i=UC(t,r,a),s=function(e){if(null==e){var t=__(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return vE("number"==typeof e?e:0)}(e.v),o=__(6);o.write_shift(2,33),o.write_shift(4,0);for(var l=__(e.bf.length),c=0;c<e.bf.length;++c)l[c]=e.bf[c];return sT([i,s,o,l])}function IP(e,t,r){var n=e.read_shift(4),a=wP(e,n,r),i=e.read_shift(4);return[a,i>0?NP(e,i,a,r):null]}var PP=IP,HP=IP,DP=IP,MP=IP,LP={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},RP={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},FP={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function UP(e){return"of:"==e.slice(0,3)&&(e=e.slice(3)),61==e.charCodeAt(0)&&61==(e=e.slice(1)).charCodeAt(0)&&(e=e.slice(1)),(e=(e=(e=e.replace(/COM\.MICROSOFT\./g,"")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,(function(e,t){return t.replace(/\./g,"")}))).replace(/\[.(#[A-Z]*[?!])\]/g,"$1")).replace(/[;~]/g,",").replace(/\|/g,";")}function GP(e){return("of:="+e.replace(QI,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function BP(e){var t=e.split(":");return[t[0].split(".")[0],t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function zP(e){return e.replace(/\./,"!")}var VP={},KP={},$P="undefined"!==typeof Map;function WP(e,t,r){var n=0,a=e.length;if(r){if($P?r.has(t):Object.prototype.hasOwnProperty.call(r,t))for(var i=$P?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t:t},e.Count++,e.Unique++,r&&($P?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function XP(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(eI=t.MDW),null!=t.width?r.customWidth=1:null!=t.wpx?n=rI(t.wpx):null!=t.wch&&(n=t.wch),n>-1?(r.width=nI(n),r.customWidth=1):null!=t.width&&(r.width=t.width),t.hidden&&(r.hidden=!0),null!=t.level&&(r.outlineLevel=r.level=t.level),r}function YP(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(r=[1,1,1,1,.5,.5]),null==e.left&&(e.left=r[0]),null==e.right&&(e.right=r[1]),null==e.top&&(e.top=r[2]),null==e.bottom&&(e.bottom=r[3]),null==e.header&&(e.header=r[4]),null==e.footer&&(e.footer=r[5])}}function qP(e,t,r){var n=r.revssf[null!=t.z?t.z:"General"],a=60,i=e.length;if(null==n&&r.ssf)for(;a<392;++a)if(null==r.ssf[a]){QT(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function QP(e,t,r,n,a,i){try{n.cellNF&&(e.z=bT[t])}catch(fU){if(n.WTF)throw fU}if("z"!==e.t||n.cellStyles){if("d"===e.t&&"string"===typeof e.v&&(e.v=NS(e.v)),(!n||!1!==n.cellText)&&"z"!==e.t)try{if(null==bT[t]&&QT(eS[t]||"General",t),"e"===e.t)e.w=e.w||AE[e.v];else if(0===t)if("n"===e.t)(0|e.v)===e.v?e.w=e.v.toString(10):e.w=_T(e.v);else if("d"===e.t){var s=hS(e.v);e.w=(0|s)===s?s.toString(10):_T(s)}else{if(void 0===e.v)return"";e.w=ET(e.v,KP)}else"d"===e.t?e.w=qT(t,hS(e.v),KP):e.w=qT(t,e.v,KP)}catch(fU){if(n.WTF)throw fU}if(n.cellStyles&&null!=r)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=JA(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=JA(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(fU){if(n.WTF&&i.Fills)throw fU}}}function ZP(e,t,r){if(e&&e["!ref"]){var n=V_(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}var JP=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,eH=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,tH=/<(?:\w:)?hyperlink [^>]*>/gm,rH=/"(\w*:\w*)"/,nH=/<(?:\w:)?col\b[^>]*[\/]?>/g,aH=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,iH=/<(?:\w:)?pageMargins[^>]*\/>/g,sH=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,oH=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,lH=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function cH(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",d=e.match(eH);d?(c=e.slice(0,d.index),u=e.slice(d.index+d[0].length)):c=u=e;var h=c.match(sH);h?uH(h[0],o,a,r):(h=c.match(oH))&&function(e,t,r,n,a){uH(e.slice(0,e.indexOf(">")),r,n,a)}(h[0],h[1],o,a,r);var f=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(f>0){var p=c.slice(f,f+50).match(rH);p&&function(e,t){var r=V_(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=z_(r))}(o,p[1])}var m=c.match(lH);m&&m[1]&&function(e,t){t.Views||(t.Views=[{}]);(e.match(fH)||[]).forEach((function(e,r){var n=WS(e);t.Views[r]||(t.Views[r]={}),+n.zoomScale&&(t.Views[r].zoom=+n.zoomScale),iO(n.rightToLeft)&&(t.Views[r].RTL=!0)}))}(m[1],a);var g=[];if(t.cellStyles){var x=c.match(nH);x&&function(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=WS(t[n],!0);a.hidden&&(a.hidden=iO(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,iI(a.width)),sI(a);i<=s;)e[i++]=jS(a)}}(g,x)}d&&mH(d[1],o,t,l,i,s);var b=u.match(aH);b&&(o["!autofilter"]=function(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}(b[0]));var y=[],v=u.match(JP);if(v)for(f=0;f!=v.length;++f)y[f]=V_(v[f].slice(v[f].indexOf('"')+1));var N=u.match(tH);N&&function(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=WS(uO(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+QS(i.location))):(i.Target="#"+QS(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=V_(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=G_({c:c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}(o,N,n);var w=u.match(iH);if(w&&(o["!margins"]=function(e){var t={};return["left","right","top","bottom","header","footer"].forEach((function(r){e[r]&&(t[r]=parseFloat(e[r]))})),t}(WS(w[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=z_(l)),t.sheetRows>0&&o["!ref"]){var j=V_(o["!ref"]);t.sheetRows<=+j.e.r&&(j.e.r=t.sheetRows-1,j.e.r>l.e.r&&(j.e.r=l.e.r),j.e.r<j.s.r&&(j.s.r=j.e.r),j.e.c>l.e.c&&(j.e.c=l.e.c),j.e.c<j.s.c&&(j.s.c=j.e.c),o["!fullref"]=o["!ref"],o["!ref"]=z_(j))}return g.length>0&&(o["!cols"]=g),y.length>0&&(o["!merges"]=y),o}function uH(e,t,r,n){var a=WS(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=QS(uO(a.codeName)))}var dH=["objects","scenarios","selectLockedCells","selectUnlockedCells"],hH=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];var fH=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function pH(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),void 0===e.v&&"string"!==typeof e.f||"z"===e.t&&!e.f)return"";var a="",i=e.t,s=e.v;if("z"!==e.t)switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=AE[e.v];break;case"d":n&&n.cellDates?a=NS(e.v,-1).toISOString():((e=jS(e)).t="n",a=""+(e.v=hS(NS(e.v)))),"undefined"===typeof e.z&&(e.z=bT[14]);break;default:a=e.v}var o=yO("v",eO(a)),l={r:t},c=qP(n.cellXfs,e,n);switch(0!==c&&(l.s=c),e.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=yO("v",""+WP(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str"}if(e.t!=i&&(e.t=i,e.v=s),"string"==typeof e.f&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=NO("f",eO(e.f),u)+(null!=e.v?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),NO("c",o,l)}var mH=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=hO("v"),s=hO("f");return function(o,l,c,u,d,h){for(var f,p,m,g,x,b=0,y="",v=[],N=[],w=0,j=0,k=0,T="",S=0,O=0,_=0,E=0,C=Array.isArray(h.CellXf),A=[],I=[],P=Array.isArray(l),H=[],D={},M=!1,L=!!c.sheetStubs,R=o.split(t),F=0,U=R.length;F!=U;++F){var G=(y=R[F].trim()).length;if(0!==G){var B=0;e:for(b=0;b<G;++b)switch(y[b]){case">":if("/"!=y[b-1]){++b;break e}if(c&&c.cellStyles){if(S=null!=(p=WS(y.slice(B,b),!0)).r?parseInt(p.r,10):S+1,O=-1,c.sheetRows&&c.sheetRows<S)continue;D={},M=!1,p.ht&&(M=!0,D.hpt=parseFloat(p.ht),D.hpx=cI(D.hpt)),"1"==p.hidden&&(M=!0,D.hidden=!0),null!=p.outlineLevel&&(M=!0,D.level=+p.outlineLevel),M&&(H[S-1]=D)}break;case"<":B=b}if(B>=b)break;if(S=null!=(p=WS(y.slice(B,b),!0)).r?parseInt(p.r,10):S+1,O=-1,!(c.sheetRows&&c.sheetRows<S)){u.s.r>S-1&&(u.s.r=S-1),u.e.r<S-1&&(u.e.r=S-1),c&&c.cellStyles&&(D={},M=!1,p.ht&&(M=!0,D.hpt=parseFloat(p.ht),D.hpx=cI(D.hpt)),"1"==p.hidden&&(M=!0,D.hidden=!0),null!=p.outlineLevel&&(M=!0,D.level=+p.outlineLevel),M&&(H[S-1]=D)),v=y.slice(b).split(e);for(var z=0;z!=v.length&&"<"==v[z].trim().charAt(0);++z);for(v=v.slice(z),b=0;b!=v.length;++b)if(0!==(y=v[b].trim()).length){if(N=y.match(r),w=b,j=0,k=0,y="<c "+("<"==y.slice(0,1)?">":"")+y,null!=N&&2===N.length){for(w=0,T=N[1],j=0;j!=T.length&&!((k=T.charCodeAt(j)-64)<1||k>26);++j)w=26*w+k;O=--w}else++O;for(j=0;j!=y.length&&62!==y.charCodeAt(j);++j);if(++j,(p=WS(y.slice(0,j),!0)).r||(p.r=G_({r:S-1,c:O})),f={t:""},null!=(N=(T=y.slice(j)).match(i))&&""!==N[1]&&(f.v=QS(N[1])),c.cellFormula){if(null!=(N=T.match(s))&&""!==N[1]){if(f.f=QS(uO(N[1])).replace(/\r\n/g,"\n"),c.xlfn||(f.f=tP(f.f)),N[0].indexOf('t="array"')>-1)f.F=(T.match(a)||[])[1],f.F.indexOf(":")>-1&&A.push([V_(f.F),f.F]);else if(N[0].indexOf('t="shared"')>-1){g=WS(N[0]);var V=QS(uO(N[1]));c.xlfn||(V=tP(V)),I[parseInt(g.si,10)]=[g,V,p.r]}}else(N=T.match(/<f[^>]*\/>/))&&I[(g=WS(N[0])).si]&&(f.f=eP(I[g.si][1],I[g.si][2],p.r));var K=U_(p.r);for(j=0;j<A.length;++j)K.r>=A[j][0].s.r&&K.r<=A[j][0].e.r&&K.c>=A[j][0].s.c&&K.c<=A[j][0].e.c&&(f.F=A[j][1])}if(null==p.t&&void 0===f.v)if(f.f||f.F)f.v=0,f.t="n";else{if(!L)continue;f.t="z"}else f.t=p.t||"n";switch(u.s.c>O&&(u.s.c=O),u.e.c<O&&(u.e.c=O),f.t){case"n":if(""==f.v||null==f.v){if(!L)continue;f.t="z"}else f.v=parseFloat(f.v);break;case"s":if("undefined"==typeof f.v){if(!L)continue;f.t="z"}else m=VP[parseInt(f.v,10)],f.v=m.t,f.r=m.r,c.cellHTML&&(f.h=m.h);break;case"str":f.t="s",f.v=null!=f.v?uO(f.v):"",c.cellHTML&&(f.h=nO(f.v));break;case"inlineStr":N=T.match(n),f.t="s",null!=N&&(m=CA(N[1]))?(f.v=m.t,c.cellHTML&&(f.h=m.h)):f.v="";break;case"b":f.v=iO(f.v);break;case"d":c.cellDates?f.v=NS(f.v,1):(f.v=hS(NS(f.v,1)),f.t="n");break;case"e":c&&!1===c.cellText||(f.w=f.v),f.v=IE[f.v]}if(_=E=0,x=null,C&&void 0!==p.s&&null!=(x=h.CellXf[p.s])&&(null!=x.numFmtId&&(_=x.numFmtId),c.cellStyles&&null!=x.fillId&&(E=x.fillId)),QP(f,_,E,c,d,h),c.cellDates&&C&&"n"==f.t&&$T(bT[_])&&(f.t="d",f.v=gS(f.v)),p.cm&&c.xlmeta){var $=(c.xlmeta.Cell||[])[+p.cm-1];$&&"XLDAPR"==$.type&&(f.D=!0)}if(P){var W=U_(p.r);l[W.r]||(l[W.r]=[]),l[W.r][W.c]=f}else l[p.r]=f}}}}H.length>0&&(l["!rows"]=H)}}();function gH(e,t,r,n){var a,i=[GS,NO("worksheet",null,{xmlns:RO[0],"xmlns:r":HO})],s=r.SheetNames[e],o="",l=r.Sheets[s];null==l&&(l={});var c=l["!ref"]||"A1",u=V_(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=z_(u)}n||(n={}),l["!comments"]=[];var d=[];!function(e,t,r,n,a){var i=!1,s={},o=null;if("xlsx"!==n.bookType&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch(fU){}i=!0,s.codeName=dO(eO(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+NO("outlinePr",null,c)}(i||o)&&(a[a.length]=NO("sheetPr",o,s))}(l,r,e,t,i),i[i.length]=NO("dimension",null,{ref:c}),i[i.length]=function(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),NO("sheetViews",NO("sheetView",null,a),{})}(0,0,0,r),t.sheetFormat&&(i[i.length]=NO("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(i[i.length]=function(e,t){for(var r,n=["<cols>"],a=0;a!=t.length;++a)(r=t[a])&&(n[n.length]=NO("col",null,XP(a,r)));return n[n.length]="</cols>",n.join("")}(0,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(o=function(e,t){var r,n,a=[],i=[],s=V_(e["!ref"]),o="",l="",c=[],u=0,d=0,h=e["!rows"],f=Array.isArray(e),p={r:l},m=-1;for(d=s.s.c;d<=s.e.c;++d)c[d]=F_(d);for(u=s.s.r;u<=s.e.r;++u){for(i=[],l=L_(u),d=s.s.c;d<=s.e.c;++d){r=c[d]+l;var g=f?(e[u]||[])[d]:e[r];void 0!==g&&null!=(o=pH(g,r,e,t))&&i.push(o)}(i.length>0||h&&h[u])&&(p={r:l},h&&h[u]&&((n=h[u]).hidden&&(p.hidden=1),m=-1,n.hpx?m=lI(n.hpx):n.hpt&&(m=n.hpt),m>-1&&(p.ht=m,p.customHeight=1),n.level&&(p.outlineLevel=n.level)),a[a.length]=NO("row",i.join(""),p))}if(h)for(;u<h.length;++u)h&&h[u]&&(p={r:u+1},(n=h[u]).hidden&&(p.hidden=1),m=-1,n.hpx?m=lI(n.hpx):n.hpt&&(m=n.hpt),m>-1&&(p.ht=m,p.customHeight=1),n.level&&(p.outlineLevel=n.level),a[a.length]=NO("row","",p));return a.join("")}(l,t,0,0),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=function(e){var t={sheet:1};return dH.forEach((function(r){null!=e[r]&&e[r]&&(t[r]="1")})),hH.forEach((function(r){null==e[r]||e[r]||(t[r]="0")})),e.password&&(t.password=WA(e.password).toString(16).toUpperCase()),NO("sheetProtection",null,t)}(l["!protect"])),null!=l["!autofilter"]&&(i[i.length]=function(e,t,r,n){var a="string"==typeof e.ref?e.ref:z_(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=B_(a);s.s.r==s.e.r&&(s.e.r=B_(t["!ref"]).e.r,a=z_(s));for(var o=0;o<i.length;++o){var l=i[o];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),NO("autoFilter",null,{ref:a})}(l["!autofilter"],l,r,e)),null!=l["!merges"]&&l["!merges"].length>0&&(i[i.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+z_(e[r])+'"/>';return t+"</mergeCells>"}(l["!merges"]));var h,f,p=-1,m=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach((function(e){e[1].Target&&(h={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(m=UE(n,-1,eO(e[1].Target).replace(/#.*$/,""),ME.HLINK),h["r:id"]="rId"+m),(p=e[1].Target.indexOf("#"))>-1&&(h.location=eO(e[1].Target.slice(p+1))),e[1].Tooltip&&(h.tooltip=eO(e[1].Tooltip)),i[i.length]=NO("hyperlink",null,h))})),i[i.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(i[i.length]=(YP(f=l["!margins"]),NO("pageMargins",null,f))),t&&!t.ignoreEC&&void 0!=t.ignoreEC||(i[i.length]=yO("ignoredErrors",NO("ignoredError",null,{numberStoredAsText:1,sqref:c}))),d.length>0&&(m=UE(n,-1,"../drawings/drawing"+(e+1)+".xml",ME.DRAW),i[i.length]=NO("drawing",null,{"r:id":"rId"+m}),l["!drawing"]=d),l["!comments"].length>0&&(m=UE(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ME.VML),i[i.length]=NO("legacyDrawing",null,{"r:id":"rId"+m}),l["!legacy"]=m),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function xH(e,t,r,n){var a=function(e,t,r){var n=__(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=20*lI(a.hpx):a.hpt&&(i=20*a.hpt),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var d=-1,h=-1,f=u<<10;f<u+1<<10;++f)c.c=f,(Array.isArray(r)?(r[c.r]||[])[c.c]:r[G_(c)])&&(d<0&&(d=f),h=f);d<0||(++o,n.write_shift(4,d),n.write_shift(4,h))}var p=n.l;return n.l=l,n.write_shift(4,o),n.l=p,n.length>n.l?n.slice(0,n.l):n}(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&A_(e,0,a)}var bH=xE,yH=bE;function vH(e){return[iE(e),yE(e),"n"]}var NH=xE,wH=bE;var jH=["left","right","top","bottom","header","footer"];function kH(e,t,r,n,a,i,s){if(void 0===t.v)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":(t=jS(t)).z=t.z||bT[14],t.v=hS(NS(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v}var l={r:r,c:n};switch(l.s=qP(a.cellXfs,t,a),t.l&&i["!links"].push([G_(l),t.l]),t.c&&i["!comments"].push([G_(l),t.c]),t.t){case"s":case"str":return a.bookSST?(o=WP(a.Strings,t.v,a.revStrings),l.t="s",l.v=o,s?A_(e,18,function(e,t,r){return null==r&&(r=__(8)),sE(t,r),r.write_shift(4,t.v),r}(0,l)):A_(e,7,function(e,t,r){return null==r&&(r=__(12)),aE(t,r),r.write_shift(4,t.v),r}(0,l))):(l.t="str",s?A_(e,17,function(e,t,r){return null==r&&(r=__(8+4*e.v.length)),sE(t,r),Z_(e.v,r),r.length>r.l?r.slice(0,r.l):r}(t,l)):A_(e,6,function(e,t,r){return null==r&&(r=__(12+4*e.v.length)),aE(t,r),Z_(e.v,r),r.length>r.l?r.slice(0,r.l):r}(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?s?A_(e,13,function(e,t,r){return null==r&&(r=__(8)),sE(t,r),mE(e.v,r),r}(t,l)):A_(e,2,function(e,t,r){return null==r&&(r=__(12)),aE(t,r),mE(e.v,r),r}(t,l)):s?A_(e,16,function(e,t,r){return null==r&&(r=__(12)),sE(t,r),vE(e.v,r),r}(t,l)):A_(e,5,function(e,t,r){return null==r&&(r=__(16)),aE(t,r),vE(e.v,r),r}(t,l)),!0;case"b":return l.t="b",s?A_(e,15,function(e,t,r){return null==r&&(r=__(5)),sE(t,r),r.write_shift(1,e.v?1:0),r}(t,l)):A_(e,4,function(e,t,r){return null==r&&(r=__(9)),aE(t,r),r.write_shift(1,e.v?1:0),r}(t,l)),!0;case"e":return l.t="e",s?A_(e,14,function(e,t,r){return null==r&&(r=__(8)),sE(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}(t,l)):A_(e,3,function(e,t,r){return null==r&&(r=__(9)),aE(t,r),r.write_shift(1,e.v),r}(t,l)),!0}return s?A_(e,12,function(e,t,r){return null==r&&(r=__(4)),sE(t,r)}(0,l)):A_(e,1,function(e,t,r){return null==r&&(r=__(8)),aE(t,r)}(0,l)),!0}function TH(e,t){var r,n;t&&t["!merges"]&&(A_(e,177,(r=t["!merges"].length,null==n&&(n=__(4)),n.write_shift(4,r),n)),t["!merges"].forEach((function(t){A_(e,176,wH(t))})),A_(e,178))}function SH(e,t){t&&t["!cols"]&&(A_(e,390),t["!cols"].forEach((function(t,r){t&&A_(e,60,function(e,t,r){null==r&&(r=__(18));var n=XP(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,256*(n.width||10)),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),"number"==typeof n.width&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}(r,t))})),A_(e,391))}function OH(e,t){t&&t["!ref"]&&(A_(e,648),A_(e,649,function(e){var t=__(24);return t.write_shift(4,4),t.write_shift(4,1),bE(e,t),t}(V_(t["!ref"]))),A_(e,650))}function _H(e,t,r){t["!links"].forEach((function(t){if(t[1].Target){var n=UE(r,-1,t[1].Target.replace(/#.*$/,""),ME.HLINK);A_(e,494,function(e,t){var r=__(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));bE({s:U_(e[0]),e:U_(e[0])},r),fE("rId"+t,r);var n=e[1].Target.indexOf("#");return Z_((-1==n?"":e[1].Target.slice(n+1))||"",r),Z_(e[1].Tooltip||"",r),Z_("",r),r.slice(0,r.l)}(t,n))}})),delete t["!links"]}function EH(e,t,r){A_(e,133),A_(e,137,function(e,t,r){null==r&&(r=__(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}(0,r)),A_(e,138),A_(e,134)}function CH(e,t){var r,n;t["!protect"]&&A_(e,535,(r=t["!protect"],null==n&&(n=__(66)),n.write_shift(2,r.password?WA(r.password):0),n.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach((function(e){e[1]?n.write_shift(4,null==r[e[0]]||r[e[0]]?0:1):n.write_shift(4,null!=r[e[0]]&&r[e[0]]?0:1)})),n))}function AH(e,t,r,n){var a=C_(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch(fU){}var l,c,u=V_(s["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],A_(a,129),(r.vbaraw||s["!outline"])&&A_(a,147,function(e,t,r){null==r&&(r=__(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return NE({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),lE(e,r),r.slice(0,r.l)}(o,s["!outline"])),A_(a,148,yH(u)),EH(a,0,r.Workbook),SH(a,s),function(e,t,r,n){var a,i=V_(t["!ref"]||"A1"),s="",o=[];A_(e,145);var l=Array.isArray(t),c=i.e.r;t["!rows"]&&(c=Math.max(i.e.r,t["!rows"].length-1));for(var u=i.s.r;u<=c;++u){s=L_(u),xH(e,t,i,u);var d=!1;if(u<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(o[h]=F_(h)),a=o[h]+s;var f=l?(t[u]||[])[h]:t[a];d=!!f&&kH(e,f,u,h,n,t,d)}}A_(e,146)}(a,s,0,t),CH(a,s),function(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i="string"===typeof a.ref?a.ref:z_(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=B_(i);o.s.r==o.e.r&&(o.e.r=B_(t["!ref"]).e.r,i=z_(o));for(var l=0;l<s.length;++l){var c=s[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),A_(e,161,bE(V_(i))),A_(e,162)}}(a,s,r,e),TH(a,s),_H(a,s,n),s["!margins"]&&A_(a,476,(l=s["!margins"],null==c&&(c=__(48)),YP(l),jH.forEach((function(e){vE(l[e],c)})),c)),t&&!t.ignoreEC&&void 0!=t.ignoreEC||OH(a,s),function(e,t,r,n){if(t["!comments"].length>0){var a=UE(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",ME.VML);A_(e,551,fE("rId"+a)),t["!legacy"]=a}}(a,s,e,n),A_(a,130),a.end()}function IH(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach((function(e){var t=function(e){var t,r=[],n=e.match(/^<c:numCache>/);(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach((function(e){var t=e.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);t&&(r[+t[1]]=n?+t[2]:t[2])}));var a=QS((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach((function(e){t=e.replace(/<.*?>/g,"")})),[r,a,t]}(e);u.s.r=u.s.c=0,u.e.c=o,c=F_(o),t[0].forEach((function(e,r){s[c+L_(r)]={t:"n",v:e,z:t[1]},l=r})),u.e.r<l&&(u.e.r=l),++o})),o>0&&(s["!ref"]=z_(u)),s}var PH=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],HH=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],DH=[],MH=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function LH(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(null==n[i[0]])n[i[0]]=i[1];else switch(i[2]){case"bool":"string"==typeof n[i[0]]&&(n[i[0]]=iO(n[i[0]]));break;case"int":"string"==typeof n[i[0]]&&(n[i[0]]=parseInt(n[i[0]],10))}}}function RH(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(null==e[n[0]])e[n[0]]=n[1];else switch(n[2]){case"bool":"string"==typeof e[n[0]]&&(e[n[0]]=iO(e[n[0]]));break;case"int":"string"==typeof e[n[0]]&&(e[n[0]]=parseInt(e[n[0]],10))}}}function FH(e){RH(e.WBProps,PH),RH(e.CalcPr,MH),LH(e.WBView,HH),LH(e.Sheets,DH),KP.date1904=iO(e.WBProps.date1904)}var UH="][*?/\\".split("");function GH(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return UH.forEach((function(n){if(-1!=e.indexOf(n)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}})),r}function BH(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];!function(e,t,r){e.forEach((function(n,a){GH(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(95==s.charCodeAt(0)&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}}))}(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)ZP(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var zH=/<\w+:workbook/;function VH(e){var t=[GS];t[t.length]=NO("workbook",null,{xmlns:RO[0],"xmlns:r":HO});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(PH.forEach((function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(n[t[0]]=e.Workbook.WBProps[t[0]])})),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=NO("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&a[i]&&a[i].Hidden;++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:eO(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden"}t[t.length]=NO("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach((function(e){var r={name:e.Name};e.Comment&&(r.comment=e.Comment),null!=e.Sheet&&(r.localSheetId=""+e.Sheet),e.Hidden&&(r.hidden="1"),e.Ref&&(t[t.length]=NO("definedName",eO(e.Ref),r))})),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function KH(e,t){return t||(t=__(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),fE(e.strRelID,t),Z_(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function $H(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function WH(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var r,n,a=t.Workbook.Sheets,i=0,s=-1,o=-1;i<a.length;++i)!a[i]||!a[i].Hidden&&-1==s?s=i:1==a[i].Hidden&&-1==o&&(o=i);if(!(o>s))A_(e,135),A_(e,158,(r=s,n||(n=__(29)),n.write_shift(-4,0),n.write_shift(-4,460),n.write_shift(4,28800),n.write_shift(4,17600),n.write_shift(4,500),n.write_shift(4,r),n.write_shift(4,r),n.write_shift(1,120),n.length>n.l?n.slice(0,n.l):n)),A_(e,136)}}function XH(e,t){var r=C_();return A_(r,131),A_(r,128,function(e,t){t||(t=__(127));for(var r=0;4!=r;++r)t.write_shift(4,0);return Z_("SheetJS",t),Z_(Dk.version,t),Z_(Dk.version,t),Z_("7262",t),t.length>t.l?t.slice(0,t.l):t}()),A_(r,153,function(e,t){t||(t=__(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),lE(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),WH(r,e),function(e,t){A_(e,143);for(var r=0;r!=t.SheetNames.length;++r)A_(e,156,KH({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]}));A_(e,144)}(r,e),A_(r,132),r.end()}function YH(e,t,r){return".bin"===t.slice(-4)?function(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],DD[16]={n:"BrtFRTArchID$",f:$H},E_(e,(function(e,o,l){switch(l){case 156:s.SheetNames.push(e.name),r.Sheets.push(e);break;case 153:r.WBProps=e;break;case 39:null!=e.Sheet&&(t.SID=e.Sheet),e.Ref=OP(e.Ptg,0,null,s,t),delete t.SID,delete e.Ptg,i.push(e);break;case 1036:case 361:case 2071:case 158:case 143:case 664:case 353:case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:case 16:break;case 357:case 358:case 355:case 667:s[0].length?s.push([l,e]):s[0]=[l,e],s[s.length-1].XTI=[];break;case 362:0===s.length&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(e),s.XTI=s.XTI.concat(e);break;case 35:case 37:n.push(l),a=!0;break;case 36:case 38:n.pop(),a=!1;break;default:if(o.T);else if(!a||t.WTF&&37!=n[n.length-1]&&35!=n[n.length-1])throw new Error("Unexpected record 0x"+l.toString(16))}}),t),FH(r),r.Names=i,r.supbooks=s,r}(e,r):function(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(VS,(function(o,l){var c=WS(o);switch(XS(c[0])){case"<?xml":case"</workbook>":case"<fileVersion/>":case"</fileVersion>":case"<fileSharing":case"<fileSharing/>":case"</workbookPr>":case"<workbookProtection":case"<workbookProtection/>":case"<bookViews":case"<bookViews>":case"</bookViews>":case"</workbookView>":case"<sheets":case"<sheets>":case"</sheets>":case"</sheet>":case"<functionGroups":case"<functionGroups/>":case"<functionGroup":case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":case"<definedName/>":case"</calcPr>":case"<oleSize":case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":case"<customWorkbookView":case"</customWorkbookView>":case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":case"<smartTagPr":case"<smartTagPr/>":case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":case"<webPublishing":case"<webPublishing/>":case"<fileRecoveryPr":case"<fileRecoveryPr/>":case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":case"<ArchID":case"<revisionPtr":break;case"<workbook":o.match(zH)&&(a="xmlns"+o.match(/<(\w+):/)[1]),r.xmlns=c[a];break;case"<fileVersion":delete c[0],r.AppVersion=c;break;case"<workbookPr":case"<workbookPr/>":PH.forEach((function(e){if(null!=c[e[0]])switch(e[2]){case"bool":r.WBProps[e[0]]=iO(c[e[0]]);break;case"int":r.WBProps[e[0]]=parseInt(c[e[0]],10);break;default:r.WBProps[e[0]]=c[e[0]]}})),c.codeName&&(r.WBProps.CodeName=uO(c.codeName));break;case"<workbookView":case"<workbookView/>":delete c[0],r.WBView.push(c);break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=QS(uO(c.name)),delete c[0],r.Sheets.push(c);break;case"<definedNames>":case"<definedNames":case"<ext":case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</definedNames>":case"</ext>":case"</AlternateContent>":n=!1;break;case"<definedName":(i={}).Name=uO(c.name),c.comment&&(i.Comment=c.comment),c.localSheetId&&(i.Sheet=+c.localSheetId),iO(c.hidden||"0")&&(i.Hidden=!0),s=l+o.length;break;case"</definedName>":i.Ref=QS(uO(e.slice(s,l))),r.Names.push(i);break;case"<calcPr":case"<calcPr/>":delete c[0],r.CalcPr=c;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return o})),-1===RO.indexOf(r.xmlns))throw new Error("Unknown Namespace: "+r.xmlns);return FH(r),r}(e,r)}function qH(e,t,r,n,a,i,s,o){return".bin"===t.slice(-4)?function(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l,c,u,d,h,f,p,m,g,x,b=o.dense?[]:{},y={s:{r:2e6,c:2e6},e:{r:0,c:0}},v=[],N=!1,w=!1,j=[];o.biff=12,o["!row"]=0;var k=0,T=!1,S=[],O={},_=o.supbooks||a.supbooks||[[]];if(_.sharedf=O,_.arrayf=S,_.SheetNames=a.SheetNames||a.Sheets.map((function(e){return e.name})),!o.supbooks&&(o.supbooks=_,a.Names))for(var E=0;E<a.Names.length;++E)_[0][E+1]=a.Names[E];var C,A,I=[],P=[],H=!1;if(DD[16]={n:"BrtShortReal",f:vH},E_(e,(function(e,t,E){if(!w)switch(E){case 148:l=e;break;case 0:c=e,o.sheetRows&&o.sheetRows<=c.r&&(w=!0),g=L_(h=c.r),o["!row"]=c.r,(e.hidden||e.hpt||null!=e.level)&&(e.hpt&&(e.hpx=cI(e.hpt)),P[e.r]=e);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(u={t:e[2]},e[2]){case"n":u.v=e[1];break;case"s":m=VP[e[1]],u.v=m.t,u.r=m.r;break;case"b":u.v=!!e[1];break;case"e":u.v=e[1],!1!==o.cellText&&(u.w=AE[u.v]);break;case"str":u.t="s",u.v=e[1];break;case"is":u.t="s",u.v=e[1].t}if((d=s.CellXf[e[0].iStyleRef])&&QP(u,d.numFmtId,null,o,i,s),f=-1==e[0].c?f+1:e[0].c,o.dense?(b[h]||(b[h]=[]),b[h][f]=u):b[F_(f)+g]=u,o.cellFormula){for(T=!1,k=0;k<S.length;++k){var D=S[k];c.r>=D[0].s.r&&c.r<=D[0].e.r&&f>=D[0].s.c&&f<=D[0].e.c&&(u.F=z_(D[0]),T=!0)}!T&&e.length>3&&(u.f=e[3])}if(y.s.r>c.r&&(y.s.r=c.r),y.s.c>f&&(y.s.c=f),y.e.r<c.r&&(y.e.r=c.r),y.e.c<f&&(y.e.c=f),o.cellDates&&d&&"n"==u.t&&$T(bT[d.numFmtId])){var M=wT(u.v);M&&(u.t="d",u.v=new Date(M.y,M.m-1,M.d,M.H,M.M,M.S,M.u))}C&&("XLDAPR"==C.type&&(u.D=!0),C=void 0),A&&(A=void 0);break;case 1:case 12:if(!o.sheetStubs||N)break;u={t:"z",v:void 0},f=-1==e[0].c?f+1:e[0].c,o.dense?(b[h]||(b[h]=[]),b[h][f]=u):b[F_(f)+g]=u,y.s.r>c.r&&(y.s.r=c.r),y.s.c>f&&(y.s.c=f),y.e.r<c.r&&(y.e.r=c.r),y.e.c<f&&(y.e.c=f),C&&("XLDAPR"==C.type&&(u.D=!0),C=void 0),A&&(A=void 0);break;case 176:j.push(e);break;case 49:C=((o.xlmeta||{}).Cell||[])[e-1];break;case 494:var L=n["!id"][e.relId];for(L?(e.Target=L.Target,e.loc&&(e.Target+="#"+e.loc),e.Rel=L):""==e.relId&&(e.Target="#"+e.loc),h=e.rfx.s.r;h<=e.rfx.e.r;++h)for(f=e.rfx.s.c;f<=e.rfx.e.c;++f)o.dense?(b[h]||(b[h]=[]),b[h][f]||(b[h][f]={t:"z",v:void 0}),b[h][f].l=e):(p=G_({c:f,r:h}),b[p]||(b[p]={t:"z",v:void 0}),b[p].l=e);break;case 426:if(!o.cellFormula)break;S.push(e),(x=o.dense?b[h][f]:b[F_(f)+g]).f=OP(e[1],0,{r:c.r,c:f},_,o),x.F=z_(e[0]);break;case 427:if(!o.cellFormula)break;O[G_(e[0].s)]=e[1],(x=o.dense?b[h][f]:b[F_(f)+g]).f=OP(e[1],0,{r:c.r,c:f},_,o);break;case 60:if(!o.cellStyles)break;for(;e.e>=e.s;)I[e.e--]={width:e.w/256,hidden:!!(1&e.flags),level:e.level},H||(H=!0,iI(e.w/256)),sI(I[e.e+1]);break;case 161:b["!autofilter"]={ref:z_(e)};break;case 476:b["!margins"]=e;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),e.name&&(a.Sheets[r].CodeName=e.name),(e.above||e.left)&&(b["!outline"]={above:e.above,left:e.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),e.RTL&&(a.Views[0].RTL=!0);break;case 485:case 64:case 1053:case 151:case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:N=!0;break;case 36:N=!1;break;case 37:v.push(E),N=!0;break;case 38:v.pop(),N=!1;break;default:if(t.T);else if(!N||o.WTF)throw new Error("Unexpected record 0x"+E.toString(16))}}),o),delete o.supbooks,delete o["!row"],!b["!ref"]&&(y.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(b["!ref"]=z_(l||y)),o.sheetRows&&b["!ref"]){var D=V_(b["!ref"]);o.sheetRows<=+D.e.r&&(D.e.r=o.sheetRows-1,D.e.r>y.e.r&&(D.e.r=y.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>y.e.c&&(D.e.c=y.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),b["!fullref"]=b["!ref"],b["!ref"]=z_(D))}return j.length>0&&(b["!merges"]=j),I.length>0&&(b["!cols"]=I),P.length>0&&(b["!rows"]=P),b}(e,n,r,a,i,s,o):cH(e,n,r,a,i,s,o)}function QH(e,t,r,n,a,i,s,o){return".bin"===t.slice(-4)?function(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=[],o=!1;return E_(e,(function(e,n,l){switch(l){case 550:i["!rel"]=e;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),e.name&&(a.Sheets[r].CodeName=e.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(l);break;case 38:s.pop();break;default:if(n.T>0)s.push(l);else if(n.T<0)s.pop();else if(!o||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}(e,n,r,a,i):function(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i,s={"!type":"chart","!drawel":null,"!rel":""},o=e.match(sH);return o&&uH(o[0],0,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}(e,0,r,a,i)}function ZH(e,t,r,n){return".bin"===t.slice(-4)?function(e,t,r){var n={NumberFmt:[]};for(var a in bT)n.NumberFmt[a]=bT[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return E_(e,(function(e,a,o){switch(o){case 44:n.NumberFmt[e[0]]=e[1],QT(e[1],e[0]);break;case 43:n.Fonts.push(e),null!=e.color.theme&&t&&t.themeElements&&t.themeElements.clrScheme&&(e.color.rgb=JA(t.themeElements.clrScheme[e.color.theme].rgb,e.color.tint||0));break;case 1025:case 45:case 46:case 48:case 507:case 572:case 475:case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 47:617==i[i.length-1]&&n.CellXf.push(e);break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(o),s=!0;break;case 38:i.pop(),s=!1;break;default:if(a.T>0)i.push(o);else if(a.T<0)i.pop();else if(!s||r.WTF&&37!=i[i.length-1])throw new Error("Unexpected record 0x"+o.toString(16))}})),n}(e,r,n):fI(e,r,n)}function JH(e,t,r){return".bin"===t.slice(-4)?function(e,t){var r=[],n=!1;return E_(e,(function(e,a,i){switch(i){case 159:r.Count=e[0],r.Unique=e[1];break;case 19:r.push(e);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(a.T,!n||t.WTF)throw new Error("Unexpected record 0x"+i.toString(16))}})),r}(e,r):function(e,t){var r=[],n="";if(!e)return r;var a=e.match(AA);if(a){n=a[2].replace(IA,"").split(PA);for(var i=0;i!=n.length;++i){var s=CA(n[i].trim(),t);null!=s&&(r[r.length]=s)}a=WS(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}(e,r)}function eD(e,t,r){return".bin"===t.slice(-4)?function(e,t){var r=[],n=[],a={},i=!1;return E_(e,(function(e,s,o){switch(o){case 632:n.push(e);break;case 635:a=e;break;case 637:a.t=e.t,a.h=e.h,a.r=e.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:case 37:case 38:break;case 35:i=!0;break;case 36:i=!1;break;default:if(s.T);else if(!i||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}})),r}(e,r):function(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach((function(e){if(""!==e&&""!==e.trim()){var t=e.match(/<(?:\w+:)?author[^>]*>(.*)/);t&&r.push(t[1])}}));var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach((function(e){if(""!==e&&""!==e.trim()){var a=e.match(/<(?:\w+:)?comment[^>]*>/);if(a){var i=WS(a[0]),s={author:i.authorId&&r[i.authorId]||"sheetjsghost",ref:i.ref,guid:i.guid},o=U_(i.ref);if(!(t.sheetRows&&t.sheetRows<=o.r)){var l=e.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),c=!!l&&!!l[1]&&CA(l[1])||{r:"",t:"",h:""};s.r=c.r,"<t></t>"==c.r&&(c.t=c.h=""),s.t=(c.t||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),t.cellHTML&&(s.h=c.h),n.push(s)}}}})),n}(e,r)}function tD(e,t,r){return".bin"===t.slice(-4)?function(e){var t=[];return E_(e,(function(e,r,n){if(63===n)t.push(e);else if(!r.T)throw new Error("Unexpected record 0x"+n.toString(16))})),t}(e):function(e){var t=[];if(!e)return t;var r=1;return(e.match(VS)||[]).forEach((function(e){var n=WS(e);switch(n[0]){case"<?xml":case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?r=n.i:n.i=r,t.push(n)}})),t}(e)}function rD(e,t,r,n){if(".bin"===r.slice(-4))return function(e,t,r,n){if(!e)return e;var a=n||{},i=!1;E_(e,(function(e,t,r){switch(r){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(t.T);else if(!i||a.WTF)throw new Error("Unexpected record 0x"+r.toString(16))}}),a)}(e,0,0,n)}function nD(e,t,r){return".bin"===t.slice(-4)?function(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return E_(e,(function(e,t,r){switch(r){case 335:n.Types.push({name:e.name});break;case 51:e.forEach((function(e){1==o?n.Cell.push({type:n.Types[e[0]-1].name,index:e[1]}):0==o&&n.Value.push({type:n.Types[e[0]-1].name,index:e[1]})}));break;case 337:o=e?1:0;break;case 338:o=2;break;case 35:i.push(r),s=!0;break;case 36:i.pop(),s=!1;break;default:if(t.T);else if(!s||a.WTF&&35!=i[i.length-1])throw new Error("Unexpected record 0x"+r.toString(16))}})),n}(e,0,r):function(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a,i=!1,s=2;return e.replace(VS,(function(e){var t=WS(e);switch(XS(t[0])){case"<?xml":case"<metadata":case"</metadata>":case"<metadataTypes":case"</metadataTypes>":case"</metadataType>":case"</futureMetadata>":case"<bk>":case"</bk>":case"</rc>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<metadataType":n.Types.push({name:t.name});break;case"<futureMetadata":for(var o=0;o<n.Types.length;++o)n.Types[o].name==t.name&&(a=n.Types[o]);break;case"<rc":1==s?n.Cell.push({type:n.Types[t.t-1].name,index:+t.v}):0==s&&n.Value.push({type:n.Types[t.t-1].name,index:+t.v});break;case"<cellMetadata":s=1;break;case"</cellMetadata>":case"</valueMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+t.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+t[0]+" in metadata")}return e})),n}(e,0,r)}function aD(e,t,r,n,a){return(".bin"===t.slice(-4)?AH:gH)(e,r,n,a)}function iD(e,t,r){return(".bin"===t.slice(-4)?XI:KI)(e,r)}var sD,oD=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,lD=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function cD(e,t){var r=e.split(/\s+/),n=[];if(t||(n[0]=r[0]),1===r.length)return n;var a,i,s,o=e.match(oD);if(o)for(s=0;s!=o.length;++s)-1===(i=(a=o[s].match(lD))[1].indexOf(":"))?n[a[1]]=a[2].slice(1,a[2].length-1):n["xmlns:"===a[1].slice(0,6)?"xmlns"+a[1].slice(6):a[1].slice(i+1)]=a[2].slice(1,a[2].length-1);return n}function uD(e){var t={};if(1===e.split(/\s+/).length)return t;var r,n,a,i=e.match(oD);if(i)for(a=0;a!=i.length;++a)-1===(n=(r=i[a].match(lD))[1].indexOf(":"))?t[r[1]]=r[2].slice(1,r[2].length-1):t["xmlns:"===r[1].slice(0,6)?"xmlns"+r[1].slice(6):r[1].slice(n+1)]=r[2].slice(1,r[2].length-1);return t}function dD(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=iO(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=NS(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[QS(t)]=a}function hD(e,t,r){if("z"!==e.t){if(!r||!1!==r.cellText)try{"e"===e.t?e.w=e.w||AE[e.v]:"General"===t?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=_T(e.v):e.w=ET(e.v):e.w=function(e,t){var r=sD[e]||QS(e);return"General"===r?ET(t):qT(r,t)}(t||"General",e.v)}catch(fU){if(r.WTF)throw fU}try{var n=sD[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&"n"==e.t&&$T(n)){var a=wT(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(fU){if(r.WTF)throw fU}}}function fD(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=uI[n.Pattern]||n.Pattern)}e[t.ID]=t}function pD(e,t,r,n,a,i,s,o,l,c){var u="General",d=n.StyleID,h={};c=c||{};var f=[],p=0;for(void 0===d&&o&&(d=o.StyleID),void 0===d&&s&&(d=s.StyleID);void 0!==i[d]&&(i[d].nf&&(u=i[d].nf),i[d].Interior&&f.push(i[d].Interior),i[d].Parent);)d=i[d].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=iO(e);break;case"String":n.t="s",n.r=aO(QS(e)),n.v=e.indexOf("<")>-1?QS(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":"Z"!=e.slice(-1)&&(e+="Z"),n.v=(NS(e)-new Date(Date.UTC(1899,11,30)))/864e5,n.v!==n.v?n.v=QS(e):n.v<60&&(n.v=n.v-1),u&&"General"!=u||(u="yyyy-mm-dd");case"Number":void 0===n.v&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=IE[e],!1!==c.cellText&&(n.w=e);break;default:""==e&&""==t?n.t="z":(n.t="s",n.v=aO(t||e))}if(hD(n,u,c),!1!==c.cellFormula)if(n.Formula){var m=QS(n.Formula);61==m.charCodeAt(0)&&(m=m.slice(1)),n.f=qI(m,a),delete n.Formula,"RC"==n.ArrayRange?n.F=qI("RC:RC",a):n.ArrayRange&&(n.F=qI(n.ArrayRange,a),l.push([V_(n.F),n.F]))}else for(p=0;p<l.length;++p)a.r>=l[p][0].s.r&&a.r<=l[p][0].e.r&&a.c>=l[p][0].s.c&&a.c<=l[p][0].e.c&&(n.F=l[p][1]);c.cellStyles&&(f.forEach((function(e){!h.patternType&&e.patternType&&(h.patternType=e.patternType)})),n.s=h),void 0!==n.StyleID&&(n.ixfe=n.StyleID)}function mD(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e.v=e.w=e.ixfe=void 0}function gD(e,t){var r=t||{};JT();var n=$k(jO(e));"binary"!=r.type&&"array"!=r.type&&"base64"!=r.type||(n="undefined"!==typeof Kk?Kk.utils.decode(65001,zk(n)):uO(n));var a,i=n.slice(0,1024).toLowerCase(),s=!1;if((1023&(i=i.replace(/".*?"/g,"")).indexOf(">"))>Math.min(1023&i.indexOf(","),1023&i.indexOf(";"))){var o=jS(r);return o.type="string",jA.to_workbook(n,o)}if(-1==i.indexOf("<?xml")&&["html","table","head","meta","script","style","div"].forEach((function(e){i.indexOf("<"+e)>=0&&(s=!0)})),s)return function(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||0==r.length)throw new Error("Invalid HTML: could not find <table>");if(1==r.length)return W_(WD(r[0],t),t);var n={SheetNames:[],Sheets:{}};return r.forEach((function(e,r){hL(n,WD(e,t),"Sheet"+(r+1))})),n}(n,r);sD={"General Number":"General","General Date":bT[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":bT[15],"Short Date":bT[14],"Long Time":bT[19],"Medium Time":bT[18],"Short Time":bT[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:bT[2],Standard:bT[4],Percent:bT[10],Scientific:bT[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[];var u,d={},h=[],f=r.dense?[]:{},p="",m={},g={},x=cD('<Data ss:Type="String">'),b=0,y=0,v=0,N={s:{r:2e6,c:2e6},e:{r:0,c:0}},w={},j={},k="",T=0,S=[],O={},_={},E=0,C=[],A=[],I={},P=[],H=!1,D=[],M=[],L={},R=0,F=0,U={Sheets:[],WBProps:{date1904:!1}},G={};kO.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/gm,"");for(var B="";a=kO.exec(n);)switch(a[3]=(B=a[3]).toLowerCase()){case"data":if("data"==B){if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&c.push([a[3],!0]);break}if(c[c.length-1][1])break;"/"===a[1]?pD(n.slice(b,a.index),k,x,"comment"==c[c.length-1][0]?I:m,{c:y,r:v},w,P[y],g,D,r):(k="",x=cD(a[0]),b=a.index+a[0].length);break;case"cell":if("/"===a[1])if(A.length>0&&(m.c=A),(!r.sheetRows||r.sheetRows>v)&&void 0!==m.v&&(r.dense?(f[v]||(f[v]=[]),f[v][y]=m):f[F_(y)+L_(v)]=m),m.HRef&&(m.l={Target:QS(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(R=y+(0|parseInt(m.MergeAcross,10)),F=v+(0|parseInt(m.MergeDown,10)),S.push({s:{c:y,r:v},e:{c:R,r:F}})),r.sheetStubs)if(m.MergeAcross||m.MergeDown){for(var z=y;z<=R;++z)for(var V=v;V<=F;++V)(z>y||V>v)&&(r.dense?(f[V]||(f[V]=[]),f[V][z]={t:"z"}):f[F_(z)+L_(V)]={t:"z"});y=R+1}else++y;else m.MergeAcross?y=R+1:++y;else(m=uD(a[0])).Index&&(y=+m.Index-1),y<N.s.c&&(N.s.c=y),y>N.e.c&&(N.e.c=y),"/>"===a[0].slice(-2)&&++y,A=[];break;case"row":"/"===a[1]||"/>"===a[0].slice(-2)?(v<N.s.r&&(N.s.r=v),v>N.e.r&&(N.e.r=v),"/>"===a[0].slice(-2)&&(g=cD(a[0])).Index&&(v=+g.Index-1),y=0,++v):((g=cD(a[0])).Index&&(v=+g.Index-1),L={},("0"==g.AutoFitHeight||g.Height)&&(L.hpx=parseInt(g.Height,10),L.hpt=lI(L.hpx),M[v]=L),"1"==g.Hidden&&(L.hidden=!0,M[v]=L));break;case"worksheet":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"));h.push(p),N.s.r<=N.e.r&&N.s.c<=N.e.c&&(f["!ref"]=z_(N),r.sheetRows&&r.sheetRows<=N.e.r&&(f["!fullref"]=f["!ref"],N.e.r=r.sheetRows-1,f["!ref"]=z_(N))),S.length&&(f["!merges"]=S),P.length>0&&(f["!cols"]=P),M.length>0&&(f["!rows"]=M),d[p]=f}else N={s:{r:2e6,c:2e6},e:{r:0,c:0}},v=y=0,c.push([a[3],!1]),l=cD(a[0]),p=QS(l.Name),f=r.dense?[]:{},S=[],D=[],M=[],G={name:p,Hidden:0},U.Sheets.push(G);break;case"table":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else{if("/>"==a[0].slice(-2))break;c.push([a[3],!1]),P=[],H=!1}break;case"style":"/"===a[1]?fD(w,j,r):j=cD(a[0]);break;case"numberformat":j.nf=QS(cD(a[0]).Format||"General"),sD[j.nf]&&(j.nf=sD[j.nf]);for(var K=0;392!=K&&bT[K]!=j.nf;++K);if(392==K)for(K=57;392!=K;++K)if(null==bT[K]){QT(j.nf,K);break}break;case"column":if("table"!==c[c.length-1][0])break;if((u=cD(a[0])).Hidden&&(u.hidden=!0,delete u.Hidden),u.Width&&(u.wpx=parseInt(u.Width,10)),!H&&u.wpx>10){H=!0,eI=6;for(var $=0;$<P.length;++$)P[$]&&sI(P[$])}H&&sI(u),P[u.Index-1||P.length]=u;for(var W=0;W<+u.Span;++W)P[P.length]=jS(u);break;case"namedrange":if("/"===a[1])break;U.Names||(U.Names=[]);var X=WS(a[0]),Y={Name:X.Name,Ref:qI(X.RefersTo.slice(1),{r:0,c:0})};U.Sheets.length>0&&(Y.Sheet=U.Sheets.length-1),U.Names.push(Y);break;case"namedcell":case"b":case"i":case"u":case"s":case"em":case"h2":case"h3":case"sub":case"sup":case"span":case"alignment":case"borders":case"border":case"protection":case"paragraphs":case"name":case"pixelsperinch":case"null":break;case"font":if("/>"===a[0].slice(-2))break;"/"===a[1]?k+=n.slice(T,a.index):T=a.index+a[0].length;break;case"interior":if(!r.cellStyles)break;j.Interior=cD(a[0]);break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if("/>"===a[0].slice(-2))break;"/"===a[1]?rC(O,B,n.slice(E,a.index)):E=a.index+a[0].length;break;case"styles":case"workbook":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else c.push([a[3],!1]);break;case"comment":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"));mD(I),A.push(I)}else c.push([a[3],!1]),I={a:(l=cD(a[0])).Author};break;case"autofilter":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else if("/"!==a[0].charAt(a[0].length-2)){var q=cD(a[0]);f["!autofilter"]={ref:qI(q.Range).replace(/\$/g,"")},c.push([a[3],!0])}break;case"datavalidation":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&c.push([a[3],!0]);break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&c.push([a[3],!0]);break;default:if(0==c.length&&"document"==a[3])return sM(n,r);if(0==c.length&&"uof"==a[3])return sM(n,r);var Q=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(a[3]){case"allowpng":case"removepersonalinformation":case"downloadcomponents":case"locationofcomponents":case"colors":case"color":case"index":case"rgb":case"targetscreensize":case"readonlyrecommended":break;default:Q=!1}break;case"componentoptions":switch(a[3]){case"toolbar":case"hideofficelogo":case"spreadsheetautofit":case"label":case"caption":case"maxheight":case"maxwidth":case"nextsheetnumber":break;default:Q=!1}break;case"excelworkbook":switch(a[3]){case"date1904":U.WBProps.date1904=!0;break;case"windowheight":case"windowwidth":case"windowtopx":case"windowtopy":case"tabratio":case"protectstructure":case"protectwindow":case"protectwindows":case"activesheet":case"displayinknotes":case"firstvisiblesheet":case"supbook":case"sheetname":case"sheetindex":case"sheetindexfirst":case"sheetindexlast":case"dll":case"acceptlabelsinformulas":case"donotsavelinkvalues":case"iteration":case"maxiterations":case"maxchange":case"path":case"xct":case"count":case"selectedsheets":case"calculation":case"uncalced":case"startupprompt":case"crn":case"externname":case"formula":case"colfirst":case"collast":case"wantadvise":case"boolean":case"error":case"text":case"ole":case"noautorecover":case"publishobjects":case"donotcalculatebeforesave":case"number":case"refmoder1c1":case"embedsavesmarttags":break;default:Q=!1}break;case"workbookoptions":switch(a[3]){case"owcversion":case"height":case"width":break;default:Q=!1}break;case"worksheetoptions":switch(a[3]){case"visible":if("/>"===a[0].slice(-2));else if("/"===a[1])switch(n.slice(E,a.index)){case"SheetHidden":G.Hidden=1;break;case"SheetVeryHidden":G.Hidden=2}else E=a.index+a[0].length;break;case"header":f["!margins"]||YP(f["!margins"]={},"xlml"),isNaN(+WS(a[0]).Margin)||(f["!margins"].header=+WS(a[0]).Margin);break;case"footer":f["!margins"]||YP(f["!margins"]={},"xlml"),isNaN(+WS(a[0]).Margin)||(f["!margins"].footer=+WS(a[0]).Margin);break;case"pagemargins":var Z=WS(a[0]);f["!margins"]||YP(f["!margins"]={},"xlml"),isNaN(+Z.Top)||(f["!margins"].top=+Z.Top),isNaN(+Z.Left)||(f["!margins"].left=+Z.Left),isNaN(+Z.Right)||(f["!margins"].right=+Z.Right),isNaN(+Z.Bottom)||(f["!margins"].bottom=+Z.Bottom);break;case"displayrighttoleft":U.Views||(U.Views=[]),U.Views[0]||(U.Views[0]={}),U.Views[0].RTL=!0;break;case"freezepanes":case"frozennosplit":case"splithorizontal":case"splitvertical":case"donotdisplaygridlines":case"activerow":case"activecol":case"toprowbottompane":case"leftcolumnrightpane":case"unsynced":case"print":case"printerrors":case"panes":case"scale":case"pane":case"number":case"layout":case"pagesetup":case"selected":case"protectobjects":case"enableselection":case"protectscenarios":case"validprinterinfo":case"horizontalresolution":case"verticalresolution":case"numberofcopies":case"activepane":case"toprowvisible":case"leftcolumnvisible":case"fittopage":case"rangeselection":case"papersizeindex":case"pagelayoutzoom":case"pagebreakzoom":case"filteron":case"fitwidth":case"fitheight":case"commentslayout":case"zoom":case"lefttoright":case"gridlines":case"allowsort":case"allowfilter":case"allowinsertrows":case"allowdeleterows":case"allowinsertcols":case"allowdeletecols":case"allowinserthyperlinks":case"allowformatcells":case"allowsizecols":case"allowsizerows":case"tabcolorindex":case"donotdisplayheadings":case"showpagelayoutzoom":case"blackandwhite":case"donotdisplayzeros":case"displaypagebreak":case"rowcolheadings":case"donotdisplayoutline":case"noorientation":case"allowusepivottables":case"zeroheight":case"viewablerange":case"selection":case"protectcontents":break;case"nosummaryrowsbelowdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].above=!0;break;case"nosummarycolumnsrightdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].left=!0;break;default:Q=!1}break;case"pivottable":case"pivotcache":switch(a[3]){case"immediateitemsondrop":case"showpagemultipleitemlabel":case"compactrowindent":case"location":case"pivotfield":case"orientation":case"layoutform":case"layoutsubtotallocation":case"layoutcompactrow":case"position":case"pivotitem":case"datatype":case"datafield":case"sourcename":case"parentfield":case"ptlineitems":case"ptlineitem":case"countofsameitems":case"item":case"itemtype":case"ptsource":case"cacheindex":case"consolidationreference":case"filename":case"reference":case"nocolumngrand":case"norowgrand":case"blanklineafteritems":case"hidden":case"subtotal":case"basefield":case"mapchilditems":case"function":case"refreshonfileopen":case"printsettitles":case"mergelabels":case"defaultversion":case"refreshname":case"refreshdate":case"refreshdatecopy":case"versionlastrefresh":case"versionlastupdate":case"versionupdateablemin":case"versionrefreshablemin":case"calculation":break;default:Q=!1}break;case"pagebreaks":switch(a[3]){case"colbreaks":case"colbreak":case"rowbreaks":case"rowbreak":case"colstart":case"colend":case"rowend":break;default:Q=!1}break;case"autofilter":switch(a[3]){case"autofiltercolumn":case"autofiltercondition":case"autofilterand":case"autofilteror":break;default:Q=!1}break;case"querytable":switch(a[3]){case"id":case"autoformatfont":case"autoformatpattern":case"querysource":case"querytype":case"enableredirections":case"refreshedinxl9":case"urlstring":case"htmltables":case"connection":case"commandtext":case"refreshinfo":case"notitles":case"nextid":case"columninfo":case"overwritecells":case"donotpromptforfile":case"textwizardsettings":case"source":case"number":case"decimal":case"thousandseparator":case"trailingminusnumbers":case"formatsettings":case"fieldtype":case"delimiters":case"tab":case"comma":case"autoformatname":case"versionlastedit":case"versionlastrefresh":break;default:Q=!1}break;case"datavalidation":switch(a[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":case"cellrangelist":break;default:Q=!1}break;case"sorting":case"conditionalformatting":switch(a[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"cellrangelist":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":break;default:Q=!1}break;case"mapinfo":case"schema":case"data":switch(a[3]){case"map":case"entry":case"range":case"xpath":case"field":case"xsdtype":case"filteron":case"aggregate":case"elementtype":case"attributetype":case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:Q=!1}break;case"smarttags":break;default:Q=!1}if(Q)break;if(a[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+a[3]+"|"+c.join("|");if("customdocumentproperties"===c[c.length-1][0]){if("/>"===a[0].slice(-2))break;"/"===a[1]?dD(_,B,C,n.slice(E,a.index)):(C=a,E=a.index+a[0].length);break}if(r.WTF)throw"Unrecognized tag: "+a[3]+"|"+c.join("|")}var J={};return r.bookSheets||r.bookProps||(J.Sheets=d),J.SheetNames=h,J.Workbook=U,J.SSF=jS(bT),J.Props=O,J.Custprops=_,J}function xD(e,t){switch(RM(t=t||{}),t.type||"base64"){case"base64":return gD(Qk(e),t);case"binary":case"buffer":case"file":return gD(e,t);case"array":return gD(aT(e),t)}}function bD(e,t){var r=[];return e.Props&&r.push(function(e,t){var r=[];return oS(tC).map((function(e){for(var t=0;t<zE.length;++t)if(zE[t][1]==e)return zE[t];for(t=0;t<XE.length;++t)if(XE[t][1]==e)return XE[t];throw e})).forEach((function(n){if(null!=e[n[1]]){var a=t&&t.Props&&null!=t.Props[n[1]]?t.Props[n[1]]:e[n[1]];"date"===n[2]&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof a?a=String(a):!0===a||!1===a?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(yO(tC[n[1]]||n[1],a))}})),NO("DocumentProperties",r.join(""),{xmlns:FO})}(e.Props,t)),e.Custprops&&r.push(function(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&oS(e).forEach((function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var n=0;n<zE.length;++n)if(t==zE[n][1])return;for(n=0;n<XE.length;++n)if(t==XE[n][1])return;for(n=0;n<r.length;++n)if(t==r[n])return;var i=e[t],s="string";"number"==typeof i?(s="float",i=String(i)):!0===i||!1===i?(s="boolean",i=i?"1":"0"):i=String(i),a.push(NO(tO(t),i,{"dt:dt":s}))}})),t&&oS(t).forEach((function(r){if(Object.prototype.hasOwnProperty.call(t,r)&&(!e||!Object.prototype.hasOwnProperty.call(e,r))){var n=t[r],i="string";"number"==typeof n?(i="float",n=String(n)):!0===n||!1===n?(i="boolean",n=n?"1":"0"):n instanceof Date?(i="dateTime.tz",n=n.toISOString()):n=String(n),a.push(NO(tO(r),n,{"dt:dt":i}))}})),"<"+n+' xmlns="'+FO+'">'+a.join("")+"</"+n+">"}(e.Props,e.Custprops)),r.join("")}function yD(e){return NO("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+ZI(e.Ref,{r:0,c:0})})}function vD(e,t,r,n,a,i,s){if(!e||void 0==e.v&&void 0==e.f)return"";var o={};if(e.f&&(o["ss:Formula"]="="+eO(ZI(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=U_(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=eO(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=eO(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c==s.c&&c[u].s.r==s.r&&(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var d="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":d="Number",h=String(e.v);break;case"b":d="Boolean",h=e.v?"1":"0";break;case"e":d="Error",h=AE[e.v];break;case"d":d="DateTime",h=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||bT[14]);break;case"s":d="String",h=((e.v||"")+"").replace(ZS,(function(e){return qS[e]})).replace(rO,(function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}))}var f=qP(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+f),o["ss:Index"]=s.c+1;var p=null!=e.v?h:"",m="z"==e.t?"":'<Data ss:Type="'+d+'">'+p+"</Data>";return(e.c||[]).length>0&&(m+=e.c.map((function(e){var t=NO("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return NO("Comment",t,{"ss:Author":e.a})})).join("")),NO("Cell",m,o)}function ND(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=cI(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function wD(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?function(e,t,r,n){if(!e)return"";if(!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(yD(o)))}return i.join("")}(i,0,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?function(e,t){if(!e["!ref"])return"";var r=V_(e["!ref"]),n=e["!merges"]||[],a=0,i=[];e["!cols"]&&e["!cols"].forEach((function(e,t){sI(e);var r=!!e.width,n=XP(t,e),a={"ss:Index":t+1};r&&(a["ss:Width"]=tI(n.width)),e.hidden&&(a["ss:Hidden"]="1"),i.push(NO("Column",null,a))}));for(var s=Array.isArray(e),o=r.s.r;o<=r.e.r;++o){for(var l=[ND(o,(e["!rows"]||[])[o])],c=r.s.c;c<=r.e.c;++c){var u=!1;for(a=0;a!=n.length;++a)if(!(n[a].s.c>c)&&!(n[a].s.r>o)&&!(n[a].e.c<c)&&!(n[a].e.r<o)){n[a].s.c==c&&n[a].s.r==o||(u=!0);break}if(!u){var d={r:o,c:c},h=G_(d),f=s?(e[o]||[])[c]:e[h];l.push(vD(f,h,e,t,0,0,d))}}l.push("</Row>"),l.length>2&&i.push(l.join(""))}return i.join("")}(i,t):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(function(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(NO("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(NO("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(NO("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(NO("Visible",1==n.Workbook.Sheets[r].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&(!n.Workbook.Sheets[i]||n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(yO("ProtectContents","True")),e["!protect"].objects&&a.push(yO("ProtectObjects","True")),e["!protect"].scenarios&&a.push(yO("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||a.push(yO("EnableSelection","UnlockedCells")):a.push(yO("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach((function(t){e["!protect"][t[0]]&&a.push("<"+t[1]+"/>")}))),0==a.length?"":NO("WorksheetOptions",a.join(""),{xmlns:UO})}(i,0,e,r)),n.join("")}function jD(e,t){t||(t={}),e.SSF||(e.SSF=jS(bT)),e.SSF&&(JT(),ZT(e.SSF),t.revssf=uS(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],qP(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(bD(e,t)),r.push(""),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(NO("Worksheet",wD(n,t,e),{"ss:Name":eO(e.SheetNames[n])}));return r[2]=function(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach((function(e,t){var n=[];n.push(NO("NumberFormat",null,{"ss:Format":eO(bT[e.numFmtId])}));var a={"ss:ID":"s"+(21+t)};r.push(NO("Style",n.join(""),a))})),NO("Styles",r.join(""))}(0,t),r[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];null==a.Sheet&&(a.Name.match(/^_xlfn\./)||r.push(yD(a)))}return NO("Names",r.join(""))}(e),GS+NO("Workbook",r.join(""),{xmlns:GO,"xmlns:o":FO,"xmlns:x":UO,"xmlns:ss":GO,"xmlns:dt":BO,"xmlns:html":KO})}function kD(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=function(e){return wE(e,1)}(r),r.length-r.l<=4)return t;var n=r.read_shift(4);return 0==n||n>40?t:(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4||1907505652!==(n=r.read_shift(4))?t:(t.UnicodeClipboardFormat=function(e){return wE(e,2)}(r),0==(n=r.read_shift(4))||n>40?t:(r.l-=4,void(t.Reserved2=r.read_shift(0,"lpwstr")))))}var TD=[60,1084,2066,2165,2175];function SD(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=m_(r,r.l),c=MD[l],u=0;null!=c&&TD.indexOf(l)>-1;)i=m_(r,r.l+2),u=r.l+4,2066==l?u+=4:2165!=l&&2175!=l||(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=MD[l=m_(r,r.l)];var d=sT(s);S_(d,0);var h=0;d.lens=[];for(var f=0;f<s.length;++f)d.lens.push(h),h+=s[f].length;if(d.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+d.length+" < "+n;return t.f(d,d.length,a)}function OD(e,t,r){if("z"!==e.t&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=bT[n])}catch(fU){if(t.WTF)throw fU}if(!t||!1!==t.cellText)try{"e"===e.t?e.w=e.w||AE[e.v]:0===n||"General"==n?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=_T(e.v):e.w=ET(e.v):e.w=qT(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(fU){if(t.WTF)throw fU}if(t.cellDates&&n&&"n"==e.t&&$T(bT[n]||String(n))){var a=wT(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function _D(e,t,r){return{v:e,ixfe:t,t:r}}function ED(e,t){var r={opts:{}},n={};var a,i,s,o,l,c,u,d,h=t.dense?[]:{},f={},p={},m=null,g=[],x="",b={},y="",v={},N=[],w=[],j=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},T={},S=function(e){return e<8?CE[e]:e<64&&j[e-8]||CE[e]},O=function(e,t,r){if(!(L>1)&&!(r.sheetRows&&e.r>=r.sheetRows)){if(r.cellStyles&&t.XF&&t.XF.data&&function(e,t,r){var n,a=t.XF.data;a&&a.patternType&&r&&r.cellStyles&&(t.s={},t.s.patternType=a.patternType,(n=ZA(S(a.icvFore)))&&(t.s.fgColor={rgb:n}),(n=ZA(S(a.icvBack)))&&(t.s.bgColor={rgb:n}))}(0,t,r),delete t.ixfe,delete t.XF,a=e,y=G_(e),p&&p.s&&p.e||(p={s:{r:0,c:0},e:{r:0,c:0}}),e.r<p.s.r&&(p.s.r=e.r),e.c<p.s.c&&(p.s.c=e.c),e.r+1>p.e.r&&(p.e.r=e.r+1),e.c+1>p.e.c&&(p.e.c=e.c+1),r.cellFormula&&t.f)for(var n=0;n<N.length;++n)if(!(N[n][0].s.c>e.c||N[n][0].s.r>e.r)&&!(N[n][0].e.c<e.c||N[n][0].e.r<e.r)){t.F=z_(N[n][0]),N[n][0].s.c==e.c&&N[n][0].s.r==e.r||delete t.f,t.f&&(t.f=""+OP(N[n][1],0,e,H,_));break}r.dense?(h[e.r]||(h[e.r]=[]),h[e.r][e.c]=t):h[y]=t}},_={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:N,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(_.password=t.password);var E=[],C=[],A=[],I=[],P=!1,H=[];H.SheetNames=_.snames,H.sharedf=_.sharedf,H.arrayf=_.arrayf,H.names=[],H.XTI=[];var D,M=0,L=0,R=0,F=[],U=[];_.codepage=1200,Gk(1200);for(var G=!1;e.l<e.length-1;){var B=e.l,z=e.read_shift(2);if(0===z&&10===M)break;var V=e.l===e.length?0:e.read_shift(2),K=MD[z];if(K&&K.f){if(t.bookSheets&&133===M&&133!==z)break;if(M=z,2===K.r||12==K.r){var $=e.read_shift(2);if(V-=2,!_.enc&&$!==z&&((255&$)<<8|$>>8)!==z)throw new Error("rt mismatch: "+$+"!="+z);12==K.r&&(e.l+=10,V-=10)}var W={};if(W=10===z?K.f(e,V,_):SD(z,K,e,V,_),0==L&&-1===[9,521,1033,2057].indexOf(M))continue;switch(z){case 34:r.opts.Date1904=k.WBProps.date1904=W;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(_.enc||(e.l=0),_.enc=W,!t.password)throw new Error("File is password-protected");if(null==W.valid)throw new Error("Encryption scheme unsupported");if(!W.valid)throw new Error("Password is incorrect");break;case 92:_.lastuser=W;break;case 66:var X=Number(W);switch(X){case 21010:X=1200;break;case 32768:X=1e4;break;case 32769:X=1252}Gk(_.codepage=X),G=!0;break;case 317:_.rrtabid=W;break;case 25:_.winlocked=W;break;case 439:r.opts.RefreshAll=W;break;case 12:r.opts.CalcCount=W;break;case 16:r.opts.CalcDelta=W;break;case 17:r.opts.CalcIter=W;break;case 13:r.opts.CalcMode=W;break;case 14:r.opts.CalcPrecision=W;break;case 95:r.opts.CalcSaveRecalc=W;break;case 15:_.CalcRefMode=W;break;case 2211:r.opts.FullCalc=W;break;case 129:W.fDialog&&(h["!type"]="dialog"),W.fBelow||((h["!outline"]||(h["!outline"]={})).above=!0),W.fRight||((h["!outline"]||(h["!outline"]={})).left=!0);break;case 224:w.push(W);break;case 430:H.push([W]),H[H.length-1].XTI=[];break;case 35:case 547:H[H.length-1].push(W);break;case 24:case 536:D={Name:W.Name,Ref:OP(W.rgce,0,null,H,_)},W.itab>0&&(D.Sheet=W.itab-1),H.names.push(D),H[0]||(H[0]=[],H[0].XTI=[]),H[H.length-1].push(W),"_xlnm._FilterDatabase"==W.Name&&W.itab>0&&W.rgce&&W.rgce[0]&&W.rgce[0][0]&&"PtgArea3d"==W.rgce[0][0][0]&&(U[W.itab-1]={ref:z_(W.rgce[0][0][1][2])});break;case 22:_.ExternCount=W;break;case 23:0==H.length&&(H[0]=[],H[0].XTI=[]),H[H.length-1].XTI=H[H.length-1].XTI.concat(W),H.XTI=H.XTI.concat(W);break;case 2196:if(_.biff<8)break;null!=D&&(D.Comment=W[1]);break;case 18:h["!protect"]=W;break;case 19:0!==W&&_.WTF&&console.error("Password verifier: "+W);break;case 133:f[W.pos]=W,_.snames.push(W.name);break;case 10:if(--L)break;if(p.e){if(p.e.r>0&&p.e.c>0){if(p.e.r--,p.e.c--,h["!ref"]=z_(p),t.sheetRows&&t.sheetRows<=p.e.r){var Y=p.e.r;p.e.r=t.sheetRows-1,h["!fullref"]=h["!ref"],h["!ref"]=z_(p),p.e.r=Y}p.e.r++,p.e.c++}E.length>0&&(h["!merges"]=E),C.length>0&&(h["!objects"]=C),A.length>0&&(h["!cols"]=A),I.length>0&&(h["!rows"]=I),k.Sheets.push(T)}""===x?b=h:n[x]=h,h=t.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(8===_.biff&&(_.biff={9:2,521:3,1033:4}[z]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[W.BIFFVer]||8),_.biffguess=0==W.BIFFVer,0==W.BIFFVer&&4096==W.dt&&(_.biff=5,G=!0,Gk(_.codepage=28591)),8==_.biff&&0==W.BIFFVer&&16==W.dt&&(_.biff=2),L++)break;if(h=t.dense?[]:{},_.biff<8&&!G&&(G=!0,Gk(_.codepage=t.codepage||1252)),_.biff<5||0==W.BIFFVer&&4096==W.dt){""===x&&(x="Sheet1"),p={s:{r:0,c:0},e:{r:0,c:0}};var q={pos:e.l-V,name:x};f[q.pos]=q,_.snames.push(x)}else x=(f[B]||{name:""}).name;32==W.dt&&(h["!type"]="chart"),64==W.dt&&(h["!type"]="macro"),E=[],C=[],_.arrayf=N=[],A=[],I=[],P=!1,T={Hidden:(f[B]||{hs:0}).hs,name:x};break;case 515:case 3:case 2:"chart"==h["!type"]&&(t.dense?(h[W.r]||[])[W.c]:h[G_({c:W.c,r:W.r})])&&++W.c,c={ixfe:W.ixfe,XF:w[W.ixfe]||{},v:W.val,t:"n"},R>0&&(c.z=F[c.ixfe>>8&63]),OD(c,t,r.opts.Date1904),O({c:W.c,r:W.r},c,t);break;case 5:case 517:c={ixfe:W.ixfe,XF:w[W.ixfe],v:W.val,t:W.t},R>0&&(c.z=F[c.ixfe>>8&63]),OD(c,t,r.opts.Date1904),O({c:W.c,r:W.r},c,t);break;case 638:c={ixfe:W.ixfe,XF:w[W.ixfe],v:W.rknum,t:"n"},R>0&&(c.z=F[c.ixfe>>8&63]),OD(c,t,r.opts.Date1904),O({c:W.c,r:W.r},c,t);break;case 189:for(var Q=W.c;Q<=W.C;++Q){var Z=W.rkrec[Q-W.c][0];c={ixfe:Z,XF:w[Z],v:W.rkrec[Q-W.c][1],t:"n"},R>0&&(c.z=F[c.ixfe>>8&63]),OD(c,t,r.opts.Date1904),O({c:Q,r:W.r},c,t)}break;case 6:case 518:case 1030:if("String"==W.val){m=W;break}if((c=_D(W.val,W.cell.ixfe,W.tt)).XF=w[c.ixfe],t.cellFormula){var J=W.formula;if(J&&J[0]&&J[0][0]&&"PtgExp"==J[0][0][0]){var ee=J[0][0][1][0],te=J[0][0][1][1],re=G_({r:ee,c:te});v[re]?c.f=""+OP(W.formula,0,W.cell,H,_):c.F=((t.dense?(h[ee]||[])[te]:h[re])||{}).F}else c.f=""+OP(W.formula,0,W.cell,H,_)}R>0&&(c.z=F[c.ixfe>>8&63]),OD(c,t,r.opts.Date1904),O(W.cell,c,t),m=W;break;case 7:case 519:if(!m)throw new Error("String record expects Formula");m.val=W,(c=_D(W,m.cell.ixfe,"s")).XF=w[c.ixfe],t.cellFormula&&(c.f=""+OP(m.formula,0,m.cell,H,_)),R>0&&(c.z=F[c.ixfe>>8&63]),OD(c,t,r.opts.Date1904),O(m.cell,c,t),m=null;break;case 33:case 545:N.push(W);var ne=G_(W[0].s);if(i=t.dense?(h[W[0].s.r]||[])[W[0].s.c]:h[ne],t.cellFormula&&i){if(!m)break;if(!ne||!i)break;i.f=""+OP(W[1],0,W[0],H,_),i.F=z_(W[0])}break;case 1212:if(!t.cellFormula)break;if(y){if(!m)break;v[G_(m.cell)]=W[0],((i=t.dense?(h[m.cell.r]||[])[m.cell.c]:h[G_(m.cell)])||{}).f=""+OP(W[0],0,a,H,_)}break;case 253:c=_D(g[W.isst].t,W.ixfe,"s"),g[W.isst].h&&(c.h=g[W.isst].h),c.XF=w[c.ixfe],R>0&&(c.z=F[c.ixfe>>8&63]),OD(c,t,r.opts.Date1904),O({c:W.c,r:W.r},c,t);break;case 513:t.sheetStubs&&(c={ixfe:W.ixfe,XF:w[W.ixfe],t:"z"},R>0&&(c.z=F[c.ixfe>>8&63]),OD(c,t,r.opts.Date1904),O({c:W.c,r:W.r},c,t));break;case 190:if(t.sheetStubs)for(var ae=W.c;ae<=W.C;++ae){var ie=W.ixfe[ae-W.c];c={ixfe:ie,XF:w[ie],t:"z"},R>0&&(c.z=F[c.ixfe>>8&63]),OD(c,t,r.opts.Date1904),O({c:ae,r:W.r},c,t)}break;case 214:case 516:case 4:(c=_D(W.val,W.ixfe,"s")).XF=w[c.ixfe],R>0&&(c.z=F[c.ixfe>>8&63]),OD(c,t,r.opts.Date1904),O({c:W.c,r:W.r},c,t);break;case 0:case 512:1===L&&(p=W);break;case 252:g=W;break;case 1054:if(4==_.biff){F[R++]=W[1];for(var se=0;se<R+163&&bT[se]!=W[1];++se);se>=163&&QT(W[1],R+163)}else QT(W[1],W[0]);break;case 30:F[R++]=W;for(var oe=0;oe<R+163&&bT[oe]!=W;++oe);oe>=163&&QT(W,R+163);break;case 229:E=E.concat(W);break;case 93:C[W.cmo[0]]=_.lastobj=W;break;case 438:_.lastobj.TxO=W;break;case 127:_.lastobj.ImData=W;break;case 440:for(l=W[0].s.r;l<=W[0].e.r;++l)for(o=W[0].s.c;o<=W[0].e.c;++o)(i=t.dense?(h[l]||[])[o]:h[G_({c:o,r:l})])&&(i.l=W[1]);break;case 2048:for(l=W[0].s.r;l<=W[0].e.r;++l)for(o=W[0].s.c;o<=W[0].e.c;++o)(i=t.dense?(h[l]||[])[o]:h[G_({c:o,r:l})])&&i.l&&(i.l.Tooltip=W[1]);break;case 28:if(_.biff<=5&&_.biff>=2)break;i=t.dense?(h[W[0].r]||[])[W[0].c]:h[G_(W[0])];var le=C[W[2]];i||(t.dense?(h[W[0].r]||(h[W[0].r]=[]),i=h[W[0].r][W[0].c]={t:"z"}):i=h[G_(W[0])]={t:"z"},p.e.r=Math.max(p.e.r,W[0].r),p.s.r=Math.min(p.s.r,W[0].r),p.e.c=Math.max(p.e.c,W[0].c),p.s.c=Math.min(p.s.c,W[0].c)),i.c||(i.c=[]),s={a:W[1],t:le.TxO.t},i.c.push(s);break;case 2173:w[W.ixfe],W.ext.forEach((function(e){e[0]}));break;case 125:if(!_.cellStyles)break;for(;W.e>=W.s;)A[W.e--]={width:W.w/256,level:W.level||0,hidden:!!(1&W.flags)},P||(P=!0,iI(W.w/256)),sI(A[W.e+1]);break;case 520:var ce={};null!=W.level&&(I[W.r]=ce,ce.level=W.level),W.hidden&&(I[W.r]=ce,ce.hidden=!0),W.hpt&&(I[W.r]=ce,ce.hpt=W.hpt,ce.hpx=cI(W.hpt));break;case 38:case 39:case 40:case 41:h["!margins"]||YP(h["!margins"]={}),h["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[z]]=W;break;case 161:h["!margins"]||YP(h["!margins"]={}),h["!margins"].header=W.header,h["!margins"].footer=W.footer;break;case 574:W.RTL&&(k.Views[0].RTL=!0);break;case 146:j=W;break;case 2198:d=W;break;case 140:u=W;break;case 442:x?T.CodeName=W||T.name:k.WBProps.CodeName=W||"ThisWorkbook"}}else K||console.error("Missing Info for XLS Record 0x"+z.toString(16)),e.l+=V}return r.SheetNames=oS(f).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return f[e].name})),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&b["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=b)):r.Preamble=b,r.Sheets&&U.forEach((function(e,t){r.Sheets[r.SheetNames[t]]["!autofilter"]=e})),r.Strings=g,r.SSF=jS(bT),_.enc&&(r.Encryption=_.enc),d&&(r.Themes=d),r.Metadata={},void 0!==u&&(r.Metadata.Country=u),H.names.length>0&&(k.Names=H.names),r.Workbook=k,r}var CD="e0859ff2f94f6810ab9108002b27b3d9",AD="02d5cdd59c2e1b10939708002b2cf9ae",ID="05d5cdd59c2e1b10939708002b2cf9ae";function PD(e,t){var r,n,a,i;if(t||(t={}),RM(t),Bk(),t.codepage&&Uk(t.codepage),e.FullPaths){if(nS.find(e,"/encryption"))throw new Error("File is password-protected");r=nS.find(e,"!CompObj"),n=nS.find(e,"/Workbook")||nS.find(e,"/Book")}else{switch(t.type){case"base64":e=rT(Qk(e));break;case"binary":e=rT(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e))}S_(e,0),n={content:e}}if(r&&kD(r),t.bookProps&&!t.bookSheets)a={};else{var s=Zk?"buffer":"array";if(n&&n.content)a=ED(n.content,t);else if((i=nS.find(e,"PerfectOffice_MAIN"))&&i.content)a=kA.to_workbook(i.content,(t.type=s,t));else{if(!(i=nS.find(e,"NativeContent_MAIN"))||!i.content)throw(i=nS.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");a=kA.to_workbook(i.content,(t.type=s,t))}t.bookVBA&&e.FullPaths&&nS.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=function(e){var t=nS.utils.cfb_new({root:"R"});return e.FullPaths.forEach((function(r,n){if("/"!==r.slice(-1)&&r.match(/_VBA_PROJECT_CUR/)){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");nS.utils.cfb_add(t,a,e.FileIndex[n].content)}})),nS.write(t)}(e))}var o={};return e.FullPaths&&function(e,t,r){var n=nS.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=xC(n,TE,AD);for(var i in a)t[i]=a[i]}catch(fU){if(r.WTF)throw fU}var s=nS.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=xC(s,SE,CD);for(var l in o)null==t[l]&&(t[l]=o[l])}catch(fU){if(r.WTF)throw fU}t.HeadingPairs&&t.TitlesOfParts&&(qE(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function HD(e,t){var r=t||{},n=nS.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return nS.utils.cfb_add(n,a,$D(e,r)),8==r.biff&&(e.Props||e.Custprops)&&function(e,t){var r,n=[],a=[],i=[],s=0,o=lS(TE,"n"),l=lS(SE,"n");if(e.Props)for(r=oS(e.Props),s=0;s<r.length;++s)(Object.prototype.hasOwnProperty.call(o,r[s])?n:Object.prototype.hasOwnProperty.call(l,r[s])?a:i).push([r[s],e.Props[r[s]]]);if(e.Custprops)for(r=oS(e.Custprops),s=0;s<r.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},r[s])||(Object.prototype.hasOwnProperty.call(o,r[s])?n:Object.prototype.hasOwnProperty.call(l,r[s])?a:i).push([r[s],e.Custprops[r[s]]]);var c=[];for(s=0;s<i.length;++s)pC.indexOf(i[s][0])>-1||YE.indexOf(i[s][0])>-1||null!=i[s][1]&&c.push(i[s]);a.length&&nS.utils.cfb_add(t,"/\x05SummaryInformation",bC(a,CD,l,SE)),(n.length||c.length)&&nS.utils.cfb_add(t,"/\x05DocumentSummaryInformation",bC(n,AD,o,TE,c.length?c:null,ID))}(e,n),8==r.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach((function(r,n){if(0!=n){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==a.slice(-1)&&nS.utils.cfb_add(e,a,t.FileIndex[n].content)}}))}(n,nS.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),n}var DD={0:{f:function(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,7&i&&(r.level=7&i),16&i&&(r.hidden=!0),32&i&&(r.hpt=a/20),r}},1:{f:function(e){return[nE(e)]}},2:{f:function(e){return[nE(e),pE(e),"n"]}},3:{f:function(e){return[nE(e),e.read_shift(1),"e"]}},4:{f:function(e){return[nE(e),e.read_shift(1),"b"]}},5:{f:function(e){return[nE(e),yE(e),"n"]}},6:{f:function(e){return[nE(e),Q_(e),"str"]}},7:{f:function(e){return[nE(e),e.read_shift(4),"s"]}},8:{f:function(e,t,r){var n=e.l+t,a=nE(e);a.r=r["!row"];var i=[a,Q_(e),"str"];if(r.cellFormula){e.l+=2;var s=HP(e,n-e.l,r);i[3]=OP(s,0,a,r.supbooks,r)}else e.l=n;return i}},9:{f:function(e,t,r){var n=e.l+t,a=nE(e);a.r=r["!row"];var i=[a,yE(e),"n"];if(r.cellFormula){e.l+=2;var s=HP(e,n-e.l,r);i[3]=OP(s,0,a,r.supbooks,r)}else e.l=n;return i}},10:{f:function(e,t,r){var n=e.l+t,a=nE(e);a.r=r["!row"];var i=[a,e.read_shift(1),"b"];if(r.cellFormula){e.l+=2;var s=HP(e,n-e.l,r);i[3]=OP(s,0,a,r.supbooks,r)}else e.l=n;return i}},11:{f:function(e,t,r){var n=e.l+t,a=nE(e);a.r=r["!row"];var i=[a,e.read_shift(1),"e"];if(r.cellFormula){e.l+=2;var s=HP(e,n-e.l,r);i[3]=OP(s,0,a,r.supbooks,r)}else e.l=n;return i}},12:{f:function(e){return[iE(e)]}},13:{f:function(e){return[iE(e),pE(e),"n"]}},14:{f:function(e){return[iE(e),e.read_shift(1),"e"]}},15:{f:function(e){return[iE(e),e.read_shift(1),"b"]}},16:{f:vH},17:{f:function(e){return[iE(e),Q_(e),"str"]}},18:{f:function(e){return[iE(e),e.read_shift(4),"s"]}},19:{f:eE},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=dE(e),s=DP(e,0,r),o=cE(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}},40:{},42:{},43:{f:function(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1),700===e.read_shift(2)&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript"}var i=e.read_shift(1);0!=i&&(n.underline=i);var s=e.read_shift(1);s>0&&(n.family=s);var o=e.read_shift(1);switch(o>0&&(n.charset=o),e.l++,n.color=function(e){var t={},r=e.read_shift(1)>>>1,n=e.read_shift(1),a=e.read_shift(2,"i"),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=n;var l=CE[n];l&&(t.rgb=ZA(l));break;case 2:t.rgb=ZA([i,s,o]);break;case 3:t.theme=n}return 0!=a&&(t.tint=a>0?a/32767:a/32768),t}(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor"}return n.name=Q_(e),n}},44:{f:function(e,t){return[e.read_shift(2),Q_(e)]}},45:{f:yI},46:{f:jI},47:{f:function(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:pA},62:{f:function(e){return[nE(e),eE(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=G_(r);var n=e.read_shift(1);return 2&n&&(t.l="1"),8&n&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:O_,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var r={},n=e[e.l];return++e.l,r.above=!(64&n),r.left=!(128&n),e.l+=18,r.name=oE(e,t-19),r}},148:{f:bH,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Q_(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(65536&n),r.backupFile=!!(64&n),r.checkCompatibility=!!(4096&n),r.date1904=!!(1&n),r.filterPrivacy=!!(8&n),r.hidePivotFieldList=!!(1024&n),r.promptedSolutions=!!(16&n),r.publishItems=!!(2048&n),r.refreshAllConnections=!!(262144&n),r.saveExternalLinkValues=!!(128&n),r.showBorderUnselectedTables=!!(4&n),r.showInkAnnotation=!!(32&n),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(32768&n),r.updateLinks=["userSet","never","always"][n>>8&3],r}},154:{},155:{},156:{f:function(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=hE(e,t-8),r.name=Q_(e),r}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:xE},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:NH},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Q_(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:hE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:cA},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,r){var n=e.l+t,a=gE(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=PP(e,n-e.l,r);s[1]=o}else e.l=n;return s}},427:{f:function(e,t,r){var n=e.l+t,a=[xE(e,16)];if(r.cellFormula){var i=MP(e,n-e.l,r);a[1]=i,e.l=n}else e.l=n;return a}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return jH.forEach((function(r){t[r]=yE(e)})),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var r=e.l+t,n=xE(e,16),a=cE(e),i=Q_(e),s=Q_(e),o=Q_(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:hE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:WI},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var r=xE(e,16);return t.rfx=r.s,t.ref=G_(r.s),e.l+=16,t}},636:{T:-1},637:{f:tE},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:Q_(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},MD={6:{f:CP},10:{f:yC},12:{f:wC},13:{f:wC},14:{f:vC},15:{f:vC},16:{f:yE},17:{f:vC},18:{f:vC},19:{f:wC},20:{f:iA},21:{f:iA},23:{f:cA},24:{f:lA},25:{f:vC},26:{},27:{},28:{f:function(e,t,r){return function(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=AC(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}(e,0,r)}},29:{},34:{f:vC},35:{f:sA},38:{f:yE},39:{f:yE},40:{f:yE},41:{f:yE},42:{f:vC},43:{f:vC},47:{f:function(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?qA(e,t-2,n):function(e,t,r,n){var a={key:wC(e),verificationBytes:wC(e)};r.password&&(a.verifier=WA(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=YA(r.password))}(e,r.biff,r,n),n}},49:{f:function(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10}return n.name=SC(e,0,r),n}},51:{f:wC},60:{},61:{f:function(e){return{Pos:[e.read_shift(2),e.read_shift(2)],Dim:[e.read_shift(2),e.read_shift(2)],Flags:e.read_shift(2),CurTab:e.read_shift(2),FirstTab:e.read_shift(2),Selected:e.read_shift(2),TabRatio:e.read_shift(2)}}},64:{f:vC},65:{f:function(){}},66:{f:wC},77:{},80:{},81:{},82:{},85:{f:wC},89:{},90:{},91:{},92:{f:function(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=AC(e,0,r);return e.read_shift(t+n-e.l),a}},93:{f:function(e,t,r){if(r&&r.biff<8)return function(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((dA[n]||O_)(e,t,r)),{cmo:[a,n,i],ft:s}}(e,t,r);var n=WC(e),a=function(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(YC[a](e,r-e.l))}catch(fU){return e.l=r,n}}return e.l!=r&&(e.l=r),n}(e,t-22,n[1]);return{cmo:n,ft:a}}},94:{},95:{f:vC},96:{},97:{},99:{f:vC},125:{f:pA},128:{f:function(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(0!==t[0]&&t[0]--,0!==t[1]&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}},129:{f:function(e,t,r){var n=r&&8==r.biff||2==t?e.read_shift(2):(e.l+=t,0);return{fDialog:16&n,fBelow:64&n,fRight:128&n}}},130:{f:wC},131:{f:vC},132:{f:vC},133:{f:function(e,t,r){var n=e.read_shift(4),a=3&e.read_shift(1),i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule"}var s=SC(e,0,r);return 0===s.length&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}},134:{},140:{f:function(e){var t,r=[0,0];return t=e.read_shift(2),r[0]=OE[t]||t,t=e.read_shift(2),r[1]=OE[t]||t,r}},141:{f:wC},144:{},146:{f:function(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(RC(e));return r}},151:{},152:{},153:{},154:{},155:{},156:{f:wC},157:{},158:{},160:{f:gA},161:{f:function(e,t){var r={};return t<32||(e.l+=16,r.header=yE(e),r.footer=yE(e),e.l+=2),r}},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:function(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(BC(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}},190:{f:function(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}},193:{f:yC},197:{},198:{},199:{},200:{},201:{},202:{f:vC},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:wC},220:{},221:{f:vC},222:{},224:{f:function(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,n.data=function(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=_E[o>>26],n.cellStyles?(a.alc=7&i,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=15&s,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=127&o,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=127&l,a.icvBack=l>>7&127,a.fsxButton=l>>14&1,a):a}(e,0,n.fStyle,r),n}},225:{f:function(e,t){return 0===t||e.read_shift(2),1200}},226:{f:yC},227:{},229:{f:function(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(zC(e));return r}},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:function(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(OC(e));return i.Count=n,i.Unique=a,i}},253:{f:function(e){var t=FC(e);return t.isst=e.read_shift(4),t}},255:{f:function(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:kC},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:vC},353:{f:yC},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:function(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,1025==i||14849==i)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=EC(e,i),o=[];n>e.l;)o.push(CC(e));return[i,a,s,o]}},431:{f:vC},432:{},433:{},434:{},437:{},438:{f:function(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1];-1==[0,5,7,11,12,14].indexOf(i)?e.l+=6:function(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}(e);var s=e.read_shift(2);e.read_shift(2),wC(e);var o=e.read_shift(2);e.l+=o;for(var l=1;l<e.lens.length-1;++l){if(e.l-n!=e.lens[l])throw new Error("TxO: bad continue record");var c=e[e.l];if((a+=EC(e,e.lens[l+1]-e.lens[l]-1)).length>=(c?s:2*s))break}if(a.length!==s&&a.length!==2*s)throw new Error("cchText: "+s+" != "+a.length);return e.l=n+t,{t:a}}catch(fU){return e.l=n+t,{t:a}}}},439:{f:vC},440:{f:function(e,t){var r=zC(e);e.l+=16;var n=function(e,t){var r=e.l+t,n=e.read_shift(4);if(2!==n)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c,u,d="";16&a&&(i=HC(e,e.l)),128&a&&(s=HC(e,e.l)),257===(257&a)&&(o=HC(e,e.l)),1===(257&a)&&(l=PC(e,e.l)),8&a&&(d=HC(e,e.l)),32&a&&(c=e.read_shift(16)),64&a&&(u=nC(e)),e.l=r;var h=s||o||l||"";h&&d&&(h+="#"+d),h||(h="#"+d),2&a&&"/"==h.charAt(0)&&"/"!=h.charAt(1)&&(h="file://"+h);var f={Target:h};return c&&(f.guid=c),u&&(f.time=u),i&&(f.Tooltip=i),f}(e,t-24);return[r,n]}},441:{},442:{f:CC},443:{},444:{f:wC},445:{},446:{},448:{f:yC},449:{f:function(e){return e.read_shift(2),e.read_shift(4)},r:2},450:{f:yC},512:{f:rA},513:{f:mA},515:{f:function(e,t,r){r.biffguess&&2==r.biff&&(r.biff=5);var n=FC(e),a=yE(e);return n.val=a,n}},516:{f:function(e,t,r){r.biffguess&&2==r.biff&&(r.biff=5),e.l;var n=FC(e);2==r.biff&&e.l++;var a=CC(e,e.l,r);return n.val=a,n}},517:{f:aA},519:{f:xA},520:{f:function(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,7&n&&(t.level=7&n),32&n&&(t.hidden=!0),64&n&&(t.hpt=r/20),t}},523:{},545:{f:uA},549:{f:JC},566:{},574:{f:function(e,t,r){return r&&r.biff>=2&&r.biff<5?{}:{RTL:64&e.read_shift(2)}}},638:{f:function(e){var t=e.read_shift(2),r=e.read_shift(2),n=BC(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}},659:{},1048:{},1054:{f:function(e,t,r){return[e.read_shift(2),AC(e,0,r)]}},1084:{},1212:{f:function(e,t,r){var n=KC(e);e.l++;var a=e.read_shift(1);return[EP(e,t-=8,r),a,n]}},2048:{f:function(e,t){e.read_shift(2);var r=zC(e),n=e.read_shift((t-10)/2,"dbcs-cont");return[r,n=n.replace(oT,"")]}},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:qC},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:yC},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:function(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t},r:12},2173:{f:function(e,t){e.l,e.l+=2;var r=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),a=[];n-- >0;)a.push(FI(e,e.l));return{ixfe:r,ext:a}},r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:vC,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:function(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2);return[EC(e,n,r),EC(e,a,r)]}e.l+=t},r:12},2197:{},2198:{f:function(e,t,r){var n=e.l+t;if(124226!==e.read_shift(4))if(r.cellStyles){var a,i=e.slice(e.l);e.l=n;try{a=FS(i,{type:"array"})}catch(fU){return}var s=HS(a,"theme/theme/theme1.xml",!0);if(s)return MI(s,r)}else e.l=n},r:12},2199:{},2200:{},2201:{},2202:{f:function(e){return[0!==e.read_shift(4),0!==e.read_shift(4),e.read_shift(4)]},r:12},2203:{f:yC},2204:{},2205:{},2206:{},2207:{},2211:{f:function(e){var t=function(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}(e);if(2211!=t.type)throw new Error("Invalid Future Record "+t.type);return 0!==e.read_shift(4)}},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:wC},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:function(e,t,r){var n={area:!1};if(5!=r.biff)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,16&a&&(n.area=!0),n}},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:function(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(RC(e));return r}},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:rA},1:{},2:{f:function(e){var t=FC(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}},3:{f:function(e){var t=FC(e);++e.l;var r=yE(e);return t.t="n",t.val=r,t}},4:{f:function(e,t,r){r.biffguess&&5==r.biff&&(r.biff=2);var n=FC(e);++e.l;var a=AC(e,0,r);return n.t="str",n.val=a,n}},5:{f:aA},7:{f:function(e){var t=e.read_shift(1);return 0===t?(e.l++,""):e.read_shift(t,"sbcs-cont")}},8:{},9:{f:qC},11:{},22:{f:wC},30:{f:tA},31:{},32:{},33:{f:uA},36:{},37:{f:JC},50:{f:function(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}},62:{},52:{},67:{},68:{f:wC},69:{},86:{},126:{},127:{f:function(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:function(e,t,r){var n=e.l+t,a=FC(e),i=e.read_shift(2),s=EC(e,i,r);return e.l=n,a.t="str",a.val=s,a}},223:{},234:{},354:{},421:{},518:{f:CP},521:{f:qC},536:{f:lA},547:{f:sA},561:{},579:{},1030:{f:CP},1033:{f:qC},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function LD(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&h_(r)&&e.push(r)}}function RD(e,t,r){return e||(e=__(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function FD(e,t,r,n){if(null!=t.v)switch(t.t){case"d":case"n":var a="d"==t.t?hS(NS(t.v)):t.v;return void(a==(0|a)&&a>=0&&a<65536?LD(e,2,function(e,t,r){var n=__(9);return RD(n,e,t),n.write_shift(2,r),n}(r,n,a)):LD(e,3,function(e,t,r){var n=__(15);return RD(n,e,t),n.write_shift(8,r,"f"),n}(r,n,a)));case"b":case"e":return void LD(e,5,function(e,t,r,n){var a=__(9);return RD(a,e,t),TC(r,n||"b",a),a}(r,n,t.v,t.t));case"s":case"str":return void LD(e,4,function(e,t,r){var n=__(8+2*r.length);return RD(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}(r,n,(t.v||"").slice(0,255)))}LD(e,1,RD(null,r,n))}function UD(e,t){var r=t||{};for(var n=C_(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(0==a&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return LD(n,4==r.biff?1033:3==r.biff?521:9,QC(0,16,r)),function(e,t,r,n){var a,i=Array.isArray(t),s=V_(t["!ref"]||"A1"),o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=z_(s)}for(var c=s.s.r;c<=s.e.r;++c){o=L_(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=F_(u)),a=l[u]+o;var d=i?(t[c]||[])[u]:t[a];d&&FD(e,d,c,u)}}}(n,e.Sheets[e.SheetNames[a]],0,r),LD(n,10),n.end()}function GD(e,t,r){LD(e,49,function(e,t){var r=e.name||"Arial",n=t&&5==t.biff,a=__(n?15+r.length:16+2*r.length);return a.write_shift(2,20*(e.sz||12)),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function BD(e,t){if(t){var r=0;t.forEach((function(t,n){++r<=256&&t&&LD(e,125,function(e,t){var r=__(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,256*e.width),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}(XP(n,t),n))}))}}function zD(e,t,r,n,a){var i=16+qP(a.cellXfs,t,a);if(null!=t.v||t.bf)if(t.bf)LD(e,6,AP(t,r,n,0,i));else switch(t.t){case"d":case"n":LD(e,515,function(e,t,r,n){var a=__(14);return UC(e,t,n,a),vE(r,a),a}(r,n,"d"==t.t?hS(NS(t.v)):t.v,i));break;case"b":case"e":LD(e,517,function(e,t,r,n,a,i){var s=__(8);return UC(e,t,n,s),TC(r,i,s),s}(r,n,t.v,i,0,t.t));break;case"s":case"str":if(a.bookSST)LD(e,253,function(e,t,r,n){var a=__(10);return UC(e,t,n,a),a.write_shift(4,r),a}(r,n,WP(a.Strings,t.v,a.revStrings),i));else LD(e,516,function(e,t,r,n,a){var i=!a||8==a.biff,s=__(+i+8+(1+i)*r.length);return UC(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}(r,n,(t.v||"").slice(0,255),i,a));break;default:LD(e,513,UC(r,n,i))}else LD(e,513,UC(r,n,i))}function VD(e,t,r){var n,a=C_(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(s),u=8==t.biff,d="",h=[],f=V_(s["!ref"]||"A1"),p=u?65536:16384;if(f.e.c>255||f.e.r>=p){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,p-1)}LD(a,2057,QC(0,16,t)),LD(a,13,jC(1)),LD(a,12,jC(100)),LD(a,15,NC(!0)),LD(a,17,NC(!1)),LD(a,16,vE(.001)),LD(a,95,NC(!0)),LD(a,42,NC(!1)),LD(a,43,NC(!1)),LD(a,130,jC(1)),LD(a,128,function(e){var t=__(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}([0,0])),LD(a,131,NC(!1)),LD(a,132,NC(!1)),u&&BD(a,s["!cols"]),LD(a,512,function(e,t){var r=8!=t.biff&&t.biff?2:4,n=__(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}(f,t)),u&&(s["!links"]=[]);for(var m=f.s.r;m<=f.e.r;++m){d=L_(m);for(var g=f.s.c;g<=f.e.c;++g){m===f.s.r&&(h[g]=F_(g)),n=h[g]+d;var x=c?(s[m]||[])[g]:s[n];x&&(zD(a,x,m,g,t),u&&x.l&&s["!links"].push([n,x.l]))}}var b=l.CodeName||l.name||i;return u&&LD(a,574,function(e){var t=__(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((o.Views||[])[0])),u&&(s["!merges"]||[]).length&&LD(a,229,function(e){var t=__(2+8*e.length);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)VC(e[r],t);return t}(s["!merges"])),u&&function(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];LD(e,440,hA(n)),n[1].Tooltip&&LD(e,2048,fA(n))}delete t["!links"]}(a,s),LD(a,442,IC(b)),u&&function(e,t){var r=__(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),LD(e,2151,r),(r=__(39)).write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),VC(V_(t["!ref"]||"A1"),r),r.write_shift(4,4),LD(e,2152,r)}(a,s),LD(a,10),a.end()}function KD(e,t,r){var n=C_(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=8==r.biff,l=5==r.biff;(LD(n,2057,QC(0,5,r)),"xla"==r.bookType&&LD(n,135),LD(n,225,o?jC(1200):null),LD(n,193,function(e,t){t||(t=__(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}(2)),l&&LD(n,191),l&&LD(n,192),LD(n,226),LD(n,92,function(e,t){var r=!t||8==t.biff,n=__(r?112:54);for(n.write_shift(8==t.biff?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}(0,r)),LD(n,66,jC(o?1200:1252)),o&&LD(n,353,jC(0)),o&&LD(n,448),LD(n,317,function(e){for(var t=__(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}(e.SheetNames.length)),o&&e.vbaraw&&LD(n,211),o&&e.vbaraw)&&LD(n,442,IC(s.CodeName||"ThisWorkbook"));LD(n,156,jC(17)),LD(n,25,NC(!1)),LD(n,18,NC(!1)),LD(n,19,jC(0)),o&&LD(n,431,NC(!1)),o&&LD(n,444,jC(0)),LD(n,61,function(){var e=__(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),LD(n,64,NC(!1)),LD(n,141,jC(0)),LD(n,34,NC("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&iO(e.Workbook.WBProps.date1904)?"true":"false"}(e))),LD(n,14,NC(!0)),o&&LD(n,439,NC(!1)),LD(n,218,jC(0)),GD(n,0,r),function(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach((function(n){for(var a=n[0];a<=n[1];++a)null!=t[a]&&LD(e,1054,eA(a,t[a],r))}))}(n,e.SSF,r),function(e,t){for(var r=0;r<16;++r)LD(e,224,nA({numFmtId:0,style:!0},0,t));t.cellXfs.forEach((function(r){LD(e,224,nA(r,0,t))}))}(n,r),o&&LD(n,352,NC(!1));var c,u=n.end(),d=C_();o&&LD(d,140,(c||(c=__(4)),c.write_shift(2,1),c.write_shift(2,1),c)),o&&r.Strings&&function(e,t,r,n){var a=n||(r||[]).length||0;if(a<=8224)return LD(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c;l<a;){for((u=e.next(4)).write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c}}}(d,252,function(e){var t=__(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var r=[],n=0;n<e.length;++n)r[n]=_C(e[n]);var a=sT([t].concat(r));return a.parts=[t.length].concat(r.map((function(e){return e.length}))),a}(r.Strings)),LD(d,10);var h=d.end(),f=C_(),p=0,m=0;for(m=0;m<e.SheetNames.length;++m)p+=(o?12:11)+(o?2:1)*e.SheetNames[m].length;var g=u.length+p+h.length;for(m=0;m<e.SheetNames.length;++m){LD(f,133,ZC({pos:g,hs:(i[m]||{}).Hidden||0,dt:0,name:e.SheetNames[m]},r)),g+=t[m].length}var x=f.end();if(p!=x.length)throw new Error("BS8 "+p+" != "+x.length);var b=[];return u.length&&b.push(u),x.length&&b.push(x),h.length&&b.push(h),sT(b)}function $D(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(n&&n["!ref"])B_(n["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}var a=t||{};switch(a.biff||2){case 8:case 5:return function(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=jS(bT)),e&&e.SSF&&(JT(),ZT(e.SSF),r.revssf=uS(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,FM(r),r.cellXfs=[],qP(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=VD(a,r,e);return n.unshift(KD(e,n,r)),sT(n)}(e,t);case 4:case 3:case 2:return UD(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function WD(e,t){var r=t||{};var n=r.dense?[]:{},a=(e=e.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=_S(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,d=0,h=0,f={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(s=0;s<l.length;++s){var m=l[s].trim(),g=m.slice(0,3).toLowerCase();if("<tr"!=g){if("<td"==g||"<th"==g){var x=m.split(/<\/t[dh]>/i);for(o=0;o<x.length;++o){var b=x[o].trim();if(b.match(/<t[dh]/i)){for(var y=b,v=0;"<"==y.charAt(0)&&(v=y.indexOf(">"))>-1;)y=y.slice(v+1);for(var N=0;N<p.length;++N){var w=p[N];w.s.c==u&&w.s.r<c&&c<=w.e.r&&(u=w.e.c+1,N=-1)}var j=WS(b.slice(0,b.indexOf(">")));h=j.colspan?+j.colspan:1,((d=+j.rowspan)>1||h>1)&&p.push({s:{r:c,c:u},e:{r:c+(d||1)-1,c:u+h-1}});var k=j.t||j["data-t"]||"";if(y.length)if(y=fO(y),f.s.r>c&&(f.s.r=c),f.e.r<c&&(f.e.r=c),f.s.c>u&&(f.s.c=u),f.e.c<u&&(f.e.c=u),y.length){var T={t:"s",v:y};r.raw||!y.trim().length||"s"==k||("TRUE"===y?T={t:"b",v:!0}:"FALSE"===y?T={t:"b",v:!1}:isNaN(TS(y))?isNaN(OS(y).getDate())||(T={t:"d",v:NS(y)},r.cellDates||(T={t:"n",v:hS(T.v)}),T.z=r.dateNF||bT[14]):T={t:"n",v:TS(y)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=T):n[G_({r:c,c:u})]=T,u+=h}else u+=h;else u+=h}}}}else{if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0}}return n["!ref"]=z_(f),p.length&&(n["!merges"]=p),n}function XD(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=G_({r:r,c:s}),d=n.dense?(e[r]||[])[s]:e[u],h=d&&null!=d.v&&(d.h||nO(d.w||($_(d),d.w)||""))||"",f={};o>1&&(f.rowspan=o),l>1&&(f.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":d&&(f["data-t"]=d&&d.t||"z",null!=d.v&&(f["data-v"]=d.v),null!=d.z&&(f["data-z"]=d.z),d.l&&"#"!=(d.l.Target||"#").charAt(0)&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),f.id=(n.id||"sjs")+"-"+u,i.push(NO("td",h,f))}}return"<tr>"+i.join("")+"</tr>"}var YD='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',qD="</body></html>";function QD(e,t,r){return[].join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function ZD(e,t){var r=t||{},n=null!=r.header?r.header:YD,a=null!=r.footer?r.footer:qD,i=[n],s=B_(e["!ref"]);r.dense=Array.isArray(e),i.push(QD(0,0,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(XD(e,s,o,r));return i.push("</table>"+a),i.join("")}function JD(e,t,r){var n=r||{};var a=0,i=0;if(null!=n.origin)if("number"==typeof n.origin)a=n.origin;else{var s="string"==typeof n.origin?U_(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=B_(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),-1==a&&(c.e.r=a=u.e.r+1)}var d=[],h=0,f=e["!rows"]||(e["!rows"]=[]),p=0,m=0,g=0,x=0,b=0,y=0;for(e["!cols"]||(e["!cols"]=[]);p<o.length&&m<l;++p){var v=o[p];if(tM(v)){if(n.display)continue;f[m]={hidden:!0}}var N=v.children;for(g=x=0;g<N.length;++g){var w=N[g];if(!n.display||!tM(w)){var j=w.hasAttribute("data-v")?w.getAttribute("data-v"):w.hasAttribute("v")?w.getAttribute("v"):fO(w.innerHTML),k=w.getAttribute("data-z")||w.getAttribute("z");for(h=0;h<d.length;++h){var T=d[h];T.s.c==x+i&&T.s.r<m+a&&m+a<=T.e.r&&(x=T.e.c+1-i,h=-1)}y=+w.getAttribute("colspan")||1,((b=+w.getAttribute("rowspan")||1)>1||y>1)&&d.push({s:{r:m+a,c:x+i},e:{r:m+a+(b||1)-1,c:x+i+(y||1)-1}});var S={t:"s",v:j},O=w.getAttribute("data-t")||w.getAttribute("t")||"";null!=j&&(0==j.length?S.t=O||"z":n.raw||0==j.trim().length||"s"==O||("TRUE"===j?S={t:"b",v:!0}:"FALSE"===j?S={t:"b",v:!1}:isNaN(TS(j))?isNaN(OS(j).getDate())||(S={t:"d",v:NS(j)},n.cellDates||(S={t:"n",v:hS(S.v)}),S.z=n.dateNF||bT[14]):S={t:"n",v:TS(j)})),void 0===S.z&&null!=k&&(S.z=k);var _="",E=w.getElementsByTagName("A");if(E&&E.length)for(var C=0;C<E.length&&(!E[C].hasAttribute("href")||"#"==(_=E[C].getAttribute("href")).charAt(0));++C);_&&"#"!=_.charAt(0)&&(S.l={Target:_}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][x+i]=S):e[G_({c:x+i,r:m+a})]=S,c.e.c<x+i&&(c.e.c=x+i),x+=y}}++m}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,m-1+a),e["!ref"]=z_(c),m>=l&&(e["!fullref"]=z_((c.e.r=o.length-p+m-1+a,c))),e}function eM(e,t){return JD((t||{}).dense?[]:{},e,t)}function tM(e){var t="",r=function(e){return e.ownerDocument.defaultView&&"function"===typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"===typeof getComputedStyle?getComputedStyle:null}(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}function rM(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,(function(e,t){return Array(parseInt(t,10)+1).join(" ")})).replace(/<text:tab[^>]*\/>/g,"\t").replace(/<text:line-break\/>/g,"\n");return[QS(t.replace(/<[^>]*>/g,""))]}var nM={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function aM(e,t){var r=t||{};var n,a,i,s,o,l,c=jO(e),u=[],d={name:""},h="",f=0,p={},m=[],g=r.dense?[]:{},x={value:""},b="",y=0,v=[],N=-1,w=-1,j={s:{r:1e6,c:1e7},e:{r:0,c:0}},k=0,T={},S=[],O={},_=[],E=1,C=1,A=[],I={Names:[]},P={},H=["",""],D=[],M={},L="",R=0,F=!1,U=!1,G=0;for(kO.lastIndex=0,c=c.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");o=kO.exec(c);)switch(o[3]=o[3].replace(/_.*$/,"")){case"table":case"\u5de5\u4f5c\u8868":"/"===o[1]?(j.e.c>=j.s.c&&j.e.r>=j.s.r?g["!ref"]=z_(j):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=j.e.r&&(g["!fullref"]=g["!ref"],j.e.r=r.sheetRows-1,g["!ref"]=z_(j)),S.length&&(g["!merges"]=S),_.length&&(g["!rows"]=_),i.name=i["\u540d\u79f0"]||i.name,"undefined"!==typeof JSON&&JSON.stringify(i),m.push(i.name),p[i.name]=g,U=!1):"/"!==o[0].charAt(o[0].length-2)&&(i=WS(o[0],!1),N=w=-1,j.s.r=j.s.c=1e7,j.e.r=j.e.c=0,g=r.dense?[]:{},S=[],_=[],U=!0);break;case"table-row-group":"/"===o[1]?--k:++k;break;case"table-row":case"\u884c":if("/"===o[1]){N+=E,E=1;break}if((s=WS(o[0],!1))["\u884c\u53f7"]?N=s["\u884c\u53f7"]-1:-1==N&&(N=0),(E=+s["number-rows-repeated"]||1)<10)for(G=0;G<E;++G)k>0&&(_[N+G]={level:k});w=-1;break;case"covered-table-cell":"/"!==o[1]&&++w,r.sheetStubs&&(r.dense?(g[N]||(g[N]=[]),g[N][w]={t:"z"}):g[G_({r:N,c:w})]={t:"z"}),b="",v=[];break;case"table-cell":case"\u6570\u636e":if("/"===o[0].charAt(o[0].length-2))++w,x=WS(o[0],!1),C=parseInt(x["number-columns-repeated"]||"1",10),l={t:"z",v:null},x.formula&&0!=r.cellFormula&&(l.f=UP(QS(x.formula))),"string"==(x["\u6570\u636e\u7c7b\u578b"]||x["value-type"])&&(l.t="s",l.v=QS(x["string-value"]||""),r.dense?(g[N]||(g[N]=[]),g[N][w]=l):g[G_({r:N,c:w})]=l),w+=C-1;else if("/"!==o[1]){b="",y=0,v=[],C=1;var B=E?N+E-1:N;if(++w>j.e.c&&(j.e.c=w),w<j.s.c&&(j.s.c=w),N<j.s.r&&(j.s.r=N),B>j.e.r&&(j.e.r=B),D=[],M={},l={t:(x=WS(o[0],!1))["\u6570\u636e\u7c7b\u578b"]||x["value-type"],v:null},r.cellFormula)if(x.formula&&(x.formula=QS(x.formula)),x["number-matrix-columns-spanned"]&&x["number-matrix-rows-spanned"]&&(O={s:{r:N,c:w},e:{r:N+(parseInt(x["number-matrix-rows-spanned"],10)||0)-1,c:w+(parseInt(x["number-matrix-columns-spanned"],10)||0)-1}},l.F=z_(O),A.push([O,l.F])),x.formula)l.f=UP(x.formula);else for(G=0;G<A.length;++G)N>=A[G][0].s.r&&N<=A[G][0].e.r&&w>=A[G][0].s.c&&w<=A[G][0].e.c&&(l.F=A[G][1]);switch((x["number-columns-spanned"]||x["number-rows-spanned"])&&(O={s:{r:N,c:w},e:{r:N+(parseInt(x["number-rows-spanned"],10)||0)-1,c:w+(parseInt(x["number-columns-spanned"],10)||0)-1}},S.push(O)),x["number-columns-repeated"]&&(C=parseInt(x["number-columns-repeated"],10)),l.t){case"boolean":l.t="b",l.v=iO(x["boolean-value"]);break;case"float":case"percentage":case"currency":l.t="n",l.v=parseFloat(x.value);break;case"date":l.t="d",l.v=NS(x["date-value"]),r.cellDates||(l.t="n",l.v=hS(l.v)),l.z="m/d/yy";break;case"time":l.t="n",l.v=xS(x["time-value"])/86400,r.cellDates&&(l.t="d",l.v=gS(l.v)),l.z="HH:MM:SS";break;case"number":l.t="n",l.v=parseFloat(x["\u6570\u636e\u6570\u503c"]);break;default:if("string"!==l.t&&"text"!==l.t&&l.t)throw new Error("Unsupported value type "+l.t);l.t="s",null!=x["string-value"]&&(b=QS(x["string-value"]),v=[])}}else{if(F=!1,"s"===l.t&&(l.v=b||"",v.length&&(l.R=v),F=0==y),P.Target&&(l.l=P),D.length>0&&(l.c=D,D=[]),b&&!1!==r.cellText&&(l.w=b),F&&(l.t="z",delete l.v),(!F||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=N))for(var z=0;z<E;++z){if(C=parseInt(x["number-columns-repeated"]||"1",10),r.dense)for(g[N+z]||(g[N+z]=[]),g[N+z][w]=0==z?l:jS(l);--C>0;)g[N+z][w+C]=jS(l);else for(g[G_({r:N+z,c:w})]=l;--C>0;)g[G_({r:N+z,c:w+C})]=jS(l);j.e.c<=w&&(j.e.c=w)}w+=(C=parseInt(x["number-columns-repeated"]||"1",10))-1,C=0,l={},b="",v=[]}P={};break;case"document":case"document-content":case"\u7535\u5b50\u8868\u683c\u6587\u6863":case"spreadsheet":case"\u4e3b\u4f53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if("/"===o[1]){if((n=u.pop())[0]!==o[3])throw"Bad state: "+n}else"/"!==o[0].charAt(o[0].length-2)&&u.push([o[3],!0]);break;case"annotation":if("/"===o[1]){if((n=u.pop())[0]!==o[3])throw"Bad state: "+n;M.t=b,v.length&&(M.R=v),M.a=L,D.push(M)}else"/"!==o[0].charAt(o[0].length-2)&&u.push([o[3],!1]);L="",R=0,b="",y=0,v=[];break;case"creator":"/"===o[1]?L=c.slice(R,o.index):R=o.index+o[0].length;break;case"meta":case"\u5143\u6570\u636e":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if("/"===o[1]){if((n=u.pop())[0]!==o[3])throw"Bad state: "+n}else"/"!==o[0].charAt(o[0].length-2)&&u.push([o[3],!1]);b="",y=0,v=[];break;case"scientific-number":case"currency-symbol":case"currency-style":case"script":case"libraries":case"automatic-styles":case"default-style":case"page-layout":case"style":case"map":case"font-face":case"paragraph-properties":case"table-properties":case"table-column-properties":case"table-row-properties":case"table-cell-properties":case"fraction":case"boolean-style":case"boolean":case"text-style":case"text-content":case"text-properties":case"embedded-text":case"body":case"\u7535\u5b50\u8868\u683c":case"forms":case"table-column":case"table-header-rows":case"table-rows":case"table-column-group":case"table-header-columns":case"table-columns":case"null-date":case"graphic-properties":case"calculation-settings":case"named-expressions":case"label-range":case"label-ranges":case"named-expression":case"sort":case"sort-by":case"sort-groups":case"tab":case"line-break":case"span":case"s":case"date":case"object":case"title":case"\u6807\u9898":case"desc":case"binary-data":case"table-source":case"scenario":case"iteration":case"content-validations":case"content-validation":case"help-message":case"error-message":case"database-ranges":case"filter":case"filter-and":case"filter-or":case"filter-condition":case"list-level-style-bullet":case"list-level-style-number":case"list-level-properties":case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":case"event-listener":case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":case"config-item":case"page-number":case"page-count":case"time":case"cell-range-source":case"detective":case"operation":case"highlighted-range":case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":case"rect":case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":case"properties":case"property":case"table-protection":case"data-pilot-grand-total":case"office-document-common-attrs":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if("/"===o[1]){if(T[d.name]=h,(n=u.pop())[0]!==o[3])throw"Bad state: "+n}else"/"!==o[0].charAt(o[0].length-2)&&(h="",d=WS(o[0],!1),u.push([o[3],!0]));break;case"number":case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(u[u.length-1][0]){case"time-style":case"date-style":a=WS(o[0],!1),h+=nM[o[3]]["long"===a.style?1:0]}break;case"text":if("/>"===o[0].slice(-2))break;if("/"===o[1])switch(u[u.length-1][0]){case"number-style":case"date-style":case"time-style":h+=c.slice(f,o.index)}else f=o.index+o[0].length;break;case"named-range":H=BP((a=WS(o[0],!1))["cell-range-address"]);var V={Name:a.name,Ref:H[0]+"!"+H[1]};U&&(V.Sheet=m.length),I.Names.push(V);break;case"p":case"\u6587\u672c\u4e32":if(["master-styles"].indexOf(u[u.length-1][0])>-1)break;if("/"!==o[1]||x&&x["string-value"])WS(o[0],!1),y=o.index+o[0].length;else{var K=rM(c.slice(y,o.index));b=(b.length>0?b+"\n":"")+K[0]}break;case"database-range":if("/"===o[1])break;try{p[(H=BP(WS(o[0])["target-range-address"]))[0]]["!autofilter"]={ref:H[1]}}catch(fU){}break;case"a":if("/"!==o[1]){if(!(P=WS(o[0],!1)).href)break;P.Target=QS(P.href),delete P.href,"#"==P.Target.charAt(0)&&P.Target.indexOf(".")>-1?(H=BP(P.Target.slice(1)),P.Target="#"+H[0]+"!"+H[1]):P.Target.match(/^\.\.[\\\/]/)&&(P.Target=P.Target.slice(3))}break;default:switch(o[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5b57:":break;default:if(r.WTF)throw new Error(o)}}var $={Sheets:p,SheetNames:m,Workbook:I};return r.bookSheets&&delete $.Sheets,$}function iM(e,t){t=t||{},AS(e,"META-INF/manifest.xml")&&function(e,t){for(var r,n,a=jO(e);r=kO.exec(a);)switch(r[3]){case"manifest":break;case"file-entry":if("/"==(n=WS(r[0],!1)).path&&"application/vnd.oasis.opendocument.spreadsheet"!==n.type)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}(PS(e,"META-INF/manifest.xml"),t);var r=HS(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=aM(uO(r),t);return AS(e,"meta.xml")&&(n.Props=KE(PS(e,"meta.xml"))),n}function sM(e,t){return aM(e,t)}var oM=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+vO({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return GS+t}}(),lM=function(){var e="          <table:table-cell />\n",t=function(t,r,n){var a=[];a.push('      <table:table table:name="'+eO(r.SheetNames[n])+'" table:style-name="ta1">\n');var i=0,s=0,o=B_(t["!ref"]||"A1"),l=t["!merges"]||[],c=0,u=Array.isArray(t);if(t["!cols"])for(s=0;s<=o.e.c;++s)a.push("        <table:table-column"+(t["!cols"][s]?' table:style-name="co'+t["!cols"][s].ods+'"':"")+"></table:table-column>\n");var d="",h=t["!rows"]||[];for(i=0;i<o.s.r;++i)d=h[i]?' table:style-name="ro'+h[i].ods+'"':"",a.push("        <table:table-row"+d+"></table:table-row>\n");for(;i<=o.e.r;++i){for(d=h[i]?' table:style-name="ro'+h[i].ods+'"':"",a.push("        <table:table-row"+d+">\n"),s=0;s<o.s.c;++s)a.push(e);for(;s<=o.e.c;++s){var f=!1,p={},m="";for(c=0;c!=l.length;++c)if(!(l[c].s.c>s)&&!(l[c].s.r>i)&&!(l[c].e.c<s)&&!(l[c].e.r<i)){l[c].s.c==s&&l[c].s.r==i||(f=!0),p["table:number-columns-spanned"]=l[c].e.c-l[c].s.c+1,p["table:number-rows-spanned"]=l[c].e.r-l[c].s.r+1;break}if(f)a.push("          <table:covered-table-cell/>\n");else{var g=G_({r:i,c:s}),x=u?(t[i]||[])[s]:t[g];if(x&&x.f&&(p["table:formula"]=eO(GP(x.f)),x.F&&x.F.slice(0,g.length)==g)){var b=B_(x.F);p["table:number-matrix-columns-spanned"]=b.e.c-b.s.c+1,p["table:number-matrix-rows-spanned"]=b.e.r-b.s.r+1}if(x){switch(x.t){case"b":m=x.v?"TRUE":"FALSE",p["office:value-type"]="boolean",p["office:boolean-value"]=x.v?"true":"false";break;case"n":m=x.w||String(x.v||0),p["office:value-type"]="float",p["office:value"]=x.v||0;break;case"s":case"str":m=null==x.v?"":x.v,p["office:value-type"]="string";break;case"d":m=x.w||NS(x.v).toISOString(),p["office:value-type"]="date",p["office:date-value"]=NS(x.v).toISOString(),p["table:style-name"]="ce1";break;default:a.push(e);continue}var y=eO(m).replace(/  +/g,(function(e){return'<text:s text:c="'+e.length+'"/>'})).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>");if(x.l&&x.l.Target){var v=x.l.Target;"#"==(v="#"==v.charAt(0)?"#"+zP(v.slice(1)):v).charAt(0)||v.match(/^\w+:/)||(v="../"+v),y=NO("text:a",y,{"xlink:href":v.replace(/&/g,"&amp;")})}a.push("          "+NO("table:table-cell",NO("text:p",y,{}),p)+"\n")}else a.push(e)}}a.push("        </table:table-row>\n")}return a.push("      </table:table>\n"),a.join("")};return function(e,r){var n=[GS],a=vO({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),i=vO({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==r.bookType?(n.push("<office:document"+a+i+">\n"),n.push(BE().replace(/office:document-meta/g,"office:meta"))):n.push("<office:document-content"+a+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var r=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!cols"])for(var n=0;n<t["!cols"].length;++n)if(t["!cols"][n]){var a=t["!cols"][n];if(null==a.width&&null==a.wpx&&null==a.wch)continue;sI(a),a.ods=r;var i=t["!cols"][n].wpx+"px";e.push('  <style:style style:name="co'+r+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+i+'"/>\n'),e.push("  </style:style>\n"),++r}}));var n=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!rows"])for(var r=0;r<t["!rows"].length;++r)if(t["!rows"][r]){t["!rows"][r].ods=n;var a=t["!rows"][r].hpx+"px";e.push('  <style:style style:name="ro'+n+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+a+'"/>\n'),e.push("  </style:style>\n"),++n}})),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(n,e),n.push("  <office:body>\n"),n.push("    <office:spreadsheet>\n");for(var s=0;s!=e.SheetNames.length;++s)n.push(t(e.Sheets[e.SheetNames[s]],e,s));return n.push("    </office:spreadsheet>\n"),n.push("  </office:body>\n"),"fods"==r.bookType?n.push("</office:document>"):n.push("</office:document-content>"),n.join("")}}();function cM(e,t){if("fods"==t.bookType)return lM(e,t);var r=RS(),n="",a=[],i=[];return LS(r,n="mimetype","application/vnd.oasis.opendocument.spreadsheet"),LS(r,n="content.xml",lM(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),LS(r,n="styles.xml",oM(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),LS(r,n="meta.xml",GS+BE()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),LS(r,n="manifest.rdf",function(e){var t,r,n=[GS];n.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var a=0;a!=e.length;++a)n.push(GE(e[a][0],e[a][1])),n.push((t="",r=e[a][0],['  <rdf:Description rdf:about="'+t+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+r+'"/>\n',"  </rdf:Description>\n"].join("")));return n.push(GE("","Document","pkg")),n.push("</rdf:RDF>"),n.join("")}(i)),a.push([n,"application/rdf+xml"]),LS(r,n="META-INF/manifest.xml",function(e){var t=[GS];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(a)),r}function uM(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function dM(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):uO(aT(e))}function hM(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):rT(dO(e))}function fM(e){var t=e.reduce((function(e,t){return e+t.length}),0),r=new Uint8Array(t),n=0;return e.forEach((function(e){r.set(e,n),n+=e.length})),r}function pM(e){return 16843009*((e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135)>>>24}function mM(e,t){var r=t?t[0]:0,n=127&e[r];e:if(e[r++]>=128){if(n|=(127&e[r])<<7,e[r++]<128)break e;if(n|=(127&e[r])<<14,e[r++]<128)break e;if(n|=(127&e[r])<<21,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,28),++r,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,35),++r,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,42),++r,e[r++]<128)break e}return t&&(t[0]=r),n}function gM(e){var t=new Uint8Array(7);t[0]=127&e;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383)break e;if(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)break e;if(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)break e;if(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)break e;if(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103)break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function xM(e){var t=0,r=127&e[t];e:if(e[t++]>=128){if(r|=(127&e[t])<<7,e[t++]<128)break e;if(r|=(127&e[t])<<14,e[t++]<128)break e;if(r|=(127&e[t])<<21,e[t++]<128)break e;r|=(127&e[t])<<28}return r}function bM(e){for(var t=[],r=[0];r[0]<e.length;){var n,a=r[0],i=mM(e,r),s=7&i,o=0;if(0==(i=Math.floor(i/8)))break;switch(s){case 0:for(var l=r[0];e[r[0]++]>=128;);n=e.slice(l,r[0]);break;case 5:o=4,n=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,n=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=mM(e,r),n=e.slice(r[0],r[0]+o),r[0]+=o;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(a))}var c={data:n,type:s};null==t[i]?t[i]=[c]:t[i].push(c)}return t}function yM(e){var t=[];return e.forEach((function(e,r){e.forEach((function(e){e.data&&(t.push(gM(8*r+e.type)),2==e.type&&t.push(gM(e.data.length)),t.push(e.data))}))})),fM(t)}function vM(e,t){return(null==e?void 0:e.map((function(e){return t(e.data)})))||[]}function NM(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=mM(e,n),i=bM(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:xM(i[1][0].data),messages:[]};i[2].forEach((function(t){var r=bM(t.data),a=xM(r[3][0].data);s.messages.push({meta:r,data:e.slice(n[0],n[0]+a)}),n[0]+=a})),(null==(t=i[3])?void 0:t[0])&&(s.merge=xM(i[3][0].data)>>>0>0),r.push(s)}return r}function wM(e){var t=[];return e.forEach((function(e){var r=[];r[1]=[{data:gM(e.id),type:0}],r[2]=[],null!=e.merge&&(r[3]=[{data:gM(+!!e.merge),type:0}]);var n=[];e.messages.forEach((function(e){n.push(e.data),e.meta[3]=[{type:0,data:gM(e.data.length)}],r[2].push({data:yM(e.meta),type:2})}));var a=yM(r);t.push(gM(a.length)),t.push(a),n.forEach((function(e){return t.push(e)}))})),fM(t)}function jM(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=mM(t,r),a=[];r[0]<t.length;){var i=3&t[r[0]];if(0!=i){var s=0,o=0;if(1==i?(o=4+(t[r[0]]>>2&7),s=(224&t[r[0]++])<<3,s|=t[r[0]++]):(o=1+(t[r[0]++]>>2),2==i?(s=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(s=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[fM(a)],0==s)throw new Error("Invalid offset 0");if(s>a[0].length)throw new Error("Invalid offset beyond length");if(o>=s)for(a.push(a[0].slice(-s)),o-=s;o>=a[a.length-1].length;)a.push(a[a.length-1]),o-=a[a.length-1].length;a.push(a[0].slice(-s,-s+o))}else{var l=t[r[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[r[0]],c>1&&(l|=t[r[0]+1]<<8),c>2&&(l|=t[r[0]+2]<<16),c>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=c}a.push(t.slice(r[0],r[0]+l)),r[0]+=l}}var u=fM(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function kM(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(jM(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return fM(t)}function TM(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=gM(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=255&s,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return fM(t)}function SM(e,t,r){var n,a=uM(e),i=a.getUint32(8,!0),s=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);switch(1&i&&(c=function(e,t){for(var r=(127&e[t+15])<<7|e[t+14]>>1,n=1&e[t+14],a=t+13;a>=t;--a)n=256*n+e[a];return(128&e[t+15]?-n:n)*Math.pow(10,r-6176)}(e,s),s+=16),2&i&&(u=a.getFloat64(s,!0),s+=8),4&i&&(d.setTime(d.getTime()+1e3*a.getFloat64(s,!0)),s+=8),8&i&&(l=a.getUint32(s,!0),s+=4),16&i&&(o=a.getUint32(s,!0),s+=4),e[1]){case 0:break;case 2:case 10:n={t:"n",v:c};break;case 3:n={t:"s",v:t[l]};break;case 5:n={t:"d",v:d};break;case 6:n={t:"b",v:u>0};break;case 7:n={t:"n",v:u/86400};break;case 8:n={t:"e",v:0};break;case 9:if(!(o>-1))throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&i," : ").concat(e.slice(0,4)));n={t:"s",v:r[o]};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&i," : ").concat(e.slice(0,4)))}return n}function OM(e,t){var r=new Uint8Array(32),n=uM(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,function(e,t,r){var n=Math.floor(0==r?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(127&n)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=255&a;e[t+15]|=r>=0?0:128}(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function _M(e,t){var r=new Uint8Array(32),n=uM(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function EM(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return function(e,t,r,n){var a,i=uM(e),s=i.getUint32(4,!0),o=(n>1?12:8)+4*pM(s&(n>1?3470:398)),l=-1,c=-1,u=NaN,d=new Date(2001,0,1);switch(512&s&&(l=i.getUint32(o,!0),o+=4),o+=4*pM(s&(n>1?12288:4096)),16&s&&(c=i.getUint32(o,!0),o+=4),32&s&&(u=i.getFloat64(o,!0),o+=8),64&s&&(d.setTime(d.getTime()+1e3*i.getFloat64(o,!0)),o+=8),e[2]){case 0:break;case 2:a={t:"n",v:u};break;case 3:a={t:"s",v:t[c]};break;case 5:a={t:"d",v:d};break;case 6:a={t:"b",v:u>0};break;case 7:a={t:"n",v:u/86400};break;case 8:a={t:"e",v:0};break;case 9:if(l>-1)a={t:"s",v:r[l]};else if(c>-1)a={t:"s",v:t[c]};else{if(isNaN(u))throw new Error("Unsupported cell type ".concat(e.slice(0,4)));a={t:"n",v:u}}break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return a}(e,t,r,e[0]);case 5:return SM(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function CM(e){return mM(bM(e)[1][0].data)}function AM(e,t){var r=bM(t.data),n=xM(r[1][0].data),a=r[3],i=[];return(a||[]).forEach((function(t){var r=bM(t.data),a=xM(r[1][0].data)>>>0;switch(n){case 1:i[a]=dM(r[3][0].data);break;case 8:var s=bM(e[CM(r[9][0].data)][0].data),o=e[CM(s[1][0].data)][0],l=xM(o.meta[1][0].data);if(2001!=l)throw new Error("2000 unexpected reference to ".concat(l));var c=bM(o.data);i[a]=c[3].map((function(e){return dM(e.data)})).join("")}})),i}function IM(e,t){var r,n=bM(t.data),a=(null==(r=null==n?void 0:n[7])?void 0:r[0])?xM(n[7][0].data)>>>0>0?1:0:-1,i=vM(n[5],(function(e){return function(e,t){var r,n,a,i,s,o,l,c,u,d,h,f,p,m,g,x,b=bM(e),y=xM(b[1][0].data)>>>0,v=xM(b[2][0].data)>>>0,N=(null==(n=null==(r=b[8])?void 0:r[0])?void 0:n.data)&&xM(b[8][0].data)>0||!1;if((null==(i=null==(a=b[7])?void 0:a[0])?void 0:i.data)&&0!=t)g=null==(o=null==(s=b[7])?void 0:s[0])?void 0:o.data,x=null==(c=null==(l=b[6])?void 0:l[0])?void 0:c.data;else{if(!(null==(d=null==(u=b[4])?void 0:u[0])?void 0:d.data)||1==t)throw"NUMBERS Tile missing ".concat(t," cell storage");g=null==(f=null==(h=b[4])?void 0:h[0])?void 0:f.data,x=null==(m=null==(p=b[3])?void 0:p[0])?void 0:m.data}for(var w=N?4:1,j=uM(g),k=[],T=0;T<g.length/2;++T){var S=j.getUint16(2*T,!0);S<65535&&k.push([T,S])}if(k.length!=v)throw"Expected ".concat(v," cells, found ").concat(k.length);var O=[];for(T=0;T<k.length-1;++T)O[k[T][0]]=x.subarray(k[T][1]*w,k[T+1][1]*w);return k.length>=1&&(O[k[k.length-1][0]]=x.subarray(k[k.length-1][1]*w)),{R:y,cells:O}}(e,a)}));return{nrows:xM(n[4][0].data)>>>0,data:i.reduce((function(e,t){return e[t.R]||(e[t.R]=[]),t.cells.forEach((function(r,n){if(e[t.R][n])throw new Error("Duplicate cell r=".concat(t.R," c=").concat(n));e[t.R][n]=r})),e}),[])}}function PM(e,t){var r={"!ref":"A1"},n=e[CM(bM(t.data)[2][0].data)],a=xM(n[0].meta[1][0].data);if(6001!=a)throw new Error("6000 unexpected reference to ".concat(a));return function(e,t,r){var n,a=bM(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(xM(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(xM(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=z_(i);var s=bM(a[4][0].data),o=AM(e,e[CM(s[4][0].data)][0]),l=(null==(n=s[17])?void 0:n[0])?AM(e,e[CM(s[17][0].data)][0]):[],c=bM(s[3][0].data),u=0;c[1].forEach((function(t){var n=bM(t.data),a=e[CM(n[2][0].data)][0],i=xM(a.meta[1][0].data);if(6002!=i)throw new Error("6001 unexpected reference to ".concat(i));var s=IM(0,a);s.data.forEach((function(e,t){e.forEach((function(e,n){var a=G_({r:u+t,c:n}),i=EM(e,o,l);i&&(r[a]=i)}))})),u+=s.nrows}))}(e,n[0],r),r}function HM(e,t){var r={SheetNames:[],Sheets:{}};if(vM(bM(t.data)[1],CM).forEach((function(t){e[t].forEach((function(t){if(2==xM(t.meta[1][0].data)){var n=function(e,t){var r,n=bM(t.data),a={name:(null==(r=n[1])?void 0:r[0])?dM(n[1][0].data):"",sheets:[]};return vM(n[2],CM).forEach((function(t){e[t].forEach((function(t){6e3==xM(t.meta[1][0].data)&&a.sheets.push(PM(e,t))}))})),a}(e,t);n.sheets.forEach((function(e,t){hL(r,e,0==t?n.name:n.name+"_"+t,!0)}))}}))})),0==r.SheetNames.length)throw new Error("Empty NUMBERS file");return r}function DM(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach((function(e){if(e.match(/\.iwpv2/))throw new Error("Unsupported password protection")})),e.FileIndex.forEach((function(e){if(e.name.match(/\.iwa$/)){var t,r;try{t=kM(e.content)}catch(fU){return console.log("?? "+e.content.length+" "+(fU.message||fU))}try{r=NM(t)}catch(fU){return console.log("## "+(fU.message||fU))}r.forEach((function(e){i[e.id]=e.messages,s.push(e.id)}))}})),!s.length)throw new Error("File has no messages");var o=(null==(a=null==(n=null==(r=null==(t=null==i?void 0:i[1])?void 0:t[0])?void 0:r.meta)?void 0:n[1])?void 0:a[0].data)&&1==xM(i[1][0].meta[1][0].data)&&i[1][0];if(o||s.forEach((function(e){i[e].forEach((function(e){if(1==xM(e.meta[1][0].data)>>>0){if(o)throw new Error("Document has multiple roots");o=e}}))})),!o)throw new Error("Cannot find Document root");return HM(i,o)}function MM(e,t,r){var n,a,i,s;if(!(null==(n=e[6])?void 0:n[0])||!(null==(a=e[7])?void 0:a[0]))throw"Mutation only works on post-BNC storages!";if((null==(s=null==(i=e[8])?void 0:i[0])?void 0:s.data)&&xM(e[8][0].data)>0||!1)throw"Math only works with normal offsets";for(var o=0,l=uM(e[7][0].data),c=0,u=[],d=uM(e[4][0].data),h=0,f=[],p=0;p<t.length;++p)if(null!=t[p]){var m,g;switch(l.setUint16(2*p,c,!0),d.setUint16(2*p,h,!0),typeof t[p]){case"string":m=OM({t:"s",v:t[p]},r),g=_M({t:"s",v:t[p]},r);break;case"number":m=OM({t:"n",v:t[p]},r),g=_M({t:"n",v:t[p]},r);break;case"boolean":m=OM({t:"b",v:t[p]},r),g=_M({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}u.push(m),c+=m.length,f.push(g),h+=g.length,++o}else l.setUint16(2*p,65535,!0),d.setUint16(2*p,65535);for(e[2][0].data=gM(o);p<e[7][0].data.length/2;++p)l.setUint16(2*p,65535,!0),d.setUint16(2*p,65535,!0);return e[6][0].data=fM(u),e[3][0].data=fM(f),o}function LM(e){return function(t){for(var r=0;r!=e.length;++r){var n=e[r];void 0===t[n[0]]&&(t[n[0]]=n[1]),"n"===n[2]&&(t[n[0]]=Number(t[n[0]]))}}}function RM(e){LM([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function FM(e){LM([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function UM(e,t,r,n,a,i,s,o,l,c,u,d){try{i[n]=RE(HS(e,r,!0),t);var h,f=PS(e,t);switch(o){case"sheet":h=qH(f,t,a,l,i[n],c,u,d);break;case"chart":if(!(h=QH(f,t,a,l,i[n],c))||!h["!drawel"])break;var p=US(h["!drawel"].Target,t),m=LE(p),g=function(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}(HS(e,p,!0),RE(HS(e,m,!0),p)),x=US(g,p),b=LE(x);h=IH(HS(e,x,!0),0,0,RE(HS(e,b,!0),x),0,h);break;case"macro":v=t,i[n],v.slice(-4),h={"!type":"macro"};break;case"dialog":h=function(e,t){return t.slice(-4),{"!type":"dialog"}}(0,t,0,0,i[n]);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=h;var y=[];i&&i[n]&&oS(i[n]).forEach((function(r){var a="";if(i[n][r].Type==ME.CMNT){a=US(i[n][r].Target,t);var s=eD(PS(e,a,!0),a,l);if(!s||!s.length)return;VI(h,s,!1)}i[n][r].Type==ME.TCMNT&&(a=US(i[n][r].Target,t),y=y.concat(function(e,t){var r=[],n=!1,a={},i=0;return e.replace(VS,(function(s,o){var l=WS(s);switch(XS(l[0])){case"<?xml":case"<ThreadedComments":case"</ThreadedComments>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<threadedComment":a={author:l.personId,guid:l.id,ref:l.ref,T:1};break;case"</threadedComment>":null!=a.t&&r.push(a);break;case"<text>":case"<text":i=o+s.length;break;case"</text>":a.t=e.slice(i,o).replace(/\r\n/g,"\n").replace(/\r/g,"\n");break;case"<mentions":case"<mentions>":case"<ext":n=!0;break;case"</mentions>":case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return s})),r}(PS(e,a,!0),l)))})),y&&y.length&&VI(h,y,!0,l.people||[])}catch(fU){if(l.WTF)throw fU}var v}function GM(e){return"/"==e.charAt(0)?e.slice(1):e}function BM(e,t){if(JT(),RM(t=t||{}),AS(e,"META-INF/manifest.xml"))return iM(e,t);if(AS(e,"objectdata.xml"))return iM(e,t);if(AS(e,"Index/Document.iwa")){if("undefined"==typeof Uint8Array)throw new Error("NUMBERS file parsing requires Uint8Array support");if(e.FileIndex)return DM(e);var r=nS.utils.cfb_new();return MS(e).forEach((function(t){LS(r,t,DS(e,t))})),DM(r)}if(!AS(e,"[Content_Types].xml")){if(AS(e,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if(AS(e,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");throw new Error("Unsupported ZIP file")}var n,a,i=MS(e),s=function(e){var t={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};if(!e||!e.match)return t;var r={};if((e.match(VS)||[]).forEach((function(e){var n=WS(e);switch(n[0].replace(KS,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[n.Extension]=n.ContentType;break;case"<Override":void 0!==t[PE[n.ContentType]]&&t[PE[n.ContentType]].push(n.PartName)}})),t.xmlns!==_O)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}(HS(e,"[Content_Types].xml")),o=!1;if(0===s.workbooks.length&&PS(e,a="xl/workbook.xml",!0)&&s.workbooks.push(a),0===s.workbooks.length){if(!PS(e,a="xl/workbook.bin",!0))throw new Error("Could not find workbook");s.workbooks.push(a),o=!0}"bin"==s.workbooks[0].slice(-3)&&(o=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(VP=[],s.sst)try{VP=JH(PS(e,GM(s.sst)),s.sst,t)}catch(fU){if(t.WTF)throw fU}t.cellStyles&&s.themes.length&&(l=function(e,t,r){return MI(e,r)}(HS(e,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],t)),s.style&&(c=ZH(PS(e,GM(s.style)),s.style,l,t))}s.links.map((function(r){try{RE(HS(e,LE(GM(r))),r);return rD(PS(e,GM(r)),0,r,t)}catch(fU){}}));var u=YH(PS(e,GM(s.workbooks[0])),s.workbooks[0],t),d={},h="";s.coreprops.length&&((h=PS(e,GM(s.coreprops[0]),!0))&&(d=KE(h)),0!==s.extprops.length&&(h=PS(e,GM(s.extprops[0]),!0))&&function(e,t,r){var n={};t||(t={}),e=uO(e),XE.forEach((function(r){var a=(e.match(hO(r[0]))||[])[1];switch(r[2]){case"string":a&&(t[r[1]]=QS(a));break;case"bool":t[r[1]]="true"===a;break;case"raw":var i=e.match(new RegExp("<"+r[0]+"[^>]*>([\\s\\S]*?)</"+r[0]+">"));i&&i.length>0&&(n[r[1]]=i[1])}})),n.HeadingPairs&&n.TitlesOfParts&&qE(n.HeadingPairs,n.TitlesOfParts,t,r)}(h,d,t));var f={};t.bookSheets&&!t.bookProps||0!==s.custprops.length&&(h=HS(e,GM(s.custprops[0]),!0))&&(f=function(e,t){var r={},n="",a=e.match(ZE);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=WS(s);switch(o[0]){case"<?xml":case"<Properties":break;case"<property":n=QS(o.name);break;case"</property>":n=null;break;default:if(0===s.indexOf("<vt:")){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":case"cy":case"error":r[n]=QS(u);break;case"bool":r[n]=iO(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=NS(u);break;default:if("/"==c.slice(-1))break;t.WTF&&"undefined"!==typeof console&&console.warn("Unexpected",s,c,l)}}else if("</"===s.slice(0,2));else if(t.WTF)throw new Error(s)}}return r}(h,t));var p={};if((t.bookSheets||t.bookProps)&&(u.Sheets?n=u.Sheets.map((function(e){return e.name})):d.Worksheets&&d.SheetNames.length>0&&(n=d.SheetNames),t.bookProps&&(p.Props=d,p.Custprops=f),t.bookSheets&&"undefined"!==typeof n&&(p.SheetNames=n),t.bookSheets?p.SheetNames:t.bookProps))return p;n={};var m={};t.bookDeps&&s.calcchain&&(m=tD(PS(e,GM(s.calcchain)),s.calcchain));var g,x,b=0,y={},v=u.Sheets;d.Worksheets=v.length,d.SheetNames=[];for(var N=0;N!=v.length;++N)d.SheetNames[N]=v[N].name;var w=o?"bin":"xml",j=s.workbooks[0].lastIndexOf("/"),k=(s.workbooks[0].slice(0,j+1)+"_rels/"+s.workbooks[0].slice(j+1)+".rels").replace(/^\//,"");AS(e,k)||(k="xl/_rels/workbook."+w+".rels");var T=RE(HS(e,k,!0),k.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(t.xlmeta=nD(PS(e,GM(s.metadata[0])),s.metadata[0],t)),(s.people||[]).length>=1&&(t.people=function(e,t){var r=[],n=!1;return e.replace(VS,(function(e){var a=WS(e);switch(XS(a[0])){case"<?xml":case"<personList":case"</personList>":case"</person>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<person":r.push({name:a.displayname,id:a.id});break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return e})),r}(PS(e,GM(s.people[0])),t)),T&&(T=function(e,t){if(!e)return 0;try{e=t.map((function(t){return t.id||(t.id=t.strRelID),[t.name,e["!id"][t.id].Target,(r=e["!id"][t.id].Type,ME.WS.indexOf(r)>-1?"sheet":ME.CS&&r==ME.CS?"chart":ME.DS&&r==ME.DS?"dialog":ME.MS&&r==ME.MS?"macro":r&&r.length?r:"sheet")];var r}))}catch(fU){return null}return e&&0!==e.length?e:null}(T,u.Sheets));var S=PS(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=d.Worksheets;++b){var O="sheet";if(T&&T[b]?(g="xl/"+T[b][1].replace(/[\/]?xl\//,""),AS(e,g)||(g=T[b][1]),AS(e,g)||(g=k.replace(/_rels\/.*$/,"")+T[b][1]),O=T[b][2]):g=(g="xl/worksheets/sheet"+(b+1-S)+"."+w).replace(/sheet0\./,"sheet."),x=g.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&null!=t.sheets)switch(typeof t.sheets){case"number":if(b!=t.sheets)continue e;break;case"string":if(d.SheetNames[b].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var _=!1,E=0;E!=t.sheets.length;++E)"number"==typeof t.sheets[E]&&t.sheets[E]==b&&(_=1),"string"==typeof t.sheets[E]&&t.sheets[E].toLowerCase()==d.SheetNames[b].toLowerCase()&&(_=1);if(!_)continue e}}UM(e,g,x,d.SheetNames[b],b,y,n,O,t,u,l,c)}return p={Directory:s,Workbook:u,Props:d,Custprops:f,Deps:m,Sheets:n,SheetNames:d.SheetNames,Strings:VP,Styles:c,Themes:l,SSF:jS(bT)},t&&t.bookFiles&&(e.files?(p.keys=i,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach((function(t,r){t=t.replace(/^Root Entry[\/]/,""),p.keys.push(t),p.files[t]=e.FileIndex[r]})))),t&&t.bookVBA&&(s.vba.length>0?p.vbaraw=PS(e,GM(s.vba[0]),!0):s.defaults&&"application/vnd.ms-office.vbaProject"===s.defaults.bin&&(p.vbaraw=PS(e,"xl/vbaProject.bin",!0))),p}function zM(e,t){var r=t||{},n="Workbook",a=nS.find(e,n);try{if(n="/!DataSpaces/Version",!(a=nS.find(e,n))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(function(e){var t={};t.id=e.read_shift(0,"lpp4"),t.R=FA(e,4),t.U=FA(e,4),t.W=FA(e,4)}(a.content),n="/!DataSpaces/DataSpaceMap",!(a=nS.find(e,n))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=function(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(UA(e));return t}(a.content);if(1!==i.length||1!==i[0].comps.length||0!==i[0].comps[0].t||"StrongEncryptionDataSpace"!==i[0].name||"EncryptedPackage"!==i[0].comps[0].v)throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",!(a=nS.find(e,n))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=function(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}(a.content);if(1!=s.length||"StrongEncryptionTransform"!=s[0])throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",!(a=nS.find(e,n))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);GA(a.content)}catch(fU){}if(n="/EncryptionInfo",!(a=nS.find(e,n))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=function(e){var t=FA(e);switch(t.Minor){case 2:return[t.Minor,VA(e)];case 3:return[t.Minor,KA()];case 4:return[t.Minor,$A(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}(a.content);if(n="/EncryptedPackage",!(a=nS.find(e,n))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(4==o[0]&&"undefined"!==typeof decrypt_agile)return decrypt_agile(o[1],a.content,r.password||"",r);if(2==o[0]&&"undefined"!==typeof decrypt_std76)return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function VM(e,t){return"ods"==t.bookType?cM(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=B_(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(z_(n)));var i=aL(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach((function(e){return e.forEach((function(e){"string"==typeof e&&s.push(e)}))}));var o={},l=[],c=nS.read(t.numbers,{type:"base64"});c.FileIndex.map((function(e,t){return[e,c.FullPaths[t]]})).forEach((function(e){var t=e[0],r=e[1];2==t.type&&t.name.match(/\.iwa/)&&NM(kM(t.content)).forEach((function(e){l.push(e.id),o[e.id]={deps:[],location:r,type:xM(e.messages[0].meta[1][0].data)}}))})),l.sort((function(e,t){return e-t}));var u=l.filter((function(e){return e>1})).map((function(e){return[e,gM(e)]}));c.FileIndex.map((function(e,t){return[e,c.FullPaths[t]]})).forEach((function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&NM(kM(t.content)).forEach((function(e){e.messages.forEach((function(t){u.forEach((function(t){e.messages.some((function(e){return 11006!=xM(e.meta[1][0].data)&&function(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}(e.data,t[1])}))&&o[t[0]].deps.push(e.id)}))}))}))}));for(var d,h=nS.find(c,o[1].location),f=NM(kM(h.content)),p=0;p<f.length;++p){var m=f[p];1==m.id&&(d=m)}var g=CM(bM(d.messages[0].data)[1][0].data);for(f=NM(kM((h=nS.find(c,o[g].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==g&&(d=m);for(g=CM(bM(d.messages[0].data)[2][0].data),f=NM(kM((h=nS.find(c,o[g].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==g&&(d=m);for(g=CM(bM(d.messages[0].data)[2][0].data),f=NM(kM((h=nS.find(c,o[g].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==g&&(d=m);var x=bM(d.messages[0].data);x[6][0].data=gM(n.e.r+1),x[7][0].data=gM(n.e.c+1);for(var b=CM(x[46][0].data),y=nS.find(c,o[b].location),v=NM(kM(y.content)),N=0;N<v.length&&v[N].id!=b;++N);if(v[N].id!=b)throw"Bad ColumnRowUIDMapArchive";var w=bM(v[N].messages[0].data);w[1]=[],w[2]=[],w[3]=[];for(var j=0;j<=n.e.c;++j){var k=[];k[1]=k[2]=[{type:0,data:gM(j+420690)}],w[1].push({type:2,data:yM(k)}),w[2].push({type:0,data:gM(j)}),w[3].push({type:0,data:gM(j)})}w[4]=[],w[5]=[],w[6]=[];for(var T=0;T<=n.e.r;++T)(k=[])[1]=k[2]=[{type:0,data:gM(T+726270)}],w[4].push({type:2,data:yM(k)}),w[5].push({type:0,data:gM(T)}),w[6].push({type:0,data:gM(T)});v[N].messages[0].data=yM(w),y.content=TM(wM(v)),y.size=y.content.length,delete x[46];var S=bM(x[4][0].data);S[7][0].data=gM(n.e.r+1);var O=CM(bM(S[1][0].data)[2][0].data);if((v=NM(kM((y=nS.find(c,o[O].location)).content)))[0].id!=O)throw"Bad HeaderStorageBucket";var _=bM(v[0].messages[0].data);for(T=0;T<i.length;++T){var E=bM(_[2][0].data);E[1][0].data=gM(T),E[4][0].data=gM(i[T].length),_[2][T]={type:_[2][0].type,data:yM(E)}}v[0].messages[0].data=yM(_),y.content=TM(wM(v)),y.size=y.content.length;var C=CM(S[2][0].data);if((v=NM(kM((y=nS.find(c,o[C].location)).content)))[0].id!=C)throw"Bad HeaderStorageBucket";for(_=bM(v[0].messages[0].data),j=0;j<=n.e.c;++j)(E=bM(_[2][0].data))[1][0].data=gM(j),E[4][0].data=gM(n.e.r+1),_[2][j]={type:_[2][0].type,data:yM(E)};v[0].messages[0].data=yM(_),y.content=TM(wM(v)),y.size=y.content.length;var A=CM(S[4][0].data);!function(){for(var e,t=nS.find(c,o[A].location),r=NM(kM(t.content)),n=0;n<r.length;++n){var a=r[n];a.id==A&&(e=a)}var i=bM(e.messages[0].data);i[3]=[];var l=[];s.forEach((function(e,t){l[1]=[{type:0,data:gM(t)}],l[2]=[{type:0,data:gM(1)}],l[3]=[{type:2,data:hM(e)}],i[3].push({type:2,data:yM(l)})})),e.messages[0].data=yM(i);var u=TM(wM(r));t.content=u,t.size=t.content.length}();var I=bM(S[3][0].data),P=I[1][0];delete I[2];var H=bM(P.data),D=CM(H[2][0].data);!function(){for(var e,t=nS.find(c,o[D].location),r=NM(kM(t.content)),a=0;a<r.length;++a){var l=r[a];l.id==D&&(e=l)}var u=bM(e.messages[0].data);delete u[6],delete I[7];var d=new Uint8Array(u[5][0].data);u[5]=[];for(var h=0,f=0;f<=n.e.r;++f){var p=bM(d);h+=MM(p,i[f],s),p[1][0].data=gM(f),u[5].push({data:yM(p),type:2})}u[1]=[{type:0,data:gM(n.e.c+1)}],u[2]=[{type:0,data:gM(n.e.r+1)}],u[3]=[{type:0,data:gM(h)}],u[4]=[{type:0,data:gM(n.e.r+1)}],e.messages[0].data=yM(u);var m=TM(wM(r));t.content=m,t.size=t.content.length}(),P.data=yM(H),S[3][0].data=yM(I),x[4][0].data=yM(S),d.messages[0].data=yM(x);var M=TM(wM(f));return h.content=M,h.size=h.content.length,c}(e,t):"xlsb"==t.bookType?function(e,t){BI=1024,e&&!e.SSF&&(e.SSF=jS(bT));e&&e.SSF&&(JT(),ZT(e.SSF),t.revssf=uS(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,$P?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xlsb"==t.bookType?"bin":"xml",n=YI.indexOf(t.bookType)>-1,a={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};FM(t=t||{});var i=RS(),s="",o=0;t.cellXfs=[],qP(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(s="docProps/core.xml",LS(i,s,WE(e.Props,t)),a.coreprops.push(s),UE(t.rels,2,s,ME.CORE_PROPS),s="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,LS(i,s,QE(e.Props)),a.extprops.push(s),UE(t.rels,3,s,ME.EXT_PROPS),e.Custprops!==e.Props&&oS(e.Custprops||{}).length>0&&(LS(i,s="docProps/custom.xml",JE(e.Custprops)),a.custprops.push(s),UE(t.rels,4,s,ME.CUST_PROPS));for(o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},d=e.Sheets[e.SheetNames[o-1]];(d||{})["!type"];if(LS(i,s="xl/worksheets/sheet"+o+"."+r,aD(o-1,s,t,e,u)),a.sheets.push(s),UE(t.wbrels,-1,"worksheets/sheet"+o+"."+r,ME.WS[0]),d){var h=d["!comments"],f=!1,p="";h&&h.length>0&&(LS(i,p="xl/comments"+o+"."+r,iD(h,p,t)),a.comments.push(p),UE(u,-1,"../comments"+o+"."+r,ME.CMNT),f=!0),d["!legacy"]&&f&&LS(i,"xl/drawings/vmlDrawing"+o+".vml",zI(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}u["!id"].rId1&&LS(i,LE(s),FE(u))}null!=t.Strings&&t.Strings.length>0&&(LS(i,s="xl/sharedStrings."+r,function(e,t,r){return(".bin"===t.slice(-4)?LA:DA)(e,r)}(t.Strings,s,t)),a.strs.push(s),UE(t.wbrels,-1,"sharedStrings."+r,ME.SST));s="xl/workbook."+r,LS(i,s,function(e,t,r){return(".bin"===t.slice(-4)?XH:VH)(e,r)}(e,s,t)),a.workbooks.push(s),UE(t.rels,1,s,ME.WB),s="xl/theme/theme1.xml",LS(i,s,LI(e.Themes,t)),a.themes.push(s),UE(t.wbrels,-1,"theme/theme1.xml",ME.THEME),s="xl/styles."+r,LS(i,s,function(e,t,r){return(".bin"===t.slice(-4)?OI:pI)(e,r)}(e,s,t)),a.styles.push(s),UE(t.wbrels,-1,"styles."+r,ME.STY),e.vbaraw&&n&&(LS(i,s="xl/vbaProject.bin",e.vbaraw),a.vba.push(s),UE(t.wbrels,-1,"vbaProject.bin",ME.VBA));return s="xl/metadata."+r,LS(i,s,function(e){return(".bin"===e.slice(-4)?UI:GI)()}(s)),a.metadata.push(s),UE(t.wbrels,-1,"metadata."+r,ME.XLMETA),LS(i,"[Content_Types].xml",DE(a,t)),LS(i,"_rels/.rels",FE(t.rels)),LS(i,"xl/_rels/workbook."+r+".rels",FE(t.wbrels)),delete t.revssf,delete t.ssf,i}(e,t):KM(e,t)}function KM(e,t){BI=1024,e&&!e.SSF&&(e.SSF=jS(bT)),e&&e.SSF&&(JT(),ZT(e.SSF),t.revssf=uS(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,$P?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=YI.indexOf(t.bookType)>-1,a={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};FM(t=t||{});var i=RS(),s="",o=0;if(t.cellXfs=[],qP(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),LS(i,s="docProps/core.xml",WE(e.Props,t)),a.coreprops.push(s),UE(t.rels,2,s,ME.CORE_PROPS),s="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,LS(i,s,QE(e.Props)),a.extprops.push(s),UE(t.rels,3,s,ME.EXT_PROPS),e.Custprops!==e.Props&&oS(e.Custprops||{}).length>0&&(LS(i,s="docProps/custom.xml",JE(e.Custprops)),a.custprops.push(s),UE(t.rels,4,s,ME.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},h=e.Sheets[e.SheetNames[o-1]];(h||{})["!type"];if(LS(i,s="xl/worksheets/sheet"+o+"."+r,gH(o-1,t,e,d)),a.sheets.push(s),UE(t.wbrels,-1,"worksheets/sheet"+o+"."+r,ME.WS[0]),h){var f=h["!comments"],p=!1,m="";if(f&&f.length>0){var g=!1;f.forEach((function(e){e[1].forEach((function(e){1==e.T&&(g=!0)}))})),g&&(LS(i,m="xl/threadedComments/threadedComment"+o+"."+r,$I(f,u,t)),a.threadedcomments.push(m),UE(d,-1,"../threadedComments/threadedComment"+o+"."+r,ME.TCMNT)),LS(i,m="xl/comments"+o+"."+r,KI(f)),a.comments.push(m),UE(d,-1,"../comments"+o+"."+r,ME.CMNT),p=!0}h["!legacy"]&&p&&LS(i,"xl/drawings/vmlDrawing"+o+".vml",zI(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&LS(i,LE(s),FE(d))}return null!=t.Strings&&t.Strings.length>0&&(LS(i,s="xl/sharedStrings."+r,DA(t.Strings,t)),a.strs.push(s),UE(t.wbrels,-1,"sharedStrings."+r,ME.SST)),LS(i,s="xl/workbook."+r,VH(e)),a.workbooks.push(s),UE(t.rels,1,s,ME.WB),LS(i,s="xl/theme/theme1.xml",LI(e.Themes,t)),a.themes.push(s),UE(t.wbrels,-1,"theme/theme1.xml",ME.THEME),LS(i,s="xl/styles."+r,pI(e,t)),a.styles.push(s),UE(t.wbrels,-1,"styles."+r,ME.STY),e.vbaraw&&n&&(LS(i,s="xl/vbaProject.bin",e.vbaraw),a.vba.push(s),UE(t.wbrels,-1,"vbaProject.bin",ME.VBA)),LS(i,s="xl/metadata."+r,GI()),a.metadata.push(s),UE(t.wbrels,-1,"metadata."+r,ME.XLMETA),u.length>1&&(LS(i,s="xl/persons/person.xml",function(e){var t=[GS,NO("personList",null,{xmlns:CO,"xmlns:x":RO[0]}).replace(/[\/]>/,">")];return e.forEach((function(e,r){t.push(NO("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:e,providerId:"None"}))})),t.push("</personList>"),t.join("")}(u)),a.people.push(s),UE(t.wbrels,-1,"persons/person.xml",ME.PEOPLE)),LS(i,"[Content_Types].xml",DE(a,t)),LS(i,"_rels/.rels",FE(t.rels)),LS(i,"xl/_rels/workbook.xml.rels",FE(t.wbrels)),delete t.revssf,delete t.ssf,i}function $M(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Qk(e.slice(0,12));break;case"binary":r=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function WM(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return xD(e.slice(r),t);default:break e}return jA.to_workbook(e,t)}function XM(e,t,r,n){return n?(r.type="string",jA.to_workbook(e,r)):jA.to_workbook(t,r)}function YM(e,t){Bk();var r=t||{};if("undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer)return YM(new Uint8Array(e),((r=jS(r)).type="array",r));"undefined"!==typeof Uint8Array&&e instanceof Uint8Array&&!r.type&&(r.type="undefined"!==typeof Deno?"buffer":"array");var n,a=e,i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),KP={},r.dateNF&&(KP.dateNF=r.dateNF),r.type||(r.type=Zk&&Buffer.isBuffer(e)?"buffer":"base64"),"file"==r.type&&(r.type=Zk?"buffer":"binary",a=function(e){if("undefined"!==typeof aS)return aS.readFileSync(e);if("undefined"!==typeof Deno)return Deno.readFileSync(e);if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(fU){if(!fU.message||!fU.message.match(/onstruct/))throw fU}throw new Error("Cannot access file "+e)}(e),"undefined"===typeof Uint8Array||Zk||(r.type="array")),"string"==r.type&&(i=!0,r.type="binary",r.codepage=65001,a=function(e){return e.match(/[^\x00-\x7F]/)?dO(e):e}(e)),"array"==r.type&&"undefined"!==typeof Uint8Array&&e instanceof Uint8Array&&"undefined"!==typeof ArrayBuffer){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return(r=jS(r)).type="array",YM(iT(a),r)}switch((n=$M(a,r))[0]){case 208:if(207===n[1]&&17===n[2]&&224===n[3]&&161===n[4]&&177===n[5]&&26===n[6]&&225===n[7])return function(e,t){return nS.find(e,"EncryptedPackage")?zM(e,t):PD(e,t)}(nS.read(a,r),r);break;case 9:if(n[1]<=8)return PD(a,r);break;case 60:return xD(a,r);case 73:if(73===n[1]&&42===n[2]&&0===n[3])throw new Error("TIFF Image File is not a spreadsheet");if(68===n[1])return function(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=vA.to_workbook(e,r);return r.WTF=n,a}catch(fU){if(r.WTF=n,!fU.message.match(/SYLK bad record ID/)&&n)throw fU;return jA.to_workbook(e,t)}}(a,r);break;case 84:if(65===n[1]&&66===n[2]&&76===n[3])return NA.to_workbook(a,r);break;case 80:return 75===n[1]&&n[2]<9&&n[3]<9?function(e,t){var r=e,n=t||{};return n.type||(n.type=Zk&&Buffer.isBuffer(e)?"buffer":"base64"),BM(FS(r,n),n)}(a,r):XM(e,a,r,i);case 239:return 60===n[3]?xD(a,r):XM(e,a,r,i);case 255:if(254===n[1])return function(e,t){var r=e;return"base64"==t.type&&(r=Qk(r)),r=Kk.utils.decode(1200,r.slice(2),"str"),t.type="binary",WM(r,t)}(a,r);if(0===n[1]&&2===n[2]&&0===n[3])return kA.to_workbook(a,r);break;case 0:if(0===n[1]){if(n[2]>=2&&0===n[3])return kA.to_workbook(a,r);if(0===n[2]&&(8===n[3]||9===n[3]))return kA.to_workbook(a,r)}break;case 3:case 131:case 139:case 140:return yA.to_workbook(a,r);case 123:if(92===n[1]&&114===n[2]&&116===n[3])return QA.to_workbook(a,r);break;case 10:case 13:case 32:return function(e,t){var r="",n=$M(e,t);switch(t.type){case"base64":r=Qk(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=wS(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==n[0]&&187==n[1]&&191==n[2]&&(r=uO(r)),t.type="binary",WM(r,t)}(a,r);case 137:if(80===n[1]&&78===n[2]&&71===n[3])throw new Error("PNG Image File is not a spreadsheet")}return bA.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?yA.to_workbook(a,r):XM(e,a,r,i)}function qM(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return sS(t.file,nS.write(e,{type:Zk?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return nS.write(e,t)}function QM(e,t){var r={},n=Zk?"nodebuffer":"undefined"!==typeof Uint8Array?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?nS.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if("undefined"!==typeof Deno&&"string"==typeof a){if("binary"==t.type||"base64"==t.type)return a;a=new Uint8Array(nT(a))}return t.password&&"undefined"!==typeof encrypt_agile?qM(encrypt_agile(a,t.password),t):"file"===t.type?sS(t.file,a):"string"==t.type?uO(a):a}function ZM(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return qk(dO(n));case"binary":return dO(n);case"string":return e;case"file":return sS(t.file,n,"utf8");case"buffer":return Zk?Jk(n,"utf8"):"undefined"!==typeof TextEncoder?(new TextEncoder).encode(n):ZM(n,{type:"binary"}).split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}function JM(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return"base64"==t.type?qk(r):"string"==t.type?uO(r):r;case"file":return sS(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function eL(e,t){Bk(),BH(e);var r=jS(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),"array"==r.type){r.type="binary";var n=eL(e,r);return r.type="array",nT(n)}var a=0;if(r.sheet&&(a="number"==typeof r.sheet?r.sheet:e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return ZM(jD(e,r),r);case"slk":case"sylk":return ZM(vA.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return ZM(ZD(e.Sheets[e.SheetNames[a]],r),r);case"txt":return function(e,t){switch(t.type){case"base64":return qk(e);case"binary":case"string":return e;case"file":return sS(t.file,e,"binary");case"buffer":return Zk?Jk(e,"binary"):e.split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}(lL(e.Sheets[e.SheetNames[a]],r),r);case"csv":return ZM(oL(e.Sheets[e.SheetNames[a]],r),r,"\ufeff");case"dif":return ZM(NA.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return JM(yA.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return ZM(jA.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return ZM(QA.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return ZM(wA.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return ZM(cM(e,r),r);case"wk1":return JM(kA.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return JM(kA.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),JM($D(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),function(e,t){var r=t||{};return qM(HD(e,r),r)}(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function(e,t){var r=jS(t||{});return QM(VM(e,r),r)}(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function tL(e){if(!e.bookType){var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}function rL(e,t,r){var n=r||{};return n.type="file",n.file=t,tL(n),eL(e,n)}function nL(e,t,r,n,a,i,s,o){var l=L_(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,h=1===a?[]:{};if(1!==a)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch(fU){h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var f=t.s.c;f<=t.e.c;++f){var p=s?e[r][f]:e[n[f]+l];if(void 0!==p&&void 0!==p.t){var m=p.v;switch(p.t){case"z":if(null==m)break;continue;case"e":m=0==m?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(null!=i[f]){if(null==m)if("e"==p.t&&null===m)h[i[f]]=null;else if(void 0!==c)h[i[f]]=c;else{if(!u||null!==m)continue;h[i[f]]=null}else h[i[f]]=u&&("n"!==p.t||"n"===p.t&&!1!==o.rawNumbers)?m:$_(p,m,o);null!=m&&(d=!1)}}else{if(void 0===c)continue;null!=i[f]&&(h[i[f]]=c)}}return{row:h,isempty:d}}function aL(e,t){if(null==e||null==e["!ref"])return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=null!=c.range?c.range:e["!ref"];switch(1===c.header?n=1:"A"===c.header?n=2:Array.isArray(c.header)?n=3:null==c.header&&(n=0),typeof u){case"string":l=V_(u);break;case"number":(l=V_(e["!ref"])).s.r=u;break;default:l=u}n>0&&(a=0);var d=L_(l.s.r),h=[],f=[],p=0,m=0,g=Array.isArray(e),x=l.s.r,b=0,y={};g&&!e[x]&&(e[x]=[]);var v=c.skipHidden&&e["!cols"]||[],N=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(v[b]||{}).hidden)switch(h[b]=F_(b),r=g?e[x][b]:e[h[b]+d],n){case 1:i[b]=b-l.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=c.header[b-l.s.c];break;default:if(null==r&&(r={w:"__EMPTY",t:"s"}),o=s=$_(r,null,c),m=y[s]||0){do{o=s+"_"+m++}while(y[o]);y[s]=m,y[o]=1}else y[s]=1;i[b]=o}for(x=l.s.r+a;x<=l.e.r;++x)if(!(N[x]||{}).hidden){var w=nL(e,l,x,h,n,i,g,c);(!1===w.isempty||(1===n?!1!==c.blankrows:c.blankrows))&&(f[p++]=w.row)}return f.length=p,f}var iL=/"/g;function sL(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",d=L_(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var f=o.dense?(e[r]||[])[h]:e[n[h]+d];if(null==f)u="";else if(null!=f.v){l=!1,u=""+(o.rawNumbers&&"n"==f.t?f.v:$_(f,null,o));for(var p=0,m=0;p!==u.length;++p)if((m=u.charCodeAt(p))===a||m===i||34===m||o.forceQuotes){u='"'+u.replace(iL,'""')+'"';break}"ID"==u&&(u='"ID"')}else null==f.f||f.F?u="":(l=!1,(u="="+f.f).indexOf(",")>=0&&(u='"'+u.replace(iL,'""')+'"'));c.push(u)}return!1===o.blankrows&&l?null:c.join(s)}function oL(e,t){var r=[],n=null==t?{}:t;if(null==e||null==e["!ref"])return"";var a=V_(e["!ref"]),i=void 0!==n.FS?n.FS:",",s=i.charCodeAt(0),o=void 0!==n.RS?n.RS:"\n",l=o.charCodeAt(0),c=new RegExp(("|"==i?"\\|":i)+"+$"),u="",d=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],f=n.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(h[p]||{}).hidden||(d[p]=F_(p));for(var m=0,g=a.s.r;g<=a.e.r;++g)(f[g]||{}).hidden||null!=(u=sL(e,a,g,d,s,l,i,n))&&(n.strip&&(u=u.replace(c,"")),(u||!1!==n.blankrows)&&r.push((m++?o:"")+u));return delete n.dense,r.join("")}function lL(e,t){t||(t={}),t.FS="\t",t.RS="\n";var r=oL(e,t);if("undefined"==typeof Kk||"string"==t.type)return r;var n=Kk.utils.encode(1200,r,"str");return String.fromCharCode(255)+String.fromCharCode(254)+n}function cL(e,t,r){var n,a=r||{},i=+!a.skipHeader,s=e||{},o=0,l=0;if(s&&null!=a.origin)if("number"==typeof a.origin)o=a.origin;else{var c="string"==typeof a.origin?U_(a.origin):a.origin;o=c.r,l=c.c}var u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+i}};if(s["!ref"]){var d=V_(s["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),-1==o&&(o=d.e.r+1,u.e.r=o+t.length-1+i)}else-1==o&&(o=0,u.e.r=t.length-1+i);var h=a.header||[],f=0;t.forEach((function(e,t){oS(e).forEach((function(r){-1==(f=h.indexOf(r))&&(h[f=h.length]=r);var c=e[r],u="z",d="",p=G_({c:l+f,r:o+t+i});n=uL(s,p),!c||"object"!==typeof c||c instanceof Date?("number"==typeof c?u="n":"boolean"==typeof c?u="b":"string"==typeof c?u="s":c instanceof Date?(u="d",a.cellDates||(u="n",c=hS(c)),d=a.dateNF||bT[14]):null===c&&a.nullError&&(u="e",c=0),n?(n.t=u,n.v=c,delete n.w,delete n.R,d&&(n.z=d)):s[p]=n={t:u,v:c},d&&(n.z=d)):s[p]=c}))})),u.e.c=Math.max(u.e.c,l+h.length-1);var p=L_(o);if(i)for(f=0;f<h.length;++f)s[F_(f+l)+p]={t:"s",v:h[f]};return s["!ref"]=z_(u),s}function uL(e,t,r){if("string"==typeof t){if(Array.isArray(e)){var n=U_(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return uL(e,G_("number"!=typeof t?t:{r:t,c:r||0}))}function dL(){return{SheetNames:[],Sheets:{}}}function hL(e,t,r,n){var a=1;if(!r)for(;a<=65535&&-1!=e.SheetNames.indexOf(r="Sheet"+a);++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&-1!=e.SheetNames.indexOf(r=s+a);++a);}if(GH(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function fL(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}var pL={encode_col:F_,encode_row:L_,encode_cell:G_,encode_range:z_,decode_col:R_,decode_row:M_,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:U_,decode_range:B_,format_cell:$_,sheet_add_aoa:X_,sheet_add_json:cL,sheet_add_dom:JD,aoa_to_sheet:Y_,json_to_sheet:function(e,t){return cL(null,e,t)},table_to_sheet:eM,table_to_book:function(e,t){return W_(eM(e,t),t)},sheet_to_csv:oL,sheet_to_txt:lL,sheet_to_json:aL,sheet_to_html:ZD,sheet_to_formulae:function(e){var t,r="",n="";if(null==e||null==e["!ref"])return[];var a,i=V_(e["!ref"]),s="",o=[],l=[],c=Array.isArray(e);for(a=i.s.c;a<=i.e.c;++a)o[a]=F_(a);for(var u=i.s.r;u<=i.e.r;++u)for(s=L_(u),a=i.s.c;a<=i.e.c;++a)if(r=o[a]+s,n="",void 0!==(t=c?(e[u]||[])[a]:e[r])){if(null!=t.F){if(r=t.F,!t.f)continue;n=t.f,-1==r.indexOf(":")&&(r=r+":"+r)}if(null!=t.f)n=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)n=""+t.v;else if("b"==t.t)n=t.v?"TRUE":"FALSE";else if(void 0!==t.w)n="'"+t.w;else{if(void 0===t.v)continue;n="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=r+"="+n}return l},sheet_to_row_object_array:aL,sheet_get_cell:uL,book_new:dL,book_append_sheet:hL,book_set_sheet_visibility:function(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:fL,cell_set_internal_link:function(e,t,r){return fL(e,"#"+t,r)},cell_add_comment:function(e,t,r){e.c||(e.c=[]),e.c.push({t:t,a:r||"SheetJS"})},sheet_set_array_formula:function(e,t,r,n){for(var a="string"!=typeof t?t:V_(t),i="string"==typeof t?t:z_(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=uL(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};Dk.version;function mL(e){return mL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mL(e)}function gL(e){var t=function(e,t){if("object"!=mL(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=mL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mL(t)?t:t+""}function xL(e,t,r){return(t=gL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bL(Object(r),!0).forEach((function(t){xL(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function NL(e,t){if(e){if("string"==typeof e)return vL(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vL(e,t):void 0}}function wL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||NL(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jL(e,t){if(null==e)return{};var r,n,a=Co(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var kL=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function TL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gL(n.key),n)}}function SL(e){return SL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},SL(e)}function OL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(OL=function(){return!!e})()}function _L(e){var t=OL();return function(){var r,n=SL(e);if(t){var a=SL(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"==mL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Io(e)}(this,r)}}function EL(e){return function(e){if(Array.isArray(e))return vL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||NL(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var CL=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(fU){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),AL=Math.abs,IL=String.fromCharCode,PL=Object.assign;function HL(e){return e.trim()}function DL(e,t,r){return e.replace(t,r)}function ML(e,t){return e.indexOf(t)}function LL(e,t){return 0|e.charCodeAt(t)}function RL(e,t,r){return e.slice(t,r)}function FL(e){return e.length}function UL(e){return e.length}function GL(e,t){return t.push(e),e}var BL=1,zL=1,VL=0,KL=0,$L=0,WL="";function XL(e,t,r,n,a,i,s){return{value:e,root:t,parent:r,type:n,props:a,children:i,line:BL,column:zL,length:s,return:""}}function YL(e,t){return PL(XL("",null,null,"",null,null,0),e,{length:-e.length},t)}function qL(){return $L=KL>0?LL(WL,--KL):0,zL--,10===$L&&(zL=1,BL--),$L}function QL(){return $L=KL<VL?LL(WL,KL++):0,zL++,10===$L&&(zL=1,BL++),$L}function ZL(){return LL(WL,KL)}function JL(){return KL}function eR(e,t){return RL(WL,e,t)}function tR(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rR(e){return BL=zL=1,VL=FL(WL=e),KL=0,[]}function nR(e){return WL="",e}function aR(e){return HL(eR(KL-1,oR(91===e?e+2:40===e?e+1:e)))}function iR(e){for(;($L=ZL())&&$L<33;)QL();return tR(e)>2||tR($L)>3?"":" "}function sR(e,t){for(;--t&&QL()&&!($L<48||$L>102||$L>57&&$L<65||$L>70&&$L<97););return eR(e,JL()+(t<6&&32==ZL()&&32==QL()))}function oR(e){for(;QL();)switch($L){case e:return KL;case 34:case 39:34!==e&&39!==e&&oR($L);break;case 40:41===e&&oR(e);break;case 92:QL()}return KL}function lR(e,t){for(;QL()&&e+$L!==57&&(e+$L!==84||47!==ZL()););return"/*"+eR(t,KL-1)+"*"+IL(47===e?e:QL())}function cR(e){for(;!tR(ZL());)QL();return eR(e,KL)}var uR="-ms-",dR="-moz-",hR="-webkit-",fR="comm",pR="rule",mR="decl",gR="@keyframes";function xR(e,t){for(var r="",n=UL(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function bR(e,t,r,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case mR:return e.return=e.return||e.value;case fR:return"";case gR:return e.return=e.value+"{"+xR(e.children,n)+"}";case pR:e.value=e.props.join(",")}return FL(r=xR(e.children,n))?e.return=e.value+"{"+r+"}":""}function yR(e){return function(t){t.root||(t=t.return)&&e(t)}}function vR(e){return nR(NR("",null,null,null,[""],e=rR(e),0,[0],e))}function NR(e,t,r,n,a,i,s,o,l){for(var c=0,u=0,d=s,h=0,f=0,p=0,m=1,g=1,x=1,b=0,y="",v=a,N=i,w=n,j=y;g;)switch(p=b,b=QL()){case 40:if(108!=p&&58==LL(j,d-1)){-1!=ML(j+=DL(aR(b),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:j+=aR(b);break;case 9:case 10:case 13:case 32:j+=iR(p);break;case 92:j+=sR(JL()-1,7);continue;case 47:switch(ZL()){case 42:case 47:GL(jR(lR(QL(),JL()),t,r),l);break;default:j+="/"}break;case 123*m:o[c++]=FL(j)*x;case 125*m:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+u:-1==x&&(j=DL(j,/\f/g,"")),f>0&&FL(j)-d&&GL(f>32?kR(j+";",n,r,d-1):kR(DL(j," ","")+";",n,r,d-2),l);break;case 59:j+=";";default:if(GL(w=wR(j,t,r,c,u,a,o,y,v=[],N=[],d),i),123===b)if(0===u)NR(j,t,w,w,v,i,d,o,N);else switch(99===h&&110===LL(j,3)?100:h){case 100:case 108:case 109:case 115:NR(e,w,w,n&&GL(wR(e,w,w,0,0,a,o,y,a,v=[],d),N),a,N,d,o,n?v:N);break;default:NR(j,w,w,w,[""],N,0,o,N)}}c=u=f=0,m=x=1,y=j="",d=s;break;case 58:d=1+FL(j),f=p;default:if(m<1)if(123==b)--m;else if(125==b&&0==m++&&125==qL())continue;switch(j+=IL(b),b*m){case 38:x=u>0?1:(j+="\f",-1);break;case 44:o[c++]=(FL(j)-1)*x,x=1;break;case 64:45===ZL()&&(j+=aR(QL())),h=ZL(),u=d=FL(y=j+=cR(JL())),b++;break;case 45:45===p&&2==FL(j)&&(m=0)}}return i}function wR(e,t,r,n,a,i,s,o,l,c,u){for(var d=a-1,h=0===a?i:[""],f=UL(h),p=0,m=0,g=0;p<n;++p)for(var x=0,b=RL(e,d+1,d=AL(m=s[p])),y=e;x<f;++x)(y=HL(m>0?h[x]+" "+b:DL(b,/&\f/g,h[x])))&&(l[g++]=y);return XL(e,t,r,0===a?pR:o,l,c,u)}function jR(e,t,r){return XL(e,t,r,fR,IL($L),RL(e,2,-2),0)}function kR(e,t,r,n){return XL(e,t,r,mR,RL(e,0,n),RL(e,n+1,-1),n)}var TR=function(e,t,r){for(var n=0,a=0;n=a,a=ZL(),38===n&&12===a&&(t[r]=1),!tR(a);)QL();return eR(e,KL)},SR=function(e,t){return nR(function(e,t){var r=-1,n=44;do{switch(tR(n)){case 0:38===n&&12===ZL()&&(t[r]=1),e[r]+=TR(KL-1,t,r);break;case 2:e[r]+=aR(n);break;case 4:if(44===n){e[++r]=58===ZL()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=IL(n)}}while(n=QL());return e}(rR(e),t))},OR=new WeakMap,_R=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||OR.get(r))&&!n){OR.set(e,!0);for(var a=[],i=SR(t,a),s=r.props,o=0,l=0;o<i.length;o++)for(var c=0;c<s.length;c++,l++)e.props[l]=a[o]?i[o].replace(/&\f/g,s[c]):s[c]+" "+i[o]}}},ER=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function CR(e,t){switch(function(e,t){return 45^LL(e,0)?(((t<<2^LL(e,0))<<2^LL(e,1))<<2^LL(e,2))<<2^LL(e,3):0}(e,t)){case 5103:return hR+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return hR+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return hR+e+dR+e+uR+e+e;case 6828:case 4268:return hR+e+uR+e+e;case 6165:return hR+e+uR+"flex-"+e+e;case 5187:return hR+e+DL(e,/(\w+).+(:[^]+)/,hR+"box-$1$2"+uR+"flex-$1$2")+e;case 5443:return hR+e+uR+"flex-item-"+DL(e,/flex-|-self/,"")+e;case 4675:return hR+e+uR+"flex-line-pack"+DL(e,/align-content|flex-|-self/,"")+e;case 5548:return hR+e+uR+DL(e,"shrink","negative")+e;case 5292:return hR+e+uR+DL(e,"basis","preferred-size")+e;case 6060:return hR+"box-"+DL(e,"-grow","")+hR+e+uR+DL(e,"grow","positive")+e;case 4554:return hR+DL(e,/([^-])(transform)/g,"$1"+hR+"$2")+e;case 6187:return DL(DL(DL(e,/(zoom-|grab)/,hR+"$1"),/(image-set)/,hR+"$1"),e,"")+e;case 5495:case 3959:return DL(e,/(image-set\([^]*)/,hR+"$1$`$1");case 4968:return DL(DL(e,/(.+:)(flex-)?(.*)/,hR+"box-pack:$3"+uR+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+hR+e+e;case 4095:case 3583:case 4068:case 2532:return DL(e,/(.+)-inline(.+)/,hR+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(FL(e)-1-t>6)switch(LL(e,t+1)){case 109:if(45!==LL(e,t+4))break;case 102:return DL(e,/(.+:)(.+)-([^]+)/,"$1"+hR+"$2-$3$1"+dR+(108==LL(e,t+3)?"$3":"$2-$3"))+e;case 115:return~ML(e,"stretch")?CR(DL(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==LL(e,t+1))break;case 6444:switch(LL(e,FL(e)-3-(~ML(e,"!important")&&10))){case 107:return DL(e,":",":"+hR)+e;case 101:return DL(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+hR+(45===LL(e,14)?"inline-":"")+"box$3$1"+hR+"$2$3$1"+uR+"$2box$3")+e}break;case 5936:switch(LL(e,t+11)){case 114:return hR+e+uR+DL(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return hR+e+uR+DL(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return hR+e+uR+DL(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return hR+e+uR+e+e}return e}var AR=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case mR:e.return=CR(e.value,e.length);break;case gR:return xR([YL(e,{value:DL(e.value,"@","@"+hR)})],n);case pR:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return xR([YL(e,{props:[DL(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return xR([YL(e,{props:[DL(t,/:(plac\w+)/,":"+hR+"input-$1")]}),YL(e,{props:[DL(t,/:(plac\w+)/,":-moz-$1")]}),YL(e,{props:[DL(t,/:(plac\w+)/,uR+"input-$1")]})],n)}return""}))}}],IR=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var n,a,i=e.stylisPlugins||AR,s={},o=[];n=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)s[t[r]]=!0;o.push(e)}));var l,c=[_R,ER],u=[bR,yR((function(e){l.insert(e)}))],d=function(e){var t=UL(e);return function(r,n,a,i){for(var s="",o=0;o<t;o++)s+=e[o](r,n,a,i)||"";return s}}(c.concat(i,u));a=function(e,t,r,n){l=r,xR(vR(e?e+"{"+t.styles+"}":t.styles),d),n&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new CL({key:t,container:n,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return h.sheet.hydrate(o),h};var PR=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)};var HR={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function DR(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}var MR=/[A-Z]|^ms/g,LR=/_EMO_([^_]+?)_([^]*?)_EMO_/g,RR=function(e){return 45===e.charCodeAt(1)},FR=function(e){return null!=e&&"boolean"!==typeof e},UR=DR((function(e){return RR(e)?e:e.replace(MR,"-$&").toLowerCase()})),GR=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(LR,(function(e,t,r){return zR={name:t,styles:r,next:zR},t}))}return 1===HR[e]||RR(e)||"number"!==typeof t||0===t?t:t+"px"};function BR(e,t,r){if(null==r)return"";var n=r;if(void 0!==n.__emotion_styles)return n;switch(typeof r){case"boolean":return"";case"object":var a=r;if(1===a.anim)return zR={name:a.name,styles:a.styles,next:zR},a.name;var i=r;if(void 0!==i.styles){var s=i.next;if(void 0!==s)for(;void 0!==s;)zR={name:s.name,styles:s.styles,next:zR},s=s.next;return i.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=BR(e,t,r[a])+";";else for(var i in r){var s=r[i];if("object"!==typeof s){var o=s;null!=t&&void 0!==t[o]?n+=i+"{"+t[o]+"}":FR(o)&&(n+=UR(i)+":"+GR(i,o)+";")}else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=BR(e,t,s);switch(i){case"animation":case"animationName":n+=UR(i)+":"+l+";";break;default:n+=i+"{"+l+"}"}}else for(var c=0;c<s.length;c++)FR(s[c])&&(n+=UR(i)+":"+GR(i,s[c])+";")}return n}(e,t,r);case"function":if(void 0!==e){var o=zR,l=r(e);return zR=o,BR(e,t,l)}}var c=r;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var zR,VR=/label:\s*([^\s;{]+)\s*(;|$)/g;function KR(e,t,r){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,a="";zR=void 0;var i=e[0];null==i||void 0===i.raw?(n=!1,a+=BR(r,t,i)):a+=i[0];for(var s=1;s<e.length;s++){if(a+=BR(r,t,e[s]),n)a+=i[s]}VR.lastIndex=0;for(var o,l="";null!==(o=VR.exec(a));)l+="-"+o[1];var c=function(e){for(var t,r=0,n=0,a=e.length;a>=4;++n,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(a){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}(a)+l;return{name:c,styles:a,next:zR}}var $R=!!a.useInsertionEffect&&a.useInsertionEffect,WR=$R||function(e){return e()},XR=($R||n.useLayoutEffect,n.createContext("undefined"!==typeof HTMLElement?IR({key:"css"}):null)),YR=(XR.Provider,function(e){return(0,n.forwardRef)((function(t,r){var a=(0,n.useContext)(XR);return e(t,a,r)}))}),qR=n.createContext({});var QR={}.hasOwnProperty,ZR="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",JR=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return PR(t,r,n),WR((function(){return function(e,t,r){PR(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+n:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}}(t,r,n)})),null},eF=YR((function(e,t,r){var a=e.css;"string"===typeof a&&void 0!==t.registered[a]&&(a=t.registered[a]);var i=e[ZR],s=[a],o="";"string"===typeof e.className?o=function(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):r&&(n+=r+" ")})),n}(t.registered,s,e.className):null!=e.className&&(o=e.className+" ");var l=KR(s,void 0,n.useContext(qR));o+=t.key+"-"+l.name;var c={};for(var u in e)QR.call(e,u)&&"css"!==u&&u!==ZR&&(c[u]=e[u]);return c.className=o,r&&(c.ref=r),n.createElement(n.Fragment,null,n.createElement(JR,{cache:t,serialized:l,isStringTag:"string"===typeof i}),n.createElement(i,c))})),tF=eF,rF=(r(219),function(e,t){var r=arguments;if(null==t||!QR.call(t,"css"))return n.createElement.apply(void 0,r);var a=r.length,i=new Array(a);i[0]=tF,i[1]=function(e,t){var r={};for(var n in t)QR.call(t,n)&&(r[n]=t[n]);return r[ZR]=e,r}(e,t);for(var s=2;s<a;s++)i[s]=r[s];return n.createElement.apply(null,i)});function nF(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return KR(t)}const aF=Math.min,iF=Math.max,sF=Math.round,oF=Math.floor,lF=e=>({x:e,y:e});function cF(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function uF(){return"undefined"!==typeof window}function dF(e){return pF(e)?(e.nodeName||"").toLowerCase():"#document"}function hF(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function fF(e){var t;return null==(t=(pF(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function pF(e){return!!uF()&&(e instanceof Node||e instanceof hF(e).Node)}function mF(e){return!!uF()&&(e instanceof Element||e instanceof hF(e).Element)}function gF(e){return!!uF()&&(e instanceof HTMLElement||e instanceof hF(e).HTMLElement)}function xF(e){return!(!uF()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof hF(e).ShadowRoot)}function bF(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=NF(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function yF(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function vF(e){return["html","body","#document"].includes(dF(e))}function NF(e){return hF(e).getComputedStyle(e)}function wF(e){if("html"===dF(e))return e;const t=e.assignedSlot||e.parentNode||xF(e)&&e.host||fF(e);return xF(t)?t.host:t}function jF(e){const t=wF(e);return vF(t)?e.ownerDocument?e.ownerDocument.body:e.body:gF(t)&&bF(t)?t:jF(t)}function kF(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const a=jF(e),i=a===(null==(n=e.ownerDocument)?void 0:n.body),s=hF(a);if(i){const e=TF(s);return t.concat(s,s.visualViewport||[],bF(a)?a:[],e&&r?kF(e):[])}return t.concat(a,kF(a,[],r))}function TF(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function SF(e){const t=NF(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=gF(e),i=a?e.offsetWidth:r,s=a?e.offsetHeight:n,o=sF(r)!==i||sF(n)!==s;return o&&(r=i,n=s),{width:r,height:n,$:o}}function OF(e){return mF(e)?e:e.contextElement}function _F(e){const t=OF(e);if(!gF(t))return lF(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=SF(t);let s=(i?sF(r.width):r.width)/n,o=(i?sF(r.height):r.height)/a;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}const EF=lF(0);function CF(e){const t=hF(e);return yF()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:EF}function AF(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const a=e.getBoundingClientRect(),i=OF(e);let s=lF(1);t&&(n?mF(n)&&(s=_F(n)):s=_F(e));const o=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==hF(e))&&t}(i,r,n)?CF(i):lF(0);let l=(a.left+o.x)/s.x,c=(a.top+o.y)/s.y,u=a.width/s.x,d=a.height/s.y;if(i){const e=hF(i),t=n&&mF(n)?hF(n):n;let r=e,a=TF(r);for(;a&&n&&t!==r;){const e=_F(a),t=a.getBoundingClientRect(),n=NF(a),i=t.left+(a.clientLeft+parseFloat(n.paddingLeft))*e.x,s=t.top+(a.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=i,c+=s,r=hF(a),a=TF(r)}}return cF({width:u,height:d,x:l,y:c})}function IF(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function PF(e,t,r,n){void 0===n&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s="function"===typeof ResizeObserver,layoutShift:o="function"===typeof IntersectionObserver,animationFrame:l=!1}=n,c=OF(e),u=a||i?[...c?kF(c):[],...kF(t)]:[];u.forEach((e=>{a&&e.addEventListener("scroll",r,{passive:!0}),i&&e.addEventListener("resize",r)}));const d=c&&o?function(e,t){let r,n=null;const a=fF(e);function i(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return function s(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),i();const c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(o||t(),!h||!f)return;const p={rootMargin:-oF(d)+"px "+-oF(a.clientWidth-(u+h))+"px "+-oF(a.clientHeight-(d+f))+"px "+-oF(u)+"px",threshold:iF(0,aF(1,l))||1};let m=!0;function g(t){const n=t[0].intersectionRatio;if(n!==l){if(!m)return s();n?s(!1,n):r=setTimeout((()=>{s(!1,1e-7)}),1e3)}1!==n||IF(c,e.getBoundingClientRect())||s(),m=!1}try{n=new IntersectionObserver(g,{...p,root:a.ownerDocument})}catch(fU){n=new IntersectionObserver(g,p)}n.observe(e)}(!0),i}(c,r):null;let h,f=-1,p=null;s&&(p=new ResizeObserver((e=>{let[n]=e;n&&n.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),r()})),c&&!l&&p.observe(c),p.observe(t));let m=l?AF(e):null;return l&&function t(){const n=AF(e);m&&!IF(m,n)&&r();m=n,h=requestAnimationFrame(t)}(),r(),()=>{var e;u.forEach((e=>{a&&e.removeEventListener("scroll",r),i&&e.removeEventListener("resize",r)})),null==d||d(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(h)}}var HF=n.useLayoutEffect,DF=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],MF=function(){};function LF(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function RF(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var i=[].concat(n);if(t&&e)for(var s in t)t.hasOwnProperty(s)&&t[s]&&i.push("".concat(LF(e,s)));return i.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var FF=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===mL(e)&&null!==e?[e]:[];var t},UF=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,yL({},jL(e,DF))},GF=function(e,t,r){var n=e.cx,a=e.getStyles,i=e.getClassNames,s=e.className;return{css:a(t,e),className:n(null!==r&&void 0!==r?r:{},i(t,e),s)}};function BF(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function zF(e){return BF(e)?window.pageYOffset:e.scrollTop}function VF(e,t){BF(e)?window.scrollTo(0,t):e.scrollTop=t}function KF(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:MF,a=zF(e),i=t-a,s=0;!function t(){var o=function(e,t,r,n){return r*((e=e/n-1)*e*e+1)+t}(s+=10,a,i,r);VF(e,o),s<r?window.requestAnimationFrame(t):n(e)}()}function $F(e,t){var r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),a=t.offsetHeight/3;n.bottom+a>r.bottom?VF(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+a,e.scrollHeight)):n.top-a<r.top&&VF(e,Math.max(t.offsetTop-a,0))}function WF(){try{return document.createEvent("TouchEvent"),!0}catch(fU){return!1}}var XF=!1,YF={get passive(){return XF=!0}},qF="undefined"!==typeof window?window:{};qF.addEventListener&&qF.removeEventListener&&(qF.addEventListener("p",MF,YF),qF.removeEventListener("p",MF,!1));var QF=XF;function ZF(e){return null!=e}function JF(e,t,r){return e?t:r}var eU=["children","innerProps"],tU=["children","innerProps"];function rU(e){var t=e.maxHeight,r=e.menuEl,n=e.minHeight,a=e.placement,i=e.shouldScroll,s=e.isFixedPosition,o=e.controlHeight,l=function(e){var t=getComputedStyle(e),r="absolute"===t.position,n=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),(!r||"static"!==t.position)&&n.test(t.overflow+t.overflowY+t.overflowX))return a;return document.documentElement}(r),c={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return c;var u,d=l.getBoundingClientRect().height,h=r.getBoundingClientRect(),f=h.bottom,p=h.height,m=h.top,g=r.offsetParent.getBoundingClientRect().top,x=s?window.innerHeight:BF(u=l)?window.innerHeight:u.clientHeight,b=zF(l),y=parseInt(getComputedStyle(r).marginBottom,10),v=parseInt(getComputedStyle(r).marginTop,10),N=g-v,w=x-m,j=N+b,k=d-b-m,T=f-x+b+y,S=b+m-v,O=160;switch(a){case"auto":case"bottom":if(w>=p)return{placement:"bottom",maxHeight:t};if(k>=p&&!s)return i&&KF(l,T,O),{placement:"bottom",maxHeight:t};if(!s&&k>=n||s&&w>=n)return i&&KF(l,T,O),{placement:"bottom",maxHeight:s?w-y:k-y};if("auto"===a||s){var _=t,E=s?N:j;return E>=n&&(_=Math.min(E-y-o,t)),{placement:"top",maxHeight:_}}if("bottom"===a)return i&&VF(l,T),{placement:"bottom",maxHeight:t};break;case"top":if(N>=p)return{placement:"top",maxHeight:t};if(j>=p&&!s)return i&&KF(l,S,O),{placement:"top",maxHeight:t};if(!s&&j>=n||s&&N>=n){var C=t;return(!s&&j>=n||s&&N>=n)&&(C=s?N-v:j-v),i&&KF(l,S,O),{placement:"top",maxHeight:C}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return c}var nU,aU=function(e){return"auto"===e?"bottom":e},iU=(0,n.createContext)(null),sU=function(e){var t=e.children,r=e.minMenuHeight,a=e.maxMenuHeight,i=e.menuPlacement,s=e.menuPosition,o=e.menuShouldScrollIntoView,l=e.theme,c=((0,n.useContext)(iU)||{}).setPortalPlacement,u=(0,n.useRef)(null),d=wL((0,n.useState)(a),2),h=d[0],f=d[1],p=wL((0,n.useState)(null),2),m=p[0],g=p[1],x=l.spacing.controlHeight;return HF((function(){var e=u.current;if(e){var t="fixed"===s,n=rU({maxHeight:a,menuEl:e,minHeight:r,placement:i,shouldScroll:o&&!t,isFixedPosition:t,controlHeight:x});f(n.maxHeight),g(n.placement),null===c||void 0===c||c(n.placement)}}),[a,i,s,o,r,c,x]),t({ref:u,placerProps:yL(yL({},e),{},{placement:m||aU(i),maxHeight:h})})},oU=function(e){var t=e.children,r=e.innerRef,n=e.innerProps;return rF("div",Ao({},GF(e,"menu",{menu:!0}),{ref:r},n),t)},lU=function(e,t){var r=e.theme,n=r.spacing.baseUnit,a=r.colors;return yL({textAlign:"center"},t?{}:{color:a.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px")})},cU=lU,uU=lU,dU=["size"],hU=["innerProps","isRtl","size"];var fU,pU,mU={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},gU=function(e){var t=e.size,r=jL(e,dU);return rF("svg",Ao({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:mU},r))},xU=function(e){return rF(gU,Ao({size:20},e),rF("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},bU=function(e){return rF(gU,Ao({size:20},e),rF("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},yU=function(e,t){var r=e.isFocused,n=e.theme,a=n.spacing.baseUnit,i=n.colors;return yL({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?i.neutral60:i.neutral20,padding:2*a,":hover":{color:r?i.neutral80:i.neutral40}})},vU=yU,NU=yU,wU=function(){var e=nF.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(nU||(fU=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],pU||(pU=fU.slice(0)),nU=Object.freeze(Object.defineProperties(fU,{raw:{value:Object.freeze(pU)}})))),jU=function(e){var t=e.delay,r=e.offset;return rF("span",{css:nF({animation:"".concat(wU," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},kU=function(e){var t=e.children,r=e.isDisabled,n=e.isFocused,a=e.innerRef,i=e.innerProps,s=e.menuIsOpen;return rF("div",Ao({ref:a},GF(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":n,"control--menu-is-open":s}),i,{"aria-disabled":r||void 0}),t)},TU=["data"],SU=function(e){var t=e.children,r=e.cx,n=e.getStyles,a=e.getClassNames,i=e.Heading,s=e.headingProps,o=e.innerProps,l=e.label,c=e.theme,u=e.selectProps;return rF("div",Ao({},GF(e,"group",{group:!0}),o),rF(i,Ao({},s,{selectProps:u,theme:c,getStyles:n,getClassNames:a,cx:r}),l),rF("div",null,t))},OU=["innerRef","isDisabled","isHidden","inputClassName"],_U={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},EU={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":yL({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},_U)},CU=function(e){return yL({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},_U)},AU=function(e){var t=e.cx,r=e.value,n=UF(e),a=n.innerRef,i=n.isDisabled,s=n.isHidden,o=n.inputClassName,l=jL(n,OU);return rF("div",Ao({},GF(e,"input",{"input-container":!0}),{"data-value":r||""}),rF("input",Ao({className:t({input:!0},o),ref:a,style:CU(s),disabled:i},l)))},IU=function(e){var t=e.children,r=e.innerProps;return rF("div",r,t)};var PU=function(e){var t=e.children,r=e.components,n=e.data,a=e.innerProps,i=e.isDisabled,s=e.removeProps,o=e.selectProps,l=r.Container,c=r.Label,u=r.Remove;return rF(l,{data:n,innerProps:yL(yL({},GF(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),a),selectProps:o},rF(c,{data:n,innerProps:yL({},GF(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:o},t),rF(u,{data:n,innerProps:yL(yL({},GF(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},s),selectProps:o}))},HU={ClearIndicator:function(e){var t=e.children,r=e.innerProps;return rF("div",Ao({},GF(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||rF(xU,null))},Control:kU,DropdownIndicator:function(e){var t=e.children,r=e.innerProps;return rF("div",Ao({},GF(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||rF(bU,null))},DownChevron:bU,CrossIcon:xU,Group:SU,GroupHeading:function(e){var t=UF(e);t.data;var r=jL(t,TU);return rF("div",Ao({},GF(e,"groupHeading",{"group-heading":!0}),r))},IndicatorsContainer:function(e){var t=e.children,r=e.innerProps;return rF("div",Ao({},GF(e,"indicatorsContainer",{indicators:!0}),r),t)},IndicatorSeparator:function(e){var t=e.innerProps;return rF("span",Ao({},t,GF(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:AU,LoadingIndicator:function(e){var t=e.innerProps,r=e.isRtl,n=e.size,a=void 0===n?4:n,i=jL(e,hU);return rF("div",Ao({},GF(yL(yL({},i),{},{innerProps:t,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),rF(jU,{delay:0,offset:r}),rF(jU,{delay:160,offset:!0}),rF(jU,{delay:320,offset:!r}))},Menu:oU,MenuList:function(e){var t=e.children,r=e.innerProps,n=e.innerRef,a=e.isMulti;return rF("div",Ao({},GF(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:n},r),t)},MenuPortal:function(e){var t=e.appendTo,r=e.children,a=e.controlElement,i=e.innerProps,s=e.menuPlacement,o=e.menuPosition,l=(0,n.useRef)(null),c=(0,n.useRef)(null),u=wL((0,n.useState)(aU(s)),2),d=u[0],h=u[1],f=(0,n.useMemo)((function(){return{setPortalPlacement:h}}),[]),p=wL((0,n.useState)(null),2),m=p[0],g=p[1],x=(0,n.useCallback)((function(){if(a){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(a),t="fixed"===o?0:window.pageYOffset,r=e[d]+t;r===(null===m||void 0===m?void 0:m.offset)&&e.left===(null===m||void 0===m?void 0:m.rect.left)&&e.width===(null===m||void 0===m?void 0:m.rect.width)||g({offset:r,rect:e})}}),[a,o,d,null===m||void 0===m?void 0:m.offset,null===m||void 0===m?void 0:m.rect.left,null===m||void 0===m?void 0:m.rect.width]);HF((function(){x()}),[x]);var b=(0,n.useCallback)((function(){"function"===typeof c.current&&(c.current(),c.current=null),a&&l.current&&(c.current=PF(a,l.current,x,{elementResize:"ResizeObserver"in window}))}),[a,x]);HF((function(){b()}),[b]);var y=(0,n.useCallback)((function(e){l.current=e,b()}),[b]);if(!t&&"fixed"!==o||!m)return null;var v=rF("div",Ao({ref:y},GF(yL(yL({},e),{},{offset:m.offset,position:o,rect:m.rect}),"menuPortal",{"menu-portal":!0}),i),r);return rF(iU.Provider,{value:f},t?(0,Ne.createPortal)(v,t):v)},LoadingMessage:function(e){var t=e.children,r=void 0===t?"Loading...":t,n=e.innerProps,a=jL(e,tU);return rF("div",Ao({},GF(yL(yL({},a),{},{children:r,innerProps:n}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),n),r)},NoOptionsMessage:function(e){var t=e.children,r=void 0===t?"No options":t,n=e.innerProps,a=jL(e,eU);return rF("div",Ao({},GF(yL(yL({},a),{},{children:r,innerProps:n}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),n),r)},MultiValue:PU,MultiValueContainer:IU,MultiValueLabel:IU,MultiValueRemove:function(e){var t=e.children,r=e.innerProps;return rF("div",Ao({role:"button"},r),t||rF(xU,{size:14}))},Option:function(e){var t=e.children,r=e.isDisabled,n=e.isFocused,a=e.isSelected,i=e.innerRef,s=e.innerProps;return rF("div",Ao({},GF(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":n,"option--is-selected":a}),{ref:i,"aria-disabled":r},s),t)},Placeholder:function(e){var t=e.children,r=e.innerProps;return rF("div",Ao({},GF(e,"placeholder",{placeholder:!0}),r),t)},SelectContainer:function(e){var t=e.children,r=e.innerProps,n=e.isDisabled,a=e.isRtl;return rF("div",Ao({},GF(e,"container",{"--is-disabled":n,"--is-rtl":a}),r),t)},SingleValue:function(e){var t=e.children,r=e.isDisabled,n=e.innerProps;return rF("div",Ao({},GF(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),n),t)},ValueContainer:function(e){var t=e.children,r=e.innerProps,n=e.isMulti,a=e.hasValue;return rF("div",Ao({},GF(e,"valueContainer",{"value-container":!0,"value-container--is-multi":n,"value-container--has-value":a}),r),t)}},DU=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function MU(e,t){return e===t||!(!DU(e)||!DU(t))}function LU(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!MU(e[r],t[r]))return!1;return!0}for(var RU={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},FU=function(e){return rF("span",Ao({css:RU},e))},UU={guidance:function(e){var t=e.isSearchable,r=e.isMulti,n=e.tabSelectsValue,a=e.context,i=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(n?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,n=void 0===r?"":r,a=e.labels,i=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return"option ".concat(n,i?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,n=e.options,a=e.label,i=void 0===a?"":a,s=e.selectValue,o=e.isDisabled,l=e.isSelected,c=e.isAppleDevice,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&s)return"value ".concat(i," focused, ").concat(u(s,r),".");if("menu"===t&&c){var d=o?" disabled":"",h="".concat(l?" selected":"").concat(d);return"".concat(i).concat(h,", ").concat(u(n,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},GU=function(e){var t=e.ariaSelection,r=e.focusedOption,a=e.focusedValue,i=e.focusableOptions,s=e.isFocused,o=e.selectValue,l=e.selectProps,c=e.id,u=e.isAppleDevice,d=l.ariaLiveMessages,h=l.getOptionLabel,f=l.inputValue,p=l.isMulti,m=l.isOptionDisabled,g=l.isSearchable,x=l.menuIsOpen,b=l.options,y=l.screenReaderStatus,v=l.tabSelectsValue,N=l.isLoading,w=l["aria-label"],j=l["aria-live"],k=(0,n.useMemo)((function(){return yL(yL({},UU),d||{})}),[d]),T=(0,n.useMemo)((function(){var e,r="";if(t&&k.onChange){var n=t.option,a=t.options,i=t.removedValue,s=t.removedValues,l=t.value,c=i||n||(e=l,Array.isArray(e)?null:e),u=c?h(c):"",d=a||s||void 0,f=d?d.map(h):[],p=yL({isDisabled:c&&m(c,o),label:u,labels:f},t);r=k.onChange(p)}return r}),[t,k,m,o,h]),S=(0,n.useMemo)((function(){var e="",t=r||a,n=!!(r&&o&&o.includes(r));if(t&&k.onFocus){var s={focused:t,label:h(t),isDisabled:m(t,o),isSelected:n,options:i,context:t===r?"menu":"value",selectValue:o,isAppleDevice:u};e=k.onFocus(s)}return e}),[r,a,h,m,k,i,o,u]),O=(0,n.useMemo)((function(){var e="";if(x&&b.length&&!N&&k.onFilter){var t=y({count:i.length});e=k.onFilter({inputValue:f,resultsMessage:t})}return e}),[i,f,x,k,b,y,N]),_="initial-input-focus"===(null===t||void 0===t?void 0:t.action),E=(0,n.useMemo)((function(){var e="";if(k.guidance){var t=a?"value":x?"menu":"input";e=k.guidance({"aria-label":w,context:t,isDisabled:r&&m(r,o),isMulti:p,isSearchable:g,tabSelectsValue:v,isInitialFocus:_})}return e}),[w,r,a,p,m,g,x,k,o,v,_]),C=rF(n.Fragment,null,rF("span",{id:"aria-selection"},T),rF("span",{id:"aria-focused"},S),rF("span",{id:"aria-results"},O),rF("span",{id:"aria-guidance"},E));return rF(n.Fragment,null,rF(FU,{id:c},_&&C),rF(FU,{"aria-live":j,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},s&&!_&&C))},BU=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],zU=new RegExp("["+BU.map((function(e){return e.letters})).join("")+"]","g"),VU={},KU=0;KU<BU.length;KU++)for(var $U=BU[KU],WU=0;WU<$U.letters.length;WU++)VU[$U.letters[WU]]=$U.base;var XU=function(e){return e.replace(zU,(function(e){return VU[e]}))},YU=function(e,t){void 0===t&&(t=LU);var r=null;function n(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(r&&r.lastThis===this&&t(n,r.lastArgs))return r.lastResult;var i=e.apply(this,n);return r={lastResult:i,lastArgs:n,lastThis:this},i}return n.clear=function(){r=null},n}(XU),qU=function(e){return e.replace(/^\s+|\s+$/g,"")},QU=function(e){return"".concat(e.label," ").concat(e.value)},ZU=["innerRef"];function JU(e){var t=e.innerRef,r=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=Object.entries(e).filter((function(e){var t=wL(e,1)[0];return!r.includes(t)}));return a.reduce((function(e,t){var r=wL(t,2),n=r[0],a=r[1];return e[n]=a,e}),{})}(jL(e,ZU),"onExited","in","enter","exit","appear");return rF("input",Ao({ref:t},r,{css:nF({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var eG=["boxSizing","height","overflow","paddingRight","position"],tG={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function rG(e){e.cancelable&&e.preventDefault()}function nG(e){e.stopPropagation()}function aG(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;0===e?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function iG(){return"ontouchstart"in window||navigator.maxTouchPoints}var sG=!("undefined"===typeof window||!window.document||!window.document.createElement),oG=0,lG={capture:!1,passive:!1};var cG=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},uG={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function dG(e){var t=e.children,r=e.lockEnabled,a=e.captureEnabled,i=function(e){var t=e.isEnabled,r=e.onBottomArrive,a=e.onBottomLeave,i=e.onTopArrive,s=e.onTopLeave,o=(0,n.useRef)(!1),l=(0,n.useRef)(!1),c=(0,n.useRef)(0),u=(0,n.useRef)(null),d=(0,n.useCallback)((function(e,t){if(null!==u.current){var n=u.current,c=n.scrollTop,d=n.scrollHeight,h=n.clientHeight,f=u.current,p=t>0,m=d-h-c,g=!1;m>t&&o.current&&(a&&a(e),o.current=!1),p&&l.current&&(s&&s(e),l.current=!1),p&&t>m?(r&&!o.current&&r(e),f.scrollTop=d,g=!0,o.current=!0):!p&&-t>c&&(i&&!l.current&&i(e),f.scrollTop=0,g=!0,l.current=!0),g&&function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()}(e)}}),[r,a,i,s]),h=(0,n.useCallback)((function(e){d(e,e.deltaY)}),[d]),f=(0,n.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),p=(0,n.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;d(e,t)}),[d]),m=(0,n.useCallback)((function(e){if(e){var t=!!QF&&{passive:!1};e.addEventListener("wheel",h,t),e.addEventListener("touchstart",f,t),e.addEventListener("touchmove",p,t)}}),[p,f,h]),g=(0,n.useCallback)((function(e){e&&(e.removeEventListener("wheel",h,!1),e.removeEventListener("touchstart",f,!1),e.removeEventListener("touchmove",p,!1))}),[p,f,h]);return(0,n.useEffect)((function(){if(t){var e=u.current;return m(e),function(){g(e)}}}),[t,m,g]),function(e){u.current=e}}({isEnabled:void 0===a||a,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),s=function(e){var t=e.isEnabled,r=e.accountForScrollbars,a=void 0===r||r,i=(0,n.useRef)({}),s=(0,n.useRef)(null),o=(0,n.useCallback)((function(e){if(sG){var t=document.body,r=t&&t.style;if(a&&eG.forEach((function(e){var t=r&&r[e];i.current[e]=t})),a&&oG<1){var n=parseInt(i.current.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,o=window.innerWidth-s+n||0;Object.keys(tG).forEach((function(e){var t=tG[e];r&&(r[e]=t)})),r&&(r.paddingRight="".concat(o,"px"))}t&&iG()&&(t.addEventListener("touchmove",rG,lG),e&&(e.addEventListener("touchstart",aG,lG),e.addEventListener("touchmove",nG,lG))),oG+=1}}),[a]),l=(0,n.useCallback)((function(e){if(sG){var t=document.body,r=t&&t.style;oG=Math.max(oG-1,0),a&&oG<1&&eG.forEach((function(e){var t=i.current[e];r&&(r[e]=t)})),t&&iG()&&(t.removeEventListener("touchmove",rG,lG),e&&(e.removeEventListener("touchstart",aG,lG),e.removeEventListener("touchmove",nG,lG)))}}),[a]);return(0,n.useEffect)((function(){if(t){var e=s.current;return o(e),function(){l(e)}}}),[t,o,l]),function(e){s.current=e}}({isEnabled:r});return rF(n.Fragment,null,r&&rF("div",{onClick:cG,css:uG}),t((function(e){i(e),s(e)})))}var hG={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},fG=function(e){var t=e.name,r=e.onFocus;return rF("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:hG,value:"",onChange:function(){}})};function pG(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function mG(){return pG(/^Mac/i)}function gG(){return pG(/^iPhone/i)||pG(/^iPad/i)||mG()&&navigator.maxTouchPoints>1}var xG={clearIndicator:NU,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var r=e.isDisabled,n=e.isFocused,a=e.theme,i=a.colors,s=a.borderRadius;return yL({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?i.neutral5:i.neutral0,borderColor:r?i.neutral10:n?i.primary:i.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:n?i.primary:i.neutral30}})},dropdownIndicator:vU,group:function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:2*r.baseUnit,paddingTop:2*r.baseUnit}},groupHeading:function(e,t){var r=e.theme,n=r.colors,a=r.spacing;return yL({label:"group",cursor:"default",display:"block"},t?{}:{color:n.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*a.baseUnit,paddingRight:3*a.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var r=e.isDisabled,n=e.theme,a=n.spacing.baseUnit,i=n.colors;return yL({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?i.neutral10:i.neutral20,marginBottom:2*a,marginTop:2*a})},input:function(e,t){var r=e.isDisabled,n=e.value,a=e.theme,i=a.spacing,s=a.colors;return yL(yL({visibility:r?"hidden":"visible",transform:n?"translateZ(0)":""},EU),t?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:s.neutral80})},loadingIndicator:function(e,t){var r=e.isFocused,n=e.size,a=e.theme,i=a.colors,s=a.spacing.baseUnit;return yL({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?i.neutral60:i.neutral20,padding:2*s})},loadingMessage:uU,menu:function(e,t){var r,n=e.placement,a=e.theme,i=a.borderRadius,s=a.spacing,o=a.colors;return yL((xL(r={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),xL(r,"position","absolute"),xL(r,"width","100%"),xL(r,"zIndex",1),r),t?{}:{backgroundColor:o.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},menuList:function(e,t){var r=e.maxHeight,n=e.theme.spacing.baseUnit;return yL({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:n,paddingTop:n})},menuPortal:function(e){var t=e.rect,r=e.offset,n=e.position;return{left:t.left,position:n,top:r,width:t.width,zIndex:1}},multiValue:function(e,t){var r=e.theme,n=r.spacing,a=r.borderRadius,i=r.colors;return yL({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:i.neutral10,borderRadius:a/2,margin:n.baseUnit/2})},multiValueLabel:function(e,t){var r=e.theme,n=r.borderRadius,a=r.colors,i=e.cropWithEllipsis;return yL({overflow:"hidden",textOverflow:i||void 0===i?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:n/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var r=e.theme,n=r.spacing,a=r.borderRadius,i=r.colors,s=e.isFocused;return yL({alignItems:"center",display:"flex"},t?{}:{borderRadius:a/2,backgroundColor:s?i.dangerLight:void 0,paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},noOptionsMessage:cU,option:function(e,t){var r=e.isDisabled,n=e.isFocused,a=e.isSelected,i=e.theme,s=i.spacing,o=i.colors;return yL({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:a?o.primary:n?o.primary25:"transparent",color:r?o.neutral20:a?o.neutral0:"inherit",padding:"".concat(2*s.baseUnit,"px ").concat(3*s.baseUnit,"px"),":active":{backgroundColor:r?void 0:a?o.primary:o.primary50}})},placeholder:function(e,t){var r=e.theme,n=r.spacing,a=r.colors;return yL({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:a.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2})},singleValue:function(e,t){var r=e.isDisabled,n=e.theme,a=n.spacing,i=n.colors;return yL({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?i.neutral40:i.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},valueContainer:function(e,t){var r=e.theme.spacing,n=e.isMulti,a=e.hasValue,i=e.selectProps.controlShouldRenderValue;return yL({alignItems:"center",display:n&&a&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(2*r.baseUnit,"px")})}};var bG={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},yG={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:WF(),captureMenuScroll:!WF(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e){return function(t,r){if(t.data.__isNew__)return!0;var n=yL({ignoreCase:!0,ignoreAccents:!0,stringify:QU,trim:!0,matchFrom:"any"},e),a=n.ignoreCase,i=n.ignoreAccents,s=n.stringify,o=n.trim,l=n.matchFrom,c=o?qU(r):r,u=o?qU(s(t)):s(t);return a&&(c=c.toLowerCase(),u=u.toLowerCase()),i&&(c=YU(c),u=XU(u)),"start"===l?u.substr(0,c.length)===c:u.indexOf(c)>-1}}(),formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(fU){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function vG(e,t,r,n){return{type:"option",data:t,isDisabled:_G(e,t,r),isSelected:EG(e,t,r),label:SG(e,t),value:OG(e,t),index:n}}function NG(e,t){return e.options.map((function(r,n){if("options"in r){var a=r.options.map((function(r,n){return vG(e,r,t,n)})).filter((function(t){return kG(e,t)}));return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var i=vG(e,r,t,n);return kG(e,i)?i:void 0})).filter(ZF)}function wG(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,EL(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function jG(e,t){return e.reduce((function(e,r){return"group"===r.type?e.push.apply(e,EL(r.options.map((function(e){return{data:e.data,id:"".concat(t,"-").concat(r.index,"-").concat(e.index)}})))):e.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),e}),[])}function kG(e,t){var r=e.inputValue,n=void 0===r?"":r,a=t.data,i=t.isSelected,s=t.label,o=t.value;return(!AG(e)||!i)&&CG(e,{label:s,value:o,data:a},n)}var TG=function(e,t){var r;return(null===(r=e.find((function(e){return e.data===t})))||void 0===r?void 0:r.id)||null},SG=function(e,t){return e.getOptionLabel(t)},OG=function(e,t){return e.getOptionValue(t)};function _G(e,t,r){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,r)}function EG(e,t,r){if(r.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,r);var n=OG(e,t);return r.some((function(t){return OG(e,t)===n}))}function CG(e,t,r){return!e.filterOption||e.filterOption(t,r)}var AG=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return void 0===t?r:t},IG=1,PG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Po(e,t)}(r,e);var t=_L(r);function r(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},n.blockOptionHover=!1,n.isComposing=!1,n.commonProps=void 0,n.initialTouchX=0,n.initialTouchY=0,n.openAfterFocus=!1,n.scrollToFocusedOptionOnUpdate=!1,n.userIsDragging=void 0,n.isAppleDevice=mG()||gG(),n.controlRef=null,n.getControlRef=function(e){n.controlRef=e},n.focusedOptionRef=null,n.getFocusedOptionRef=function(e){n.focusedOptionRef=e},n.menuListRef=null,n.getMenuListRef=function(e){n.menuListRef=e},n.inputRef=null,n.getInputRef=function(e){n.inputRef=e},n.focus=n.focusInput,n.blur=n.blurInput,n.onChange=function(e,t){var r=n.props,a=r.onChange,i=r.name;t.name=i,n.ariaOnChange(e,t),a(e,t)},n.setValue=function(e,t,r){var a=n.props,i=a.closeMenuOnSelect,s=a.isMulti,o=a.inputValue;n.onInputChange("",{action:"set-value",prevInputValue:o}),i&&(n.setState({inputIsHiddenAfterUpdate:!s}),n.onMenuClose()),n.setState({clearFocusValueOnUpdate:!0}),n.onChange(e,{action:t,option:r})},n.selectOption=function(e){var t=n.props,r=t.blurInputOnSelect,a=t.isMulti,i=t.name,s=n.state.selectValue,o=a&&n.isOptionSelected(e,s),l=n.isOptionDisabled(e,s);if(o){var c=n.getOptionValue(e);n.setValue(s.filter((function(e){return n.getOptionValue(e)!==c})),"deselect-option",e)}else{if(l)return void n.ariaOnChange(e,{action:"select-option",option:e,name:i});a?n.setValue([].concat(EL(s),[e]),"select-option",e):n.setValue(e,"select-option")}r&&n.blurInput()},n.removeValue=function(e){var t=n.props.isMulti,r=n.state.selectValue,a=n.getOptionValue(e),i=r.filter((function(e){return n.getOptionValue(e)!==a})),s=JF(t,i,i[0]||null);n.onChange(s,{action:"remove-value",removedValue:e}),n.focusInput()},n.clearValue=function(){var e=n.state.selectValue;n.onChange(JF(n.props.isMulti,[],null),{action:"clear",removedValues:e})},n.popValue=function(){var e=n.props.isMulti,t=n.state.selectValue,r=t[t.length-1],a=t.slice(0,t.length-1),i=JF(e,a,a[0]||null);r&&n.onChange(i,{action:"pop-value",removedValue:r})},n.getFocusedOptionId=function(e){return TG(n.state.focusableOptionsWithIds,e)},n.getFocusableOptionsWithIds=function(){return jG(NG(n.props,n.state.selectValue),n.getElementId("option"))},n.getValue=function(){return n.state.selectValue},n.cx=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return RF.apply(void 0,[n.props.classNamePrefix].concat(t))},n.getOptionLabel=function(e){return SG(n.props,e)},n.getOptionValue=function(e){return OG(n.props,e)},n.getStyles=function(e,t){var r=n.props.unstyled,a=xG[e](t,r);a.boxSizing="border-box";var i=n.props.styles[e];return i?i(a,t):a},n.getClassNames=function(e,t){var r,a;return null===(r=(a=n.props.classNames)[e])||void 0===r?void 0:r.call(a,t)},n.getElementId=function(e){return"".concat(n.state.instancePrefix,"-").concat(e)},n.getComponents=function(){return e=n.props,yL(yL({},HU),e.components);var e},n.buildCategorizedOptions=function(){return NG(n.props,n.state.selectValue)},n.getCategorizedOptions=function(){return n.props.menuIsOpen?n.buildCategorizedOptions():[]},n.buildFocusableOptions=function(){return wG(n.buildCategorizedOptions())},n.getFocusableOptions=function(){return n.props.menuIsOpen?n.buildFocusableOptions():[]},n.ariaOnChange=function(e,t){n.setState({ariaSelection:yL({value:e},t)})},n.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),n.focusInput())},n.onMenuMouseMove=function(e){n.blockOptionHover=!1},n.onControlMouseDown=function(e){if(!e.defaultPrevented){var t=n.props.openMenuOnClick;n.state.isFocused?n.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&n.onMenuClose():t&&n.openMenu("first"):(t&&(n.openAfterFocus=!0),n.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},n.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!n.props.isDisabled){var t=n.props,r=t.isMulti,a=t.menuIsOpen;n.focusInput(),a?(n.setState({inputIsHiddenAfterUpdate:!r}),n.onMenuClose()):n.openMenu("first"),e.preventDefault()}},n.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(n.clearValue(),e.preventDefault(),n.openAfterFocus=!1,"touchend"===e.type?n.focusInput():setTimeout((function(){return n.focusInput()})))},n.onScroll=function(e){"boolean"===typeof n.props.closeMenuOnScroll?e.target instanceof HTMLElement&&BF(e.target)&&n.props.onMenuClose():"function"===typeof n.props.closeMenuOnScroll&&n.props.closeMenuOnScroll(e)&&n.props.onMenuClose()},n.onCompositionStart=function(){n.isComposing=!0},n.onCompositionEnd=function(){n.isComposing=!1},n.onTouchStart=function(e){var t=e.touches,r=t&&t.item(0);r&&(n.initialTouchX=r.clientX,n.initialTouchY=r.clientY,n.userIsDragging=!1)},n.onTouchMove=function(e){var t=e.touches,r=t&&t.item(0);if(r){var a=Math.abs(r.clientX-n.initialTouchX),i=Math.abs(r.clientY-n.initialTouchY);n.userIsDragging=a>5||i>5}},n.onTouchEnd=function(e){n.userIsDragging||(n.controlRef&&!n.controlRef.contains(e.target)&&n.menuListRef&&!n.menuListRef.contains(e.target)&&n.blurInput(),n.initialTouchX=0,n.initialTouchY=0)},n.onControlTouchEnd=function(e){n.userIsDragging||n.onControlMouseDown(e)},n.onClearIndicatorTouchEnd=function(e){n.userIsDragging||n.onClearIndicatorMouseDown(e)},n.onDropdownIndicatorTouchEnd=function(e){n.userIsDragging||n.onDropdownIndicatorMouseDown(e)},n.handleInputChange=function(e){var t=n.props.inputValue,r=e.currentTarget.value;n.setState({inputIsHiddenAfterUpdate:!1}),n.onInputChange(r,{action:"input-change",prevInputValue:t}),n.props.menuIsOpen||n.onMenuOpen()},n.onInputFocus=function(e){n.props.onFocus&&n.props.onFocus(e),n.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(n.openAfterFocus||n.props.openMenuOnFocus)&&n.openMenu("first"),n.openAfterFocus=!1},n.onInputBlur=function(e){var t=n.props.inputValue;n.menuListRef&&n.menuListRef.contains(document.activeElement)?n.inputRef.focus():(n.props.onBlur&&n.props.onBlur(e),n.onInputChange("",{action:"input-blur",prevInputValue:t}),n.onMenuClose(),n.setState({focusedValue:null,isFocused:!1}))},n.onOptionHover=function(e){if(!n.blockOptionHover&&n.state.focusedOption!==e){var t=n.getFocusableOptions().indexOf(e);n.setState({focusedOption:e,focusedOptionId:t>-1?n.getFocusedOptionId(e):null})}},n.shouldHideSelectedOptions=function(){return AG(n.props)},n.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),n.focus()},n.onKeyDown=function(e){var t=n.props,r=t.isMulti,a=t.backspaceRemovesValue,i=t.escapeClearsValue,s=t.inputValue,o=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,u=t.onKeyDown,d=t.tabSelectsValue,h=t.openMenuOnFocus,f=n.state,p=f.focusedOption,m=f.focusedValue,g=f.selectValue;if(!l&&("function"!==typeof u||(u(e),!e.defaultPrevented))){switch(n.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||s)return;n.focusValue("previous");break;case"ArrowRight":if(!r||s)return;n.focusValue("next");break;case"Delete":case"Backspace":if(s)return;if(m)n.removeValue(m);else{if(!a)return;r?n.popValue():o&&n.clearValue()}break;case"Tab":if(n.isComposing)return;if(e.shiftKey||!c||!d||!p||h&&n.isOptionSelected(p,g))return;n.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(c){if(!p)return;if(n.isComposing)return;n.selectOption(p);break}return;case"Escape":c?(n.setState({inputIsHiddenAfterUpdate:!1}),n.onInputChange("",{action:"menu-close",prevInputValue:s}),n.onMenuClose()):o&&i&&n.clearValue();break;case" ":if(s)return;if(!c){n.openMenu("first");break}if(!p)return;n.selectOption(p);break;case"ArrowUp":c?n.focusOption("up"):n.openMenu("last");break;case"ArrowDown":c?n.focusOption("down"):n.openMenu("first");break;case"PageUp":if(!c)return;n.focusOption("pageup");break;case"PageDown":if(!c)return;n.focusOption("pagedown");break;case"Home":if(!c)return;n.focusOption("first");break;case"End":if(!c)return;n.focusOption("last");break;default:return}e.preventDefault()}},n.state.instancePrefix="react-select-"+(n.props.instanceId||++IG),n.state.selectValue=FF(e.value),e.menuIsOpen&&n.state.selectValue.length){var a=n.getFocusableOptionsWithIds(),i=n.buildFocusableOptions(),s=i.indexOf(n.state.selectValue[0]);n.state.focusableOptionsWithIds=a,n.state.focusedOption=i[s],n.state.focusedOptionId=TG(a,i[s])}return n}return function(e,t,r){t&&TL(e.prototype,t),r&&TL(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&$F(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isDisabled,n=t.menuIsOpen,a=this.state.isFocused;(a&&!r&&e.isDisabled||a&&n&&!e.menuIsOpen)&&this.focusInput(),a&&r&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):a||r||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&($F(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,r=this.state,n=r.selectValue,a=r.isFocused,i=this.buildFocusableOptions(),s="first"===e?0:i.length-1;if(!this.props.isMulti){var o=i.indexOf(n[0]);o>-1&&(s=o)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:i[s],focusedOptionId:this.getFocusedOptionId(i[s])},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,r=t.selectValue,n=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=r.indexOf(n);n||(a=-1);var i=r.length-1,s=-1;if(r.length){switch(e){case"previous":s=0===a?0:-1===a?i:a-1;break;case"next":a>-1&&a<i&&(s=a+1)}this.setState({inputIsHidden:-1!==s,focusedValue:r[s]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,r=this.state.focusedOption,n=this.getFocusableOptions();if(n.length){var a=0,i=n.indexOf(r);r||(i=-1),"up"===e?a=i>0?i-1:n.length-1:"down"===e?a=(i+1)%n.length:"pageup"===e?(a=i-t)<0&&(a=0):"pagedown"===e?(a=i+t)>n.length-1&&(a=n.length-1):"last"===e&&(a=n.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:n[a],focusedValue:null,focusedOptionId:this.getFocusedOptionId(n[a])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(bG):yL(yL({},bG),this.props.theme):bG}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,r=this.getStyles,n=this.getClassNames,a=this.getValue,i=this.selectOption,s=this.setValue,o=this.props,l=o.isMulti,c=o.isRtl,u=o.options;return{clearValue:e,cx:t,getStyles:r,getClassNames:n,getValue:a,hasValue:this.hasValue(),isMulti:l,isRtl:c,options:u,selectOption:i,selectProps:o,setValue:s,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,r=e.isMulti;return void 0===t?r:t}},{key:"isOptionDisabled",value:function(e,t){return _G(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return EG(this.props,e,t)}},{key:"filterOption",value:function(e,t){return CG(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var r=this.props.inputValue,n=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:r,selectValue:n})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,r=e.isSearchable,a=e.inputId,i=e.inputValue,s=e.tabIndex,o=e.form,l=e.menuIsOpen,c=e.required,u=this.getComponents().Input,d=this.state,h=d.inputIsHidden,f=d.ariaSelection,p=this.commonProps,m=a||this.getElementId("input"),g=yL(yL(yL({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},l&&{"aria-controls":this.getElementId("listbox")}),!r&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null===f||void 0===f?void 0:f.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return r?n.createElement(u,Ao({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:h,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:s,form:o,type:"text",value:i},g)):n.createElement(JU,Ao({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:MF,onFocus:this.onInputFocus,disabled:t,tabIndex:s,inputMode:"none",form:o,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),r=t.MultiValue,a=t.MultiValueContainer,i=t.MultiValueLabel,s=t.MultiValueRemove,o=t.SingleValue,l=t.Placeholder,c=this.commonProps,u=this.props,d=u.controlShouldRenderValue,h=u.isDisabled,f=u.isMulti,p=u.inputValue,m=u.placeholder,g=this.state,x=g.selectValue,b=g.focusedValue,y=g.isFocused;if(!this.hasValue()||!d)return p?null:n.createElement(l,Ao({},c,{key:"placeholder",isDisabled:h,isFocused:y,innerProps:{id:this.getElementId("placeholder")}}),m);if(f)return x.map((function(t,o){var l=t===b,u="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return n.createElement(r,Ao({},c,{components:{Container:a,Label:i,Remove:s},isFocused:l,isDisabled:h,key:u,index:o,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))}));if(p)return null;var v=x[0];return n.createElement(o,Ao({},c,{data:v,isDisabled:h}),this.formatOptionLabel(v,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,r=this.props,a=r.isDisabled,i=r.isLoading,s=this.state.isFocused;if(!this.isClearable()||!e||a||!this.hasValue()||i)return null;var o={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return n.createElement(e,Ao({},t,{innerProps:o,isFocused:s}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,r=this.props,a=r.isDisabled,i=r.isLoading,s=this.state.isFocused;if(!e||!i)return null;return n.createElement(e,Ao({},t,{innerProps:{"aria-hidden":"true"},isDisabled:a,isFocused:s}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,r=e.IndicatorSeparator;if(!t||!r)return null;var a=this.commonProps,i=this.props.isDisabled,s=this.state.isFocused;return n.createElement(r,Ao({},a,{isDisabled:i,isFocused:s}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,r=this.props.isDisabled,a=this.state.isFocused,i={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return n.createElement(e,Ao({},t,{innerProps:i,isDisabled:r,isFocused:a}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),r=t.Group,a=t.GroupHeading,i=t.Menu,s=t.MenuList,o=t.MenuPortal,l=t.LoadingMessage,c=t.NoOptionsMessage,u=t.Option,d=this.commonProps,h=this.state.focusedOption,f=this.props,p=f.captureMenuScroll,m=f.inputValue,g=f.isLoading,x=f.loadingMessage,b=f.minMenuHeight,y=f.maxMenuHeight,v=f.menuIsOpen,N=f.menuPlacement,w=f.menuPosition,j=f.menuPortalTarget,k=f.menuShouldBlockScroll,T=f.menuShouldScrollIntoView,S=f.noOptionsMessage,O=f.onMenuScrollToTop,_=f.onMenuScrollToBottom;if(!v)return null;var E,C=function(t,r){var a=t.type,i=t.data,s=t.isDisabled,o=t.isSelected,l=t.label,c=t.value,f=h===i,p=s?void 0:function(){return e.onOptionHover(i)},m=s?void 0:function(){return e.selectOption(i)},g="".concat(e.getElementId("option"),"-").concat(r),x={id:g,onClick:m,onMouseMove:p,onMouseOver:p,tabIndex:-1,role:"option","aria-selected":e.isAppleDevice?void 0:o};return n.createElement(u,Ao({},d,{innerProps:x,data:i,isDisabled:s,isSelected:o,key:g,label:l,type:a,value:c,isFocused:f,innerRef:f?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())E=this.getCategorizedOptions().map((function(t){if("group"===t.type){var i=t.data,s=t.options,o=t.index,l="".concat(e.getElementId("group"),"-").concat(o),c="".concat(l,"-heading");return n.createElement(r,Ao({},d,{key:l,data:i,options:s,Heading:a,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return C(e,"".concat(o,"-").concat(e.index))})))}if("option"===t.type)return C(t,"".concat(t.index))}));else if(g){var A=x({inputValue:m});if(null===A)return null;E=n.createElement(l,d,A)}else{var I=S({inputValue:m});if(null===I)return null;E=n.createElement(c,d,I)}var P={minMenuHeight:b,maxMenuHeight:y,menuPlacement:N,menuPosition:w,menuShouldScrollIntoView:T},H=n.createElement(sU,Ao({},d,P),(function(t){var r=t.ref,a=t.placerProps,o=a.placement,l=a.maxHeight;return n.createElement(i,Ao({},d,P,{innerRef:r,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:g,placement:o}),n.createElement(dG,{captureEnabled:p,onTopArrive:O,onBottomArrive:_,lockEnabled:k},(function(t){return n.createElement(s,Ao({},d,{innerRef:function(r){e.getMenuListRef(r),t(r)},innerProps:{role:"listbox","aria-multiselectable":d.isMulti,id:e.getElementId("listbox")},isLoading:g,maxHeight:l,focusedOption:h}),E)})))}));return j||"fixed"===w?n.createElement(o,Ao({},d,{appendTo:j,controlElement:this.controlRef,menuPlacement:N,menuPosition:w}),H):H}},{key:"renderFormField",value:function(){var e=this,t=this.props,r=t.delimiter,a=t.isDisabled,i=t.isMulti,s=t.name,o=t.required,l=this.state.selectValue;if(o&&!this.hasValue()&&!a)return n.createElement(fG,{name:s,onFocus:this.onValueInputFocus});if(s&&!a){if(i){if(r){var c=l.map((function(t){return e.getOptionValue(t)})).join(r);return n.createElement("input",{name:s,type:"hidden",value:c})}var u=l.length>0?l.map((function(t,r){return n.createElement("input",{key:"i-".concat(r),name:s,type:"hidden",value:e.getOptionValue(t)})})):n.createElement("input",{name:s,type:"hidden",value:""});return n.createElement("div",null,u)}var d=l[0]?this.getOptionValue(l[0]):"";return n.createElement("input",{name:s,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,r=t.ariaSelection,a=t.focusedOption,i=t.focusedValue,s=t.isFocused,o=t.selectValue,l=this.getFocusableOptions();return n.createElement(GU,Ao({},e,{id:this.getElementId("live-region"),ariaSelection:r,focusedOption:a,focusedValue:i,isFocused:s,selectValue:o,focusableOptions:l,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,r=e.IndicatorsContainer,a=e.SelectContainer,i=e.ValueContainer,s=this.props,o=s.className,l=s.id,c=s.isDisabled,u=s.menuIsOpen,d=this.state.isFocused,h=this.commonProps=this.getCommonProps();return n.createElement(a,Ao({},h,{className:o,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:d}),this.renderLiveRegion(),n.createElement(t,Ao({},h,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:d,menuIsOpen:u}),n.createElement(i,Ao({},h,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),n.createElement(r,Ao({},h,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=t.prevProps,n=t.clearFocusValueOnUpdate,a=t.inputIsHiddenAfterUpdate,i=t.ariaSelection,s=t.isFocused,o=t.prevWasFocused,l=t.instancePrefix,c=e.options,u=e.value,d=e.menuIsOpen,h=e.inputValue,f=e.isMulti,p=FF(u),m={};if(r&&(u!==r.value||c!==r.options||d!==r.menuIsOpen||h!==r.inputValue)){var g=d?function(e,t){return wG(NG(e,t))}(e,p):[],x=d?jG(NG(e,p),"".concat(l,"-option")):[],b=n?function(e,t){var r=e.focusedValue,n=e.selectValue.indexOf(r);if(n>-1){if(t.indexOf(r)>-1)return r;if(n<t.length)return t[n]}return null}(t,p):null,y=function(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}(t,g);m={selectValue:p,focusedOption:y,focusedOptionId:TG(x,y),focusableOptionsWithIds:x,focusedValue:b,clearFocusValueOnUpdate:!1}}var v=null!=a&&e!==r?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{},N=i,w=s&&o;return s&&!w&&(N={value:JF(f,p,p[0]||null),options:p,action:"initial-input-focus"},w=!o),"initial-input-focus"===(null===i||void 0===i?void 0:i.action)&&(N=null),yL(yL(yL({},m),v),{},{prevProps:e,ariaSelection:N,prevWasFocused:w})}}]),r}(n.Component);PG.defaultProps=yG;var HG=(0,n.forwardRef)((function(e,t){var r=function(e){var t=e.defaultInputValue,r=void 0===t?"":t,a=e.defaultMenuIsOpen,i=void 0!==a&&a,s=e.defaultValue,o=void 0===s?null:s,l=e.inputValue,c=e.menuIsOpen,u=e.onChange,d=e.onInputChange,h=e.onMenuClose,f=e.onMenuOpen,p=e.value,m=jL(e,kL),g=wL((0,n.useState)(void 0!==l?l:r),2),x=g[0],b=g[1],y=wL((0,n.useState)(void 0!==c?c:i),2),v=y[0],N=y[1],w=wL((0,n.useState)(void 0!==p?p:o),2),j=w[0],k=w[1],T=(0,n.useCallback)((function(e,t){"function"===typeof u&&u(e,t),k(e)}),[u]),S=(0,n.useCallback)((function(e,t){var r;"function"===typeof d&&(r=d(e,t)),b(void 0!==r?r:e)}),[d]),O=(0,n.useCallback)((function(){"function"===typeof f&&f(),N(!0)}),[f]),_=(0,n.useCallback)((function(){"function"===typeof h&&h(),N(!1)}),[h]),E=void 0!==l?l:x,C=void 0!==c?c:v,A=void 0!==p?p:j;return yL(yL({},m),{},{inputValue:E,menuIsOpen:C,onChange:T,onInputChange:S,onMenuClose:_,onMenuOpen:O,value:A})}(e);return n.createElement(PG,Ao({ref:t},r))})),DG=HG;const MG=e=>{if(!e)return"";if("string"===typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=new Date(e);if(isNaN(t.getTime()))return"";return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`},LG=e=>{if(!e)return null;if(e.includes("/")){const[t,r,n]=e.split("/").map(Number),a=new Date(n,r-1,t);return a.setHours(0,0,0,0),a}const t=new Date(e);return t.setHours(0,0,0,0),t},RG=e=>!e||isNaN(e)?"0 VN\u0110":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),FG=e=>!e||isNaN(e)?"0":new Intl.NumberFormat("vi-VN").format(e),UG=e=>{let{data:t}=e;const r=(0,n.useMemo)((()=>{const e=t.length,r=new Set;t.forEach((e=>{e["NH\xc2N S\u1ef0"]&&e["NH\xc2N S\u1ef0"].split(",").map((e=>e.trim())).filter(Boolean).forEach((e=>r.add(e)))}));const n=r.size,a=t.reduce(((e,t)=>e+parseFloat(t["KH\u1ed0I L\u01af\u1ee2NG"]||0)),0),i=t.reduce(((e,t)=>e+parseFloat(t["TH\xc0NH TI\u1ec0N"]||0)),0),s={};t.forEach((e=>{const t=e["T\u1ed4"];t&&(s[t]||(s[t]={count:0,khoiLuong:0,thanhTien:0,nhanSu:0}),s[t].count++,s[t].khoiLuong+=parseFloat(e["KH\u1ed0I L\u01af\u1ee2NG"]||0),s[t].thanhTien+=parseFloat(e["TH\xc0NH TI\u1ec0N"]||0),s[t].nhanSu+=parseInt(e["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"]||0))}));const o={};t.forEach((e=>{const t=e["C\xd4NG \u0110O\u1ea0N"];t&&(o[t]||(o[t]={count:0,khoiLuong:0,thanhTien:0,nhanSu:0}),o[t].count++,o[t].khoiLuong+=parseFloat(e["KH\u1ed0I L\u01af\u1ee2NG"]||0),o[t].thanhTien+=parseFloat(e["TH\xc0NH TI\u1ec0N"]||0),o[t].nhanSu+=parseInt(e["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"]||0))}));const l=Object.keys(o).length>0?Object.keys(o).reduce(((e,t)=>o[e].thanhTien>o[t].thanhTien?e:t)):"N/A";return{totalReports:e,totalNhanSu:n,totalKhoiLuong:a,totalThanhTien:i,uniqueTeams:Object.keys(s).length,uniqueStages:Object.keys(o).length,topStage:l}}),[t]),a=[{title:"T\u1ed5ng s\u1ed1 b\xe1o c\xe1o",value:r.totalReports,icon:(0,ar.jsx)(_k,{className:"w-5 h-5"}),bgColor:"bg-gradient-to-r from-purple-500 to-purple-600",textColor:"text-white"},{title:"T\u1ed5ng kh\u1ed1i l\u01b0\u1ee3ng",value:`${FG(r.totalKhoiLuong)}`,icon:(0,ar.jsx)(yr,{className:"w-5 h-5"}),bgColor:"bg-gradient-to-r from-blue-500 to-blue-600",textColor:"text-white"},{title:"T\u1ed5ng th\xe0nh ti\u1ec1n",value:RG(r.totalThanhTien),icon:(0,ar.jsx)(Ek,{className:"w-5 h-5"}),bgColor:"bg-gradient-to-r from-green-500 to-green-600",textColor:"text-white"},{title:"T\u1ed5ng l\u01b0\u1ee3t nh\xe2n s\u1ef1",value:`${r.totalNhanSu} l\u01b0\u1ee3t`,icon:(0,ar.jsx)(Ck,{className:"w-5 h-5"}),bgColor:"bg-gradient-to-r from-indigo-500 to-indigo-600",textColor:"text-white"},{title:"S\u1ed1 t\u1ed5 ho\u1ea1t \u0111\u1ed9ng",value:r.uniqueTeams,icon:(0,ar.jsx)(yr,{className:"w-5 h-5"}),bgColor:"bg-gradient-to-r from-teal-500 to-teal-600",textColor:"text-white"},{title:"S\u1ed1 c\xf4ng \u0111o\u1ea1n",value:r.uniqueStages,icon:(0,ar.jsx)(_k,{className:"w-5 h-5"}),bgColor:"bg-gradient-to-r from-orange-500 to-orange-600",textColor:"text-white"}];return(0,ar.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 mb-6",children:a.map(((e,t)=>(0,ar.jsx)("div",{className:`${e.bgColor} rounded-xl shadow-lg p-3 text-center transform hover:scale-105 transition-all duration-200`,children:(0,ar.jsxs)("div",{className:"flex flex-col items-center",children:[(0,ar.jsx)("div",{className:`${e.textColor} opacity-80 mb-1`,children:e.icon}),(0,ar.jsx)("h3",{className:`${e.textColor} text-xs font-medium mb-1 text-center leading-tight`,children:e.title}),(0,ar.jsx)("p",{className:`${e.textColor} text-sm lg:text-base font-bold`,children:e.value})]})},t)))})},GG=e=>{let{currentPage:t,totalPages:r,onPageChange:n,itemsPerPage:a,onItemsPerPageChange:i,totalItems:s}=e;return(0,ar.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mt-6",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("label",{className:"text-sm text-gray-600 whitespace-nowrap",children:"Hi\u1ec3n th\u1ecb:"}),(0,ar.jsxs)("select",{value:a,onChange:e=>i(Number(e.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-indigo-500 focus:border-indigo-500 bg-white",children:[(0,ar.jsx)("option",{value:10,children:"10 d\xf2ng"}),(0,ar.jsx)("option",{value:25,children:"25 d\xf2ng"}),(0,ar.jsx)("option",{value:50,children:"50 d\xf2ng"}),(0,ar.jsx)("option",{value:100,children:"100 d\xf2ng"})]}),(0,ar.jsxs)("span",{className:"text-sm text-gray-600",children:["(T\u1ed5ng: ",s," b\u1ea3n ghi)"]})]}),(0,ar.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,ar.jsx)("button",{onClick:()=>n(t-1),disabled:1===t,className:"p-2 rounded-md "+(1===t?"text-gray-400 cursor-not-allowed":"text-indigo-600 hover:bg-indigo-50"),children:(0,ar.jsx)(lk,{className:"h-5 w-5"})}),(0,ar.jsx)("div",{className:"flex space-x-1",children:Array.from({length:Math.min(5,r)},((e,a)=>{let i;return i=r<=5||t<=3?a+1:t>=r-2?r-4+a:t-2+a,(0,ar.jsx)("button",{onClick:()=>n(i),className:"w-8 h-8 flex items-center justify-center rounded-md "+(t===i?"bg-indigo-600 text-white":"text-gray-700 hover:bg-indigo-50"),children:i},i)}))}),(0,ar.jsx)("button",{onClick:()=>n(t+1),disabled:t===r,className:"p-2 rounded-md "+(t===r?"text-gray-400 cursor-not-allowed":"text-indigo-600 hover:bg-indigo-50"),children:(0,ar.jsx)(ek,{className:"h-5 w-5"})}),(0,ar.jsxs)("span",{className:"text-sm text-gray-600 ml-2",children:["Trang ",t," / ",r||1]})]})]})},BG=()=>{var e;const[t,r]=(0,n.useState)([]),[a,i]=(0,n.useState)([]),[s,o]=(0,n.useState)([]),[l,c]=(0,n.useState)([]),[u,d]=(0,n.useState)([]),[h,f]=(0,n.useState)("list"),[p,m]=(0,n.useState)(!1),[g,x]=(0,n.useState)(""),[b,y]=(0,n.useState)(1),[v,N]=(0,n.useState)(10),[w,j]=(0,n.useState)(!1),[k,T]=(0,n.useState)([]),[S,O]=(0,n.useState)(!1),[_,E]=(0,n.useState)({soXe:"",khachHang:"",startDate:null,endDate:null,allocationStatus:""}),[C,A]=(0,n.useState)(!1),[I,P]=(0,n.useState)(null),[H,D]=(0,n.useState)([]),[M,L]=(0,n.useState)(!1),[R,F]=(0,n.useState)(!1),[U,G]=(0,n.useState)(null),[B,z]=(0,n.useState)(""),[V,K]=(0,n.useState)(""),[$,W]=(0,n.useState)(!1),[X,Y]=(0,n.useState)(!1),[q,Q]=(0,n.useState)([]),[Z,J]=(0,n.useState)(new Set),ee={IDBC:"","NG\xc0Y":new Date,ID_NHAPBAOBI:"","T\xcaN H\xc0NG":"","T\u1ed4":"","C\xd4NG \u0110O\u1ea0N":"","\u0110\u01a0N V\u1eca T\xcdNH":"","PP T\xcdNH N\u0102NG SU\u1ea4T":"","KH\u1ed0I L\u01af\u1ee2NG":"","S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0":"","NH\xc2N S\u1ef0":[],"S\u1ed0 D\xc2Y":"","GHI CH\xda":"","NG\u01af\u1edcI NH\u1eacP":"","\u0110\u01a0N GI\xc1":"","TH\xc0NH TI\u1ec0N":"","L\u1ecaCH S\u1eec":""},[te,re]=(0,n.useState)(ee),ne=()=>(new Date).toLocaleString("vi-VN"),ae=()=>{const e=ut.getUserData();return(null===e||void 0===e?void 0:e["H\u1ecd v\xe0 T\xean"])||"Ng\u01b0\u1eddi d\xf9ng"},ie=(e,t)=>{const r=`[${ne()}] ${ae()} - ${t}`,n=e["L\u1ecaCH S\u1eec"]||"";return n?`${n}\n${r}`:r},se=(e,t)=>((parseFloat(e)||0)*(parseFloat(t)||0)).toString(),oe=()=>{const e=new Date;return s.filter((t=>{const r=new Date(t["HI\u1ec6U L\u1ef0C T\u1eea"]),n=new Date(t["HI\u1ec6U L\u1ef0C \u0110\u1ebeN"]);return e>=r&&e<=n}))},le=e=>oe().filter((t=>t["T\u1ed4"]===e)),ce=(e,t)=>{E((r=>({...r,[e]:t||null})))};(0,n.useEffect)((()=>{ue(),de(),fe(),he()}),[]);const ue=async()=>{try{const e=await ut.apiRequest("BC2","Find",{});r(e)}catch(e){console.error("Error fetching reports:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch b\xe1o c\xe1o")}},de=async()=>{try{const e=(await ut.apiRequest("DSNV","Find",{})).map((e=>({value:e["H\u1ecd v\xe0 T\xean"],label:e["H\u1ecd v\xe0 T\xean"]})));i(e)}catch(e){console.error("Error fetching staff list:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch nh\xe2n vi\xean")}},he=async()=>{try{const e=await ut.apiRequest("NHAPBAOBI","Find",{});d(e)}catch(e){console.error("Error fetching nhap bao bi list:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch nh\u1eadp bao b\xec")}},fe=async()=>{try{const e=await ut.apiRequest("TO_PBNS","Find",{});o(e);const t=new Date,r=e.filter((e=>{const r=new Date(e["HI\u1ec6U L\u1ef0C T\u1eea"]),n=new Date(e["HI\u1ec6U L\u1ef0C \u0110\u1ebeN"]);return t>=r&&t<=n})),n=[...new Set(r.map((e=>e["T\u1ed4"])))];c(n)}catch(e){console.error("Error fetching team work stages:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch t\u1ed5 c\xf4ng \u0111o\u1ea1n")}},pe=e=>{if(!e["L\u1ecaCH S\u1eec"])return void et.info("Ch\u01b0a c\xf3 l\u1ecbch s\u1eed cho b\xe1o c\xe1o n\xe0y");const t=e["L\u1ecaCH S\u1eec"].split("\n").filter((e=>""!==e.trim()));Q(t),Y(!0)},me=(0,n.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){const t=e["NH\xc2N S\u1ef0"]?e["NH\xc2N S\u1ef0"].split(",").map((e=>({value:e.trim(),label:e.trim()}))):[];re({IDBC:e.IDBC||"","NG\xc0Y":e["NG\xc0Y"]?new Date(e["NG\xc0Y"]):new Date,ID_NHAPBAOBI:e.ID_NHAPBAOBI||"","T\xcaN H\xc0NG":e["T\xcaN H\xc0NG"]||"","T\u1ed4":e["T\u1ed4"]||"","C\xd4NG \u0110O\u1ea0N":e["C\xd4NG \u0110O\u1ea0N"]||"","\u0110\u01a0N V\u1eca T\xcdNH":e["\u0110\u01a0N V\u1eca T\xcdNH"]||"","PP T\xcdNH N\u0102NG SU\u1ea4T":e["PP T\xcdNH N\u0102NG SU\u1ea4T"]||"","KH\u1ed0I L\u01af\u1ee2NG":e["KH\u1ed0I L\u01af\u1ee2NG"]||"","S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0":e["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"]||"","NH\xc2N S\u1ef0":t,"S\u1ed0 D\xc2Y":e["S\u1ed0 D\xc2Y"]||"","GHI CH\xda":e["GHI CH\xda"]||"","NG\u01af\u1edcI NH\u1eacP":e["NG\u01af\u1edcI NH\u1eacP"]||"","\u0110\u01a0N GI\xc1":e["\u0110\u01a0N GI\xc1"]||"","TH\xc0NH TI\u1ec0N":e["TH\xc0NH TI\u1ec0N"]||"","L\u1ecaCH S\u1eec":e["L\u1ecaCH S\u1eec"]||""})}else{const e=ut.getUserData();re({...ee,"NG\u01af\u1edcI NH\u1eacP":(null===e||void 0===e?void 0:e["H\u1ecd v\xe0 T\xean"])||""})}m(!0)}),[ee]),ge=(0,n.useCallback)((()=>{m(!1),re(ee)}),[ee]),xe=(0,n.useCallback)(((e,t)=>{re((r=>{const n={...r,[e]:t};return"KH\u1ed0I L\u01af\u1ee2NG"===e&&(n["TH\xc0NH TI\u1ec0N"]=se(t,r["\u0110\u01a0N GI\xc1"])),n}))}),[]),be=((0,n.useCallback)((e=>{re((t=>({...t,"NG\xc0Y":e})))}),[]),(0,n.useCallback)((e=>{re((t=>({...t,"NH\xc2N S\u1ef0":e||[],"S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0":e?e.length.toString():"0"})))}),[])),ye=(0,n.useCallback)((e=>{const t=[];return e["T\u1ed4"]||t.push("T\u1ed4 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e["C\xd4NG \u0110O\u1ea0N"]||t.push("C\xd4NG \u0110O\u1ea0N kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e["KH\u1ed0I L\u01af\u1ee2NG"]||t.push("KH\u1ed0I L\u01af\u1ee2NG kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e["NG\xc0Y"]||t.push("NG\xc0Y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e["NG\u01af\u1edcI NH\u1eacP"]||t.push("NG\u01af\u1edcI NH\u1eacP kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),t}),[]),ve=e=>{K("X\xf3a b\xe1o c\xe1o"),z("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a b\xe1o c\xe1o n\xe0y?"),G((async()=>{try{await ut.apiRequest("BC2","Delete",{Rows:[{IDBC:e}]}),et.success("X\xf3a b\xe1o c\xe1o th\xe0nh c\xf4ng!"),await ue()}catch(t){console.error("Error deleting report:",t),et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a b\xe1o c\xe1o")}})),F(!0)},Ne=(0,n.useMemo)((()=>t.filter((e=>{var t,r,n,a,i,s;const o=!g||(null===(t=e.IDBC)||void 0===t?void 0:t.toLowerCase().includes(g.toLowerCase()))||(null===(r=e["T\xcaN H\xc0NG"])||void 0===r?void 0:r.toLowerCase().includes(g.toLowerCase()))||(null===(n=e["T\u1ed4"])||void 0===n?void 0:n.toLowerCase().includes(g.toLowerCase()))||(null===(a=e["C\xd4NG \u0110O\u1ea0N"])||void 0===a?void 0:a.toLowerCase().includes(g.toLowerCase()))||(null===(i=e["NG\u01af\u1edcI NH\u1eacP"])||void 0===i?void 0:i.toLowerCase().includes(g.toLowerCase()))||(null===(s=e.ID_NHAPBAOBI)||void 0===s?void 0:s.toLowerCase().includes(g.toLowerCase())),l=!_.to||e["T\u1ed4"]===_.to,c=!_.congDoan||e["C\xd4NG \u0110O\u1ea0N"]===_.congDoan;let u=!0;if(_.startDate||_.endDate){const t=new Date(MG(e["NG\xc0Y"])),r=_.startDate?new Date(_.startDate):null,n=_.endDate?new Date(_.endDate):null;r&&n?u=t>=r&&t<=n:r?u=t>=r:n&&(u=t<=n)}return o&&l&&c&&u}))),[t,g,_]),we=(0,n.useMemo)((()=>{if("grouped"!==h)return null;const e={};return Ne.forEach((t=>{const r=new Date(t["NG\xc0Y"]).toLocaleDateString("vi-VN");e[r]||(e[r]=[]),e[r].push(t)})),Object.keys(e).sort(((e,t)=>{const r=LG(e);return LG(t)-r})).map((t=>({date:t,records:e[t],totalReports:e[t].length,totalKhoiLuong:e[t].reduce(((e,t)=>e+parseFloat(t["KH\u1ed0I L\u01af\u1ee2NG"]||0)),0),totalThanhTien:e[t].reduce(((e,t)=>e+parseFloat(t["TH\xc0NH TI\u1ec0N"]||0)),0),totalNhanSu:e[t].reduce(((e,t)=>e+parseInt(t["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"]||0)),0),teamStats:e[t].reduce(((e,t)=>{const r=t["T\u1ed4"];return e[r]||(e[r]={count:0,khoiLuong:0,thanhTien:0}),e[r].count++,e[r].khoiLuong+=parseFloat(t["KH\u1ed0I L\u01af\u1ee2NG"]||0),e[r].thanhTien+=parseFloat(t["TH\xc0NH TI\u1ec0N"]||0),e}),{})})))}),[Ne,h]),je=(0,n.useMemo)((()=>{const e=(b-1)*v;return Ne.slice(e,e+v)}),[Ne,b,v]),ke=Math.ceil(Ne.length/v);return(0,ar.jsxs)("div",{className:"p-4 md:p-6 bg-gray-50 min-h-screen",children:[(0,ar.jsx)("div",{className:"mx-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 mb-6 border border-gray-100",children:[(0,ar.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[(0,ar.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"B\xe1o c\xe1o s\u1ea3n l\u01b0\u1ee3ng"}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ar.jsxs)("button",{onClick:()=>O(!S),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(vk,{className:"w-4 h-4"}),S?"\u1ea8n b\u1ed9 l\u1ecdc":"B\u1ed9 l\u1ecdc"]}),(0,ar.jsxs)("button",{onClick:()=>A(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(Sk,{className:"w-4 h-4"}),"Nh\u1eadp Excel"]}),k.length>0&&(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("button",{onClick:()=>{if(0===k.length)return void et.warning("Vui l\xf2ng ch\u1ecdn b\xe1o c\xe1o \u0111\u1ec3 xu\u1ea5t file");const e=t.filter((e=>k.includes(e.IDBC))),r=e.map((e=>({IDBC:e.IDBC,"NG\xc0Y":e["NG\xc0Y"],ID_NHAPBAOBI:e.ID_NHAPBAOBI,"T\xcaN H\xc0NG":e["T\xcaN H\xc0NG"],"T\u1ed4":e["T\u1ed4"],"C\xd4NG \u0110O\u1ea0N":e["C\xd4NG \u0110O\u1ea0N"],"\u0110\u01a0N V\u1eca T\xcdNH":e["\u0110\u01a0N V\u1eca T\xcdNH"],"PP T\xcdNH N\u0102NG SU\u1ea4T":e["PP T\xcdNH N\u0102NG SU\u1ea4T"],"KH\u1ed0I L\u01af\u1ee2NG":e["KH\u1ed0I L\u01af\u1ee2NG"],"S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0":e["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"],"NH\xc2N S\u1ef0":e["NH\xc2N S\u1ef0"],"S\u1ed0 D\xc2Y":e["S\u1ed0 D\xc2Y"],"GHI CH\xda":e["GHI CH\xda"],"NG\u01af\u1edcI NH\u1eacP":e["NG\u01af\u1edcI NH\u1eacP"],"\u0110\u01a0N GI\xc1":e["\u0110\u01a0N GI\xc1"],"TH\xc0NH TI\u1ec0N":e["TH\xc0NH TI\u1ec0N"]}))),n=pL.json_to_sheet(r),a=pL.book_new();pL.book_append_sheet(a,n,"B\xe1o c\xe1o chi ti\u1ebft"),rL(a,`bao-cao-chi-tiet-${(new Date).toISOString().slice(0,10)}.xlsx`)},className:"px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(Ak,{className:"w-4 h-4"}),"Xu\u1ea5t file (",k.length,")"]}),(0,ar.jsxs)("button",{onClick:()=>{0!==k.length?(K("X\xf3a nhi\u1ec1u b\xe1o c\xe1o"),z(`B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a ${k.length} b\xe1o c\xe1o \u0111\xe3 ch\u1ecdn?`),G((async()=>{try{await Promise.all(k.map((e=>ut.apiRequest("BC2","Delete",{Rows:[{IDBC:e}]})))),et.success("X\xf3a b\xe1o c\xe1o th\xe0nh c\xf4ng!"),T([]),await ue()}catch(e){et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a b\xe1o c\xe1o")}})),F(!0)):et.warning("Vui l\xf2ng ch\u1ecdn b\xe1o c\xe1o \u0111\u1ec3 x\xf3a")},className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(Tk,{className:"w-4 h-4"}),"X\xf3a (",k.length,")"]})]}),(0,ar.jsxs)("button",{onClick:()=>me(),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(Nk,{className:"w-4 h-4"}),"Th\xeam b\xe1o c\xe1o"]}),(0,ar.jsx)("button",{onClick:()=>f("list"===h?"grouped":"list"),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 transition-colors shadow-sm",children:"list"===h?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)(Ik,{className:"w-4 h-4"}),"Nh\xf3m theo ng\xe0y"]}):(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)(Pk,{className:"w-4 h-4"}),"Danh s\xe1ch"]})})]})]}),S&&(0,ar.jsx)("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50 animate-fadeIn",children:(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\u1ed5"}),(0,ar.jsxs)("select",{value:_.to,onChange:e=>E({..._,to:e.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",children:[(0,ar.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3 t\u1ed5"}),l.map((e=>(0,ar.jsx)("option",{value:e,children:e},e)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"C\xf4ng \u0111o\u1ea1n"}),(0,ar.jsxs)("select",{value:_.congDoan,onChange:e=>E({..._,congDoan:e.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",children:[(0,ar.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3 c\xf4ng \u0111o\u1ea1n"}),Array.from(new Set(t.map((e=>e["C\xd4NG \u0110O\u1ea0N"])))).filter(Boolean).map((e=>(0,ar.jsx)("option",{value:e,children:e},e)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\u1eeb ng\xe0y"}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,ar.jsx)(Ik,{className:"w-4 h-4 text-gray-500"})}),(0,ar.jsx)("input",{type:"date",value:_.startDate||"",onChange:e=>ce("startDate",e.target.value),className:"pl-10 p-2 border rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u0110\u1ebfn ng\xe0y"}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,ar.jsx)(Ik,{className:"w-4 h-4 text-gray-500"})}),(0,ar.jsx)("input",{type:"date",value:_.endDate||"",onChange:e=>ce("endDate",e.target.value),className:"pl-10 p-2 border rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,ar.jsx)("div",{className:"flex items-end",children:(0,ar.jsx)("button",{onClick:()=>E({to:"",congDoan:"",startDate:null,endDate:null}),className:"w-full px-4 py-2 text-indigo-600 bg-indigo-50 border border-indigo-200 rounded-lg hover:bg-indigo-100 transition-colors",children:"X\xf3a b\u1ed9 l\u1ecdc"})})]})}),(0,ar.jsx)("div",{className:"mb-6",children:(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)(wk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,ar.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm theo ID nh\u1eadp bao b\xec, t\xean h\xe0ng, t\u1ed5, c\xf4ng \u0111o\u1ea1n, ng\u01b0\u1eddi nh\u1eadp...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:g,onChange:e=>x(e.target.value)})]})}),(0,ar.jsx)(UG,{data:Ne}),"list"===h?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:(0,ar.jsx)("div",{className:"inline-block min-w-full align-middle",children:(0,ar.jsx)("div",{className:"overflow-hidden border border-gray-200 rounded-lg",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gray-50",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{scope:"col",className:"p-4 text-left",children:(0,ar.jsx)("input",{type:"checkbox",checked:k.length===je.length&&je.length>0,onChange:e=>{e.target.checked?T(je.map((e=>e.IDBC))):T([])},className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Ng\xe0y"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"T\xean h\xe0ng"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"T\u1ed5"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"C\xf4ng \u0111o\u1ea1n"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Kh\u1ed1i l\u01b0\u1ee3ng"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"SL Nh\xe2n s\u1ef1"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Nh\xe2n s\u1ef1"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"S\u1ed1 d\xe2y"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"\u0110\u01a1n gi\xe1"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Th\xe0nh ti\u1ec1n"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Ng\u01b0\u1eddi nh\u1eadp"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"Thao t\xe1c"})]})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:je.map((e=>(0,ar.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,ar.jsx)("td",{className:"p-4 whitespace-nowrap",children:(0,ar.jsx)("input",{type:"checkbox",checked:k.includes(e.IDBC),onChange:t=>{t.target.checked?T([...k,e.IDBC]):T(k.filter((t=>t!==e.IDBC)))},className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:e["NG\xc0Y"]?new Date(e["NG\xc0Y"]).toLocaleDateString("vi-VN"):"N/A"}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:e["T\xcaN H\xc0NG"]}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,ar.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium",children:e["T\u1ed4"]})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:e["C\xd4NG \u0110O\u1ea0N"]}),(0,ar.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:[FG(e["KH\u1ed0I L\u01af\u1ee2NG"])," ",(0,ar.jsx)("span",{className:"text-gray-500 text-xs",children:e["\u0110\u01a0N V\u1eca T\xcdNH"]})]}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium text-indigo-600",children:e["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"]}),(0,ar.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 max-w-xs",children:(0,ar.jsx)("div",{className:"truncate",title:e["NH\xc2N S\u1ef0"],children:e["NH\xc2N S\u1ef0"]})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:e["S\u1ed0 D\xc2Y"]}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:FG(e["\u0110\u01a0N GI\xc1"])}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-green-600",children:RG(e["TH\xc0NH TI\u1ec0N"])}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:e["NG\u01af\u1edcI NH\u1eacP"]}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",children:(0,ar.jsxs)("div",{className:"flex justify-end space-x-1",children:[(0,ar.jsx)("button",{onClick:()=>me(e),className:"text-indigo-600 hover:text-indigo-900 p-1.5 rounded-full hover:bg-indigo-50",title:"S\u1eeda b\xe1o c\xe1o",children:(0,ar.jsx)(kk,{className:"h-4 w-4"})}),(0,ar.jsx)("button",{onClick:()=>ve(e.IDBC),className:"text-red-600 hover:text-red-900 p-1.5 rounded-full hover:bg-red-50",title:"X\xf3a b\xe1o c\xe1o",children:(0,ar.jsx)(Tk,{className:"h-4 w-4"})}),e["L\u1ecaCH S\u1eec"]&&(0,ar.jsx)("button",{onClick:()=>pe(e),className:"text-blue-600 hover:text-blue-900 p-1.5 rounded-full hover:bg-blue-50",title:"Xem l\u1ecbch s\u1eed",children:(0,ar.jsx)(_k,{className:"h-4 w-4"})})]})})]},e.IDBC)))})]})})})}),(0,ar.jsx)(GG,{currentPage:b,totalPages:ke,onPageChange:y,itemsPerPage:v,onItemsPerPageChange:e=>{N(e),y(1)},totalItems:Ne.length})]}):(0,ar.jsxs)("div",{className:"space-y-6",children:[we&&we.map((e=>(0,ar.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[(0,ar.jsx)("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 px-6 py-4 border-b",children:(0,ar.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ar.jsxs)("div",{className:"flex-1",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ar.jsx)("button",{onClick:()=>(e=>{const t=new Set(Z);t.has(e)?t.delete(e):t.add(e),J(t)})(e.date),className:"text-indigo-600 hover:text-indigo-900 p-1.5 rounded-full hover:bg-indigo-100 transition-colors",title:Z.has(e.date)?"Thu g\u1ecdn":"M\u1edf r\u1ed9ng",children:Z.has(e.date)?(0,ar.jsx)(Hk,{className:"w-5 h-5"}):(0,ar.jsx)(sk,{className:"w-5 h-5"})}),(0,ar.jsxs)("h3",{className:"text-lg font-medium text-gray-800 flex items-center gap-2",children:[(0,ar.jsx)(Ik,{className:"w-5 h-5 text-indigo-600"}),"Ng\xe0y: ",e.date]})]}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2 ml-11",children:[(0,ar.jsxs)("span",{className:"text-xs font-medium px-2.5 py-0.5 rounded-full bg-purple-100 text-purple-800",children:[e.totalReports," b\xe1o c\xe1o"]}),(0,ar.jsxs)("span",{className:"text-xs font-medium px-2.5 py-0.5 rounded-full bg-blue-100 text-blue-800",children:["KL: ",FG(e.totalKhoiLuong.toFixed(2))]}),(0,ar.jsx)("span",{className:"text-xs font-medium px-2.5 py-0.5 rounded-full bg-green-100 text-green-800",children:RG(e.totalThanhTien)}),(0,ar.jsxs)("span",{className:"text-xs font-medium px-2.5 py-0.5 rounded-full bg-indigo-100 text-indigo-800",children:[e.totalNhanSu," l\u01b0\u1ee3t NS"]}),Object.entries(e.teamStats).map((e=>{let[t,r]=e;return(0,ar.jsxs)("span",{className:"text-xs font-medium px-2.5 py-0.5 rounded-full bg-teal-100 text-teal-800",children:[t,": ",r.count," BC"]},t)}))]})]}),(0,ar.jsx)("div",{children:(0,ar.jsxs)("button",{onClick:()=>{const t=e.records.map((e=>({IDBC:e.IDBC,"NG\xc0Y":e["NG\xc0Y"],ID_NHAPBAOBI:e.ID_NHAPBAOBI,"T\xcaN H\xc0NG":e["T\xcaN H\xc0NG"],"T\u1ed4":e["T\u1ed4"],"C\xd4NG \u0110O\u1ea0N":e["C\xd4NG \u0110O\u1ea0N"],"\u0110\u01a0N V\u1eca T\xcdNH":e["\u0110\u01a0N V\u1eca T\xcdNH"],"PP T\xcdNH N\u0102NG SU\u1ea4T":e["PP T\xcdNH N\u0102NG SU\u1ea4T"],"KH\u1ed0I L\u01af\u1ee2NG":e["KH\u1ed0I L\u01af\u1ee2NG"],"S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0":e["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"],"NH\xc2N S\u1ef0":e["NH\xc2N S\u1ef0"],"S\u1ed0 D\xc2Y":e["S\u1ed0 D\xc2Y"],"GHI CH\xda":e["GHI CH\xda"],"NG\u01af\u1edcI NH\u1eacP":e["NG\u01af\u1edcI NH\u1eacP"],"\u0110\u01a0N GI\xc1":e["\u0110\u01a0N GI\xc1"],"TH\xc0NH TI\u1ec0N":e["TH\xc0NH TI\u1ec0N"]}))),r=pL.json_to_sheet(t),n=pL.book_new();pL.book_append_sheet(n,r,"B\xe1o c\xe1o"),rL(n,`bao-cao-${e.date.replace(/\//g,"-")}.xlsx`)},className:"px-3 py-1.5 bg-amber-500 text-white rounded-lg hover:bg-amber-600 flex items-center gap-1.5 text-sm transition-colors shadow-sm",children:[(0,ar.jsx)(Ak,{className:"w-3.5 h-3.5"}),"Xu\u1ea5t file"]})})]})}),Z.has(e.date)&&(0,ar.jsx)("div",{className:"overflow-x-auto",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gray-50",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"T\xean h\xe0ng"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"T\u1ed5"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"C\xf4ng \u0111o\u1ea1n"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Kh\u1ed1i l\u01b0\u1ee3ng"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"SL Nh\xe2n s\u1ef1"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Nh\xe2n s\u1ef1"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"\u0110\u01a1n gi\xe1"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Th\xe0nh ti\u1ec1n"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Ng\u01b0\u1eddi nh\u1eadp"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"Thao t\xe1c"})]})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.records.map((e=>(0,ar.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:e["T\xcaN H\xc0NG"]}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,ar.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium",children:e["T\u1ed4"]})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:e["C\xd4NG \u0110O\u1ea0N"]}),(0,ar.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:[FG(e["KH\u1ed0I L\u01af\u1ee2NG"])," ",(0,ar.jsx)("span",{className:"text-gray-500 text-xs",children:e["\u0110\u01a0N V\u1eca T\xcdNH"]})]}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium text-indigo-600",children:e["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"]}),(0,ar.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700 max-w-xs",children:(0,ar.jsx)("div",{className:"truncate",title:e["NH\xc2N S\u1ef0"],children:e["NH\xc2N S\u1ef0"]})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:FG(e["\u0110\u01a0N GI\xc1"])}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-green-600",children:RG(e["TH\xc0NH TI\u1ec0N"])}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:e["NG\u01af\u1edcI NH\u1eacP"]}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",children:(0,ar.jsxs)("div",{className:"flex justify-end space-x-1",children:[(0,ar.jsx)("button",{onClick:()=>me(e),className:"text-indigo-600 hover:text-indigo-900 p-1.5 rounded-full hover:bg-indigo-50",title:"S\u1eeda b\xe1o c\xe1o",children:(0,ar.jsx)(kk,{className:"h-4 w-4"})}),(0,ar.jsx)("button",{onClick:()=>ve(e.IDBC),className:"text-red-600 hover:text-red-900 p-1.5 rounded-full hover:bg-red-50",title:"X\xf3a b\xe1o c\xe1o",children:(0,ar.jsx)(Tk,{className:"h-4 w-4"})}),e["L\u1ecaCH S\u1eec"]&&(0,ar.jsx)("button",{onClick:()=>pe(e),className:"text-blue-600 hover:text-blue-900 p-1.5 rounded-full hover:bg-blue-50",title:"Xem l\u1ecbch s\u1eed",children:(0,ar.jsx)(_k,{className:"h-4 w-4"})})]})})]},e.IDBC)))})]})})]},e.date))),we&&0===we.length&&(0,ar.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-8 text-center",children:(0,ar.jsx)("p",{className:"text-gray-500",children:"Kh\xf4ng t\xecm th\u1ea5y b\xe1o c\xe1o n\xe0o ph\xf9 h\u1ee3p v\u1edbi ti\xeau ch\xed t\xecm ki\u1ebfm"})})]})]})}),p&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-5xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-5",children:[(0,ar.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:te.IDBC?"C\u1eadp nh\u1eadt b\xe1o c\xe1o chi ti\u1ebft":"Th\xeam b\xe1o c\xe1o chi ti\u1ebft m\u1edbi"}),(0,ar.jsx)("button",{onClick:ge,className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsxs)("div",{className:"space-y-5",children:[(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ng\xe0y b\xe1o c\xe1o"}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,ar.jsx)(Ik,{className:"w-4 h-4 text-gray-500"})}),(0,ar.jsx)("input",{type:"date",value:MG(te["NG\xc0Y"]),onChange:e=>re((t=>({...t,"NG\xc0Y":e.target.value}))),className:"pl-10 p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Nh\u1eadp Bao B\xec"}),(0,ar.jsxs)("select",{className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",value:te.ID_NHAPBAOBI,onChange:e=>xe("ID_NHAPBAOBI",e.target.value),children:[(0,ar.jsx)("option",{value:"",children:"Ch\u1ecdn ID Nh\u1eadp Bao B\xec"}),u.map(((e,t)=>(0,ar.jsxs)("option",{value:e.ID,children:[e.ID," - ",e["S\u1ed0 XE"]," - ",e["KH\xc1CH H\xc0NG"]]},t)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xean h\xe0ng"}),(0,ar.jsx)("input",{type:"text",placeholder:"Nh\u1eadp t\xean h\xe0ng",className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",value:te["T\xcaN H\xc0NG"],onChange:e=>xe("T\xcaN H\xc0NG",e.target.value)})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["T\u1ed5 ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("select",{className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",value:te["T\u1ed4"],onChange:e=>{return t=e.target.value,void re((e=>({...e,"T\u1ed4":t,"C\xd4NG \u0110O\u1ea0N":"","\u0110\u01a0N V\u1eca T\xcdNH":"","PP T\xcdNH N\u0102NG SU\u1ea4T":"","S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0":"","NH\xc2N S\u1ef0":[],"\u0110\u01a0N GI\xc1":"","TH\xc0NH TI\u1ec0N":""})));var t},required:!0,children:[(0,ar.jsx)("option",{value:"",children:"Ch\u1ecdn t\u1ed5"}),l.map(((e,t)=>(0,ar.jsx)("option",{value:e,children:e},t)))]})]})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["C\xf4ng \u0111o\u1ea1n ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("select",{className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",value:te["C\xd4NG \u0110O\u1ea0N"],onChange:e=>(e=>{const t=te["T\u1ed4"],r=le(t).find((t=>t["T\xcaN C\xd4NG \u0110O\u1ea0N"]===e));if(r){const t=r["NH\xc2N S\u1ef0"]?r["NH\xc2N S\u1ef0"].split(",").map((e=>({value:e.trim(),label:e.trim()}))):[];re((n=>({...n,"C\xd4NG \u0110O\u1ea0N":e,"\u0110\u01a0N V\u1eca T\xcdNH":r["\u0110\u01a0N V\u1eca T\xcdNH"]||"","PP T\xcdNH N\u0102NG SU\u1ea4T":r["PP T\xcdNH N\u0102NG SU\u1ea4T"]||"","NH\xc2N S\u1ef0":t,"S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0":t.length.toString(),"\u0110\u01a0N GI\xc1":r["\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"]||"","TH\xc0NH TI\u1ec0N":se(n["KH\u1ed0I L\u01af\u1ee2NG"],r["\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"])})))}})(e.target.value),disabled:!te["T\u1ed4"],required:!0,children:[(0,ar.jsx)("option",{value:"",children:"Ch\u1ecdn c\xf4ng \u0111o\u1ea1n"}),le(te["T\u1ed4"]).map(((e,t)=>(0,ar.jsxs)("option",{value:e["T\xcaN C\xd4NG \u0110O\u1ea0N"],children:[e["T\xcaN C\xd4NG \u0110O\u1ea0N"]," - ",e["M\xc3 C\xd4NG \u0110O\u1ea0N"]]},t)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Kh\u1ed1i l\u01b0\u1ee3ng ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"number",step:"0.01",placeholder:"Nh\u1eadp kh\u1ed1i l\u01b0\u1ee3ng",className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",value:te["KH\u1ed0I L\u01af\u1ee2NG"],onChange:e=>xe("KH\u1ed0I L\u01af\u1ee2NG",e.target.value),required:!0})]})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u0110\u01a1n v\u1ecb t\xednh"}),(0,ar.jsx)("input",{type:"text",className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500 bg-gray-100",value:te["\u0110\u01a0N V\u1eca T\xcdNH"],readOnly:!0,placeholder:"Ch\u1ecdn c\xf4ng \u0111o\u1ea1n \u0111\u1ec3 t\u1ef1 \u0111\u1ed9ng \u0111i\u1ec1n"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PP t\xednh n\u0103ng su\u1ea5t"}),(0,ar.jsx)("input",{type:"text",className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500 bg-gray-100",value:te["PP T\xcdNH N\u0102NG SU\u1ea4T"],readOnly:!0,placeholder:"Ch\u1ecdn c\xf4ng \u0111o\u1ea1n \u0111\u1ec3 t\u1ef1 \u0111\u1ed9ng \u0111i\u1ec1n"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"S\u1ed1 l\u01b0\u1ee3ng nh\xe2n s\u1ef1"}),(0,ar.jsx)("input",{type:"number",placeholder:"Nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng nh\xe2n s\u1ef1",className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500 bg-gray-100",value:(null===(e=te["NH\xc2N S\u1ef0"])||void 0===e?void 0:e.length)||0,readOnly:!0,title:"S\u1ed1 l\u01b0\u1ee3ng s\u1ebd t\u1ef1 \u0111\u1ed9ng c\u1eadp nh\u1eadt khi ch\u1ecdn nh\xe2n s\u1ef1"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"S\u1ed1 d\xe2y"}),(0,ar.jsx)("input",{type:"text",placeholder:"Nh\u1eadp s\u1ed1 d\xe2y",className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",value:te["S\u1ed0 D\xc2Y"],onChange:e=>xe("S\u1ed0 D\xc2Y",e.target.value)})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nh\xe2n s\u1ef1 tham gia"}),(0,ar.jsx)(DG,{isMulti:!0,options:a,value:te["NH\xc2N S\u1ef0"],onChange:be,placeholder:"Ch\u1ecdn nh\xe2n s\u1ef1 tham gia...",className:"react-select-container",classNamePrefix:"react-select",styles:{control:e=>({...e,borderColor:"#d1d5db",borderRadius:"0.5rem",padding:"2px",boxShadow:"none","&:hover":{borderColor:"#9ca3af"}})}}),(0,ar.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"S\u1ed1 l\u01b0\u1ee3ng nh\xe2n s\u1ef1 s\u1ebd t\u1ef1 \u0111\u1ed9ng c\u1eadp nh\u1eadt"})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u0110\u01a1n gi\xe1"}),(0,ar.jsx)("input",{type:"number",step:"0.01",className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500 bg-gray-100",value:te["\u0110\u01a0N GI\xc1"],readOnly:!0,placeholder:"Ch\u1ecdn c\xf4ng \u0111o\u1ea1n \u0111\u1ec3 t\u1ef1 \u0111\u1ed9ng \u0111i\u1ec1n"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Th\xe0nh ti\u1ec1n"}),(0,ar.jsx)("input",{type:"text",className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500 bg-gray-100",value:te["TH\xc0NH TI\u1ec0N"]?RG(te["TH\xc0NH TI\u1ec0N"]):"",readOnly:!0,placeholder:"T\u1ef1 \u0111\u1ed9ng t\xednh t\u1eeb kh\u1ed1i l\u01b0\u1ee3ng x \u0111\u01a1n gi\xe1"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ng\u01b0\u1eddi nh\u1eadp ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"text",placeholder:"Nh\u1eadp t\xean ng\u01b0\u1eddi nh\u1eadp b\xe1o c\xe1o",className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",value:te["NG\u01af\u1edcI NH\u1eacP"],onChange:e=>xe("NG\u01af\u1edcI NH\u1eacP",e.target.value),required:!0})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi ch\xfa"}),(0,ar.jsx)("textarea",{placeholder:"Nh\u1eadp ghi ch\xfa (n\u1ebfu c\xf3)",rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",value:te["GHI CH\xda"],onChange:e=>xe("GHI CH\xda",e.target.value)})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,ar.jsx)("button",{onClick:ge,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors shadow-sm",disabled:w,children:"H\u1ee7y"}),(0,ar.jsx)("button",{onClick:async()=>{if(!w)try{j(!0);const e=ye(te);if(e.length>0)return void et.error(e.join("\n"));const t=te["NH\xc2N S\u1ef0"].map((e=>e.value)).join(", ");let r={...te,"NG\xc0Y":te["NG\xc0Y"].toISOString().split("T")[0],"NH\xc2N S\u1ef0":t,"S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0":te["NH\xc2N S\u1ef0"].length.toString()};if(r.IDBC)r["L\u1ecaCH S\u1eec"]=ie(r,"C\u1eadp nh\u1eadt b\xe1o c\xe1o"),await ut.apiRequest("BC2","Edit",{Rows:[r]}),et.success("C\u1eadp nh\u1eadt b\xe1o c\xe1o th\xe0nh c\xf4ng!");else{const e=(await ut.apiRequest("BC2","Find",{})).reduce(((e,t)=>{const r=parseInt(t.IDBC.replace("BC",""))||0;return r>e?r:e}),0),t=`BC${(e+1).toString().padStart(3,"0")}`;r.IDBC=t,r["L\u1ecaCH S\u1eec"]=ie(r,"T\u1ea1o b\xe1o c\xe1o m\u1edbi"),await ut.apiRequest("BC2","Add",{Rows:[r]}),et.success("Th\xeam b\xe1o c\xe1o th\xe0nh c\xf4ng!")}await ue(),ge()}catch(e){console.error("Error saving report:",e),et.error("C\xf3 l\u1ed7i x\u1ea3y ra: "+(e.message||"Kh\xf4ng th\u1ec3 l\u01b0u b\xe1o c\xe1o"))}finally{j(!1)}},disabled:w,className:`px-4 py-2 bg-indigo-600 text-white rounded-lg ${w?"opacity-50 cursor-not-allowed":"hover:bg-indigo-700"} flex items-center gap-2 transition-colors shadow-sm`,children:w?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ar.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ar.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0110ang l\u01b0u..."]}):"L\u01b0u b\xe1o c\xe1o"})]})]})]})}),C&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full p-6",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-5",children:[(0,ar.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Nh\u1eadp b\xe1o c\xe1o t\u1eeb Excel"}),(0,ar.jsx)("button",{onClick:()=>{A(!1),P(null),D([])},className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsxs)("div",{className:"mb-5",children:[(0,ar.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["T\u1ea3i l\xean file Excel (.xlsx, .xls) ho\u1eb7c CSV c\xf3 ch\u1ee9a d\u1eef li\u1ec7u b\xe1o c\xe1o. File c\u1ea7n c\xf3 c\xe1c c\u1ed9t: ",(0,ar.jsx)("span",{className:"font-medium",children:"NG\xc0Y, T\u1ed4, C\xd4NG \u0110O\u1ea0N, KH\u1ed0I L\u01af\u1ee2NG, NG\u01af\u1edcI NH\u1eacP"}),". C\xe1c c\u1ed9t t\xf9y ch\u1ecdn: ",(0,ar.jsx)("span",{className:"font-medium",children:"ID_NHAPBAOBI, T\xcaN H\xc0NG, S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0, NH\xc2N S\u1ef0, S\u1ed0 D\xc2Y, GHI CH\xda"}),"."]}),(0,ar.jsxs)("div",{className:"flex gap-3",children:[(0,ar.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",children:[(0,ar.jsx)("input",{type:"file",accept:".xlsx,.xls,.csv",className:"hidden",onChange:e=>{const t=e.target.files[0];if(!t)return;const r=t.name.split(".").pop().toLowerCase();if(!["xlsx","xls","csv"].includes(r))return void et.error("Vui l\xf2ng ch\u1ecdn file Excel (.xlsx, .xls) ho\u1eb7c CSV");P(t);const n=new FileReader;n.onload=e=>{try{const t=YM(e.target.result,{type:"binary"}),r=t.SheetNames[0],n=t.Sheets[r],a=pL.sheet_to_json(n,{header:1});if(a.length<2)return et.error("File kh\xf4ng c\xf3 d\u1eef li\u1ec7u ho\u1eb7c kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng"),void P(null);const i=a[0],s=["NG\xc0Y","T\u1ed4","C\xd4NG \u0110O\u1ea0N","KH\u1ed0I L\u01af\u1ee2NG","NG\u01af\u1edcI NH\u1eacP"].filter((e=>!i.includes(e)));if(s.length>0)return et.error(`File thi\u1ebfu c\xe1c c\u1ed9t b\u1eaft bu\u1ed9c: ${s.join(", ")}`),void P(null);const o=a.slice(1,6).map((e=>{const t={};return i.forEach(((r,n)=>{t[r]=e[n]||""})),t}));D(o)}catch(t){console.error("Error parsing Excel file:",t),et.error("Kh\xf4ng th\u1ec3 \u0111\u1ecdc file. Vui l\xf2ng ki\u1ec3m tra \u0111\u1ecbnh d\u1ea1ng file."),P(null)}},n.onerror=()=>{et.error("Kh\xf4ng th\u1ec3 \u0111\u1ecdc file"),P(null)},n.readAsBinaryString(t)}}),(0,ar.jsx)(Sk,{className:"h-4 w-4"}),(0,ar.jsx)("span",{children:"Ch\u1ecdn file"})]}),(0,ar.jsxs)("button",{onClick:()=>{const e=pL.aoa_to_sheet([["NG\xc0Y","ID_NHAPBAOBI","T\xcaN H\xc0NG","T\u1ed4","C\xd4NG \u0110O\u1ea0N","KH\u1ed0I L\u01af\u1ee2NG","S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0","NH\xc2N S\u1ef0","S\u1ed0 D\xc2Y","GHI CH\xda","NG\u01af\u1edcI NH\u1eacP"],["2025-03-22","BBID001","Bao b\xec anh","CD1","Bao b\xec anh - C\u01b0a","50","2","Nguy\u1ec5n V\u0103n A, Tr\u1ea7n V\u0103n B","10","Ho\xe0n th\xe0nh \u0111\xfang ti\u1ebfn \u0111\u1ed9","L\xea V\u0103n C"],["2025-03-22","BBID002","Bao b\xec em","CD2","Bao b\xec em - C\u1eaft l\u01b0a","30","2","Ph\u1ea1m V\u0103n D, Ng\xf4 V\u0103n E","8","C\u1ea7n b\u1ed5 sung nh\xe2n l\u1ef1c","L\xea V\u0103n C"]]),t=pL.book_new();pL.book_append_sheet(t,e,"Template"),rL(t,"mau_nhap_bao_cao_chi_tiet.xlsx")},className:"px-4 py-2 text-indigo-600 border border-indigo-300 bg-indigo-50 rounded-lg hover:bg-indigo-100 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(Ak,{className:"h-4 w-4"}),"T\u1ea3i m\u1eabu nh\u1eadp"]})]}),I&&(0,ar.jsxs)("div",{className:"mt-3 p-3 bg-indigo-50 border border-indigo-100 rounded-lg text-sm text-indigo-700 flex items-center",children:[(0,ar.jsx)("div",{className:"mr-2 flex-shrink-0",children:(0,ar.jsxs)("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ar.jsx)("path",{d:"M13 9L15 11L17 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,ar.jsx)("path",{d:"M18 4V5.4C18 5.96005 18 6.24008 17.891 6.45399C17.7951 6.64215 17.6422 6.79513 17.454 6.89104C17.2401 7 16.9601 7 16.4 7H7.6C7.03995 7 6.75992 7 6.54601 6.89104C6.35785 6.79513 6.20487 6.64215 6.10896 6.45399C6 6.24008 6 5.96005 6 5.4V4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,ar.jsx)("path",{d:"M4 14L4 16C4 17.8856 4 18.8284 4.58579 19.4142C5.17157 20 6.11438 20 8 20H16C17.8856 20 18.8284 20 19.4142 19.4142C20 18.8284 20 17.8856 20 16V10C20 8.11438 20 7.17157 19.4142 6.58579C18.8284 6 17.8856 6 16 6L8 6C6.11438 6 5.17157 6 4.58579 6.58579C4 7.17157 4 8.11438 4 10L4 14Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,ar.jsx)("path",{d:"M16 12H16.002V12.002H16V12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("div",{className:"font-medium",children:["\u0110\xe3 ch\u1ecdn: ",I.name]}),(0,ar.jsxs)("div",{className:"text-xs text-indigo-600 mt-1",children:["K\xedch th\u01b0\u1edbc: ",(I.size/1024).toFixed(2)," KB"]})]})]})]}),H.length>0&&(0,ar.jsxs)("div",{className:"mb-5",children:[(0,ar.jsx)("h3",{className:"font-medium mb-2",children:"Xem tr\u01b0\u1edbc d\u1eef li\u1ec7u (5 d\xf2ng \u0111\u1ea7u ti\xean):"}),(0,ar.jsx)("div",{className:"overflow-x-auto border rounded-lg",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gray-50",children:(0,ar.jsx)("tr",{children:Object.keys(H[0]).map(((e,t)=>(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e},t)))})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:H.map(((e,t)=>(0,ar.jsx)("tr",{children:Object.values(e).map(((e,t)=>(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-gray-500 truncate",children:e},t)))},t)))})]})})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,ar.jsx)("button",{onClick:()=>{A(!1),P(null),D([])},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors shadow-sm",disabled:M,children:"H\u1ee7y"}),(0,ar.jsx)("button",{onClick:async()=>{if(I){L(!0),et.info("\u0110ang x\u1eed l\xfd d\u1eef li\u1ec7u...",{autoClose:!1,toastId:"importing"});try{const e=new FileReader;e.onload=async e=>{try{const r=YM(e.target.result,{type:"binary"}),n=r.SheetNames[0],a=r.Sheets[n],i=pL.sheet_to_json(a),s=(await ut.apiRequest("BC2","Find",{})).reduce(((e,t)=>{const r=parseInt(t.IDBC.replace("BC",""))||0;return r>e?r:e}),0);let o=s+1;const l=[],c=[];for(let e=0;e<i.length;e++){const t=i[e];if(!t["T\u1ed4"]||!t["C\xd4NG \u0110O\u1ea0N"]||!t["KH\u1ed0I L\u01af\u1ee2NG"]||!t["NG\xc0Y"]){l.push(e+2);continue}const r=oe().find((e=>e["T\u1ed4"]===t["T\u1ed4"]&&e["T\xcaN C\xd4NG \u0110O\u1ea0N"]===t["C\xd4NG \u0110O\u1ea0N"])),n=r?r["\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"]:"",a=r?r["NH\xc2N S\u1ef0"]:"",s=r?r["\u0110\u01a0N V\u1eca T\xcdNH"]:"",u=r?r["PP T\xcdNH N\u0102NG SU\u1ea4T"]:"",d=`[${ne()}] ${ae()} - Nh\u1eadp t\u1eeb file Excel`,h={IDBC:t.IDBC||`BC${o.toString().padStart(3,"0")}`,"NG\xc0Y":t["NG\xc0Y"],ID_NHAPBAOBI:t.ID_NHAPBAOBI||"","T\xcaN H\xc0NG":t["T\xcaN H\xc0NG"]||"","T\u1ed4":t["T\u1ed4"],"C\xd4NG \u0110O\u1ea0N":t["C\xd4NG \u0110O\u1ea0N"],"\u0110\u01a0N V\u1eca T\xcdNH":s,"PP T\xcdNH N\u0102NG SU\u1ea4T":u,"KH\u1ed0I L\u01af\u1ee2NG":t["KH\u1ed0I L\u01af\u1ee2NG"],"S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0":t["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"]||"0","NH\xc2N S\u1ef0":t["NH\xc2N S\u1ef0"]||a,"S\u1ed0 D\xc2Y":t["S\u1ed0 D\xc2Y"]||"","GHI CH\xda":t["GHI CH\xda"]||"","NG\u01af\u1edcI NH\u1eacP":t["NG\u01af\u1edcI NH\u1eacP"]||ae(),"\u0110\u01a0N GI\xc1":n,"TH\xc0NH TI\u1ec0N":se(t["KH\u1ed0I L\u01af\u1ee2NG"],n),"L\u1ecaCH S\u1eec":d};c.push(h),o++}if(l.length>0&&et.warning(`C\xf3 ${l.length} d\xf2ng d\u1eef li\u1ec7u kh\xf4ng h\u1ee3p l\u1ec7: ${l.join(", ")}`),0===c.length)return void et.error("Kh\xf4ng c\xf3 d\u1eef li\u1ec7u h\u1ee3p l\u1ec7 \u0111\u1ec3 nh\u1eadp");const u=25;let d=0;for(let e=0;e<c.length;e+=u){const r=c.slice(e,e+u);try{await ut.apiRequest("BC2","Add",{Rows:r}),d+=r.length}catch(t){console.error("Error importing batch:",t)}}et.success(`\u0110\xe3 nh\u1eadp th\xe0nh c\xf4ng ${d} b\xe1o c\xe1o`),await ue(),A(!1),P(null),D([])}catch(t){console.error("Error processing import:",t),et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi x\u1eed l\xfd d\u1eef li\u1ec7u")}finally{et.dismiss("importing"),L(!1)}},e.onerror=()=>{et.dismiss("importing"),et.error("Kh\xf4ng th\u1ec3 \u0111\u1ecdc file"),L(!1)},e.readAsBinaryString(I)}catch(e){et.dismiss("importing"),et.error("C\xf3 l\u1ed7i x\u1ea3y ra"),L(!1)}}},disabled:!I||M,className:`px-4 py-2 bg-indigo-600 text-white rounded-lg ${!I||M?"opacity-50 cursor-not-allowed":"hover:bg-indigo-700"} flex items-center gap-2 transition-colors shadow-sm`,children:M?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ar.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ar.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0110ang nh\u1eadp..."]}):"Nh\u1eadp d\u1eef li\u1ec7u"})]})]})}),R&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-5",children:[(0,ar.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:V}),(0,ar.jsx)("button",{onClick:()=>F(!1),className:"text-gray-500 hover:text-gray-700 focus:outline-none",disabled:$,children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsxs)("div",{className:"space-y-5",children:[(0,ar.jsx)("p",{className:"text-gray-600",children:B}),(0,ar.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,ar.jsx)("button",{onClick:()=>F(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors shadow-sm",disabled:$,children:"H\u1ee7y"}),(0,ar.jsx)("button",{onClick:async()=>{if(U&&"function"===typeof U){W(!0);try{await U()}catch(e){console.error("Error executing confirmation action:",e),et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi th\u1ef1c hi\u1ec7n thao t\xe1c")}finally{W(!1),F(!1)}}else console.error("Confirmation action is not a function",U),F(!1)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors shadow-sm flex items-center gap-2",disabled:$,children:$?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ar.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ar.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0110ang x\u1eed l\xfd..."]}):"X\xe1c nh\u1eadn"})]})]})]})}),X&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full p-6",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-5",children:[(0,ar.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"L\u1ecbch s\u1eed thay \u0111\u1ed5i"}),(0,ar.jsx)("button",{onClick:()=>{Y(!1),Q([])},className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsxs)("div",{className:"space-y-4",children:[(0,ar.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 max-h-96 overflow-y-auto",children:q.length>0?(0,ar.jsx)("ul",{className:"space-y-3",children:q.map(((e,t)=>(0,ar.jsx)("li",{className:`p-3 ${t%2===0?"bg-gray-50":"bg-white"} rounded-md border border-gray-100`,children:e},t)))}):(0,ar.jsx)("p",{className:"text-gray-500 text-center py-4",children:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u l\u1ecbch s\u1eed"})}),(0,ar.jsx)("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:(0,ar.jsx)("button",{onClick:()=>{Y(!1),Q([])},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors shadow-sm",children:"\u0110\xf3ng"})})]})]})}),(0,ar.jsx)(lt,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},zG=fr("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),VG=e=>{if(!e)return"";if("string"===typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=new Date(e);if(isNaN(t.getTime()))return"";return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`},KG=e=>!e||isNaN(e)?"0":new Intl.NumberFormat("vi-VN").format(e),$G=e=>{if(!e)return{code:"",name:""};const t=e.split(" - ");if(t.length>=2){return{code:t[0].trim(),name:t.slice(1).join(" - ").trim()}}return{code:e,name:e}},WG=e=>{let{data:t}=e;return(0,ar.jsxs)("div",{className:"overflow-x-auto",children:[(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gray-50",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ng\xe0y"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"C\xf4ng \u0111o\u1ea1n"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"T\u1ed5ng KL"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"T\u1ed5ng NS"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"T\u1ed5ng TT"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Chi ti\u1ebft c\xe1c t\u1ed5"})]})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(((e,t)=>(0,ar.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:new Date(e.date).toLocaleDateString("vi-VN")}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,ar.jsxs)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:[e.workStage.code," - ",e.workStage.name]})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:KG(e.totalQuantity)}),(0,ar.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:[KG(e.totalStaff)," ng\u01b0\u1eddi"]}),(0,ar.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-green-600",children:[KG(e.totalAmount)," VN\u0110"]}),(0,ar.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:(0,ar.jsx)("div",{className:"space-y-1",children:e.teams.map(((e,t)=>(0,ar.jsxs)("div",{className:"p-2 bg-gray-50 rounded border",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,ar.jsxs)("span",{className:"font-medium text-blue-600",children:[e.team,":"]}),(0,ar.jsxs)("span",{children:[KG(e.totalQuantity),e.unit]}),(0,ar.jsxs)("span",{className:"text-gray-500",children:["(",e.actualStaffCount," ng\u01b0\u1eddi)"]}),(0,ar.jsxs)("span",{className:"text-green-600 font-medium",children:[KG(e.totalAmount)," VN\u0110"]})]}),e.items.length>1&&(0,ar.jsx)("div",{className:"ml-4 space-y-1",children:e.items.map(((e,t)=>(0,ar.jsxs)("div",{className:"text-xs text-gray-600",children:["\u2022 ",e.name,": ",KG(e.quantity),e.unit," - ",KG(e.amount)," VN\u0110"]},t)))})]},t)))})})]},`${e.date}-${e.workStage.code}-${t}`)))})]}),0===t.length&&(0,ar.jsxs)("div",{className:"text-center py-8",children:[(0,ar.jsx)(Pk,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ar.jsx)("p",{className:"text-gray-500",children:"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u ph\xf9 h\u1ee3p"})]})]})},XG=e=>{let{data:t}=e;const[r,a]=(0,n.useState)({}),[i,s]=(0,n.useState)({});return(0,ar.jsxs)("div",{className:"space-y-4",children:[t.map(((e,t)=>(0,ar.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm",children:[(0,ar.jsx)("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 p-4 cursor-pointer hover:from-indigo-100 hover:to-blue-100 transition-all border-b border-gray-200",onClick:()=>{return t=e.team,void a((e=>({...e,[t]:!e[t]})));var t},children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ar.jsx)("div",{className:"bg-indigo-100 p-2 rounded-lg",children:(0,ar.jsx)(Ck,{className:"w-5 h-5 text-indigo-600"})}),(0,ar.jsx)("h4",{className:"text-lg font-semibold text-gray-800",children:e.team}),(0,ar.jsx)("span",{className:"text-sm text-gray-600",children:"\u2022"}),(0,ar.jsxs)("span",{className:"text-sm text-gray-600",children:[e.stages.length," c\xf4ng \u0111o\u1ea1n"]}),(0,ar.jsx)("span",{className:"text-sm text-gray-600",children:"\u2022"}),(0,ar.jsxs)("span",{className:"text-sm text-gray-600",children:[e.totalStaff," nh\xe2n s\u1ef1"]})]}),(0,ar.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ar.jsxs)("div",{className:"text-right",children:[(0,ar.jsx)("span",{className:"text-sm text-gray-500",children:"T\u1ed5ng th\xe0nh ti\u1ec1n: "}),(0,ar.jsxs)("span",{className:"text-lg font-semibold text-green-600",children:[KG(e.totalAmount)," \u20ab"]})]}),(0,ar.jsx)(sk,{className:"w-5 h-5 text-gray-600 transition-transform "+(r[e.team]?"rotate-180":"")})]})]})}),r[e.team]&&(0,ar.jsx)("div",{className:"p-4 bg-gray-50",children:(0,ar.jsx)("div",{className:"space-y-3",children:e.stages.map(((t,r)=>{const n=`${e.team}-${t.stageCode}`;return(0,ar.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white",children:[(0,ar.jsx)("div",{className:"bg-gray-50 p-3 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>{return e=n,void s((t=>({...t,[e]:!t[e]})));var e},children:(0,ar.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,ar.jsxs)("span",{className:"inline-block px-3 py-1 text-sm font-semibold rounded-full bg-indigo-100 text-indigo-800",children:[t.stageCode," - ",t.stageName]}),(0,ar.jsxs)("span",{className:"text-sm text-gray-600",children:["\ud83d\udc65 ",t.totalStaff," nh\xe2n s\u1ef1"]}),(0,ar.jsxs)("span",{className:"text-sm text-gray-600",children:["\ud83d\udce6 ",KG(t.totalQuantity)]}),(0,ar.jsxs)("span",{className:"text-sm text-green-600 font-medium",children:["\ud83d\udcb0 ",KG(t.totalAmount)," \u20ab"]})]}),(0,ar.jsx)(sk,{className:"w-4 h-4 text-gray-600 transition-transform "+(i[n]?"rotate-180":"")})]})}),i[n]&&t.details.length>0&&(0,ar.jsxs)("div",{className:"p-3 bg-white",children:[(0,ar.jsx)("div",{className:"mb-3 p-2 bg-blue-50 rounded border border-blue-100",children:(0,ar.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,ar.jsx)("strong",{children:"Nh\xe2n s\u1ef1:"})," ",t.staffList.join(", ")]})}),(0,ar.jsx)("div",{className:"overflow-x-auto",children:(0,ar.jsxs)("table",{className:"min-w-full text-sm",children:[(0,ar.jsx)("thead",{className:"bg-gray-100 border-b border-gray-200",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-600",children:"Ng\xe0y"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-600",children:"T\xean h\xe0ng"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-600",children:"Kh\u1ed1i l\u01b0\u1ee3ng"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-600",children:"Th\xe0nh ti\u1ec1n"})]})}),(0,ar.jsx)("tbody",{className:"divide-y divide-gray-200",children:t.details.map(((e,t)=>(0,ar.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-gray-700",children:new Date(e.date).toLocaleDateString("vi-VN")}),(0,ar.jsx)("td",{className:"px-3 py-2 text-gray-700",children:e.itemName}),(0,ar.jsxs)("td",{className:"px-3 py-2 text-right text-gray-900 font-medium",children:[KG(e.quantity)," ",e.unit]}),(0,ar.jsxs)("td",{className:"px-3 py-2 text-right text-green-600 font-semibold",children:[KG(e.amount)," \u20ab"]})]},t)))})]})})]})]},r)}))})})]},t))),0===t.length&&(0,ar.jsxs)("div",{className:"text-center py-12",children:[(0,ar.jsx)(Ck,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,ar.jsx)("p",{className:"text-gray-500 text-lg",children:"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u ph\xf9 h\u1ee3p"})]})]})},YG=()=>{const[e,t]=(0,n.useState)("by-date"),[r,a]=(0,n.useState)([]),[i,s]=(0,n.useState)([]),[o,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)({startDate:null,endDate:null,congDoan:"",team:""});(0,n.useEffect)((()=>{f(),p()}),[]);const f=async()=>{try{const e=await ut.apiRequest("BC2","Find",{});a(e)}catch(e){console.error("Error fetching reports:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch b\xe1o c\xe1o")}},p=async()=>{try{const e=await ut.apiRequest("TO_PBNS","Find",{});s(e)}catch(e){console.error("Error fetching team work stages:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch t\u1ed5 c\xf4ng \u0111o\u1ea1n")}},m=(0,n.useMemo)((()=>{const e={};r.forEach((t=>{const r=t["NG\xc0Y"].split("T")[0];e[r]||(e[r]=[]),e[r].push(t)}));const t=new Date,n=i.filter((e=>{const r=new Date(e["HI\u1ec6U L\u1ef0C T\u1eea"]),n=new Date(e["HI\u1ec6U L\u1ef0C \u0110\u1ebeN"]);return t>=r&&t<=n})),a=[...new Set(r.map((e=>e["C\xd4NG \u0110O\u1ea0N"])))],s=[];return Object.keys(e).sort().forEach((t=>{const r=e[t];a.forEach((e=>{const{code:a,name:i}=$G(e),o=r.filter((t=>t["C\xd4NG \u0110O\u1ea0N"]===e));if(0===o.length)return;const l={};o.forEach((e=>{const t=e["T\u1ed4"];l[t]||(l[t]={team:t,totalQuantity:0,staffSet:new Set,staffCount:0,items:[]});const r=parseFloat(e["KH\u1ed0I L\u01af\u1ee2NG"])||0;l[t].totalQuantity+=r;const n=parseInt(e["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"])||0;if(l[t].staffCount=Math.max(l[t].staffCount,n),e["NH\xc2N S\u1ef0"]){e["NH\xc2N S\u1ef0"].split(",").forEach((e=>{l[t].staffSet.add(e.trim())}))}l[t].items.push({name:e["T\xcaN H\xc0NG"],quantity:r,unit:e["\u0110\u01a0N V\u1eca T\xcdNH"],unitPrice:parseFloat(e["\u0110\u01a0N GI\xc1"])||0,amount:parseFloat(e["TH\xc0NH TI\u1ec0N"])||0})})),Object.values(l).forEach((t=>{t.actualStaffCount=Math.max(t.staffCount,t.staffSet.size);const r=n.find((r=>r["T\u1ed4"]===t.team&&r["M\xc3 C\xd4NG \u0110O\u1ea0N"]===e));t.unitPrice=r&&parseFloat(r["\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"])||0,t.totalAmount=t.items.reduce(((e,t)=>e+t.amount),0),t.unit=r?r["\u0110\u01a0N V\u1eca T\xcdNH"]:t.items.length>0?t.items[0].unit:"",t.workStageName=r?r["T\xcaN C\xd4NG \u0110O\u1ea0N"]:i}));const c=new Set;Object.values(l).forEach((e=>{e.staffSet.forEach((e=>{e&&c.add(e)}))})),s.push({date:t,workStage:{code:a,name:i,fullCode:e},teams:Object.values(l),totalQuantity:Object.values(l).reduce(((e,t)=>e+t.totalQuantity),0),totalStaff:c.size,totalAmount:Object.values(l).reduce(((e,t)=>e+t.totalAmount),0),uniqueStaffList:Array.from(c)})}))})),s}),[r,i]),g=(0,n.useMemo)((()=>{const e={};r.forEach((t=>{const r=t["T\u1ed4"],n=t["C\xd4NG \u0110O\u1ea0N"],a=t["NG\xc0Y"].split("T")[0];if(e[r]||(e[r]={team:r,stages:{},staffSet:new Set,dates:new Set}),!e[r].stages[n]){const{code:t,name:a}=$G(n);e[r].stages[n]={stageCode:t,stageName:a,fullCode:n,totalQuantity:0,totalAmount:0,staffSet:new Set,details:[]}}const i=parseFloat(t["KH\u1ed0I L\u01af\u1ee2NG"])||0,s=parseFloat(t["TH\xc0NH TI\u1ec0N"])||0;if(e[r].dates.add(a),e[r].stages[n].totalQuantity+=i,e[r].stages[n].totalAmount+=s,t["NH\xc2N S\u1ef0"]){t["NH\xc2N S\u1ef0"].split(",").forEach((t=>{const a=t.trim();a&&(e[r].staffSet.add(a),e[r].stages[n].staffSet.add(a))}))}e[r].stages[n].details.push({date:a,itemName:t["T\xcaN H\xc0NG"],quantity:i,unit:t["\u0110\u01a0N V\u1eca T\xcdNH"],amount:s,staff:t["NH\xc2N S\u1ef0"]||""})}));return Object.values(e).map((e=>({team:e.team,stages:Object.values(e.stages).map((e=>({...e,totalStaff:e.staffSet.size,staffList:Array.from(e.staffSet)}))),staffList:Array.from(e.staffSet),dateCount:e.dates.size}))).sort(((e,t)=>e.team.localeCompare(t.team)))}),[r]),x=(0,n.useMemo)((()=>[...new Set(r.map((e=>e["C\xd4NG \u0110O\u1ea0N"])))].sort()),[r]),b=(0,n.useMemo)((()=>[...new Set(r.map((e=>e["T\u1ed4"])))].sort()),[r]),y=(0,n.useMemo)((()=>m.filter((e=>{let t=!0;if(d.startDate||d.endDate){const r=new Date(e.date);if(r.setHours(0,0,0,0),d.startDate&&d.endDate){const e=new Date(d.startDate);e.setHours(0,0,0,0);const n=new Date(d.endDate);n.setHours(23,59,59,999),t=r>=e&&r<=n}else if(d.startDate){const e=new Date(d.startDate);e.setHours(0,0,0,0),t=r>=e}else if(d.endDate){const e=new Date(d.endDate);e.setHours(23,59,59,999),t=r<=e}}const r=!d.congDoan||e.workStage.fullCode===d.congDoan,n=!o||e.date.includes(o)||e.workStage.name.toLowerCase().includes(o.toLowerCase())||e.workStage.code.toLowerCase().includes(o.toLowerCase())||e.teams.some((e=>e.team.toLowerCase().includes(o.toLowerCase())));return t&&r&&n}))),[m,d,o]),v=(0,n.useMemo)((()=>g.filter((e=>{const t=!d.team||e.team===d.team,r=!d.congDoan||e.stages.some((e=>e.fullCode===d.congDoan)),n=!o||e.team.toLowerCase().includes(o.toLowerCase())||e.stages.some((e=>e.stageName.toLowerCase().includes(o.toLowerCase())||e.stageCode.toLowerCase().includes(o.toLowerCase())));return t&&r&&n})).map((e=>{let t=e.stages;d.congDoan&&(t=t.filter((e=>e.fullCode===d.congDoan))),(d.startDate||d.endDate)&&(t=t.map((e=>{const t=e.details.filter((e=>{const t=new Date(e.date);t.setHours(0,0,0,0);let r=!0;if(d.startDate&&d.endDate){const e=new Date(d.startDate);e.setHours(0,0,0,0);const n=new Date(d.endDate);n.setHours(23,59,59,999),r=t>=e&&t<=n}else if(d.startDate){const e=new Date(d.startDate);e.setHours(0,0,0,0),r=t>=e}else if(d.endDate){const e=new Date(d.endDate);e.setHours(23,59,59,999),r=t<=e}return r})),r=t.reduce(((e,t)=>e+t.quantity),0),n=t.reduce(((e,t)=>e+t.amount),0),a=new Set;return t.forEach((e=>{e.staff&&e.staff.split(",").forEach((e=>a.add(e.trim())))})),{...e,details:t,totalQuantity:r,totalAmount:n,totalStaff:a.size,staffList:Array.from(a)}})).filter((e=>e.details.length>0)));const r=t.reduce(((e,t)=>e+t.totalQuantity),0),n=t.reduce(((e,t)=>e+t.totalAmount),0),a=new Set;return t.forEach((e=>{e.staffList.forEach((e=>a.add(e)))})),{...e,stages:t,totalQuantity:r,totalAmount:n,totalStaff:a.size,staffList:Array.from(a)}})).filter((e=>e.stages.length>0))),[g,d,o]),N=(0,n.useMemo)((()=>{if(0===y.length)return{totalRecords:0,totalQuantity:0,totalStaff:0,totalAmount:0};const e=new Set;return y.forEach((t=>{t.uniqueStaffList.forEach((t=>{t&&e.add(t)}))})),{totalRecords:y.length,totalQuantity:y.reduce(((e,t)=>e+t.totalQuantity),0),totalStaff:e.size,totalAmount:y.reduce(((e,t)=>e+t.totalAmount),0)}}),[y]),w=(0,n.useMemo)((()=>{if(0===v.length)return{totalTeams:0,totalQuantity:0,totalStaff:0,totalAmount:0};const e=new Set;return v.forEach((t=>{t.staffList.forEach((t=>{t&&e.add(t)}))})),{totalTeams:v.length,totalQuantity:v.reduce(((e,t)=>e+t.totalQuantity),0),totalStaff:e.size,totalAmount:v.reduce(((e,t)=>e+t.totalAmount),0)}}),[v]),j=(e,t)=>{h((r=>({...r,[e]:t||null})))},k="by-date"===e?N:w;return(0,ar.jsxs)("div",{className:"p-4 md:p-6 bg-gray-50 min-h-screen",children:[(0,ar.jsx)("div",{className:"mx-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 mb-6 border border-gray-100",children:[(0,ar.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[(0,ar.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"B\xe1o c\xe1o n\u0103ng su\u1ea5t t\u1ed5ng h\u1ee3p"}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ar.jsxs)("button",{onClick:()=>u(!c),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(vk,{className:"w-4 h-4"}),c?"\u1ea8n b\u1ed9 l\u1ecdc":"Hi\u1ec7n b\u1ed9 l\u1ecdc"]}),(0,ar.jsxs)("button",{onClick:"by-date"===e?()=>{const e=y.map((e=>({"Ng\xe0y":e.date,"C\xf4ng \u0111o\u1ea1n":`${e.workStage.code} - ${e.workStage.name}`,"T\u1ed5ng kh\u1ed1i l\u01b0\u1ee3ng":e.totalQuantity,"T\u1ed5ng nh\xe2n s\u1ef1":e.totalStaff,"T\u1ed5ng th\xe0nh ti\u1ec1n":e.totalAmount,"Danh s\xe1ch nh\xe2n s\u1ef1":e.uniqueStaffList.join(", "),"Chi ti\u1ebft t\u1ed5":e.teams.map((e=>`${e.team}: ${e.totalQuantity}${e.unit} (${e.actualStaffCount} ng\u01b0\u1eddi) - ${KG(e.totalAmount)} VN\u0110`)).join("; ")}))),t=pL.json_to_sheet(e),r=pL.book_new();pL.book_append_sheet(r,t,"B\xe1o c\xe1o theo ng\xe0y"),rL(r,`bao-cao-nang-suat-theo-ngay-${(new Date).toISOString().slice(0,10)}.xlsx`)}:()=>{const e=[];v.forEach((t=>{t.stages.forEach((r=>{e.push({"T\u1ed5":t.team,"C\xf4ng \u0111o\u1ea1n":`${r.stageCode} - ${r.stageName}`,"T\u1ed5ng kh\u1ed1i l\u01b0\u1ee3ng":r.totalQuantity,"T\u1ed5ng nh\xe2n s\u1ef1":r.totalStaff,"T\u1ed5ng th\xe0nh ti\u1ec1n":r.totalAmount,"Danh s\xe1ch nh\xe2n s\u1ef1":r.staffList.join(", ")})}))}));const t=pL.json_to_sheet(e),r=pL.book_new();pL.book_append_sheet(r,t,"B\xe1o c\xe1o theo t\u1ed5"),rL(r,`bao-cao-nang-suat-theo-to-${(new Date).toISOString().slice(0,10)}.xlsx`)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(Ak,{className:"w-4 h-4"}),"Xu\u1ea5t Excel"]})]})]}),(0,ar.jsx)("div",{className:"mb-6",children:(0,ar.jsx)("div",{className:"border-b border-gray-200",children:(0,ar.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,ar.jsx)("button",{onClick:()=>t("by-date"),className:`\n                    py-3 px-1 border-b-2 font-medium text-sm transition-colors\n                    ${"by-date"===e?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}\n                  `,children:(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)(Ik,{className:"w-4 h-4"}),"B\xe1o c\xe1o theo ng\xe0y"]})}),(0,ar.jsx)("button",{onClick:()=>t("by-team"),className:`\n                    py-3 px-1 border-b-2 font-medium text-sm transition-colors\n                    ${"by-team"===e?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}\n                  `,children:(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)(Ck,{className:"w-4 h-4"}),"B\xe1o c\xe1o theo t\u1ed5"]})})]})})}),c&&(0,ar.jsx)("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50 animate-fadeIn",children:(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:["by-team"===e?(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\u1ed5"}),(0,ar.jsxs)("select",{value:d.team,onChange:e=>h((t=>({...t,team:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",children:[(0,ar.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3 c\xe1c t\u1ed5"}),b.map((e=>(0,ar.jsx)("option",{value:e,children:e},e)))]})]}):(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\u1eeb ng\xe0y"}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)(Ik,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500 pointer-events-none z-10"}),(0,ar.jsx)("input",{type:"date",value:d.startDate?VG(d.startDate):"",onChange:e=>j("startDate",e.target.value),className:"pl-10 p-2 border rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"by-team"===e?"T\u1eeb ng\xe0y":"\u0110\u1ebfn ng\xe0y"}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)(Ik,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500 pointer-events-none z-10"}),(0,ar.jsx)("input",{type:"date",value:"by-team"===e?d.startDate?VG(d.startDate):"":d.endDate?VG(d.endDate):"",onChange:t=>j("by-team"===e?"startDate":"endDate",t.target.value),className:"pl-10 p-2 border rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500"})]})]}),"by-team"===e?(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u0110\u1ebfn ng\xe0y"}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)(Ik,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500 pointer-events-none z-10"}),(0,ar.jsx)("input",{type:"date",value:d.endDate?VG(d.endDate):"",onChange:e=>j("endDate",e.target.value),className:"pl-10 p-2 border rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500"})]})]}):(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"C\xf4ng \u0111o\u1ea1n"}),(0,ar.jsxs)("select",{value:d.congDoan,onChange:e=>h((t=>({...t,congDoan:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",children:[(0,ar.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3 c\xf4ng \u0111o\u1ea1n"}),x.map((e=>(0,ar.jsx)("option",{value:e,children:e},e)))]})]}),"by-team"===e&&(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"C\xf4ng \u0111o\u1ea1n"}),(0,ar.jsxs)("select",{value:d.congDoan,onChange:e=>h((t=>({...t,congDoan:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",children:[(0,ar.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3 c\xf4ng \u0111o\u1ea1n"}),x.map((e=>(0,ar.jsx)("option",{value:e,children:e},e)))]})]}),(0,ar.jsx)("div",{className:"flex items-end",children:(0,ar.jsx)("button",{onClick:()=>{h({startDate:null,endDate:null,congDoan:"",team:""}),l("")},className:"w-full px-4 py-2 text-indigo-600 bg-indigo-50 border border-indigo-200 rounded-lg hover:bg-indigo-100 transition-colors",children:"X\xf3a b\u1ed9 l\u1ecdc"})})]})}),(0,ar.jsx)("div",{className:"mb-6",children:(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)(wk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,ar.jsx)("input",{type:"text",placeholder:"by-date"===e?"T\xecm ki\u1ebfm theo ng\xe0y, c\xf4ng \u0111o\u1ea1n, t\u1ed5...":"T\xecm ki\u1ebfm theo t\u1ed5, c\xf4ng \u0111o\u1ea1n...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:o,onChange:e=>l(e.target.value)})]})}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,ar.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("p",{className:"text-sm font-bold text-gray-500 mb-1",children:"by-date"===e?"T\u1ed5ng s\u1ed1 b\u1ea3n ghi":"T\u1ed5ng s\u1ed1 t\u1ed5"}),(0,ar.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"by-date"===e?k.totalRecords:k.totalTeams})]}),(0,ar.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,ar.jsx)(Pk,{className:"h-6 w-6 text-blue-600"})})]}),(0,ar.jsx)("div",{className:"flex items-center text-sm",children:(0,ar.jsx)("span",{className:"text-gray-600",children:"by-date"===e?"S\u1ed1 b\u1ea3n ghi trong k\u1ef3":"S\u1ed1 t\u1ed5 tham gia"})})]}),(0,ar.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("p",{className:"text-sm font-bold text-gray-500 mb-1",children:"T\u1ed5ng kh\u1ed1i l\u01b0\u1ee3ng"}),(0,ar.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:KG(k.totalQuantity)})]}),(0,ar.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,ar.jsx)(yr,{className:"h-6 w-6 text-green-600"})})]}),(0,ar.jsx)("div",{className:"flex items-center text-sm",children:(0,ar.jsx)("span",{className:"text-gray-600",children:"Kh\u1ed1i l\u01b0\u1ee3ng s\u1ea3n xu\u1ea5t"})})]}),(0,ar.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("p",{className:"text-sm font-bold text-gray-500 mb-1",children:"T\u1ed5ng nh\xe2n s\u1ef1"}),(0,ar.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:KG(k.totalStaff)})]}),(0,ar.jsx)("div",{className:"p-2 bg-amber-100 rounded-lg",children:(0,ar.jsx)(Ck,{className:"h-6 w-6 text-amber-600"})})]}),(0,ar.jsx)("div",{className:"flex items-center text-sm",children:(0,ar.jsx)("span",{className:"text-gray-600",children:"Ng\u01b0\u1eddi tham gia"})})]}),(0,ar.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("p",{className:"text-sm font-bold text-gray-500 mb-1",children:"T\u1ed5ng th\xe0nh ti\u1ec1n"}),(0,ar.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(k.totalAmount)})]}),(0,ar.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,ar.jsx)(zG,{className:"h-6 w-6 text-purple-600"})})]}),(0,ar.jsx)("div",{className:"flex items-center text-sm",children:(0,ar.jsx)("span",{className:"text-gray-600",children:"Gi\xe1 tr\u1ecb s\u1ea3n xu\u1ea5t"})})]})]}),"by-date"===e?(0,ar.jsx)(WG,{data:y}):(0,ar.jsx)(XG,{data:v})]})}),(0,ar.jsx)(lt,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},qG=fr("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),QG=fr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ZG=fr("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),JG=fr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),eB=fr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),tB=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[i,s]=(0,n.useState)([]),[o,l]=(0,n.useState)({HIEULUC_TU:"",HIEULUC_DEN:"",NHOMHANG:"",GIABAN_DEXUAT:""}),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)(!1),[f,p]=(0,n.useState)(""),[m,g]=(0,n.useState)(!1),[x,b]=(0,n.useState)(null),[y,v]=(0,n.useState)(!1),[N,w]=(0,n.useState)({key:null,direction:"ascending"}),[j,k]=(0,n.useState)(!1),[T,S]=(0,n.useState)("T\u1ea4T C\u1ea2"),[O,_]=(0,n.useState)("T\u1ea4T C\u1ea2"),[E,C]=(0,n.useState)(!1),[A,I]=(0,n.useState)(1),[P,H]=(0,n.useState)(10),D=e=>e&&0!==e?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"0 \u20ab",M=async()=>{try{C(!0);const e=await ut.apiRequestKHO("CD_GIABAN","Find",{});t(e)}catch(e){console.error("Error fetching gia ban list:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch gi\xe1 b\xe1n")}finally{C(!1)}},L=async()=>{try{const e=await ut.apiRequestKHO("DMHH","Find",{});a(e);const t=[...new Set(e.map((e=>e.NHOM_HANG)).filter(Boolean))];s(t)}catch(e){console.error("Error fetching DMHH list:",e),et.error("L\u1ed7i khi t\u1ea3i danh m\u1ee5c h\xe0ng h\xf3a")}};(0,n.useEffect)((()=>{M(),L()}),[]);const R=(e,t)=>{const r=new Date;r.setHours(0,0,0,0);const n=e?new Date(e):null,a=t?new Date(t):null;return n&&n.setHours(0,0,0,0),a&&a.setHours(0,0,0,0),n&&r<n?"upcoming":a&&r>a?"expired":n&&r>=n&&(!a||r<=a)?"active":"unknown"},F=async function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{const a=r.filter((t=>t.NHOM_HANG===e));if(0===a.length)return void console.log(`Kh\xf4ng t\xecm th\u1ea5y s\u1ea3n ph\u1ea9m n\xe0o thu\u1ed9c nh\xf3m h\xe0ng: ${e}`);const i=a.map((e=>({NHOM_HANG:e.NHOM_HANG,DAY:e.DAY,RONG:e.RONG,DAI:e.DAI,CHATLUONG:e.CHATLUONG,DONGIA_HIEULUC:n?t:0})));await ut.apiRequestKHO("DMHH","Edit",{Rows:i}),n?et.success(`\u0110\xe3 c\u1eadp nh\u1eadt gi\xe1 hi\u1ec7u l\u1ef1c cho ${a.length} s\u1ea3n ph\u1ea9m thu\u1ed9c nh\xf3m "${e}"`,{autoClose:2e3}):et.info(`\u0110\xe3 x\xf3a gi\xe1 hi\u1ec7u l\u1ef1c cho ${a.length} s\u1ea3n ph\u1ea9m thu\u1ed9c nh\xf3m "${e}"`,{autoClose:2e3})}catch(a){throw console.error("Error updating DONGIA_HIEULUC in DMHH:",a),a}},U=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(k(!0),l({ID:e.ID||"",HIEULUC_TU:e.HIEULUC_TU?B(e.HIEULUC_TU):"",HIEULUC_DEN:e.HIEULUC_DEN?B(e.HIEULUC_DEN):"",NHOMHANG:e.NHOMHANG||"",GIABAN_DEXUAT:e.GIABAN_DEXUAT||""})):(k(!1),l({HIEULUC_TU:"",HIEULUC_DEN:"",NHOMHANG:"",GIABAN_DEXUAT:""})),u(!0)},G=()=>{u(!1),k(!1),l({HIEULUC_TU:"",HIEULUC_DEN:"",NHOMHANG:"",GIABAN_DEXUAT:""})},B=e=>{if(!e)return"";return new Date(e).toISOString().split("T")[0]},z=e=>{if(!e)return"\u2014";return new Date(e).toLocaleDateString("vi-VN")},V=(e,t)=>{l((r=>({...r,[e]:t})))},K=()=>{g(!1),b(null)},$=e=>{let t="ascending";N.key===e&&"ascending"===N.direction&&(t="descending"),w({key:e,direction:t})},W=(0,n.useCallback)((()=>{const t=[...e];return N.key&&t.sort(((e,t)=>{const r=e[N.key]||"",n=t[N.key]||"";if("GIABAN_DEXUAT"===N.key){const e=parseFloat(r)||0,t=parseFloat(n)||0;return"ascending"===N.direction?e-t:t-e}if("HIEULUC_TU"===N.key||"HIEULUC_DEN"===N.key){const e=new Date(r),t=new Date(n);return"ascending"===N.direction?e-t:t-e}return r<n?"ascending"===N.direction?-1:1:r>n?"ascending"===N.direction?1:-1:0})),t}),[e,N]),X=W().filter((e=>{var t,r;const n=(null===(t=e.NHOMHANG)||void 0===t?void 0:t.toLowerCase().includes(f.toLowerCase()))||(null===(r=e.GIABAN_DEXUAT)||void 0===r?void 0:r.toString().includes(f)),a="T\u1ea4T C\u1ea2"===T||e.NHOMHANG===T,i=R(e.HIEULUC_TU,e.HIEULUC_DEN);return n&&a&&("T\u1ea4T C\u1ea2"===O||i===O)})),Y=Math.ceil(X.length/P),q=A*P,Q=q-P,Z=X.slice(Q,q);(0,n.useEffect)((()=>{I(1)}),[f,T,O,P]);const J=e=>N.key!==e?(0,ar.jsx)("span",{className:"text-gray-400 ml-1",children:"\u21c5"}):"ascending"===N.direction?(0,ar.jsx)("span",{className:"text-blue-600 ml-1",children:"\u2191"}):(0,ar.jsx)("span",{className:"text-blue-600 ml-1",children:"\u2193"}),ee=(e,t)=>{switch(R(e,t)){case"active":return(0,ar.jsxs)("span",{className:"px-3 py-1.5 bg-gradient-to-r from-green-100 to-green-200 text-green-800 rounded-lg text-xs font-semibold shadow-sm flex items-center gap-1 w-fit",children:[(0,ar.jsx)(qG,{className:"w-3.5 h-3.5"}),"\u0110ang \xe1p d\u1ee5ng"]});case"upcoming":return(0,ar.jsxs)("span",{className:"px-3 py-1.5 bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 rounded-lg text-xs font-semibold shadow-sm flex items-center gap-1 w-fit",children:[(0,ar.jsx)(QG,{className:"w-3.5 h-3.5"}),"S\u1eafp \xe1p d\u1ee5ng"]});case"expired":return(0,ar.jsxs)("span",{className:"px-3 py-1.5 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 rounded-lg text-xs font-semibold shadow-sm flex items-center gap-1 w-fit",children:[(0,ar.jsx)(ZG,{className:"w-3.5 h-3.5"}),"\u0110\xe3 h\u1ebft h\u1ea1n"]});default:return(0,ar.jsxs)("span",{className:"px-3 py-1.5 bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 rounded-lg text-xs font-semibold shadow-sm flex items-center gap-1 w-fit",children:[(0,ar.jsx)(_k,{className:"w-3.5 h-3.5"}),"Kh\xf4ng x\xe1c \u0111\u1ecbnh"]})}};return(0,ar.jsxs)("div",{className:"p-4 md:p-6 bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen",children:[(0,ar.jsx)("div",{className:"mx-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6 border border-gray-100",children:[(0,ar.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ar.jsx)("div",{className:"p-3 bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-md",children:(0,ar.jsx)(zG,{className:"w-6 h-6 text-white"})}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"C\xe0i \u0110\u1eb7t Gi\xe1 B\xe1n"}),(0,ar.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Qu\u1ea3n l\xfd gi\xe1 b\xe1n theo th\u1eddi gian hi\u1ec7u l\u1ef1c"})]})]}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ar.jsxs)("button",{onClick:async()=>{et.info("\u0110ang t\u1ea3i l\u1ea1i d\u1eef li\u1ec7u..."),await M(),await L(),et.success("\u0110\xe3 t\u1ea3i l\u1ea1i d\u1eef li\u1ec7u th\xe0nh c\xf4ng!")},className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 hover:border-gray-400 flex items-center gap-2 transition-all shadow-sm hover:shadow",title:"T\u1ea3i l\u1ea1i d\u1eef li\u1ec7u",children:[(0,ar.jsx)(JG,{className:"w-4 h-4"}),(0,ar.jsx)("span",{className:"hidden sm:inline",children:"L\xe0m m\u1edbi"})]}),(0,ar.jsxs)("button",{onClick:()=>v(!y),className:"px-4 py-2 rounded-xl flex items-center gap-2 transition-all shadow-sm hover:shadow "+(y?"bg-green-50 text-green-700 border border-green-200":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:[(0,ar.jsx)(vk,{className:"w-4 h-4"}),y?"\u1ea8n b\u1ed9 l\u1ecdc":"B\u1ed9 l\u1ecdc"]}),(0,ar.jsxs)("button",{onClick:()=>U(),className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white px-4 py-2 rounded-xl flex items-center gap-2 transition-all shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:[(0,ar.jsx)(Nk,{className:"w-4 h-4"}),"Th\xeam gi\xe1 b\xe1n"]})]})]}),y&&(0,ar.jsxs)("div",{className:"mb-6 space-y-4 animate-fadeIn",children:[(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)(wk,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,ar.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm theo nh\xf3m h\xe0ng ho\u1eb7c gi\xe1 b\xe1n...",className:"w-full pl-12 pr-4 py-3.5 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all shadow-sm",value:f,onChange:e=>p(e.target.value)})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-5 rounded-xl border border-gray-200 shadow-sm space-y-4",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[(0,ar.jsx)(vk,{className:"w-4 h-4"}),"L\u1ecdc theo nh\xf3m h\xe0ng:"]}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ar.jsxs)("button",{onClick:()=>S("T\u1ea4T C\u1ea2"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("T\u1ea4T C\u1ea2"===T?"bg-green-600 text-white shadow-md transform scale-105":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 hover:border-gray-400"),children:["T\u1ea5t c\u1ea3 (",e.length,")"]}),i.map((t=>(0,ar.jsxs)("button",{onClick:()=>S(t),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all "+(T===t?"bg-green-600 text-white shadow-md transform scale-105":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 hover:border-gray-400"),children:[t," (",e.filter((e=>e.NHOMHANG===t)).length,")"]},t)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[(0,ar.jsx)(vk,{className:"w-4 h-4"}),"L\u1ecdc theo tr\u1ea1ng th\xe1i:"]}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ar.jsx)("button",{onClick:()=>_("T\u1ea4T C\u1ea2"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("T\u1ea4T C\u1ea2"===O?"bg-green-600 text-white shadow-md transform scale-105":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 hover:border-gray-400"),children:"T\u1ea5t c\u1ea3"}),(0,ar.jsxs)("button",{onClick:()=>_("active"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1 "+("active"===O?"bg-green-600 text-white shadow-md transform scale-105":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 hover:border-gray-400"),children:[(0,ar.jsx)(qG,{className:"w-3.5 h-3.5"}),"\u0110ang \xe1p d\u1ee5ng (",e.filter((e=>"active"===R(e.HIEULUC_TU,e.HIEULUC_DEN))).length,")"]}),(0,ar.jsxs)("button",{onClick:()=>_("upcoming"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1 "+("upcoming"===O?"bg-blue-600 text-white shadow-md transform scale-105":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 hover:border-gray-400"),children:[(0,ar.jsx)(QG,{className:"w-3.5 h-3.5"}),"S\u1eafp \xe1p d\u1ee5ng (",e.filter((e=>"upcoming"===R(e.HIEULUC_TU,e.HIEULUC_DEN))).length,")"]}),(0,ar.jsxs)("button",{onClick:()=>_("expired"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1 "+("expired"===O?"bg-gray-600 text-white shadow-md transform scale-105":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 hover:border-gray-400"),children:[(0,ar.jsx)(ZG,{className:"w-3.5 h-3.5"}),"\u0110\xe3 h\u1ebft h\u1ea1n (",e.filter((e=>"expired"===R(e.HIEULUC_TU,e.HIEULUC_DEN))).length,")"]})]})]})]})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,ar.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-sm font-medium text-blue-700 mb-1",children:"T\u1ed5ng s\u1ed1 gi\xe1 b\xe1n"}),(0,ar.jsx)("p",{className:"text-3xl font-bold text-blue-900",children:e.length})]}),(0,ar.jsx)("div",{className:"p-3 bg-blue-200 rounded-lg",children:(0,ar.jsx)(zG,{className:"w-6 h-6 text-blue-700"})})]})}),(0,ar.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-sm font-medium text-green-700 mb-1",children:"\u0110ang \xe1p d\u1ee5ng"}),(0,ar.jsx)("p",{className:"text-3xl font-bold text-green-900",children:e.filter((e=>"active"===R(e.HIEULUC_TU,e.HIEULUC_DEN))).length})]}),(0,ar.jsx)("div",{className:"p-3 bg-green-200 rounded-lg",children:(0,ar.jsx)(qG,{className:"w-6 h-6 text-green-700"})})]})}),(0,ar.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-sm font-medium text-purple-700 mb-1",children:"S\u1eafp \xe1p d\u1ee5ng"}),(0,ar.jsx)("p",{className:"text-3xl font-bold text-purple-900",children:e.filter((e=>"upcoming"===R(e.HIEULUC_TU,e.HIEULUC_DEN))).length})]}),(0,ar.jsx)("div",{className:"p-3 bg-purple-200 rounded-lg",children:(0,ar.jsx)(QG,{className:"w-6 h-6 text-purple-700"})})]})}),(0,ar.jsx)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 border border-gray-200 rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"\u0110\xe3 h\u1ebft h\u1ea1n"}),(0,ar.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:e.filter((e=>"expired"===R(e.HIEULUC_TU,e.HIEULUC_DEN))).length})]}),(0,ar.jsx)("div",{className:"p-3 bg-gray-200 rounded-lg",children:(0,ar.jsx)(ZG,{className:"w-6 h-6 text-gray-700"})})]})})]}),(0,ar.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("label",{className:"text-sm text-gray-600 font-medium",children:"Hi\u1ec3n th\u1ecb:"}),(0,ar.jsxs)("select",{value:P,onChange:e=>H(Number(e.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm bg-white",children:[(0,ar.jsx)("option",{value:5,children:"5 m\u1ee5c"}),(0,ar.jsx)("option",{value:10,children:"10 m\u1ee5c"}),(0,ar.jsx)("option",{value:20,children:"20 m\u1ee5c"}),(0,ar.jsx)("option",{value:50,children:"50 m\u1ee5c"}),(0,ar.jsx)("option",{value:100,children:"100 m\u1ee5c"})]})]}),(0,ar.jsxs)("div",{className:"text-sm text-gray-600",children:["Hi\u1ec3n th\u1ecb ",(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:Q+1})," - ",(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:Math.min(q,X.length)})," trong t\u1ed5ng s\u1ed1 ",(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:X.length})," m\u1ee5c"]})]}),(0,ar.jsx)("div",{className:"overflow-x-auto rounded-xl border border-gray-200 shadow-sm",children:E?(0,ar.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,ar.jsxs)("div",{className:"text-center",children:[(0,ar.jsx)(JG,{className:"w-12 h-12 text-green-600 animate-spin mx-auto mb-4"}),(0,ar.jsx)("p",{className:"text-gray-600",children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u..."})]})}):(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>$("NHOMHANG"),children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:["Nh\xf3m h\xe0ng ",J("NHOMHANG")]})}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>$("HIEULUC_TU"),children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:["Hi\u1ec7u l\u1ef1c t\u1eeb ",J("HIEULUC_TU")]})}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>$("HIEULUC_DEN"),children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:["Hi\u1ec7u l\u1ef1c \u0111\u1ebfn ",J("HIEULUC_DEN")]})}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>$("GIABAN_DEXUAT"),children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:["Gi\xe1 b\xe1n \u0111\u1ec1 xu\u1ea5t ",J("GIABAN_DEXUAT")]})}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Tr\u1ea1ng th\xe1i"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-bold text-gray-700 uppercase tracking-wider text-center",children:"Thao t\xe1c"})]})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Z.length>0?Z.map(((e,t)=>(0,ar.jsxs)("tr",{className:"hover:bg-green-50 transition-colors "+(t%2===0?"bg-white":"bg-gray-50"),children:[(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,ar.jsx)("span",{className:"px-3 py-1.5 bg-gradient-to-r from-indigo-100 to-indigo-200 text-indigo-800 rounded-lg text-sm font-semibold shadow-sm",children:e.NHOMHANG})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)(Ik,{className:"w-4 h-4 text-gray-400"}),(0,ar.jsx)("span",{className:"font-medium",children:z(e.HIEULUC_TU)})]})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)(Ik,{className:"w-4 h-4 text-gray-400"}),(0,ar.jsx)("span",{className:"font-medium",children:z(e.HIEULUC_DEN)})]})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:(0,ar.jsx)("span",{className:"font-bold text-green-600 text-base",children:D(e.GIABAN_DEXUAT)})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:ee(e.HIEULUC_TU,e.HIEULUC_DEN)}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 text-center",children:(0,ar.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,ar.jsx)("button",{onClick:()=>U(e),className:"text-indigo-600 hover:text-indigo-900 p-2 rounded-lg hover:bg-indigo-100 transition-all transform hover:scale-110",title:"S\u1eeda gi\xe1 b\xe1n",children:(0,ar.jsx)(kk,{className:"h-5 w-5"})}),(0,ar.jsx)("button",{onClick:()=>(e=>{b(e),g(!0)})(e),className:"text-red-600 hover:text-red-900 p-2 rounded-lg hover:bg-red-100 transition-all transform hover:scale-110",title:"X\xf3a gi\xe1 b\xe1n",children:(0,ar.jsx)(Tk,{className:"h-5 w-5"})})]})})]},e.ID))):(0,ar.jsx)("tr",{children:(0,ar.jsx)("td",{colSpan:"6",className:"px-6 py-12 text-center",children:(0,ar.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[(0,ar.jsx)(zG,{className:"w-16 h-16 text-gray-300 mb-4"}),(0,ar.jsx)("p",{className:"text-lg font-medium",children:"Kh\xf4ng t\xecm th\u1ea5y gi\xe1 b\xe1n n\xe0o"}),(0,ar.jsx)("p",{className:"text-sm mt-1",children:"Th\u1eed thay \u0111\u1ed5i b\u1ed9 l\u1ecdc ho\u1eb7c t\xecm ki\u1ebfm"})]})})})})]})}),X.length>0&&Y>1&&(0,ar.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,ar.jsxs)("div",{className:"text-sm text-gray-600",children:["Trang ",(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:A})," / ",(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:Y})]}),(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("button",{onClick:()=>I(1),disabled:1===A,className:"p-2 rounded-lg border transition-all "+(1===A?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"),children:"\xab"}),(0,ar.jsx)("button",{onClick:()=>I((e=>Math.max(e-1,1))),disabled:1===A,className:"p-2 rounded-lg border transition-all "+(1===A?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"),children:"\u2039"}),(0,ar.jsxs)("span",{className:"px-4 py-2 text-sm text-gray-700",children:[A," / ",Y]}),(0,ar.jsx)("button",{onClick:()=>I((e=>Math.min(e+1,Y))),disabled:A===Y,className:"p-2 rounded-lg border transition-all "+(A===Y?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"),children:"\u203a"}),(0,ar.jsx)("button",{onClick:()=>I(Y),disabled:A===Y,className:"p-2 rounded-lg border transition-all "+(A===Y?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"),children:"\xbb"})]})]})]})}),c&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto backdrop-blur-sm",children:(0,ar.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full p-6 animate-fadeIn",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-5",children:[(0,ar.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[(0,ar.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,ar.jsx)(zG,{className:"w-6 h-6 text-green-600"})}),j?"C\u1eadp nh\u1eadt gi\xe1 b\xe1n":"Th\xeam gi\xe1 b\xe1n m\u1edbi"]}),(0,ar.jsx)("button",{onClick:G,className:"text-gray-500 hover:text-gray-700 focus:outline-none p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,ar.jsx)(xk,{className:"h-6 w-6"})})]}),(0,ar.jsxs)("div",{className:"space-y-2",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nh\xf3m h\xe0ng ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("select",{value:o.NHOMHANG,onChange:e=>V("NHOMHANG",e.target.value),className:"p-3 border border-gray-300 rounded-xl w-full focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",required:!0,children:[(0,ar.jsx)("option",{value:"",children:"-- Ch\u1ecdn nh\xf3m h\xe0ng --"}),i.map((e=>(0,ar.jsx)("option",{value:e,children:e},e)))]}),(0,ar.jsxs)("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:[(0,ar.jsx)(eB,{className:"w-3 h-3"}),"Danh s\xe1ch nh\xf3m h\xe0ng \u0111\u01b0\u1ee3c l\u1ea5y t\u1eeb Danh m\u1ee5c h\xe0ng h\xf3a"]})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Hi\u1ec7u l\u1ef1c t\u1eeb ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)(Ik,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,ar.jsx)("input",{type:"date",value:o.HIEULUC_TU,onChange:e=>V("HIEULUC_TU",e.target.value),className:"pl-10 p-3 border border-gray-300 rounded-xl w-full focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",required:!0})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Hi\u1ec7u l\u1ef1c \u0111\u1ebfn"}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)(Ik,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,ar.jsx)("input",{type:"date",value:o.HIEULUC_DEN,onChange:e=>V("HIEULUC_DEN",e.target.value),className:"pl-10 p-3 border border-gray-300 rounded-xl w-full focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),(0,ar.jsxs)("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:[(0,ar.jsx)(eB,{className:"w-3 h-3"}),"\u0110\u1ec3 tr\u1ed1ng n\u1ebfu kh\xf4ng c\xf3 ng\xe0y k\u1ebft th\xfac"]})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Gi\xe1 b\xe1n \u0111\u1ec1 xu\u1ea5t (VN\u0110) ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)(zG,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,ar.jsx)("input",{type:"number",step:"1000",value:o.GIABAN_DEXUAT,onChange:e=>V("GIABAN_DEXUAT",e.target.value),className:"pl-10 pr-12 p-3 border border-gray-300 rounded-xl w-full focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"Nh\u1eadp gi\xe1 b\xe1n",required:!0}),(0,ar.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,ar.jsx)("span",{className:"text-gray-500 font-medium",children:"\u20ab"})})]}),o.GIABAN_DEXUAT&&(0,ar.jsx)("p",{className:"text-sm text-green-600 mt-2 font-semibold",children:D(parseFloat(o.GIABAN_DEXUAT))})]}),o.HIEULUC_TU&&(0,ar.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 rounded-xl p-4",children:[(0,ar.jsxs)("p",{className:"text-sm text-gray-700 mb-3 font-semibold flex items-center gap-2",children:[(0,ar.jsx)(eB,{className:"w-4 h-4"}),"Tr\u1ea1ng th\xe1i d\u1ef1 ki\u1ebfn: ",ee(o.HIEULUC_TU,o.HIEULUC_DEN)]}),(0,ar.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-300",children:["active"===R(o.HIEULUC_TU,o.HIEULUC_DEN)&&(0,ar.jsxs)("p",{className:"text-xs text-green-700 flex items-start gap-2",children:[(0,ar.jsx)(qG,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,ar.jsxs)("span",{children:["Gi\xe1 n\xe0y ",(0,ar.jsx)("strong",{children:"\u0111ang c\xf3 hi\u1ec7u l\u1ef1c"}),". Khi l\u01b0u, gi\xe1 s\u1ebd \u0111\u01b0\u1ee3c t\u1ef1 \u0111\u1ed9ng c\u1eadp nh\u1eadt v\xe0o tr\u01b0\u1eddng ",(0,ar.jsx)("strong",{children:"DONGIA_HIEULUC"})," c\u1ee7a t\u1ea5t c\u1ea3 s\u1ea3n ph\u1ea9m thu\u1ed9c nh\xf3m h\xe0ng n\xe0y trong Danh m\u1ee5c h\xe0ng h\xf3a."]})]}),"upcoming"===R(o.HIEULUC_TU,o.HIEULUC_DEN)&&(0,ar.jsxs)("p",{className:"text-xs text-blue-700 flex items-start gap-2",children:[(0,ar.jsx)(QG,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,ar.jsxs)("span",{children:["Gi\xe1 n\xe0y ",(0,ar.jsx)("strong",{children:"ch\u01b0a c\xf3 hi\u1ec7u l\u1ef1c"}),". Gi\xe1 s\u1ebd \u0111\u01b0\u1ee3c t\u1ef1 \u0111\u1ed9ng \xe1p d\u1ee5ng v\xe0o ",(0,ar.jsx)("strong",{children:"DONGIA_HIEULUC"})," khi \u0111\u1ebfn ng\xe0y hi\u1ec7u l\u1ef1c."]})]}),"expired"===R(o.HIEULUC_TU,o.HIEULUC_DEN)&&(0,ar.jsxs)("p",{className:"text-xs text-gray-700 flex items-start gap-2",children:[(0,ar.jsx)(ZG,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,ar.jsxs)("span",{children:["Gi\xe1 n\xe0y ",(0,ar.jsx)("strong",{children:"\u0111\xe3 h\u1ebft hi\u1ec7u l\u1ef1c"}),". Khi l\u01b0u, gi\xe1 hi\u1ec7u l\u1ef1c s\u1ebd \u0111\u01b0\u1ee3c x\xf3a kh\u1ecfi ",(0,ar.jsx)("strong",{children:"DONGIA_HIEULUC"})," c\u1ee7a c\xe1c s\u1ea3n ph\u1ea9m thu\u1ed9c nh\xf3m h\xe0ng n\xe0y."]})]})]})]}),(0,ar.jsx)("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 border border-yellow-200 rounded-xl p-4",children:(0,ar.jsxs)("p",{className:"text-sm text-yellow-800 flex items-start gap-2",children:[(0,ar.jsx)(_k,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),(0,ar.jsxs)("span",{children:[(0,ar.jsx)("strong",{children:"L\u01b0u \xfd:"})," H\u1ec7 th\u1ed1ng s\u1ebd t\u1ef1 \u0111\u1ed9ng c\u1eadp nh\u1eadt gi\xe1 hi\u1ec7u l\u1ef1c v\xe0o Danh m\u1ee5c h\xe0ng h\xf3a d\u1ef1a tr\xean ng\xe0y hi\u1ec7u l\u1ef1c. Ch\u1ec9 c\xf3 gi\xe1 ",(0,ar.jsx)("strong",{children:"\u0111ang c\xf3 hi\u1ec7u l\u1ef1c"})," m\u1edbi \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng v\xe0o tr\u01b0\u1eddng ",(0,ar.jsx)("strong",{children:"DONGIA_HIEULUC"}),"."]})]})})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-3 pt-6 mt-6 border-t border-gray-200",children:[(0,ar.jsxs)("button",{onClick:G,className:"px-5 py-2.5 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all shadow-sm flex items-center gap-2",disabled:d,children:[(0,ar.jsx)(xk,{className:"h-4 w-4"}),"H\u1ee7y"]}),(0,ar.jsx)("button",{onClick:async()=>{if(!d)try{h(!0);const e=(e=>{const t=[];if(e.HIEULUC_TU||t.push("Ng\xe0y hi\u1ec7u l\u1ef1c t\u1eeb kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e.NHOMHANG||t.push("Nh\xf3m h\xe0ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),(!e.GIABAN_DEXUAT||isNaN(e.GIABAN_DEXUAT)||parseFloat(e.GIABAN_DEXUAT)<=0)&&t.push("Gi\xe1 b\xe1n \u0111\u1ec1 xu\u1ea5t ph\u1ea3i l\xe0 s\u1ed1 d\u01b0\u01a1ng"),e.HIEULUC_TU&&e.HIEULUC_DEN){const r=new Date(e.HIEULUC_TU);new Date(e.HIEULUC_DEN)<r&&t.push("Ng\xe0y hi\u1ec7u l\u1ef1c \u0111\u1ebfn ph\u1ea3i sau ng\xe0y hi\u1ec7u l\u1ef1c t\u1eeb")}return t})(o);if(e.length>0)return et.error(e.join("\n")),void h(!1);const t={...o,GIABAN_DEXUAT:parseFloat(o.GIABAN_DEXUAT)},r=R(t.HIEULUC_TU,t.HIEULUC_DEN);if(j)await ut.apiRequestKHO("CD_GIABAN","Edit",{Rows:[t]}),et.success("C\u1eadp nh\u1eadt gi\xe1 b\xe1n th\xe0nh c\xf4ng!"),"active"===r?await F(t.NHOMHANG,t.GIABAN_DEXUAT,!0):"expired"===r?(await F(t.NHOMHANG,0,!1),et.warning("Gi\xe1 \u0111\xe3 h\u1ebft hi\u1ec7u l\u1ef1c. \u0110\xe3 x\xf3a gi\xe1 hi\u1ec7u l\u1ef1c kh\u1ecfi danh m\u1ee5c h\xe0ng h\xf3a.")):"upcoming"===r&&et.info("Gi\xe1 ch\u01b0a c\xf3 hi\u1ec7u l\u1ef1c. Gi\xe1 s\u1ebd \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng t\u1ef1 \u0111\u1ed9ng khi \u0111\u1ebfn ng\xe0y hi\u1ec7u l\u1ef1c.");else{const{ID:e,...n}=t;await ut.apiRequestKHO("CD_GIABAN","Add",{Rows:[n]}),et.success("Th\xeam gi\xe1 b\xe1n m\u1edbi th\xe0nh c\xf4ng!"),"active"===r?await F(t.NHOMHANG,t.GIABAN_DEXUAT,!0):"upcoming"===r?et.info("Gi\xe1 ch\u01b0a c\xf3 hi\u1ec7u l\u1ef1c. Gi\xe1 s\u1ebd \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng t\u1ef1 \u0111\u1ed9ng khi \u0111\u1ebfn ng\xe0y hi\u1ec7u l\u1ef1c."):"expired"===r&&et.warning("Gi\xe1 \u0111\xe3 h\u1ebft hi\u1ec7u l\u1ef1c ngay khi t\u1ea1o. Vui l\xf2ng ki\u1ec3m tra l\u1ea1i ng\xe0y hi\u1ec7u l\u1ef1c.")}await M(),await L(),G()}catch(e){console.error("Error saving gia ban:",e),et.error("C\xf3 l\u1ed7i x\u1ea3y ra: "+(e.message||"Kh\xf4ng th\u1ec3 l\u01b0u gi\xe1 b\xe1n"))}finally{h(!1)}},disabled:d,className:`px-6 py-2.5 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl ${d?"opacity-50 cursor-not-allowed":"hover:from-green-700 hover:to-green-800 hover:shadow-lg transform hover:-translate-y-0.5"} flex items-center gap-2 transition-all shadow-md font-medium`,children:d?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ar.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ar.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0110ang l\u01b0u..."]}):(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ar.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"L\u01b0u gi\xe1 b\xe1n"]})})]})]})}),m&&x&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,ar.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 animate-fadeIn",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-5",children:[(0,ar.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[(0,ar.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,ar.jsx)(Tk,{className:"w-5 h-5 text-red-600"})}),"X\xe1c nh\u1eadn x\xf3a"]}),(0,ar.jsx)("button",{onClick:K,className:"text-gray-500 hover:text-gray-700 focus:outline-none p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsxs)("div",{className:"space-y-5",children:[(0,ar.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 border border-red-200 rounded-xl p-5",children:[(0,ar.jsxs)("p",{className:"text-red-700 mb-3 font-medium flex items-center gap-2",children:[(0,ar.jsx)(_k,{className:"w-5 h-5"}),"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a gi\xe1 b\xe1n n\xe0y?"]}),(0,ar.jsxs)("div",{className:"bg-white rounded-lg p-4 mt-3 space-y-2.5 shadow-sm",children:[(0,ar.jsxs)("p",{className:"text-sm text-gray-700 flex items-center gap-2",children:[(0,ar.jsx)("span",{className:"font-semibold min-w-[100px]",children:"Nh\xf3m h\xe0ng:"}),(0,ar.jsx)("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 rounded text-xs font-medium",children:x.NHOMHANG})]}),(0,ar.jsxs)("p",{className:"text-sm text-gray-700 flex items-center gap-2",children:[(0,ar.jsx)("span",{className:"font-semibold min-w-[100px]",children:"Gi\xe1 b\xe1n:"}),(0,ar.jsx)("span",{className:"font-bold text-green-600",children:D(x.GIABAN_DEXUAT)})]}),(0,ar.jsxs)("p",{className:"text-sm text-gray-700 flex items-start gap-2",children:[(0,ar.jsx)("span",{className:"font-semibold min-w-[100px]",children:"Hi\u1ec7u l\u1ef1c:"}),(0,ar.jsxs)("span",{children:[z(x.HIEULUC_TU),x.HIEULUC_DEN&&` - ${z(x.HIEULUC_DEN)}`]})]}),(0,ar.jsx)("div",{className:"pt-2",children:ee(x.HIEULUC_TU,x.HIEULUC_DEN)})]}),"active"===R(x.HIEULUC_TU,x.HIEULUC_DEN)&&(0,ar.jsx)("div",{className:"mt-4 bg-red-100 border border-red-300 rounded-lg p-3",children:(0,ar.jsxs)("p",{className:"text-sm text-red-800 flex items-start gap-2",children:[(0,ar.jsx)(_k,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),(0,ar.jsxs)("span",{children:[(0,ar.jsx)("strong",{children:"C\u1ea3nh b\xe1o:"})," Gi\xe1 n\xe0y \u0111ang c\xf3 hi\u1ec7u l\u1ef1c. Khi x\xf3a, gi\xe1 hi\u1ec7u l\u1ef1c s\u1ebd b\u1ecb x\xf3a kh\u1ecfi tr\u01b0\u1eddng ",(0,ar.jsx)("strong",{children:"DONGIA_HIEULUC"})," c\u1ee7a t\u1ea5t c\u1ea3 s\u1ea3n ph\u1ea9m thu\u1ed9c nh\xf3m h\xe0ng ",(0,ar.jsx)("strong",{children:x.NHOMHANG})," trong Danh m\u1ee5c h\xe0ng h\xf3a."]})]})}),(0,ar.jsxs)("p",{className:"text-sm text-red-600 mt-4 flex items-center gap-2 font-medium",children:[(0,ar.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ar.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c."]})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,ar.jsx)("button",{onClick:K,className:"px-5 py-2.5 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all shadow-sm",children:"H\u1ee7y"}),(0,ar.jsxs)("button",{onClick:async()=>{if(x)try{const e=R(x.HIEULUC_TU,x.HIEULUC_DEN);await ut.apiRequestKHO("CD_GIABAN","Delete",{Rows:[{ID:x.ID}]}),et.success("X\xf3a gi\xe1 b\xe1n th\xe0nh c\xf4ng!"),"active"===e&&await F(x.NHOMHANG,0,!1),await M(),await L(),K()}catch(e){console.error("Error deleting gia ban:",e),et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a gi\xe1 b\xe1n")}},className:"px-5 py-2.5 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:from-red-700 hover:to-red-800 flex items-center gap-2 transition-all shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:[(0,ar.jsx)(Tk,{className:"h-4 w-4"}),"X\xf3a gi\xe1 b\xe1n"]})]})]})]})}),(0,ar.jsx)(lt,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,ar.jsx)("style",{children:"\n                @keyframes fadeIn {\n                    from {\n                        opacity: 0;\n                        transform: scale(0.95);\n                    }\n                    to {\n                        opacity: 1;\n                        transform: scale(1);\n                    }\n                }\n                \n                .animate-fadeIn {\n                    animation: fadeIn 0.2s ease-out;\n                }\n\n                /* Custom scrollbar */\n                .overflow-y-auto::-webkit-scrollbar {\n                    width: 8px;\n                }\n\n                .overflow-y-auto::-webkit-scrollbar-track {\n                    background: #f1f1f1;\n                    border-radius: 10px;\n                }\n\n                .overflow-y-auto::-webkit-scrollbar-thumb {\n                    background: #888;\n                    border-radius: 10px;\n                }\n\n                .overflow-y-auto::-webkit-scrollbar-thumb:hover {\n                    background: #555;\n                }\n            "})]})},rB=fr("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),nB=fr("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),aB=fr("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),iB=fr("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),sB=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[i,s]=(0,n.useState)({NHOM_HANG:"",DAY:"",RONG:"",DAI:"",DONGIA_HIEULUC:""}),[o,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)(null),[f,p]=(0,n.useState)(!1),[m,g]=(0,n.useState)(""),[x,b]=(0,n.useState)(!1),[y,v]=(0,n.useState)(null),[N,w]=(0,n.useState)(!1),[j,k]=(0,n.useState)({key:null,direction:"ascending"}),[T,S]=(0,n.useState)(!1),[O,_]=(0,n.useState)(!1),[E,C]=(0,n.useState)(""),[A,I]=(0,n.useState)("all"),[P,H]=(0,n.useState)("all"),[D,M]=(0,n.useState)(1),[L,R]=(0,n.useState)(10),F=e=>e&&0!==e?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"0 \u20ab",U=e=>{if(!e)return"N/A";try{const t=new Date(e);return isNaN(t.getTime())?"N/A":t.toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(t){return"N/A"}},G=(e,t,r)=>e&&t&&r?`${e}*${t}*${r}`:"",B=e=>r.filter((t=>t.NHOM_HANG===e&&"NHAP"===t.NGHIEP_VU)).length,z=e=>r.filter((t=>t.NHOM_HANG===e&&"NHAP"===t.NGHIEP_VU)).reduce(((e,t)=>e+(parseFloat(t.SO_KHOI)||0)),0),V=e=>r.filter((t=>t.NHOM_HANG===e&&"NHAP"===t.NGHIEP_VU)),K=async()=>{try{_(!0);const e=await ut.apiRequestKHO("DMHH","Find",{});t(e)}catch(e){console.error("Error fetching DMHH list:",e),et.error("L\u1ed7i khi t\u1ea3i danh m\u1ee5c h\xe0ng h\xf3a")}finally{_(!1)}},$=async()=>{try{const e=await ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Find",{});a(e)}catch(e){console.error("Error fetching ton kho:",e),et.error("L\u1ed7i khi t\u1ea3i t\u1ed3n kho")}};(0,n.useEffect)((()=>{K(),$()}),[]),(0,n.useEffect)((()=>{if(!T){const e=G(i.DAY,i.RONG,i.DAI);e&&e!==i.NHOM_HANG&&s((t=>({...t,NHOM_HANG:e})))}}),[i.DAY,i.RONG,i.DAI,T]);const W=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(S(!0),C(e.NHOM_HANG),s({NHOM_HANG:e.NHOM_HANG||"",DAY:e.DAY||"",RONG:e.RONG||"",DAI:e.DAI||"",DONGIA_HIEULUC:e.DONGIA_HIEULUC||""})):(S(!1),C(""),s({NHOM_HANG:"",DAY:"",RONG:"",DAI:"",DONGIA_HIEULUC:""})),l(!0)},X=()=>{l(!1),S(!1),C(""),s({NHOM_HANG:"",DAY:"",RONG:"",DAI:"",DONGIA_HIEULUC:""})},Y=()=>{u(!1),h(null)},q=(e,t)=>{s((r=>({...r,[e]:t})))},Q=()=>{b(!1),v(null)},Z=e=>{let t="ascending";j.key===e&&"ascending"===j.direction&&(t="descending"),k({key:e,direction:t})},J=(0,n.useCallback)((()=>{const t=[...e];return j.key&&t.sort(((e,t)=>{if("TON_KHO"===j.key){const r=B(e.NHOM_HANG),n=B(t.NHOM_HANG);return"ascending"===j.direction?r-n:n-r}const r=e[j.key]||"",n=t[j.key]||"";if("DONGIA_HIEULUC"===j.key){const e=parseFloat(r)||0,t=parseFloat(n)||0;return"ascending"===j.direction?e-t:t-e}return r<n?"ascending"===j.direction?-1:1:r>n?"ascending"===j.direction?1:-1:0})),t}),[e,j,r]),ee=J().filter((e=>{var t,r,n,a;const i=(null===(t=e.NHOM_HANG)||void 0===t?void 0:t.toLowerCase().includes(m.toLowerCase()))||(null===(r=e.DAY)||void 0===r?void 0:r.toString().includes(m))||(null===(n=e.RONG)||void 0===n?void 0:n.toString().includes(m))||(null===(a=e.DAI)||void 0===a?void 0:a.toString().includes(m));let s=!0;"with-price"===A?s=e.DONGIA_HIEULUC&&e.DONGIA_HIEULUC>0:"no-price"===A&&(s=!e.DONGIA_HIEULUC||0===e.DONGIA_HIEULUC);let o=!0;return"in-stock"===P?o=B(e.NHOM_HANG)>0:"out-of-stock"===P&&(o=0===B(e.NHOM_HANG)),i&&s&&o})),te=Math.ceil(ee.length/L),re=D*L,ne=re-L,ae=ee.slice(ne,re);(0,n.useEffect)((()=>{M(1)}),[m,L,A,P]);const ie=e=>j.key!==e?(0,ar.jsx)("span",{className:"text-gray-400 ml-1",children:"\u21c5"}):"ascending"===j.direction?(0,ar.jsx)("span",{className:"text-blue-600 ml-1",children:"\u2191"}):(0,ar.jsx)("span",{className:"text-blue-600 ml-1",children:"\u2193"}),se=e=>{"all"===e?(I("all"),H("all"),k({key:null,direction:"ascending"})):"with-price"===e?(I("with-price"),H("all")):"no-price"===e?(I("no-price"),H("all")):"in-stock"===e&&(I("all"),H("in-stock")),N||w(!0),et.info("\u0110\xe3 l\u1ecdc theo: "+("all"===e?"T\u1ea5t c\u1ea3":"with-price"===e?"C\xf3 gi\xe1 hi\u1ec7u l\u1ef1c":"no-price"===e?"Ch\u01b0a c\xf3 gi\xe1":"C\xf3 t\u1ed3n kho"))},oe=(()=>{const e=ee.length,t=ee.filter((e=>e.DONGIA_HIEULUC&&e.DONGIA_HIEULUC>0)).length,r=ee.filter((e=>!e.DONGIA_HIEULUC||0===e.DONGIA_HIEULUC)).length;let n=0,a=0;return ee.forEach((e=>{const t=B(e.NHOM_HANG),r=z(e.NHOM_HANG);n+=t,a+=r})),{totalItems:e,itemsWithPrice:t,itemsWithoutPrice:r,totalKienTon:n,totalKhoiLuong:a}})();return(0,ar.jsxs)("div",{className:"p-3 bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen",children:[(0,ar.jsx)("div",{className:"mx-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-4 border border-gray-100",children:[(0,ar.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-4 gap-3",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-sm",children:(0,ar.jsx)(yr,{className:"w-5 h-5 text-white"})}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"Danh M\u1ee5c H\xe0ng H\xf3a"}),(0,ar.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:"Qu\u1ea3n l\xfd th\xf4ng tin h\xe0ng h\xf3a v\xe0 gi\xe1 b\xe1n"})]})]}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ar.jsxs)("button",{onClick:async()=>{et.info("\u0110ang t\u1ea3i l\u1ea1i d\u1eef li\u1ec7u..."),await K(),await $(),et.success("\u0110\xe3 t\u1ea3i l\u1ea1i d\u1eef li\u1ec7u th\xe0nh c\xf4ng!")},className:"px-3 py-1.5 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 flex items-center gap-1.5 transition-all shadow-sm text-sm",title:"T\u1ea3i l\u1ea1i d\u1eef li\u1ec7u",children:[(0,ar.jsx)(JG,{className:"w-4 h-4"}),(0,ar.jsx)("span",{className:"hidden sm:inline",children:"L\xe0m m\u1edbi"})]}),(0,ar.jsxs)("button",{onClick:()=>w(!N),className:"px-3 py-1.5 rounded-lg flex items-center gap-1.5 transition-all shadow-sm text-sm "+(N?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:[(0,ar.jsx)(vk,{className:"w-4 h-4"}),N?"\u1ea8n b\u1ed9 l\u1ecdc":"B\u1ed9 l\u1ecdc"]}),(0,ar.jsxs)("button",{onClick:()=>W(),className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-3 py-1.5 rounded-lg flex items-center gap-1.5 transition-all shadow-sm text-sm",children:[(0,ar.jsx)(Nk,{className:"w-4 h-4"}),"Th\xeam h\xe0ng h\xf3a"]})]})]}),N&&(0,ar.jsxs)("div",{className:"mb-3 animate-fadeIn space-y-3",children:[(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)(wk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,ar.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm theo nh\xf3m h\xe0ng, k\xedch th\u01b0\u1edbc...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all shadow-sm text-sm",value:m,onChange:e=>g(e.target.value)})]}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"Gi\xe1:"}),(0,ar.jsx)("button",{onClick:()=>I("all"),className:"px-3 py-1 rounded-lg text-xs font-medium transition-all "+("all"===A?"bg-blue-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"T\u1ea5t c\u1ea3"}),(0,ar.jsx)("button",{onClick:()=>I("with-price"),className:"px-3 py-1 rounded-lg text-xs font-medium transition-all "+("with-price"===A?"bg-green-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"C\xf3 gi\xe1"}),(0,ar.jsx)("button",{onClick:()=>I("no-price"),className:"px-3 py-1 rounded-lg text-xs font-medium transition-all "+("no-price"===A?"bg-orange-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Ch\u01b0a c\xf3 gi\xe1"})]}),(0,ar.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"T\u1ed3n kho:"}),(0,ar.jsx)("button",{onClick:()=>H("all"),className:"px-3 py-1 rounded-lg text-xs font-medium transition-all "+("all"===P?"bg-blue-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"T\u1ea5t c\u1ea3"}),(0,ar.jsx)("button",{onClick:()=>H("in-stock"),className:"px-3 py-1 rounded-lg text-xs font-medium transition-all "+("in-stock"===P?"bg-purple-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"C\xf2n h\xe0ng"}),(0,ar.jsx)("button",{onClick:()=>H("out-of-stock"),className:"px-3 py-1 rounded-lg text-xs font-medium transition-all "+("out-of-stock"===P?"bg-gray-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"H\u1ebft h\xe0ng"})]}),("all"!==A||"all"!==P)&&(0,ar.jsxs)("button",{onClick:()=>{I("all"),H("all"),et.info("\u0110\xe3 x\xf3a b\u1ed9 l\u1ecdc")},className:"px-3 py-1 rounded-lg text-xs font-medium bg-red-100 text-red-600 hover:bg-red-200 transition-all flex items-center gap-1",children:[(0,ar.jsx)(xk,{className:"w-3 h-3"}),"X\xf3a b\u1ed9 l\u1ecdc"]})]})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-3 mb-3",children:[(0,ar.jsx)("div",{onClick:()=>se("all"),className:"bg-gradient-to-br from-blue-50 to-blue-100 border-2 rounded-lg p-3 shadow-sm cursor-pointer transition-all hover:shadow-md hover:scale-105 "+("all"===A&&"all"===P?"border-blue-500 ring-2 ring-blue-200":"border-blue-200"),children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-xs font-medium text-blue-700 mb-0.5",children:"T\u1ed5ng h\xe0ng h\xf3a"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:oe.totalItems})]}),(0,ar.jsx)("div",{className:"p-2 bg-blue-200 rounded-lg",children:(0,ar.jsx)(yr,{className:"w-5 h-5 text-blue-700"})})]})}),(0,ar.jsx)("div",{onClick:()=>se("with-price"),className:"bg-gradient-to-br from-green-50 to-green-100 border-2 rounded-lg p-3 shadow-sm cursor-pointer transition-all hover:shadow-md hover:scale-105 "+("with-price"===A?"border-green-500 ring-2 ring-green-200":"border-green-200"),children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-xs font-medium text-green-700 mb-0.5",children:"C\xf3 gi\xe1 hi\u1ec7u l\u1ef1c"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-green-900",children:oe.itemsWithPrice})]}),(0,ar.jsx)("div",{className:"p-2 bg-green-200 rounded-lg",children:(0,ar.jsx)("svg",{className:"w-5 h-5 text-green-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ar.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,ar.jsx)("div",{onClick:()=>se("no-price"),className:"bg-gradient-to-br from-orange-50 to-orange-100 border-2 rounded-lg p-3 shadow-sm cursor-pointer transition-all hover:shadow-md hover:scale-105 "+("no-price"===A?"border-orange-500 ring-2 ring-orange-200":"border-orange-200"),children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-xs font-medium text-orange-700 mb-0.5",children:"Ch\u01b0a c\xf3 gi\xe1"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-orange-900",children:oe.itemsWithoutPrice})]}),(0,ar.jsx)("div",{className:"p-2 bg-orange-200 rounded-lg",children:(0,ar.jsx)("svg",{className:"w-5 h-5 text-orange-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ar.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})}),(0,ar.jsx)("div",{onClick:()=>se("in-stock"),className:"bg-gradient-to-br from-purple-50 to-purple-100 border-2 rounded-lg p-3 shadow-sm cursor-pointer transition-all hover:shadow-md hover:scale-105 "+("in-stock"===P?"border-purple-500 ring-2 ring-purple-200":"border-purple-200"),children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-xs font-medium text-purple-700 mb-0.5",children:"Lo\u1ea1i c\xf3 t\u1ed3n"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:ee.filter((e=>B(e.NHOM_HANG)>0)).length})]}),(0,ar.jsx)("div",{className:"p-2 bg-purple-200 rounded-lg",children:(0,ar.jsx)(rB,{className:"w-5 h-5 text-purple-700"})})]})}),(0,ar.jsx)("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 border-2 border-indigo-200 rounded-lg p-3 shadow-sm transition-all hover:shadow-md hover:scale-105",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-xs font-medium text-indigo-700 mb-0.5",children:"T\u1ed5ng ki\u1ec7n t\u1ed3n"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-indigo-900",children:oe.totalKienTon}),(0,ar.jsx)("p",{className:"text-xs text-indigo-600 mt-0.5",children:"ki\u1ec7n"})]}),(0,ar.jsx)("div",{className:"p-2 bg-indigo-200 rounded-lg",children:(0,ar.jsx)(nB,{className:"w-5 h-5 text-indigo-700"})})]})}),(0,ar.jsx)("div",{className:"bg-gradient-to-br from-teal-50 to-teal-100 border-2 border-teal-200 rounded-lg p-3 shadow-sm transition-all hover:shadow-md hover:scale-105",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-xs font-medium text-teal-700 mb-0.5",children:"T\u1ed5ng kh\u1ed1i l\u01b0\u1ee3ng"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-teal-900",children:oe.totalKhoiLuong.toFixed(2)}),(0,ar.jsx)("p",{className:"text-xs text-teal-600 mt-0.5",children:"m\xb3"})]}),(0,ar.jsx)("div",{className:"p-2 bg-teal-200 rounded-lg",children:(0,ar.jsx)("svg",{className:"w-5 h-5 text-teal-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ar.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})]})})]}),(0,ar.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-3",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("label",{className:"text-xs text-gray-600 font-medium",children:"Hi\u1ec3n th\u1ecb:"}),(0,ar.jsxs)("select",{value:L,onChange:e=>R(Number(e.target.value)),className:"px-2 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs bg-white",children:[(0,ar.jsx)("option",{value:5,children:"5 m\u1ee5c"}),(0,ar.jsx)("option",{value:10,children:"10 m\u1ee5c"}),(0,ar.jsx)("option",{value:20,children:"20 m\u1ee5c"}),(0,ar.jsx)("option",{value:50,children:"50 m\u1ee5c"}),(0,ar.jsx)("option",{value:100,children:"100 m\u1ee5c"})]})]}),(0,ar.jsxs)("div",{className:"text-xs text-gray-600",children:["Hi\u1ec3n th\u1ecb ",(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:ne+1})," - ",(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:Math.min(re,ee.length)})," trong t\u1ed5ng s\u1ed1 ",(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:ee.length})," m\u1ee5c"]})]}),(0,ar.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:O?(0,ar.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ar.jsxs)("div",{className:"text-center",children:[(0,ar.jsx)(JG,{className:"w-10 h-10 text-blue-600 animate-spin mx-auto mb-3"}),(0,ar.jsx)("p",{className:"text-gray-600 text-sm",children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u..."})]})}):(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>Z("NHOM_HANG"),children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:["Nh\xf3m h\xe0ng ",ie("NHOM_HANG")]})}),(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>Z("DAY"),children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:["D\xe0y ",ie("DAY")]})}),(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>Z("RONG"),children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:["R\u1ed9ng ",ie("RONG")]})}),(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>Z("DAI"),children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:["D\xe0i ",ie("DAI")]})}),(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>Z("DONGIA_HIEULUC"),children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:["\u0110\u01a1n gi\xe1 hi\u1ec7u l\u1ef1c ",ie("DONGIA_HIEULUC")]})}),(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-xs font-bold text-gray-700 uppercase tracking-wider text-center cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>Z("TON_KHO"),children:(0,ar.jsxs)("div",{className:"flex items-center justify-center gap-1",children:["T\u1ed3n kho ",ie("TON_KHO")]})}),(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-xs font-bold text-gray-700 uppercase tracking-wider text-center",children:"Thao t\xe1c"})]})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:ae.length>0?ae.map(((e,t)=>{const r=B(e.NHOM_HANG),n=z(e.NHOM_HANG),a=r>0;return(0,ar.jsxs)("tr",{onClick:()=>(e=>{h(e),u(!0)})(e),className:"cursor-pointer hover:bg-blue-50 transition-colors "+(t%2===0?"bg-white":"bg-gray-50"),children:[(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,ar.jsx)("span",{className:"px-2 py-1 bg-gradient-to-r from-indigo-100 to-indigo-200 text-indigo-800 rounded-lg text-xs font-semibold",children:e.NHOM_HANG})}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:e.DAY}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:e.RONG}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:e.DAI}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:e.DONGIA_HIEULUC&&e.DONGIA_HIEULUC>0?(0,ar.jsx)("span",{className:"font-bold text-green-600",children:F(e.DONGIA_HIEULUC)}):(0,ar.jsx)("span",{className:"text-gray-400 italic text-xs",children:"Ch\u01b0a c\xf3 gi\xe1"})}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:a?(0,ar.jsxs)("div",{className:"flex flex-col items-center",children:[(0,ar.jsxs)("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-800 rounded text-xs font-bold",children:[r," ki\u1ec7n"]}),(0,ar.jsxs)("span",{className:"text-xs text-gray-600 mt-0.5",children:[n.toFixed(3)," m\xb3"]})]}):(0,ar.jsx)("span",{className:"text-gray-400 italic text-xs",children:"Kh\xf4ng t\u1ed3n"})}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-500 text-center",children:(0,ar.jsxs)("div",{className:"flex justify-center space-x-1",children:[(0,ar.jsx)("button",{onClick:t=>{t.stopPropagation(),W(e)},className:"text-indigo-600 hover:text-indigo-900 p-1.5 rounded-lg hover:bg-indigo-100 transition-all",title:"S\u1eeda h\xe0ng h\xf3a",children:(0,ar.jsx)(kk,{className:"h-4 w-4"})}),(0,ar.jsx)("button",{onClick:t=>((e,t)=>{t.stopPropagation();const r=B(e.NHOM_HANG);r>0?et.error(`Kh\xf4ng th\u1ec3 x\xf3a! Nh\xf3m h\xe0ng "${e.NHOM_HANG}" c\xf2n ${r} ki\u1ec7n t\u1ed3n kho.`,{autoClose:5e3}):(v(e),b(!0))})(e,t),disabled:a,className:"p-1.5 rounded-lg transition-all "+(a?"text-gray-400 cursor-not-allowed opacity-50":"text-red-600 hover:text-red-900 hover:bg-red-100"),title:a?`Kh\xf4ng th\u1ec3 x\xf3a (c\xf2n ${r} ki\u1ec7n t\u1ed3n)`:"X\xf3a h\xe0ng h\xf3a",children:(0,ar.jsx)(Tk,{className:"h-4 w-4"})})]})})]},e.NHOM_HANG)})):(0,ar.jsx)("tr",{children:(0,ar.jsx)("td",{colSpan:"7",className:"px-6 py-8 text-center",children:(0,ar.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[(0,ar.jsx)(yr,{className:"w-12 h-12 text-gray-300 mb-3"}),(0,ar.jsx)("p",{className:"text-base font-medium",children:"Kh\xf4ng t\xecm th\u1ea5y h\xe0ng h\xf3a n\xe0o"}),(0,ar.jsx)("p",{className:"text-xs mt-1",children:"Th\u1eed thay \u0111\u1ed5i b\u1ed9 l\u1ecdc ho\u1eb7c t\xecm ki\u1ebfm"})]})})})})]})}),ee.length>0&&(0,ar.jsxs)("div",{className:"mt-4 flex flex-col sm:flex-row items-center justify-between gap-3",children:[(0,ar.jsxs)("div",{className:"text-xs text-gray-600",children:["Trang ",(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:D})," / ",(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:te})]}),(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ar.jsx)("button",{onClick:()=>M(1),disabled:1===D,className:"p-1.5 rounded-lg border transition-all "+(1===D?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"),title:"Trang \u0111\u1ea7u",children:(0,ar.jsx)(aB,{className:"w-4 h-4"})}),(0,ar.jsx)("button",{onClick:()=>M((e=>Math.max(e-1,1))),disabled:1===D,className:"p-1.5 rounded-lg border transition-all "+(1===D?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"),title:"Trang tr\u01b0\u1edbc",children:(0,ar.jsx)(lk,{className:"w-4 h-4"})}),(0,ar.jsx)("div",{className:"flex items-center gap-1",children:(()=>{const e=[];if(te<=5)for(let t=1;t<=te;t++)e.push(t);else if(D<=3){for(let t=1;t<=4;t++)e.push(t);e.push("..."),e.push(te)}else if(D>=te-2){e.push(1),e.push("...");for(let t=te-3;t<=te;t++)e.push(t)}else{e.push(1),e.push("...");for(let t=D-1;t<=D+1;t++)e.push(t);e.push("..."),e.push(te)}return e})().map(((e,t)=>"..."===e?(0,ar.jsx)("span",{className:"px-2 py-1 text-gray-500 text-xs",children:"..."},`ellipsis-${t}`):(0,ar.jsx)("button",{onClick:()=>(e=>M(e))(e),className:"min-w-[32px] px-2 py-1 rounded-lg border font-medium transition-all text-xs "+(D===e?"bg-blue-600 text-white border-blue-600 shadow-sm":"border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"),children:e},e)))}),(0,ar.jsx)("button",{onClick:()=>M((e=>Math.min(e+1,te))),disabled:D===te,className:"p-1.5 rounded-lg border transition-all "+(D===te?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"),title:"Trang sau",children:(0,ar.jsx)(ek,{className:"w-4 h-4"})}),(0,ar.jsx)("button",{onClick:()=>M(te),disabled:D===te,className:"p-1.5 rounded-lg border transition-all "+(D===te?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"),title:"Trang cu\u1ed1i",children:(0,ar.jsx)(iB,{className:"w-4 h-4"})})]})]})]})}),c&&d&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto backdrop-blur-sm",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-5xl w-full p-5 animate-fadeIn max-h-[90vh] overflow-y-auto",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-3 mb-4",children:[(0,ar.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[(0,ar.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,ar.jsx)(xr,{className:"w-5 h-5 text-blue-600"})}),"Chi ti\u1ebft h\xe0ng h\xf3a"]}),(0,ar.jsx)("button",{onClick:Y,className:"text-gray-500 hover:text-gray-700 focus:outline-none p-1.5 hover:bg-gray-100 rounded-lg transition-colors",children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsxs)("div",{className:"space-y-4",children:[(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-lg p-4 shadow-sm",children:[(0,ar.jsxs)("h3",{className:"text-base font-semibold text-blue-800 mb-3 flex items-center gap-2",children:[(0,ar.jsx)(yr,{className:"w-4 h-4"}),"Th\xf4ng tin s\u1ea3n ph\u1ea9m"]}),(0,ar.jsxs)("div",{className:"space-y-2",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center bg-white rounded-lg p-2",children:[(0,ar.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"Nh\xf3m h\xe0ng:"}),(0,ar.jsx)("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 rounded text-xs font-bold",children:d.NHOM_HANG})]}),(0,ar.jsxs)("div",{className:"flex justify-between items-center bg-white rounded-lg p-2",children:[(0,ar.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"D\xe0y:"}),(0,ar.jsx)("span",{className:"text-xs font-bold text-gray-800",children:d.DAY})]}),(0,ar.jsxs)("div",{className:"flex justify-between items-center bg-white rounded-lg p-2",children:[(0,ar.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"R\u1ed9ng:"}),(0,ar.jsx)("span",{className:"text-xs font-bold text-gray-800",children:d.RONG})]}),(0,ar.jsxs)("div",{className:"flex justify-between items-center bg-white rounded-lg p-2",children:[(0,ar.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"D\xe0i:"}),(0,ar.jsx)("span",{className:"text-xs font-bold text-gray-800",children:d.DAI})]})]})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-lg p-4 shadow-sm",children:[(0,ar.jsxs)("h3",{className:"text-base font-semibold text-green-800 mb-3 flex items-center gap-2",children:[(0,ar.jsx)(zG,{className:"w-4 h-4"}),"Gi\xe1 & T\u1ed3n kho"]}),(0,ar.jsxs)("div",{className:"space-y-2",children:[(0,ar.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,ar.jsx)("span",{className:"text-xs font-medium text-gray-600 block mb-1.5",children:"\u0110\u01a1n gi\xe1 hi\u1ec7u l\u1ef1c:"}),d.DONGIA_HIEULUC&&d.DONGIA_HIEULUC>0?(0,ar.jsx)("span",{className:"text-xl font-bold text-green-600",children:F(d.DONGIA_HIEULUC)}):(0,ar.jsx)("span",{className:"text-gray-400 italic text-xs",children:"Ch\u01b0a c\xf3 gi\xe1"})]}),(0,ar.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,ar.jsx)("span",{className:"text-xs font-medium text-gray-600 block mb-1.5",children:"T\u1ed3n kho:"}),(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsxs)("span",{className:"text-xl font-bold text-purple-600",children:[B(d.NHOM_HANG)," ki\u1ec7n"]}),(0,ar.jsxs)("span",{className:"text-xs text-gray-600",children:["(",z(d.NHOM_HANG).toFixed(3)," m\xb3)"]})]})]})]})]})]}),B(d.NHOM_HANG)>0&&(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-lg p-4 shadow-sm",children:[(0,ar.jsxs)("h3",{className:"text-base font-semibold text-purple-800 mb-3 flex items-center gap-2",children:[(0,ar.jsx)(nB,{className:"w-4 h-4"}),"Chi ti\u1ebft ki\u1ec7n h\xe0ng t\u1ed3n kho (",B(d.NHOM_HANG)," ki\u1ec7n)"]}),(0,ar.jsx)("div",{className:"bg-white rounded-lg overflow-hidden",children:(0,ar.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-purple-100 sticky top-0",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-bold text-purple-800 uppercase",children:"STT"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-bold text-purple-800 uppercase",children:"S\u1ed1 phi\u1ebfu"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-bold text-purple-800 uppercase",children:"M\xe3 ki\u1ec7n"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-bold text-purple-800 uppercase",children:"S\u1ed1 thanh"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-bold text-purple-800 uppercase",children:"S\u1ed1 kh\u1ed1i (m\xb3)"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-bold text-purple-800 uppercase",children:"Ti\xeau chu\u1ea9n"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-bold text-purple-800 uppercase",children:"Ng\xe0y nh\u1eadp"})]})}),(0,ar.jsx)("tbody",{className:"divide-y divide-gray-200",children:V(d.NHOM_HANG).map(((e,t)=>(0,ar.jsxs)("tr",{className:"hover:bg-purple-50 transition-colors",children:[(0,ar.jsx)("td",{className:"px-3 py-2 text-xs text-gray-900",children:t+1}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs font-medium text-blue-600",children:e.SOPHIEU}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs",children:(0,ar.jsx)("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 rounded font-semibold",children:e.MA_KIEN||"N/A"})}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs font-bold text-orange-600",children:e.THANH||0}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs font-bold text-green-600",children:parseFloat(e.SO_KHOI||0).toFixed(3)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs",children:e.TIEU_CHUAN?(0,ar.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium "+("T\u1ed0T"===e.TIEU_CHUAN?"bg-green-100 text-green-800":"TRUNG B\xccNH"===e.TIEU_CHUAN?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.TIEU_CHUAN}):(0,ar.jsx)("span",{className:"text-gray-400 italic",children:"N/A"})}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs text-gray-600",children:U(e.NGAY_NHAP_XUAT)})]},e.ID_CT||t)))}),(0,ar.jsx)("tfoot",{className:"bg-purple-100",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("td",{colSpan:"3",className:"px-3 py-2 text-xs font-bold text-purple-800",children:"T\u1ed5ng c\u1ed9ng:"}),(0,ar.jsxs)("td",{className:"px-3 py-2 text-xs font-bold text-purple-800",children:[V(d.NHOM_HANG).reduce(((e,t)=>e+(parseFloat(t.THANH)||0)),0)," thanh"]}),(0,ar.jsxs)("td",{className:"px-3 py-2 text-xs font-bold text-purple-800",children:[z(d.NHOM_HANG).toFixed(3)," m\xb3"]}),(0,ar.jsx)("td",{colSpan:"2"})]})})]})})}),(0,ar.jsxs)("div",{className:"mt-3 grid grid-cols-3 gap-2",children:[(0,ar.jsxs)("div",{className:"bg-white rounded-lg p-2 border border-purple-200",children:[(0,ar.jsx)("p",{className:"text-xs text-gray-600",children:"T\u1ed5ng ki\u1ec7n"}),(0,ar.jsx)("p",{className:"text-lg font-bold text-purple-700",children:B(d.NHOM_HANG)})]}),(0,ar.jsxs)("div",{className:"bg-white rounded-lg p-2 border border-purple-200",children:[(0,ar.jsx)("p",{className:"text-xs text-gray-600",children:"T\u1ed5ng thanh"}),(0,ar.jsx)("p",{className:"text-lg font-bold text-orange-600",children:V(d.NHOM_HANG).reduce(((e,t)=>e+(parseFloat(t.THANH)||0)),0)})]}),(0,ar.jsxs)("div",{className:"bg-white rounded-lg p-2 border border-purple-200",children:[(0,ar.jsx)("p",{className:"text-xs text-gray-600",children:"T\u1ed5ng kh\u1ed1i (m\xb3)"}),(0,ar.jsx)("p",{className:"text-lg font-bold text-green-600",children:z(d.NHOM_HANG).toFixed(3)})]})]})]}),0===B(d.NHOM_HANG)&&(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 border border-gray-200 rounded-lg p-6 text-center",children:[(0,ar.jsx)(rB,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),(0,ar.jsx)("p",{className:"text-gray-500 font-medium text-sm",children:"Kh\xf4ng c\xf3 ki\u1ec7n h\xe0ng t\u1ed3n kho"})]})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-2 pt-4 mt-4 border-t border-gray-200",children:[(0,ar.jsxs)("button",{onClick:Y,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all shadow-sm flex items-center gap-1.5 text-sm",children:[(0,ar.jsx)(xk,{className:"h-4 w-4"}),"\u0110\xf3ng"]}),(0,ar.jsxs)("button",{onClick:()=>{Y(),W(d)},className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 flex items-center gap-1.5 transition-all shadow-sm text-sm",children:[(0,ar.jsx)(kk,{className:"h-4 w-4"}),"Ch\u1ec9nh s\u1eeda"]})]})]})}),o&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto backdrop-blur-sm",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full p-5 animate-fadeIn",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-3 mb-4",children:[(0,ar.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[(0,ar.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,ar.jsx)(yr,{className:"w-5 h-5 text-blue-600"})}),T?"C\u1eadp nh\u1eadt h\xe0ng h\xf3a":"Th\xeam h\xe0ng h\xf3a m\u1edbi"]}),(0,ar.jsx)("button",{onClick:X,className:"text-gray-500 hover:text-gray-700 focus:outline-none p-1.5 hover:bg-gray-100 rounded-lg transition-colors",children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsxs)("div",{className:"space-y-4",children:[(0,ar.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 rounded-lg p-4 shadow-sm",children:[(0,ar.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[(0,ar.jsx)(eB,{className:"w-4 h-4 text-blue-500"}),"Th\xf4ng tin k\xedch th\u01b0\u1edbc"]}),(0,ar.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5",children:["D\xe0y ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"text",value:i.DAY,onChange:e=>q("DAY",e.target.value),className:"p-2 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",placeholder:"Nh\u1eadp d\xe0y"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5",children:["R\u1ed9ng ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"text",value:i.RONG,onChange:e=>q("RONG",e.target.value),className:"p-2 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",placeholder:"Nh\u1eadp r\u1ed9ng"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5",children:["D\xe0i ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"text",value:i.DAI,onChange:e=>q("DAI",e.target.value),className:"p-2 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",placeholder:"Nh\u1eadp d\xe0i"})]})]})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 border border-purple-200 rounded-lg p-4 shadow-sm",children:[(0,ar.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,ar.jsx)(yr,{className:"w-4 h-4 text-purple-600"}),"Nh\xf3m h\xe0ng (T\u1ef1 \u0111\u1ed9ng t\u1ea1o)"]}),(0,ar.jsx)("div",{className:"bg-white rounded-lg p-3 border-2 border-purple-300",children:i.NHOM_HANG?(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("span",{className:"text-lg font-bold text-purple-700",children:i.NHOM_HANG}),(0,ar.jsx)("span",{className:"text-xs text-gray-600 bg-purple-100 px-2 py-1 rounded",children:"T\u1ef1 \u0111\u1ed9ng t\u1eeb th\xf4ng tin tr\xean"})]}):(0,ar.jsxs)("span",{className:"text-gray-400 italic flex items-center gap-2 text-sm",children:[(0,ar.jsx)(eB,{className:"w-4 h-4"}),"Nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin \u0111\u1ec3 t\u1ea1o nh\xf3m h\xe0ng"]})}),(0,ar.jsxs)("p",{className:"text-xs text-purple-600 mt-2 flex items-center gap-1",children:[(0,ar.jsx)(eB,{className:"w-3 h-3"}),"Format: D\xe0y*R\u1ed9ng*D\xe0i"]})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-lg p-4 shadow-sm",children:[(0,ar.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,ar.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ar.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"\u0110\u01a1n gi\xe1 hi\u1ec7u l\u1ef1c"]}),(0,ar.jsx)("div",{className:"flex items-center gap-2",children:i.DONGIA_HIEULUC&&i.DONGIA_HIEULUC>0?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("span",{className:"text-2xl font-bold text-green-700",children:F(i.DONGIA_HIEULUC)}),(0,ar.jsx)("span",{className:"text-xs text-gray-600 bg-white px-2 py-1 rounded shadow-sm",children:"T\u1eeb C\xe0i \u0111\u1eb7t gi\xe1 b\xe1n"})]}):(0,ar.jsxs)("span",{className:"text-gray-500 italic flex items-center gap-2 text-sm",children:[(0,ar.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ar.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Ch\u01b0a c\xf3 gi\xe1 hi\u1ec7u l\u1ef1c. Vui l\xf2ng c\xe0i \u0111\u1eb7t gi\xe1 b\xe1n."]})})]}),T&&E&&(0,ar.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 border border-purple-200 rounded-lg p-4 shadow-sm",children:[(0,ar.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,ar.jsx)(rB,{className:"w-4 h-4 text-purple-600"}),"T\u1ed3n kho hi\u1ec7n t\u1ea1i"]}),(0,ar.jsx)("div",{className:"bg-white rounded-lg p-3 border-2 border-purple-300",children:B(E)>0?(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("span",{className:"text-xl font-bold text-purple-700",children:[B(E)," ki\u1ec7n"]}),(0,ar.jsxs)("p",{className:"text-xs text-gray-600 mt-0.5",children:["T\u1ed5ng: ",z(E).toFixed(3)," m\xb3"]})]}),(0,ar.jsxs)("div",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs font-medium flex items-center gap-1",children:[(0,ar.jsx)(Qj,{className:"w-3 h-3"}),"Kh\xf4ng th\u1ec3 \u0111\u1ed5i k\xedch th\u01b0\u1edbc"]})]}):(0,ar.jsxs)("span",{className:"text-gray-500 italic flex items-center gap-2 text-sm",children:[(0,ar.jsx)(eB,{className:"w-4 h-4"}),"Kh\xf4ng c\xf3 t\u1ed3n kho"]})})]}),(0,ar.jsx)("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 border border-yellow-200 rounded-lg p-3",children:(0,ar.jsxs)("p",{className:"text-xs text-yellow-800 flex items-start gap-2",children:[(0,ar.jsx)(eB,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,ar.jsxs)("span",{children:[(0,ar.jsx)("strong",{children:"L\u01b0u \xfd:"})," Nh\xf3m h\xe0ng s\u1ebd \u0111\u01b0\u1ee3c t\u1ef1 \u0111\u1ed9ng t\u1ea1o theo format: ",(0,ar.jsx)("strong",{children:"D\xe0y*R\u1ed9ng*D\xe0i"}),'. \u0110\u01a1n gi\xe1 hi\u1ec7u l\u1ef1c \u0111\u01b0\u1ee3c t\u1ef1 \u0111\u1ed9ng c\u1eadp nh\u1eadt t\u1eeb trang "C\xe0i \u0111\u1eb7t gi\xe1 b\xe1n" khi c\xf3 gi\xe1 m\u1edbi \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng.',T&&B(E)>0&&(0,ar.jsx)("span",{className:"block mt-1.5 text-red-600 font-semibold",children:"\u26a0\ufe0f Kh\xf4ng th\u1ec3 thay \u0111\u1ed5i k\xedch th\u01b0\u1edbc khi c\xf2n h\xe0ng t\u1ed3n kho!"})]})]})})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-2 pt-4 mt-4 border-t border-gray-200",children:[(0,ar.jsxs)("button",{onClick:X,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all shadow-sm flex items-center gap-1.5 text-sm",disabled:f,children:[(0,ar.jsx)(xk,{className:"h-4 w-4"}),"H\u1ee7y"]}),(0,ar.jsx)("button",{onClick:async()=>{if(!f)try{p(!0);const t=(e=>{const t=[];return e.DAY||t.push("D\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e.RONG||t.push("R\u1ed9ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e.DAI||t.push("D\xe0i kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e.NHOM_HANG||t.push("Nh\xf3m h\xe0ng kh\xf4ng \u0111\u01b0\u1ee3c t\u1ea1o. Vui l\xf2ng ki\u1ec3m tra l\u1ea1i th\xf4ng tin"),t})(i);if(t.length>0)return et.error(t.join("\n")),void p(!1);const r={NHOM_HANG:i.NHOM_HANG,DAY:i.DAY,RONG:i.RONG,DAI:i.DAI,DONGIA_HIEULUC:i.DONGIA_HIEULUC};if(T){const t=G(r.DAY,r.RONG,r.DAI);if(E!==t){const n=B(E);if(n>0)return et.error(`Kh\xf4ng th\u1ec3 thay \u0111\u1ed5i k\xedch th\u01b0\u1edbc! Nh\xf3m h\xe0ng n\xe0y c\xf2n ${n} ki\u1ec7n t\u1ed3n kho.`),void p(!1);if(e.find((e=>e.NHOM_HANG===t)))return et.error("Nh\xf3m h\xe0ng m\u1edbi n\xe0y \u0111\xe3 t\u1ed3n t\u1ea1i!"),void p(!1);await ut.apiRequestKHO("DMHH","Delete",{Rows:[{NHOM_HANG:E}]}),r.NHOM_HANG=t,await ut.apiRequestKHO("DMHH","Add",{Rows:[r]}),et.success("C\u1eadp nh\u1eadt h\xe0ng h\xf3a th\xe0nh c\xf4ng!")}else await ut.apiRequestKHO("DMHH","Edit",{Rows:[r]}),et.success("C\u1eadp nh\u1eadt h\xe0ng h\xf3a th\xe0nh c\xf4ng!")}else{if(e.find((e=>e.NHOM_HANG===r.NHOM_HANG)))return et.error("Nh\xf3m h\xe0ng n\xe0y \u0111\xe3 t\u1ed3n t\u1ea1i!"),void p(!1);await ut.apiRequestKHO("DMHH","Add",{Rows:[r]}),et.success("Th\xeam h\xe0ng h\xf3a m\u1edbi th\xe0nh c\xf4ng!")}await K(),X()}catch(t){console.error("Error saving DMHH:",t),et.error("C\xf3 l\u1ed7i x\u1ea3y ra: "+(t.message||"Kh\xf4ng th\u1ec3 l\u01b0u h\xe0ng h\xf3a"))}finally{p(!1)}},disabled:f,className:`px-5 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg ${f?"opacity-50 cursor-not-allowed":"hover:from-blue-700 hover:to-blue-800 hover:shadow-md"} flex items-center gap-1.5 transition-all shadow-sm font-medium text-sm`,children:f?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ar.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ar.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0110ang l\u01b0u..."]}):(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ar.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"L\u01b0u h\xe0ng h\xf3a"]})})]})]})}),x&&y&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-5 animate-fadeIn",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-3 mb-4",children:[(0,ar.jsxs)("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[(0,ar.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,ar.jsx)(Tk,{className:"w-4 h-4 text-red-600"})}),"X\xe1c nh\u1eadn x\xf3a"]}),(0,ar.jsx)("button",{onClick:Q,className:"text-gray-500 hover:text-gray-700 focus:outline-none p-1.5 hover:bg-gray-100 rounded-lg transition-colors",children:(0,ar.jsx)(xk,{className:"h-4 w-4"})})]}),(0,ar.jsxs)("div",{className:"space-y-4",children:[(0,ar.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 border border-red-200 rounded-lg p-4",children:[(0,ar.jsx)("p",{className:"text-red-700 mb-2 font-medium text-sm",children:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a h\xe0ng h\xf3a n\xe0y?"}),(0,ar.jsxs)("div",{className:"bg-white rounded-lg p-3 mt-2 space-y-2 shadow-sm",children:[(0,ar.jsxs)("p",{className:"text-xs text-gray-700 flex items-center gap-2",children:[(0,ar.jsx)("span",{className:"font-semibold min-w-[90px]",children:"Nh\xf3m h\xe0ng:"}),(0,ar.jsx)("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-800 rounded text-xs font-medium",children:y.NHOM_HANG})]}),(0,ar.jsxs)("p",{className:"text-xs text-gray-700 flex items-center gap-2",children:[(0,ar.jsx)("span",{className:"font-semibold min-w-[90px]",children:"K\xedch th\u01b0\u1edbc:"}),(0,ar.jsxs)("span",{children:[y.DAY," \xd7 ",y.RONG," \xd7 ",y.DAI]})]}),y.DONGIA_HIEULUC&&y.DONGIA_HIEULUC>0&&(0,ar.jsxs)("p",{className:"text-xs text-gray-700 flex items-center gap-2",children:[(0,ar.jsx)("span",{className:"font-semibold min-w-[90px]",children:"Gi\xe1 hi\u1ec7u l\u1ef1c:"}),(0,ar.jsx)("span",{className:"font-bold text-green-600",children:F(y.DONGIA_HIEULUC)})]})]}),(0,ar.jsxs)("p",{className:"text-xs text-red-600 mt-3 flex items-center gap-2 font-medium",children:[(0,ar.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ar.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c."]})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-2 pt-3 border-t border-gray-200",children:[(0,ar.jsx)("button",{onClick:Q,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all shadow-sm text-sm",children:"H\u1ee7y"}),(0,ar.jsxs)("button",{onClick:async()=>{if(y)try{const e=B(y.NHOM_HANG);if(e>0)return et.error(`Kh\xf4ng th\u1ec3 x\xf3a! Nh\xf3m h\xe0ng n\xe0y c\xf2n ${e} ki\u1ec7n t\u1ed3n kho.`),void Q();await ut.apiRequestKHO("DMHH","Delete",{Rows:[{NHOM_HANG:y.NHOM_HANG}]}),et.success("X\xf3a h\xe0ng h\xf3a th\xe0nh c\xf4ng!"),await K(),Q()}catch(e){console.error("Error deleting DMHH:",e),et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a h\xe0ng h\xf3a")}},className:"px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 flex items-center gap-1.5 transition-all shadow-sm text-sm",children:[(0,ar.jsx)(Tk,{className:"h-4 w-4"}),"X\xf3a h\xe0ng h\xf3a"]})]})]})]})}),(0,ar.jsx)(lt,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,ar.jsx)("style",{children:"\n                @keyframes fadeIn {\n                    from {\n                        opacity: 0;\n                        transform: scale(0.95);\n                    }\n                    to {\n                        opacity: 1;\n                        transform: scale(1);\n                    }\n                }\n                \n                .animate-fadeIn {\n                    animation: fadeIn 0.2s ease-out;\n                }\n\n                /* Custom scrollbar */\n                .overflow-y-auto::-webkit-scrollbar {\n                    width: 8px;\n                }\n\n                .overflow-y-auto::-webkit-scrollbar-track {\n                    background: #f1f1f1;\n                    border-radius: 10px;\n                }\n\n                .overflow-y-auto::-webkit-scrollbar-thumb {\n                    background: #888;\n                    border-radius: 10px;\n                }\n\n                .overflow-y-auto::-webkit-scrollbar-thumb:hover {\n                    background: #555;\n                }\n            "})]})},oB=fr("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),lB=fr("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),cB=fr("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),uB=fr("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),dB=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)({MA_KH:"",TEN_KHACHHANG:"",TEN_VIET_TAT:"",MST:"",DIACHI:"",SO_DT:"",NGAY_THANHLAP:"",NGUOI_LIENHE:"",NGUOI_DAIDIEN:"",CHUC_VU:"",SO_TAIKHOAN:"",NGANHANG:""}),[i,s]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)(""),[d,h]=(0,n.useState)(!1),[f,p]=(0,n.useState)(null),[m,g]=(0,n.useState)(!1),[x,b]=(0,n.useState)({key:null,direction:"ascending"}),[y,v]=(0,n.useState)(!1),[N,w]=(0,n.useState)(!1),[j,k]=(0,n.useState)(""),[T,S]=(0,n.useState)(!1),[O,_]=(0,n.useState)(1),[E,C]=(0,n.useState)(10),A=e=>{if(!e)return"";try{const t=new Date(e),r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0");return`${r}-${n}-${String(t.getDate()).padStart(2,"0")}`}catch(t){return""}},I=async e=>{if(M("MST",e),e.length>=10&&e.length<=14){et.info("\u0110ang tra c\u1ee9u th\xf4ng tin doanh nghi\u1ec7p...",{autoClose:1e3});const t=await(async e=>{if(!e||e.length<10)return null;S(!0);try{const t=await fetch(`https://api.vietqr.io/v2/business/${e}`);if(t.ok){const e=await t.json();if("00"===e.code&&e.data){const t=e.data,r=e=>{if(!e)return"";const t=["c\xf4ng","ty","tnhh","c\u1ed5","ph\u1ea7n","tr\xe1ch","nhi\u1ec7m","h\u1eefu","h\u1ea1n","m\u1ed9t","th\xe0nh","vi\xean"];return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s]/g,"").split(" ").filter((e=>e&&!t.includes(e))).map((e=>e[0])).join("").toUpperCase()};return{TEN_KHACHHANG:t.name||"",TEN_VIET_TAT:t.shortName||r(t.name),DIACHI:t.address||"",NGUOI_DAIDIEN:t.representative||"",NGAY_THANHLAP:t.establishDate?A(t.establishDate):""}}}const r=await fetch(`https://api.masothue.com/api/company/${e}`);if(r.ok){const e=await r.json();if(e.success&&e.data){const t=e.data,r=e=>{if(!e)return"";const t=["c\xf4ng","ty","tnhh","c\u1ed5","ph\u1ea7n","tr\xe1ch","nhi\u1ec7m","h\u1eefu","h\u1ea1n","m\u1ed9t","th\xe0nh","vi\xean"];return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s]/g,"").split(" ").filter((e=>e&&!t.includes(e))).map((e=>e[0])).join("").toUpperCase()};return{TEN_KHACHHANG:t.ten||t.name||"",TEN_VIET_TAT:t.ten_viet_tat||t.shortName||r(t.ten||t.name),DIACHI:t.dia_chi||t.address||"",NGUOI_DAIDIEN:t.nguoi_dai_dien||t.representative||"",NGAY_THANHLAP:t.ngay_thanh_lap?A(t.ngay_thanh_lap):""}}}const n=await fetch(`https://api.tracuunnt.com/api/v1/company/search?mst=${e}`);if(n.ok){const e=await n.json();if(e.success&&e.data){const t=e.data,r=e=>{if(!e)return"";const t=["c\xf4ng","ty","tnhh","c\u1ed5","ph\u1ea7n","tr\xe1ch","nhi\u1ec7m","h\u1eefu","h\u1ea1n","m\u1ed9t","th\xe0nh","vi\xean"];return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s]/g,"").split(" ").filter((e=>e&&!t.includes(e))).map((e=>e[0])).join("").toUpperCase()};return{TEN_KHACHHANG:t.ten||t.name||"",TEN_VIET_TAT:t.ten_viet_tat||t.shortName||r(t.ten||t.name),DIACHI:t.dia_chi||t.address||"",NGUOI_DAIDIEN:t.nguoi_dai_dien||t.representative||"",NGAY_THANHLAP:t.ngay_thanh_lap?A(t.ngay_thanh_lap):""}}}return null}catch(t){return console.error("Error fetching company info:",t),null}finally{S(!1)}})(e);t?(a((r=>({...r,MST:e,TEN_KHACHHANG:r.TEN_KHACHHANG||t.TEN_KHACHHANG,TEN_VIET_TAT:r.TEN_VIET_TAT||t.TEN_VIET_TAT,DIACHI:r.DIACHI||t.DIACHI,NGUOI_DAIDIEN:r.NGUOI_DAIDIEN||t.NGUOI_DAIDIEN,NGAY_THANHLAP:r.NGAY_THANHLAP||t.NGAY_THANHLAP}))),et.success("\u0110\xe3 t\xecm th\u1ea5y th\xf4ng tin doanh nghi\u1ec7p!")):et.warning("Kh\xf4ng t\xecm th\u1ea5y th\xf4ng tin doanh nghi\u1ec7p v\u1edbi MST n\xe0y")}},P=async()=>{try{w(!0);const e=await ut.apiRequestKHO("DSKH","Find",{});t(e)}catch(e){console.error("Error fetching DSKH list:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch kh\xe1ch h\xe0ng")}finally{w(!1)}};(0,n.useEffect)((()=>{P()}),[]);const H=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(v(!0),k(e.MA_KH),a({MA_KH:e.MA_KH||"",TEN_KHACHHANG:e.TEN_KHACHHANG||"",TEN_VIET_TAT:e.TEN_VIET_TAT||"",MST:e.MST||"",DIACHI:e.DIACHI||"",SO_DT:e.SO_DT||"",NGAY_THANHLAP:e.NGAY_THANHLAP||"",NGUOI_LIENHE:e.NGUOI_LIENHE||"",NGUOI_DAIDIEN:e.NGUOI_DAIDIEN||"",CHUC_VU:e.CHUC_VU||"",SO_TAIKHOAN:e.SO_TAIKHOAN||"",NGANHANG:e.NGANHANG||""})):(v(!1),k(""),a({MA_KH:"",TEN_KHACHHANG:"",TEN_VIET_TAT:"",MST:"",DIACHI:"",SO_DT:"",NGAY_THANHLAP:"",NGUOI_LIENHE:"",NGUOI_DAIDIEN:"",CHUC_VU:"",SO_TAIKHOAN:"",NGANHANG:""})),s(!0)},D=()=>{s(!1),v(!1),k(""),a({MA_KH:"",TEN_KHACHHANG:"",TEN_VIET_TAT:"",MST:"",DIACHI:"",SO_DT:"",NGAY_THANHLAP:"",NGUOI_LIENHE:"",NGUOI_DAIDIEN:"",CHUC_VU:"",SO_TAIKHOAN:"",NGANHANG:""})},M=(e,t)=>{a((r=>({...r,[e]:t})))},L=e=>{p(e),h(!0)},R=()=>{h(!1),p(null)},F=e=>{let t="ascending";x.key===e&&"ascending"===x.direction&&(t="descending"),b({key:e,direction:t})},U=(0,n.useCallback)((()=>{const t=[...e];return x.key&&t.sort(((e,t)=>{const r=e[x.key]||"",n=t[x.key]||"";return r<n?"ascending"===x.direction?-1:1:r>n?"ascending"===x.direction?1:-1:0})),t}),[e,x]),G=U().filter((e=>{var t,r,n,a,i,s,o,l;const u=c.toLowerCase();return(null===(t=e.MA_KH)||void 0===t?void 0:t.toLowerCase().includes(u))||(null===(r=e.TEN_KHACHHANG)||void 0===r?void 0:r.toLowerCase().includes(u))||(null===(n=e.TEN_VIET_TAT)||void 0===n?void 0:n.toLowerCase().includes(u))||(null===(a=e.MST)||void 0===a?void 0:a.toLowerCase().includes(u))||(null===(i=e.DIACHI)||void 0===i?void 0:i.toLowerCase().includes(u))||(null===(s=e.SO_DT)||void 0===s?void 0:s.includes(c))||(null===(o=e.NGUOI_LIENHE)||void 0===o?void 0:o.toLowerCase().includes(u))||(null===(l=e.NGUOI_DAIDIEN)||void 0===l?void 0:l.toLowerCase().includes(u))})),B=Math.ceil(G.length/E),z=O*E,V=z-E,K=G.slice(V,z);(0,n.useEffect)((()=>{_(1)}),[c,E]);const $=e=>x.key!==e?(0,ar.jsx)("span",{className:"text-gray-400 ml-1",children:"\u21c5"}):"ascending"===x.direction?(0,ar.jsx)("span",{className:"text-blue-600 ml-1",children:"\u2191"}):(0,ar.jsx)("span",{className:"text-blue-600 ml-1",children:"\u2193"});return(0,ar.jsxs)("div",{className:"p-3 md:p-4 bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen",children:[(0,ar.jsx)("div",{className:"mx-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-5 mb-4 border border-gray-100",children:[(0,ar.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-4 gap-3",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-md",children:(0,ar.jsx)(Ck,{className:"w-5 h-5 text-white"})}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:"Danh S\xe1ch Kh\xe1ch H\xe0ng"}),(0,ar.jsx)("p",{className:"text-xs md:text-sm text-gray-500 mt-0.5",children:"Qu\u1ea3n l\xfd th\xf4ng tin kh\xe1ch h\xe0ng"})]})]}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ar.jsxs)("button",{onClick:async()=>{et.info("\u0110ang t\u1ea3i l\u1ea1i d\u1eef li\u1ec7u..."),await P(),et.success("\u0110\xe3 t\u1ea3i l\u1ea1i d\u1eef li\u1ec7u th\xe0nh c\xf4ng!")},className:"px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 flex items-center gap-2 transition-all shadow-sm hover:shadow text-sm",title:"T\u1ea3i l\u1ea1i d\u1eef li\u1ec7u",children:[(0,ar.jsx)(JG,{className:"w-4 h-4"}),(0,ar.jsx)("span",{className:"hidden sm:inline",children:"L\xe0m m\u1edbi"})]}),(0,ar.jsxs)("button",{onClick:()=>g(!m),className:"px-3 py-2 rounded-lg flex items-center gap-2 transition-all shadow-sm hover:shadow text-sm "+(m?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:[(0,ar.jsx)(vk,{className:"w-4 h-4"}),m?"\u1ea8n t\xecm ki\u1ebfm":"T\xecm ki\u1ebfm"]}),(0,ar.jsxs)("button",{onClick:()=>H(),className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-all shadow-md hover:shadow-lg transform hover:-translate-y-0.5 text-sm",children:[(0,ar.jsx)(Nk,{className:"w-4 h-4"}),"Th\xeam KH"]})]})]}),m&&(0,ar.jsx)("div",{className:"mb-4 animate-fadeIn",children:(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)(wk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,ar.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm theo m\xe3 KH, t\xean, t\xean vi\u1ebft t\u1eaft, MST, \u0111\u1ecba ch\u1ec9, S\u0110T...",className:"w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all shadow-sm text-sm",value:c,onChange:e=>u(e.target.value)})]})}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-4",children:[(0,ar.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-xs font-medium text-blue-700 mb-1",children:"T\u1ed5ng kh\xe1ch h\xe0ng"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:e.length})]}),(0,ar.jsx)("div",{className:"p-2 bg-blue-200 rounded-lg",children:(0,ar.jsx)(Ck,{className:"w-5 h-5 text-blue-700"})})]})}),(0,ar.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-xs font-medium text-green-700 mb-1",children:"C\xf3 MST"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-green-900",children:e.filter((e=>e.MST)).length})]}),(0,ar.jsx)("div",{className:"p-2 bg-green-200 rounded-lg",children:(0,ar.jsx)(oB,{className:"w-5 h-5 text-green-700"})})]})}),(0,ar.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-xs font-medium text-purple-700 mb-1",children:"C\xf3 TK ng\xe2n h\xe0ng"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:e.filter((e=>e.SO_TAIKHOAN)).length})]}),(0,ar.jsx)("div",{className:"p-2 bg-purple-200 rounded-lg",children:(0,ar.jsx)(lB,{className:"w-5 h-5 text-purple-700"})})]})})]}),(0,ar.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-3",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("label",{className:"text-xs text-gray-600 font-medium",children:"Hi\u1ec3n th\u1ecb:"}),(0,ar.jsxs)("select",{value:E,onChange:e=>C(Number(e.target.value)),className:"px-2 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs bg-white",children:[(0,ar.jsx)("option",{value:5,children:"5"}),(0,ar.jsx)("option",{value:10,children:"10"}),(0,ar.jsx)("option",{value:20,children:"20"}),(0,ar.jsx)("option",{value:50,children:"50"})]})]}),(0,ar.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:V+1})," - ",(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:Math.min(z,G.length)})," / ",(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:G.length})]})]}),(0,ar.jsx)("div",{className:"hidden lg:block overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:N?(0,ar.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,ar.jsxs)("div",{className:"text-center",children:[(0,ar.jsx)(JG,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),(0,ar.jsx)("p",{className:"text-gray-600",children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u..."})]})}):(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>F("MA_KH"),children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:["M\xe3 KH ",$("MA_KH")]})}),(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>F("TEN_KHACHHANG"),children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:["T\xean KH ",$("TEN_KHACHHANG")]})}),(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>F("TEN_VIET_TAT"),children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:["T\xean vi\u1ebft t\u1eaft ",$("TEN_VIET_TAT")]})}),(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>F("MST"),children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:["MST ",$("MST")]})}),(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"\u0110\u1ecba ch\u1ec9"}),(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"S\u0110T"}),(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Ng\u01b0\u1eddi li\xean h\u1ec7"}),(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-xs font-bold text-gray-700 uppercase tracking-wider text-center",children:"Thao t\xe1c"})]})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:K.length>0?K.map(((e,t)=>(0,ar.jsxs)("tr",{className:"hover:bg-blue-50 transition-colors "+(t%2===0?"bg-white":"bg-gray-50"),children:[(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,ar.jsx)("span",{className:"px-2 py-1 bg-gradient-to-r from-indigo-100 to-indigo-200 text-indigo-800 rounded text-xs font-semibold",children:e.MA_KH})}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm font-medium text-gray-900 max-w-[200px] truncate",children:e.TEN_KHACHHANG}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-700",children:e.TEN_VIET_TAT?(0,ar.jsx)("span",{className:"px-2 py-1 bg-gradient-to-r from-amber-100 to-amber-200 text-amber-800 rounded text-xs font-semibold",children:e.TEN_VIET_TAT}):"\u2014"}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-700",children:e.MST||"\u2014"}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 max-w-[200px] truncate",children:e.DIACHI||"\u2014"}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-700",children:e.SO_DT||"\u2014"}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-700",children:e.NGUOI_LIENHE||"\u2014"}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-500 text-center",children:(0,ar.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,ar.jsx)("button",{onClick:()=>H(e),className:"text-indigo-600 hover:text-indigo-900 p-1.5 rounded-lg hover:bg-indigo-100 transition-all transform hover:scale-110",title:"S\u1eeda",children:(0,ar.jsx)(kk,{className:"h-4 w-4"})}),(0,ar.jsx)("button",{onClick:()=>L(e),className:"text-red-600 hover:text-red-900 p-1.5 rounded-lg hover:bg-red-100 transition-all transform hover:scale-110",title:"X\xf3a",children:(0,ar.jsx)(Tk,{className:"h-4 w-4"})})]})})]},e.MA_KH))):(0,ar.jsx)("tr",{children:(0,ar.jsx)("td",{colSpan:"8",className:"px-6 py-12 text-center",children:(0,ar.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[(0,ar.jsx)(Ck,{className:"w-16 h-16 text-gray-300 mb-4"}),(0,ar.jsx)("p",{className:"text-lg font-medium",children:"Kh\xf4ng t\xecm th\u1ea5y kh\xe1ch h\xe0ng n\xe0o"}),(0,ar.jsx)("p",{className:"text-sm mt-1",children:"Th\u1eed thay \u0111\u1ed5i t\u1eeb kh\xf3a t\xecm ki\u1ebfm"})]})})})})]})}),(0,ar.jsx)("div",{className:"lg:hidden space-y-3",children:N?(0,ar.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,ar.jsxs)("div",{className:"text-center",children:[(0,ar.jsx)(JG,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),(0,ar.jsx)("p",{className:"text-gray-600",children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u..."})]})}):K.length>0?K.map((e=>(0,ar.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,ar.jsxs)("div",{className:"flex-1",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[(0,ar.jsx)("span",{className:"px-2 py-0.5 bg-gradient-to-r from-indigo-100 to-indigo-200 text-indigo-800 rounded text-xs font-semibold",children:e.MA_KH}),e.TEN_VIET_TAT&&(0,ar.jsx)("span",{className:"px-2 py-0.5 bg-gradient-to-r from-amber-100 to-amber-200 text-amber-800 rounded text-xs font-semibold",children:e.TEN_VIET_TAT})]}),(0,ar.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:e.TEN_KHACHHANG})]}),(0,ar.jsxs)("div",{className:"flex gap-1",children:[(0,ar.jsx)("button",{onClick:()=>H(e),className:"text-indigo-600 hover:text-indigo-900 p-1.5 rounded-lg hover:bg-indigo-100 transition-all",children:(0,ar.jsx)(kk,{className:"h-4 w-4"})}),(0,ar.jsx)("button",{onClick:()=>L(e),className:"text-red-600 hover:text-red-900 p-1.5 rounded-lg hover:bg-red-100 transition-all",children:(0,ar.jsx)(Tk,{className:"h-4 w-4"})})]})]}),(0,ar.jsxs)("div",{className:"space-y-1.5 text-xs text-gray-600",children:[e.MST&&(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)(oB,{className:"w-3.5 h-3.5 text-gray-400"}),(0,ar.jsxs)("span",{children:["MST: ",e.MST]})]}),e.SO_DT&&(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)(cB,{className:"w-3.5 h-3.5 text-gray-400"}),(0,ar.jsx)("span",{children:e.SO_DT})]}),e.DIACHI&&(0,ar.jsxs)("div",{className:"flex items-start gap-2",children:[(0,ar.jsxs)("svg",{className:"w-3.5 h-3.5 text-gray-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ar.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,ar.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,ar.jsx)("span",{className:"flex-1",children:e.DIACHI})]}),e.NGUOI_LIENHE&&(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)(pr,{className:"w-3.5 h-3.5 text-gray-400"}),(0,ar.jsxs)("span",{children:["Li\xean h\u1ec7: ",e.NGUOI_LIENHE]})]})]})]},e.MA_KH))):(0,ar.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500 py-12",children:[(0,ar.jsx)(Ck,{className:"w-16 h-16 text-gray-300 mb-4"}),(0,ar.jsx)("p",{className:"text-base font-medium",children:"Kh\xf4ng t\xecm th\u1ea5y kh\xe1ch h\xe0ng n\xe0o"}),(0,ar.jsx)("p",{className:"text-sm mt-1",children:"Th\u1eed thay \u0111\u1ed5i t\u1eeb kh\xf3a t\xecm ki\u1ebfm"})]})}),G.length>0&&(0,ar.jsxs)("div",{className:"mt-4 flex flex-col sm:flex-row items-center justify-between gap-3",children:[(0,ar.jsxs)("div",{className:"text-xs text-gray-600",children:["Trang ",(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:O})," / ",(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:B})]}),(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ar.jsx)("button",{onClick:()=>_(1),disabled:1===O,className:"p-1.5 rounded-lg border transition-all "+(1===O?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:(0,ar.jsx)(aB,{className:"w-4 h-4"})}),(0,ar.jsx)("button",{onClick:()=>_((e=>Math.max(e-1,1))),disabled:1===O,className:"p-1.5 rounded-lg border transition-all "+(1===O?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:(0,ar.jsx)(lk,{className:"w-4 h-4"})}),(0,ar.jsx)("div",{className:"hidden sm:flex items-center gap-1",children:(()=>{const e=[];if(B<=5)for(let t=1;t<=B;t++)e.push(t);else if(O<=3){for(let t=1;t<=4;t++)e.push(t);e.push("..."),e.push(B)}else if(O>=B-2){e.push(1),e.push("...");for(let t=B-3;t<=B;t++)e.push(t)}else{e.push(1),e.push("...");for(let t=O-1;t<=O+1;t++)e.push(t);e.push("..."),e.push(B)}return e})().map(((e,t)=>"..."===e?(0,ar.jsx)("span",{className:"px-2 py-1 text-gray-500 text-xs",children:"..."},`ellipsis-${t}`):(0,ar.jsx)("button",{onClick:()=>(e=>_(e))(e),className:"min-w-[32px] px-2 py-1 rounded-lg border font-medium transition-all text-xs "+(O===e?"bg-blue-600 text-white border-blue-600 shadow-md":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:e},e)))}),(0,ar.jsx)("button",{onClick:()=>_((e=>Math.min(e+1,B))),disabled:O===B,className:"p-1.5 rounded-lg border transition-all "+(O===B?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:(0,ar.jsx)(ek,{className:"w-4 h-4"})}),(0,ar.jsx)("button",{onClick:()=>_(B),disabled:O===B,className:"p-1.5 rounded-lg border transition-all "+(O===B?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:(0,ar.jsx)(iB,{className:"w-4 h-4"})})]})]})]})}),i&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto backdrop-blur-sm",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full p-4 md:p-6 animate-fadeIn max-h-[90vh] overflow-y-auto",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-3 mb-4",children:[(0,ar.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[(0,ar.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,ar.jsx)(Ck,{className:"w-5 h-5 text-blue-600"})}),y?"C\u1eadp nh\u1eadt kh\xe1ch h\xe0ng":"Th\xeam kh\xe1ch h\xe0ng m\u1edbi"]}),(0,ar.jsx)("button",{onClick:D,className:"text-gray-500 hover:text-gray-700 focus:outline-none p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsxs)("div",{className:"space-y-4",children:[(0,ar.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 rounded-lg p-4",children:[(0,ar.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[(0,ar.jsx)(eB,{className:"w-4 h-4 text-blue-500"}),"Th\xf4ng tin c\u01a1 b\u1ea3n"]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5",children:["M\xe3 kh\xe1ch h\xe0ng ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"text",value:r.MA_KH,onChange:e=>M("MA_KH",e.target.value),className:"p-2 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",placeholder:"Nh\u1eadp m\xe3 KH",disabled:y})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5 flex items-center gap-2",children:["M\xe3 s\u1ed1 thu\u1ebf",(0,ar.jsx)("span",{className:"text-xs text-blue-600 font-normal italic",children:"(T\u1ef1 \u0111\u1ed9ng tra c\u1ee9u)"})]}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)("input",{type:"text",value:r.MST,onChange:e=>I(e.target.value),className:"p-2 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm pr-10",placeholder:"Nh\u1eadp MST \u0111\u1ec3 tra c\u1ee9u",maxLength:"14"}),T&&(0,ar.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,ar.jsx)(uB,{className:"w-4 h-4 text-blue-600 animate-spin"})})]}),(0,ar.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udca1 Nh\u1eadp MST (10-14 s\u1ed1) \u0111\u1ec3 t\u1ef1 \u0111\u1ed9ng \u0111i\u1ec1n th\xf4ng tin"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5",children:["T\xean kh\xe1ch h\xe0ng ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"text",value:r.TEN_KHACHHANG,onChange:e=>M("TEN_KHACHHANG",e.target.value),className:"p-2 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",placeholder:"Nh\u1eadp t\xean KH"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5 flex items-center gap-1",children:[(0,ar.jsx)(Zj,{className:"w-3.5 h-3.5 text-amber-500"}),"T\xean vi\u1ebft t\u1eaft"]}),(0,ar.jsx)("input",{type:"text",value:r.TEN_VIET_TAT,onChange:e=>M("TEN_VIET_TAT",e.target.value),className:"p-2 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",placeholder:"Nh\u1eadp t\xean vi\u1ebft t\u1eaft"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5",children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),(0,ar.jsx)("input",{type:"text",value:r.SO_DT,onChange:e=>M("SO_DT",e.target.value),className:"p-2 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",placeholder:"Nh\u1eadp S\u0110T"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5",children:"Ng\xe0y th\xe0nh l\u1eadp"}),(0,ar.jsx)("input",{type:"date",value:r.NGAY_THANHLAP,onChange:e=>M("NGAY_THANHLAP",e.target.value),className:"p-2 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),(0,ar.jsxs)("div",{className:"md:col-span-2",children:[(0,ar.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5",children:"\u0110\u1ecba ch\u1ec9"}),(0,ar.jsx)("textarea",{value:r.DIACHI,onChange:e=>M("DIACHI",e.target.value),className:"p-2 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",placeholder:"Nh\u1eadp \u0111\u1ecba ch\u1ec9",rows:"2"})]})]})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 border border-purple-200 rounded-lg p-4",children:[(0,ar.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[(0,ar.jsx)(pr,{className:"w-4 h-4 text-purple-500"}),"Th\xf4ng tin li\xean h\u1ec7"]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5",children:"Ng\u01b0\u1eddi li\xean h\u1ec7"}),(0,ar.jsx)("input",{type:"text",value:r.NGUOI_LIENHE,onChange:e=>M("NGUOI_LIENHE",e.target.value),className:"p-2 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",placeholder:"Nh\u1eadp ng\u01b0\u1eddi li\xean h\u1ec7"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5",children:"Ng\u01b0\u1eddi \u0111\u1ea1i di\u1ec7n"}),(0,ar.jsx)("input",{type:"text",value:r.NGUOI_DAIDIEN,onChange:e=>M("NGUOI_DAIDIEN",e.target.value),className:"p-2 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",placeholder:"Nh\u1eadp ng\u01b0\u1eddi \u0111\u1ea1i di\u1ec7n"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5",children:"Ch\u1ee9c v\u1ee5"}),(0,ar.jsx)("input",{type:"text",value:r.CHUC_VU,onChange:e=>M("CHUC_VU",e.target.value),className:"p-2 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",placeholder:"Nh\u1eadp ch\u1ee9c v\u1ee5"})]})]})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-lg p-4",children:[(0,ar.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[(0,ar.jsx)(lB,{className:"w-4 h-4 text-green-500"}),"Th\xf4ng tin ng\xe2n h\xe0ng"]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5",children:"S\u1ed1 t\xe0i kho\u1ea3n"}),(0,ar.jsx)("input",{type:"text",value:r.SO_TAIKHOAN,onChange:e=>M("SO_TAIKHOAN",e.target.value),className:"p-2 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",placeholder:"Nh\u1eadp s\u1ed1 TK"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5",children:"Ng\xe2n h\xe0ng"}),(0,ar.jsx)("input",{type:"text",value:r.NGANHANG,onChange:e=>M("NGANHANG",e.target.value),className:"p-2 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm",placeholder:"Nh\u1eadp t\xean ng\xe2n h\xe0ng"})]})]})]})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-2 pt-4 mt-4 border-t border-gray-200",children:[(0,ar.jsxs)("button",{onClick:D,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all shadow-sm flex items-center gap-2 text-sm",disabled:o,children:[(0,ar.jsx)(xk,{className:"h-4 w-4"}),"H\u1ee7y"]}),(0,ar.jsx)("button",{onClick:async()=>{if(!o)try{l(!0);const t=(e=>{const t=[];return e.MA_KH||t.push("M\xe3 kh\xe1ch h\xe0ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e.TEN_KHACHHANG||t.push("T\xean kh\xe1ch h\xe0ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),t})(r);if(t.length>0)return et.error(t.join("\n")),void l(!1);const n={...r};if(y)if(j!==n.MA_KH){const t=e.find((e=>e.MA_KH===n.MA_KH));if(t)return et.error("M\xe3 kh\xe1ch h\xe0ng m\u1edbi n\xe0y \u0111\xe3 t\u1ed3n t\u1ea1i!"),void l(!1);await ut.apiRequestKHO("DSKH","Delete",{Rows:[{MA_KH:j}]}),await ut.apiRequestKHO("DSKH","Add",{Rows:[n]}),et.success("C\u1eadp nh\u1eadt kh\xe1ch h\xe0ng th\xe0nh c\xf4ng!")}else await ut.apiRequestKHO("DSKH","Edit",{Rows:[n]}),et.success("C\u1eadp nh\u1eadt kh\xe1ch h\xe0ng th\xe0nh c\xf4ng!");else{const t=e.find((e=>e.MA_KH===n.MA_KH));if(t)return et.error("M\xe3 kh\xe1ch h\xe0ng n\xe0y \u0111\xe3 t\u1ed3n t\u1ea1i!"),void l(!1);await ut.apiRequestKHO("DSKH","Add",{Rows:[n]}),et.success("Th\xeam kh\xe1ch h\xe0ng m\u1edbi th\xe0nh c\xf4ng!")}await P(),D()}catch(t){console.error("Error saving DSKH:",t),et.error("C\xf3 l\u1ed7i x\u1ea3y ra: "+(t.message||"Kh\xf4ng th\u1ec3 l\u01b0u kh\xe1ch h\xe0ng"))}finally{l(!1)}},disabled:o,className:`px-5 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg ${o?"opacity-50 cursor-not-allowed":"hover:from-blue-700 hover:to-blue-800 hover:shadow-lg transform hover:-translate-y-0.5"} flex items-center gap-2 transition-all shadow-md font-medium text-sm`,children:o?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ar.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ar.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0110ang l\u01b0u..."]}):(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ar.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"L\u01b0u"]})})]})]})}),d&&f&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-5 animate-fadeIn",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-3 mb-4",children:[(0,ar.jsxs)("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[(0,ar.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,ar.jsx)(Tk,{className:"w-4 h-4 text-red-600"})}),"X\xe1c nh\u1eadn x\xf3a"]}),(0,ar.jsx)("button",{onClick:R,className:"text-gray-500 hover:text-gray-700 focus:outline-none p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,ar.jsx)(xk,{className:"h-4 w-4"})})]}),(0,ar.jsxs)("div",{className:"space-y-4",children:[(0,ar.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 border border-red-200 rounded-lg p-4",children:[(0,ar.jsx)("p",{className:"text-red-700 mb-2 font-medium text-sm",children:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a kh\xe1ch h\xe0ng n\xe0y?"}),(0,ar.jsxs)("div",{className:"bg-white rounded-lg p-3 mt-2 space-y-2 shadow-sm",children:[(0,ar.jsxs)("p",{className:"text-xs text-gray-700 flex items-center gap-2",children:[(0,ar.jsx)("span",{className:"font-semibold min-w-[80px]",children:"M\xe3 KH:"}),(0,ar.jsx)("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-800 rounded text-xs font-medium",children:f.MA_KH})]}),(0,ar.jsxs)("p",{className:"text-xs text-gray-700 flex items-center gap-2",children:[(0,ar.jsx)("span",{className:"font-semibold min-w-[80px]",children:"T\xean:"}),(0,ar.jsx)("span",{children:f.TEN_KHACHHANG})]}),f.TEN_VIET_TAT&&(0,ar.jsxs)("p",{className:"text-xs text-gray-700 flex items-center gap-2",children:[(0,ar.jsx)("span",{className:"font-semibold min-w-[80px]",children:"T\xean vi\u1ebft t\u1eaft:"}),(0,ar.jsx)("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-800 rounded text-xs font-medium",children:f.TEN_VIET_TAT})]}),f.MST&&(0,ar.jsxs)("p",{className:"text-xs text-gray-700 flex items-center gap-2",children:[(0,ar.jsx)("span",{className:"font-semibold min-w-[80px]",children:"MST:"}),(0,ar.jsx)("span",{children:f.MST})]})]}),(0,ar.jsxs)("p",{className:"text-xs text-red-600 mt-3 flex items-center gap-2 font-medium",children:[(0,ar.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ar.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c."]})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-2 pt-3 border-t border-gray-200",children:[(0,ar.jsx)("button",{onClick:R,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all shadow-sm text-sm",children:"H\u1ee7y"}),(0,ar.jsxs)("button",{onClick:async()=>{if(f)try{await ut.apiRequestKHO("DSKH","Delete",{Rows:[{MA_KH:f.MA_KH}]}),et.success("X\xf3a kh\xe1ch h\xe0ng th\xe0nh c\xf4ng!"),await P(),R()}catch(e){console.error("Error deleting DSKH:",e),et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a kh\xe1ch h\xe0ng")}},className:"px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 flex items-center gap-2 transition-all shadow-md hover:shadow-lg transform hover:-translate-y-0.5 text-sm",children:[(0,ar.jsx)(Tk,{className:"h-4 w-4"}),"X\xf3a"]})]})]})]})}),(0,ar.jsx)(lt,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,ar.jsx)("style",{children:"\n                @keyframes fadeIn {\n                    from {\n                        opacity: 0;\n                        transform: scale(0.95);\n                    }\n                    to {\n                        opacity: 1;\n                        transform: scale(1);\n                    }\n                }\n                \n                .animate-fadeIn {\n                    animation: fadeIn 0.2s ease-out;\n                }\n\n                /* Custom scrollbar */\n                .overflow-y-auto::-webkit-scrollbar {\n                    width: 6px;\n                }\n\n                .overflow-y-auto::-webkit-scrollbar-track {\n                    background: #f1f1f1;\n                    border-radius: 10px;\n                }\n\n                .overflow-y-auto::-webkit-scrollbar-thumb {\n                    background: #888;\n                    border-radius: 10px;\n                }\n\n                .overflow-y-auto::-webkit-scrollbar-thumb:hover {\n                    background: #555;\n                }\n            "})]})},hB=fr("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),fB=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[i,s]=(0,n.useState)({SOHOPDONG:"",NGAY_HOPDONG:(new Date).toISOString().split("T")[0],TEN_KHACHHANG:"",DO_AM:""}),[o,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)(""),[f,p]=(0,n.useState)(!1),[m,g]=(0,n.useState)(null),[x,b]=(0,n.useState)(!1),[y,v]=(0,n.useState)({key:null,direction:"ascending"}),[N,w]=(0,n.useState)(!1),[j,k]=(0,n.useState)(!1),[T,S]=(0,n.useState)(""),[O,_]=(0,n.useState)(!1),[E,C]=(0,n.useState)(""),A=(0,n.useRef)(null),[I,P]=(0,n.useState)(1),[H,D]=(0,n.useState)(10),M=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("vi-VN")}catch(t){return e}},L=async()=>{try{k(!0);const e=await ut.apiRequestKHO("HOPDONG_NGUYENTAC","Find",{});t(e)}catch(e){console.error("Error fetching contracts:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch h\u1ee3p \u0111\u1ed3ng")}finally{k(!1)}},R=async()=>{try{const e=await ut.apiRequestKHO("DSKH","Find",{});a(e)}catch(e){console.error("Error fetching customers:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch kh\xe1ch h\xe0ng")}};(0,n.useEffect)((()=>{L(),R()}),[]),(0,n.useEffect)((()=>{const e=e=>{A.current&&!A.current.contains(e.target)&&_(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const F=r.filter((e=>{var t,r;return(null===(t=e.TEN_KHACHHANG)||void 0===t?void 0:t.toLowerCase().includes(E.toLowerCase()))||(null===(r=e.MA_KH)||void 0===r?void 0:r.toLowerCase().includes(E.toLowerCase()))})),U=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){w(!0),S(e.SOHOPDONG);const t=e.NGAY_HOPDONG?new Date(e.NGAY_HOPDONG).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0];s({SOHOPDONG:e.SOHOPDONG||"",NGAY_HOPDONG:t,TEN_KHACHHANG:e.TEN_KHACHHANG||"",DO_AM:e.DO_AM||""}),C(e.TEN_KHACHHANG||"")}else w(!1),S(""),s({SOHOPDONG:"",NGAY_HOPDONG:(new Date).toISOString().split("T")[0],TEN_KHACHHANG:"",DO_AM:""}),C("");l(!0)},G=()=>{l(!1),w(!1),S(""),s({SOHOPDONG:"",NGAY_HOPDONG:(new Date).toISOString().split("T")[0],TEN_KHACHHANG:"",DO_AM:""}),C(""),_(!1)},B=(e,t)=>{s((r=>({...r,[e]:t})))},z=e=>{g(e),p(!0)},V=()=>{p(!1),g(null)},K=e=>{let t="ascending";y.key===e&&"ascending"===y.direction&&(t="descending"),v({key:e,direction:t})},$=(0,n.useCallback)((()=>{const t=[...e];return y.key&&t.sort(((e,t)=>{const r=e[y.key]||"",n=t[y.key]||"";if("NGAY_HOPDONG"===y.key){const e=new Date(r),t=new Date(n);return"ascending"===y.direction?e-t:t-e}if("DO_AM"===y.key){const e=parseFloat(r)||0,t=parseFloat(n)||0;return"ascending"===y.direction?e-t:t-e}return r<n?"ascending"===y.direction?-1:1:r>n?"ascending"===y.direction?1:-1:0})),t}),[e,y]),W=$().filter((e=>{var t,r,n;const a=d.toLowerCase();return(null===(t=e.SOHOPDONG)||void 0===t?void 0:t.toLowerCase().includes(a))||(null===(r=e.TEN_KHACHHANG)||void 0===r?void 0:r.toLowerCase().includes(a))||(null===(n=e.DO_AM)||void 0===n?void 0:n.toString().includes(d))})),X=Math.ceil(W.length/H),Y=I*H,q=Y-H,Q=W.slice(q,Y);(0,n.useEffect)((()=>{P(1)}),[d,H]);const Z=e=>y.key!==e?(0,ar.jsx)("span",{className:"text-gray-400 ml-1",children:"\u21c5"}):"ascending"===y.direction?(0,ar.jsx)("span",{className:"text-blue-600 ml-1",children:"\u2191"}):(0,ar.jsx)("span",{className:"text-blue-600 ml-1",children:"\u2193"});return(0,ar.jsxs)("div",{className:"p-3 md:p-4 bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen",children:[(0,ar.jsx)("div",{className:"mx-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-5 mb-4 border border-gray-100",children:[(0,ar.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-4 gap-3",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("div",{className:"p-2 bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-md",children:(0,ar.jsx)(Zj,{className:"w-5 h-5 text-white"})}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:"H\u1ee3p \u0110\u1ed3ng Nguy\xean T\u1eafc"}),(0,ar.jsx)("p",{className:"text-xs md:text-sm text-gray-500 mt-0.5",children:"Qu\u1ea3n l\xfd h\u1ee3p \u0111\u1ed3ng nguy\xean t\u1eafc v\u1edbi kh\xe1ch h\xe0ng"})]})]}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ar.jsxs)("button",{onClick:async()=>{et.info("\u0110ang t\u1ea3i l\u1ea1i d\u1eef li\u1ec7u..."),await L(),await R(),et.success("\u0110\xe3 t\u1ea3i l\u1ea1i d\u1eef li\u1ec7u th\xe0nh c\xf4ng!")},className:"px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 flex items-center gap-2 transition-all shadow-sm hover:shadow text-sm",title:"T\u1ea3i l\u1ea1i d\u1eef li\u1ec7u",children:[(0,ar.jsx)(JG,{className:"w-4 h-4"}),(0,ar.jsx)("span",{className:"hidden sm:inline",children:"L\xe0m m\u1edbi"})]}),(0,ar.jsxs)("button",{onClick:()=>b(!x),className:"px-3 py-2 rounded-lg flex items-center gap-2 transition-all shadow-sm hover:shadow text-sm "+(x?"bg-green-50 text-green-700 border border-green-200":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:[(0,ar.jsx)(vk,{className:"w-4 h-4"}),x?"\u1ea8n t\xecm ki\u1ebfm":"T\xecm ki\u1ebfm"]}),(0,ar.jsxs)("button",{onClick:()=>U(),className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-all shadow-md hover:shadow-lg transform hover:-translate-y-0.5 text-sm",children:[(0,ar.jsx)(Nk,{className:"w-4 h-4"}),"Th\xeam H\u0110"]})]})]}),x&&(0,ar.jsx)("div",{className:"mb-4 animate-fadeIn",children:(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)(wk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,ar.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm theo s\u1ed1 H\u0110, t\xean kh\xe1ch h\xe0ng, \u0111\u1ed9 \u1ea9m...",className:"w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all shadow-sm text-sm",value:d,onChange:e=>h(e.target.value)})]})}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[(0,ar.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-xs font-medium text-green-700 mb-1",children:"T\u1ed5ng h\u1ee3p \u0111\u1ed3ng"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-green-900",children:e.length})]}),(0,ar.jsx)("div",{className:"p-2 bg-green-200 rounded-lg",children:(0,ar.jsx)(Zj,{className:"w-5 h-5 text-green-700"})})]})}),(0,ar.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-xs font-medium text-blue-700 mb-1",children:"Th\xe1ng n\xe0y"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:e.filter((e=>{const t=new Date(e.NGAY_HOPDONG),r=new Date;return t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()})).length})]}),(0,ar.jsx)("div",{className:"p-2 bg-blue-200 rounded-lg",children:(0,ar.jsx)(Ik,{className:"w-5 h-5 text-blue-700"})})]})}),(0,ar.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-xs font-medium text-purple-700 mb-1",children:"Kh\xe1ch h\xe0ng"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:new Set(e.map((e=>e.TEN_KHACHHANG))).size})]}),(0,ar.jsx)("div",{className:"p-2 bg-purple-200 rounded-lg",children:(0,ar.jsx)(pr,{className:"w-5 h-5 text-purple-700"})})]})}),(0,ar.jsx)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 border border-orange-200 rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-xs font-medium text-orange-700 mb-1",children:"C\xf3 \u0111\u1ed9 \u1ea9m"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-orange-900",children:e.filter((e=>e.DO_AM)).length})]}),(0,ar.jsx)("div",{className:"p-2 bg-orange-200 rounded-lg",children:(0,ar.jsx)(hB,{className:"w-5 h-5 text-orange-700"})})]})})]}),(0,ar.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-3",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("label",{className:"text-xs text-gray-600 font-medium",children:"Hi\u1ec3n th\u1ecb:"}),(0,ar.jsxs)("select",{value:H,onChange:e=>D(Number(e.target.value)),className:"px-2 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-xs bg-white",children:[(0,ar.jsx)("option",{value:5,children:"5"}),(0,ar.jsx)("option",{value:10,children:"10"}),(0,ar.jsx)("option",{value:20,children:"20"}),(0,ar.jsx)("option",{value:50,children:"50"})]})]}),(0,ar.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:q+1})," - ",(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:Math.min(Y,W.length)})," / ",(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:W.length})]})]}),(0,ar.jsx)("div",{className:"hidden lg:block overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:j?(0,ar.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,ar.jsxs)("div",{className:"text-center",children:[(0,ar.jsx)(JG,{className:"w-12 h-12 text-green-600 animate-spin mx-auto mb-4"}),(0,ar.jsx)("p",{className:"text-gray-600",children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u..."})]})}):(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>K("SOHOPDONG"),children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:["S\u1ed1 H\u0110 ",Z("SOHOPDONG")]})}),(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>K("NGAY_HOPDONG"),children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:["Ng\xe0y H\u0110 ",Z("NGAY_HOPDONG")]})}),(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>K("TEN_KHACHHANG"),children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:["Kh\xe1ch h\xe0ng ",Z("TEN_KHACHHANG")]})}),(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>K("DO_AM"),children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:["\u0110\u1ed9 \u1ea9m ",Z("DO_AM")]})}),(0,ar.jsx)("th",{scope:"col",className:"px-3 py-2 text-xs font-bold text-gray-700 uppercase tracking-wider text-center",children:"Thao t\xe1c"})]})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Q.length>0?Q.map(((e,t)=>(0,ar.jsxs)("tr",{className:"hover:bg-green-50 transition-colors "+(t%2===0?"bg-white":"bg-gray-50"),children:[(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,ar.jsx)("span",{className:"px-2 py-1 bg-gradient-to-r from-green-100 to-green-200 text-green-800 rounded text-xs font-semibold",children:e.SOHOPDONG})}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-700",children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ar.jsx)(Ik,{className:"w-3.5 h-3.5 text-gray-400"}),M(e.NGAY_HOPDONG)]})}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm font-medium text-gray-900",children:e.TEN_KHACHHANG}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-700",children:e.DO_AM?(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ar.jsx)(hB,{className:"w-3.5 h-3.5 text-blue-500"}),(0,ar.jsxs)("span",{className:"font-medium",children:[e.DO_AM,"%"]})]}):(0,ar.jsx)("span",{className:"text-gray-400 italic",children:"\u2014"})}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-500 text-center",children:(0,ar.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,ar.jsx)("button",{onClick:()=>U(e),className:"text-indigo-600 hover:text-indigo-900 p-1.5 rounded-lg hover:bg-indigo-100 transition-all transform hover:scale-110",title:"S\u1eeda",children:(0,ar.jsx)(kk,{className:"h-4 w-4"})}),(0,ar.jsx)("button",{onClick:()=>z(e),className:"text-red-600 hover:text-red-900 p-1.5 rounded-lg hover:bg-red-100 transition-all transform hover:scale-110",title:"X\xf3a",children:(0,ar.jsx)(Tk,{className:"h-4 w-4"})})]})})]},e.SOHOPDONG))):(0,ar.jsx)("tr",{children:(0,ar.jsx)("td",{colSpan:"5",className:"px-6 py-12 text-center",children:(0,ar.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[(0,ar.jsx)(Zj,{className:"w-16 h-16 text-gray-300 mb-4"}),(0,ar.jsx)("p",{className:"text-lg font-medium",children:"Kh\xf4ng t\xecm th\u1ea5y h\u1ee3p \u0111\u1ed3ng n\xe0o"}),(0,ar.jsx)("p",{className:"text-sm mt-1",children:"Th\u1eed thay \u0111\u1ed5i t\u1eeb kh\xf3a t\xecm ki\u1ebfm"})]})})})})]})}),(0,ar.jsx)("div",{className:"lg:hidden space-y-3",children:j?(0,ar.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,ar.jsxs)("div",{className:"text-center",children:[(0,ar.jsx)(JG,{className:"w-12 h-12 text-green-600 animate-spin mx-auto mb-4"}),(0,ar.jsx)("p",{className:"text-gray-600",children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u..."})]})}):Q.length>0?Q.map((e=>(0,ar.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,ar.jsxs)("div",{className:"flex-1",children:[(0,ar.jsx)("div",{className:"flex items-center gap-2 mb-1",children:(0,ar.jsx)("span",{className:"px-2 py-0.5 bg-gradient-to-r from-green-100 to-green-200 text-green-800 rounded text-xs font-semibold",children:e.SOHOPDONG})}),(0,ar.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:e.TEN_KHACHHANG})]}),(0,ar.jsxs)("div",{className:"flex gap-1",children:[(0,ar.jsx)("button",{onClick:()=>U(e),className:"text-indigo-600 hover:text-indigo-900 p-1.5 rounded-lg hover:bg-indigo-100 transition-all",children:(0,ar.jsx)(kk,{className:"h-4 w-4"})}),(0,ar.jsx)("button",{onClick:()=>z(e),className:"text-red-600 hover:text-red-900 p-1.5 rounded-lg hover:bg-red-100 transition-all",children:(0,ar.jsx)(Tk,{className:"h-4 w-4"})})]})]}),(0,ar.jsxs)("div",{className:"space-y-1.5 text-xs text-gray-600",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)(Ik,{className:"w-3.5 h-3.5 text-gray-400"}),(0,ar.jsx)("span",{children:M(e.NGAY_HOPDONG)})]}),e.DO_AM&&(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)(hB,{className:"w-3.5 h-3.5 text-blue-500"}),(0,ar.jsxs)("span",{children:["\u0110\u1ed9 \u1ea9m: ",(0,ar.jsxs)("span",{className:"font-medium",children:[e.DO_AM,"%"]})]})]})]})]},e.SOHOPDONG))):(0,ar.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500 py-12",children:[(0,ar.jsx)(Zj,{className:"w-16 h-16 text-gray-300 mb-4"}),(0,ar.jsx)("p",{className:"text-base font-medium",children:"Kh\xf4ng t\xecm th\u1ea5y h\u1ee3p \u0111\u1ed3ng n\xe0o"}),(0,ar.jsx)("p",{className:"text-sm mt-1",children:"Th\u1eed thay \u0111\u1ed5i t\u1eeb kh\xf3a t\xecm ki\u1ebfm"})]})}),W.length>0&&(0,ar.jsxs)("div",{className:"mt-4 flex flex-col sm:flex-row items-center justify-between gap-3",children:[(0,ar.jsxs)("div",{className:"text-xs text-gray-600",children:["Trang ",(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:I})," / ",(0,ar.jsx)("span",{className:"font-semibold text-gray-800",children:X})]}),(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ar.jsx)("button",{onClick:()=>P(1),disabled:1===I,className:"p-1.5 rounded-lg border transition-all "+(1===I?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:(0,ar.jsx)(aB,{className:"w-4 h-4"})}),(0,ar.jsx)("button",{onClick:()=>P((e=>Math.max(e-1,1))),disabled:1===I,className:"p-1.5 rounded-lg border transition-all "+(1===I?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:(0,ar.jsx)(lk,{className:"w-4 h-4"})}),(0,ar.jsx)("div",{className:"hidden sm:flex items-center gap-1",children:(()=>{const e=[];if(X<=5)for(let t=1;t<=X;t++)e.push(t);else if(I<=3){for(let t=1;t<=4;t++)e.push(t);e.push("..."),e.push(X)}else if(I>=X-2){e.push(1),e.push("...");for(let t=X-3;t<=X;t++)e.push(t)}else{e.push(1),e.push("...");for(let t=I-1;t<=I+1;t++)e.push(t);e.push("..."),e.push(X)}return e})().map(((e,t)=>"..."===e?(0,ar.jsx)("span",{className:"px-2 py-1 text-gray-500 text-xs",children:"..."},`ellipsis-${t}`):(0,ar.jsx)("button",{onClick:()=>(e=>P(e))(e),className:"min-w-[32px] px-2 py-1 rounded-lg border font-medium transition-all text-xs "+(I===e?"bg-green-600 text-white border-green-600 shadow-md":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:e},e)))}),(0,ar.jsx)("button",{onClick:()=>P((e=>Math.min(e+1,X))),disabled:I===X,className:"p-1.5 rounded-lg border transition-all "+(I===X?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:(0,ar.jsx)(ek,{className:"w-4 h-4"})}),(0,ar.jsx)("button",{onClick:()=>P(X),disabled:I===X,className:"p-1.5 rounded-lg border transition-all "+(I===X?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:(0,ar.jsx)(iB,{className:"w-4 h-4"})})]})]})]})}),o&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto backdrop-blur-sm",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full p-4 md:p-6 animate-fadeIn",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-3 mb-4",children:[(0,ar.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[(0,ar.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,ar.jsx)(Zj,{className:"w-5 h-5 text-green-600"})}),N?"C\u1eadp nh\u1eadt h\u1ee3p \u0111\u1ed3ng":"Th\xeam h\u1ee3p \u0111\u1ed3ng m\u1edbi"]}),(0,ar.jsx)("button",{onClick:G,className:"text-gray-500 hover:text-gray-700 focus:outline-none p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsx)("div",{className:"space-y-4",children:(0,ar.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-lg p-4",children:[(0,ar.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[(0,ar.jsx)(eB,{className:"w-4 h-4 text-green-500"}),"Th\xf4ng tin h\u1ee3p \u0111\u1ed3ng"]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5",children:["S\u1ed1 h\u1ee3p \u0111\u1ed3ng ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"text",value:i.SOHOPDONG,onChange:e=>B("SOHOPDONG",e.target.value),className:"p-2 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all text-sm",placeholder:"Nh\u1eadp s\u1ed1 H\u0110",disabled:N})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5",children:["Ng\xe0y h\u1ee3p \u0111\u1ed3ng ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"date",value:i.NGAY_HOPDONG,onChange:e=>B("NGAY_HOPDONG",e.target.value),className:"p-2 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all text-sm"})]}),(0,ar.jsxs)("div",{className:"md:col-span-2",ref:A,children:[(0,ar.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5",children:["T\xean kh\xe1ch h\xe0ng ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)("input",{type:"text",value:E,onChange:e=>(e=>{C(e),s((t=>({...t,TEN_KHACHHANG:e}))),_(!0)})(e.target.value),onFocus:()=>_(!0),className:"p-2 pr-8 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all text-sm",placeholder:"Nh\u1eadp \u0111\u1ec3 t\xecm kh\xe1ch h\xe0ng..."}),(0,ar.jsx)(sk,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"}),O&&F.length>0&&(0,ar.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:F.map((e=>(0,ar.jsxs)("div",{onClick:()=>{return t=e.TEN_KHACHHANG,s((e=>({...e,TEN_KHACHHANG:t}))),C(t),void _(!1);var t},className:"px-3 py-2 hover:bg-green-50 cursor-pointer transition-colors border-b border-gray-100 last:border-b-0",children:[(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.TEN_KHACHHANG}),(0,ar.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded",children:e.MA_KH})]}),e.DIACHI&&(0,ar.jsx)("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e.DIACHI})]},e.MA_KH)))})]}),(0,ar.jsxs)("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[(0,ar.jsx)(eB,{className:"w-3 h-3"}),"Nh\u1eadp t\xean ho\u1eb7c m\xe3 KH \u0111\u1ec3 t\xecm ki\u1ebfm"]})]}),(0,ar.jsxs)("div",{className:"md:col-span-2",children:[(0,ar.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1.5",children:"\u0110\u1ed9 \u1ea9m (%)"}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)("input",{type:"number",step:"0.01",value:i.DO_AM,onChange:e=>B("DO_AM",e.target.value),className:"p-2 pr-8 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all text-sm",placeholder:"Nh\u1eadp \u0111\u1ed9 \u1ea9m"}),(0,ar.jsx)(hB,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-blue-400 pointer-events-none"})]})]})]})]})}),(0,ar.jsxs)("div",{className:"flex justify-end gap-2 pt-4 mt-4 border-t border-gray-200",children:[(0,ar.jsxs)("button",{onClick:G,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all shadow-sm flex items-center gap-2 text-sm",disabled:c,children:[(0,ar.jsx)(xk,{className:"h-4 w-4"}),"H\u1ee7y"]}),(0,ar.jsx)("button",{onClick:async()=>{if(!c)try{u(!0);const t=(e=>{const t=[];return e.SOHOPDONG||t.push("S\u1ed1 h\u1ee3p \u0111\u1ed3ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e.NGAY_HOPDONG||t.push("Ng\xe0y h\u1ee3p \u0111\u1ed3ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e.TEN_KHACHHANG||t.push("T\xean kh\xe1ch h\xe0ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),t})(i);if(t.length>0)return et.error(t.join("\n")),void u(!1);const r={...i};if(N)if(T!==r.SOHOPDONG){const t=e.find((e=>e.SOHOPDONG===r.SOHOPDONG));if(t)return et.error("S\u1ed1 h\u1ee3p \u0111\u1ed3ng m\u1edbi n\xe0y \u0111\xe3 t\u1ed3n t\u1ea1i!"),void u(!1);await ut.apiRequestKHO("HOPDONG_NGUYENTAC","Delete",{Rows:[{SOHOPDONG:T}]}),await ut.apiRequestKHO("HOPDONG_NGUYENTAC","Add",{Rows:[r]}),et.success("C\u1eadp nh\u1eadt h\u1ee3p \u0111\u1ed3ng th\xe0nh c\xf4ng!")}else await ut.apiRequestKHO("HOPDONG_NGUYENTAC","Edit",{Rows:[r]}),et.success("C\u1eadp nh\u1eadt h\u1ee3p \u0111\u1ed3ng th\xe0nh c\xf4ng!");else{const t=e.find((e=>e.SOHOPDONG===r.SOHOPDONG));if(t)return et.error("S\u1ed1 h\u1ee3p \u0111\u1ed3ng n\xe0y \u0111\xe3 t\u1ed3n t\u1ea1i!"),void u(!1);await ut.apiRequestKHO("HOPDONG_NGUYENTAC","Add",{Rows:[r]}),et.success("Th\xeam h\u1ee3p \u0111\u1ed3ng m\u1edbi th\xe0nh c\xf4ng!")}await L(),G()}catch(t){console.error("Error saving contract:",t),et.error("C\xf3 l\u1ed7i x\u1ea3y ra: "+(t.message||"Kh\xf4ng th\u1ec3 l\u01b0u h\u1ee3p \u0111\u1ed3ng"))}finally{u(!1)}},disabled:c,className:`px-5 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg ${c?"opacity-50 cursor-not-allowed":"hover:from-green-700 hover:to-green-800 hover:shadow-lg transform hover:-translate-y-0.5"} flex items-center gap-2 transition-all shadow-md font-medium text-sm`,children:c?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ar.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ar.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0110ang l\u01b0u..."]}):(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ar.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"L\u01b0u"]})})]})]})}),f&&m&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-5 animate-fadeIn",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-3 mb-4",children:[(0,ar.jsxs)("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[(0,ar.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,ar.jsx)(Tk,{className:"w-4 h-4 text-red-600"})}),"X\xe1c nh\u1eadn x\xf3a"]}),(0,ar.jsx)("button",{onClick:V,className:"text-gray-500 hover:text-gray-700 focus:outline-none p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,ar.jsx)(xk,{className:"h-4 w-4"})})]}),(0,ar.jsxs)("div",{className:"space-y-4",children:[(0,ar.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 border border-red-200 rounded-lg p-4",children:[(0,ar.jsx)("p",{className:"text-red-700 mb-2 font-medium text-sm",children:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a h\u1ee3p \u0111\u1ed3ng n\xe0y?"}),(0,ar.jsxs)("div",{className:"bg-white rounded-lg p-3 mt-2 space-y-2 shadow-sm",children:[(0,ar.jsxs)("p",{className:"text-xs text-gray-700 flex items-center gap-2",children:[(0,ar.jsx)("span",{className:"font-semibold min-w-[100px]",children:"S\u1ed1 H\u0110:"}),(0,ar.jsx)("span",{className:"px-2 py-0.5 bg-green-100 text-green-800 rounded text-xs font-medium",children:m.SOHOPDONG})]}),(0,ar.jsxs)("p",{className:"text-xs text-gray-700 flex items-center gap-2",children:[(0,ar.jsx)("span",{className:"font-semibold min-w-[100px]",children:"Ng\xe0y H\u0110:"}),(0,ar.jsx)("span",{children:M(m.NGAY_HOPDONG)})]}),(0,ar.jsxs)("p",{className:"text-xs text-gray-700 flex items-center gap-2",children:[(0,ar.jsx)("span",{className:"font-semibold min-w-[100px]",children:"Kh\xe1ch h\xe0ng:"}),(0,ar.jsx)("span",{children:m.TEN_KHACHHANG})]}),m.DO_AM&&(0,ar.jsxs)("p",{className:"text-xs text-gray-700 flex items-center gap-2",children:[(0,ar.jsx)("span",{className:"font-semibold min-w-[100px]",children:"\u0110\u1ed9 \u1ea9m:"}),(0,ar.jsxs)("span",{className:"font-medium",children:[m.DO_AM,"%"]})]})]}),(0,ar.jsxs)("p",{className:"text-xs text-red-600 mt-3 flex items-center gap-2 font-medium",children:[(0,ar.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ar.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c."]})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-2 pt-3 border-t border-gray-200",children:[(0,ar.jsx)("button",{onClick:V,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all shadow-sm text-sm",children:"H\u1ee7y"}),(0,ar.jsxs)("button",{onClick:async()=>{if(m)try{await ut.apiRequestKHO("HOPDONG_NGUYENTAC","Delete",{Rows:[{SOHOPDONG:m.SOHOPDONG}]}),et.success("X\xf3a h\u1ee3p \u0111\u1ed3ng th\xe0nh c\xf4ng!"),await L(),V()}catch(e){console.error("Error deleting contract:",e),et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a h\u1ee3p \u0111\u1ed3ng")}},className:"px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 flex items-center gap-2 transition-all shadow-md hover:shadow-lg transform hover:-translate-y-0.5 text-sm",children:[(0,ar.jsx)(Tk,{className:"h-4 w-4"}),"X\xf3a"]})]})]})]})}),(0,ar.jsx)(lt,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,ar.jsx)("style",{children:"\n                @keyframes fadeIn {\n                    from {\n                        opacity: 0;\n                        transform: scale(0.95);\n                    }\n                    to {\n                        opacity: 1;\n                        transform: scale(1);\n                    }\n                }\n                \n                .animate-fadeIn {\n                    animation: fadeIn 0.2s ease-out;\n                }\n\n                /* Custom scrollbar */\n                .overflow-y-auto::-webkit-scrollbar {\n                    width: 6px;\n                }\n\n                .overflow-y-auto::-webkit-scrollbar-track {\n                    background: #f1f1f1;\n                    border-radius: 10px;\n                }\n\n                .overflow-y-auto::-webkit-scrollbar-thumb {\n                    background: #888;\n                    border-radius: 10px;\n                }\n\n                .overflow-y-auto::-webkit-scrollbar-thumb:hover {\n                    background: #555;\n                }\n            "})]})},pB=fr("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]),mB=fr("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),gB=fr("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]),xB=fr("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),bB=fr("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var yB=r(2450);const vB=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[i,s]=(0,n.useState)([]),[o,l]=(0,n.useState)([]),[c,u]=(0,n.useState)([]),[d,h]=(0,n.useState)([]),[f,p]=(0,n.useState)(null),[m,g]=(0,n.useState)({SOPHIEU:"",NGHIEP_VU:"NHAP",NGAYNHAP_XUAT:(new Date).toISOString().split("T")[0],NCC_KHACHHANG:"",KHOXUAT:"",KHONHAP:"",NGUOIPHUTRACH:"",TONGKHOILUONG:0,TONGTIEN:0,DIENGIAI:""}),[x,b]=(0,n.useState)([]),[y,v]=(0,n.useState)({NHOM_HANG:"",SO_KIEN:"",DONGIA:0,TIEU_CHUAN:"",DOI_HANG_KHO:""}),[N,w]=(0,n.useState)(!1),[j,k]=(0,n.useState)(!1),[T,S]=(0,n.useState)(!1),[O,_]=(0,n.useState)(""),[E,C]=(0,n.useState)(!1),[A,I]=(0,n.useState)(""),[P,H]=(0,n.useState)(!1),[D,M]=(0,n.useState)(null),[L,R]=(0,n.useState)(!1),[F,U]=(0,n.useState)({key:null,direction:"ascending"}),[G,B]=(0,n.useState)(!1),[z,V]=(0,n.useState)(!1),[K,$]=(0,n.useState)(""),[W,X]=(0,n.useState)(!1),[Y,q]=(0,n.useState)(null),[Q,Z]=(0,n.useState)([]),[J,ee]=(0,n.useState)("NHAP"),[te,re]=(0,n.useState)(!1),ne=(0,n.useRef)(null),[ae,ie]=(0,n.useState)(!1),[se,oe]=(0,n.useState)(""),[le,ce]=(0,n.useState)(!1),[ue,de]=(0,n.useState)(""),[he,fe]=(0,n.useState)(null),[pe,me]=(0,n.useState)([]),ge=(0,n.useRef)(null),xe=(0,n.useRef)(null),[be,ye]=(0,n.useState)("ALL"),[ve,Ne]=(0,n.useState)("ALL"),[we,je]=(0,n.useState)(""),[ke,Te]=(0,n.useState)(""),[Se,Oe]=(0,n.useState)(1),[_e,Ee]=(0,n.useState)(10),Ce=()=>{X(!1),q(null),Z([]),ne.current&&(ne.current.value="")},Ae=async e=>{try{let t=x;if(e.SOPHIEU!==m.SOPHIEU){t=(await ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Find",{})).filter((t=>t.SOPHIEU===e.SOPHIEU))}const r=new Date(e.NGAYNHAP_XUAT),n=r.getDate(),a=r.getMonth()+1,i=r.getFullYear(),s={};t.forEach((e=>{const t=e.DOI_HANG_KHO||"Ch\u01b0a ph\xe2n \u0111\u1ed9i",r=e.TIEU_CHUAN||"",n=`${t}_${r}_${`${e.DAY}x${e.RONG}x${e.DAI}`}`;s[n]||(s[n]={doiHangKho:t,tieuChuan:r,day:e.DAY,rong:e.RONG,dai:e.DAI,soKien:0,tongKhoi:0}),s[n].soKien+=1,s[n].tongKhoi+=parseFloat(e.SO_KHOI||0)}));const o=Object.values(s).sort(((e,t)=>e.doiHangKho.localeCompare(t.doiHangKho))),l=`\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <meta charset="UTF-8">\n        <title>Phi\u1ebfu ${"NHAP"===e.NGHIEP_VU?"Nh\u1eadp":"Xu\u1ea5t"} Kho - ${e.SOPHIEU}</title>\n        <style>\n          @page { size: A4; margin: 10mm; }\n          * { margin: 0; padding: 0; box-sizing: border-box; }\n          body { font-family: 'Times New Roman', Times, serif; font-size: 12pt; line-height: 1.3; color: #000; }\n          .container { width: 100%; max-width: 210mm; margin: 0 auto; padding: 5mm; }\n          .header { text-align: center; margin-bottom: 15px; border-bottom: 2px solid #000; padding-bottom: 10px; }\n          .header h1 { font-size: 18pt; font-weight: bold; margin-bottom: 5px; text-transform: uppercase; }\n          .header .date { font-size: 11pt; font-style: italic; }\n          .info-section { margin-bottom: 15px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }\n          .info-item { font-size: 11pt; padding: 3px 0; }\n          .info-item strong { font-weight: bold; min-width: 120px; display: inline-block; }\n          table { width: 100%; border-collapse: collapse; margin-bottom: 15px; font-size: 10pt; }\n          table th { background-color: #f0f0f0; border: 1px solid #000; padding: 6px 4px; text-align: center; font-weight: bold; font-size: 9pt; }\n          table td { border: 1px solid #000; padding: 5px 4px; text-align: center; }\n          table td.left { text-align: left; }\n          table td.right { text-align: right; }\n          .summary-row { background-color: #fff3cd; font-weight: bold; }\n          .total-section { margin-top: 15px; padding: 10px; background-color: #f8f9fa; border: 2px solid #000; }\n          .total-item { display: flex; justify-content: space-between; padding: 5px 0; font-size: 12pt; }\n          .total-item strong { font-weight: bold; }\n          .signatures { margin-top: 30px; display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; text-align: center; }\n          .signature-box { padding: 10px; }\n          .signature-box .title { font-weight: bold; margin-bottom: 60px; font-size: 11pt; }\n          .signature-box .name { font-style: italic; margin-top: 5px; }\n          .footer { margin-top: 20px; text-align: center; font-size: 9pt; font-style: italic; color: #666; }\n          @media print {\n            body { print-color-adjust: exact; -webkit-print-color-adjust: exact; }\n            .no-print { display: none; }\n            .page-break { page-break-after: always; }\n          }\n        </style>\n      </head>\n      <body>\n        <div class="container">\n          <div class="header">\n            <h1>S\u1ed4 NH\u1eacT K\xdd - ${"NHAP"===e.NGHIEP_VU?"NH\u1eacP KHO":"XU\u1ea4T KHO"} TH\xc0NH PH\u1ea8M</h1>\n            <div class="date">Ng\xe0y ${n} Th\xe1ng ${a} N\u0103m ${i}</div>\n          </div>\n          \n          <div class="info-section">\n            <div class="info-item"><strong>S\u1ed1 phi\u1ebfu:</strong> ${e.SOPHIEU}</div>\n            <div class="info-item"><strong>Nghi\u1ec7p v\u1ee5:</strong> ${"NHAP"===e.NGHIEP_VU?"Nh\u1eadp kho":"Xu\u1ea5t kho"}</div>\n            <div class="info-item"><strong>${"NHAP"===e.NGHIEP_VU?"Nh\xe0 cung c\u1ea5p":"Kh\xe1ch h\xe0ng"}:</strong> ${e.NCC_KHACHHANG||""}</div>\n            <div class="info-item"><strong>Ng\u01b0\u1eddi ph\u1ee5 tr\xe1ch:</strong> ${e.NGUOIPHUTRACH||""}</div>\n            <div class="info-item"><strong>${"NHAP"===e.NGHIEP_VU?"Kho nh\u1eadp":"Kho xu\u1ea5t"}:</strong> ${"NHAP"===e.NGHIEP_VU?e.KHONHAP:e.KHOXUAT}</div>\n            ${e.DIENGIAI?`<div class="info-item" style="grid-column: 1 / -1;"><strong>Di\u1ec5n gi\u1ea3i:</strong> ${e.DIENGIAI}</div>`:""}\n          </div>\n          \n          <table>\n            <thead>\n              <tr>\n                <th style="width: 30px;">STT</th>\n                <th style="width: 80px;">M\xe3 Ki\u1ec7n</th>\n                <th style="width: 40px;">D\xe0y</th>\n                <th style="width: 40px;">R\u1ed9ng</th>\n                <th style="width: 40px;">D\xe0i</th>\n                <th style="width: 60px;">S\u1ed1 thanh</th>\n                <th style="width: 60px;">S\u1ed1 m3</th>\n                <th style="width: 80px;">Ti\xeau chu\u1ea9n</th>\n                <th style="width: 60px;">Th\u1ee7 kho</th>\n                <th style="width: 80px;">\u0110\u1ed9i h\xe0ng Kh\xf4</th>\n                <th style="width: 60px;">Ghi ch\xfa</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${t.map(((e,t)=>`\n                <tr>\n                  <td>${t+1}</td>\n                  <td>${e.MA_KIEN}</td>\n                  <td>${e.DAY}</td>\n                  <td>${e.RONG}</td>\n                  <td>${e.DAI}</td>\n                  <td>${e.THANH||""}</td>\n                  <td class="right">${parseFloat(e.SO_KHOI||0).toFixed(4)}</td>\n                  <td>${e.TIEU_CHUAN||""}</td>\n                  <td></td>\n                  <td>${e.DOI_HANG_KHO||""}</td>\n                  <td>${e.GHICHU||""}</td>\n                </tr>\n              `)).join("")}\n              \n              ${o.map((e=>`\n                <tr class="summary-row">\n                  <td colspan="2" class="left">T\u1ed4NG C\u1ed8NG \u0110\u1ed8I ${e.doiHangKho}</td>\n                  <td colspan="3">H\xe0ng ${e.day}x${e.rong}x${e.dai}</td>\n                  <td>${e.soKien}</td>\n                  <td class="right">${e.tongKhoi.toFixed(4)}</td>\n                  <td colspan="4">${e.soKien} ki\u1ec7n</td>\n                </tr>\n              `)).join("")}\n              \n              <tr class="summary-row" style="background-color: #ffc107;">\n                <td colspan="5" class="left"><strong>T\u1ed4NG NG\xc0Y ${n}/${a}/${i}</strong></td>\n                <td><strong>${t.length}</strong></td>\n                <td class="right"><strong>${parseFloat(e.TONGKHOILUONG).toFixed(4)}</strong></td>\n                <td colspan="4" class="left"><strong>T\u1ed5ng c\u1ed9ng ${t.length} ki\u1ec7n</strong></td>\n              </tr>\n            </tbody>\n          </table>\n          \n          ${"XUAT"===e.NGHIEP_VU&&e.TONGTIEN>0?`\n          <div class="total-section">\n            <div class="total-item">\n              <span>T\u1ed5ng kh\u1ed1i l\u01b0\u1ee3ng:</span>\n              <strong>${parseFloat(e.TONGKHOILUONG).toFixed(4)} m\xb3</strong>\n            </div>\n            <div class="total-item">\n              <span>T\u1ed5ng ti\u1ec1n:</span>\n              <strong>${new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e.TONGTIEN)}</strong>\n            </div>\n          </div>\n          `:""}\n          \n          <div class="signatures">\n            <div class="signature-box">\n              <div class="title">Ng\u01b0\u1eddi l\u1eadp phi\u1ebfu</div>\n              <div class="name">${e.NGUOIPHUTRACH||"(K\xfd v\xe0 ghi r\xf5 h\u1ecd t\xean)"}</div>\n            </div>\n            <div class="signature-box">\n              <div class="title">Th\u1ee7 kho</div>\n              <div class="name">(K\xfd v\xe0 ghi r\xf5 h\u1ecd t\xean)</div>\n            </div>\n            <div class="signature-box">\n              <div class="title">K\u1ebf to\xe1n tr\u01b0\u1edfng</div>\n              <div class="name">(K\xfd v\xe0 ghi r\xf5 h\u1ecd t\xean)</div>\n            </div>\n          </div>\n          \n          <div class="footer">\n            <p>In l\xfac: ${(new Date).toLocaleString("vi-VN")}</p>\n          </div>\n        </div>\n        \n        <script>\n          window.onload = function() {\n            window.print();\n          }\n        <\/script>\n      </body>\n      </html>\n    `,c=window.open("","_blank","width=800,height=600");c.document.write(l),c.document.close()}catch(t){console.error("Error printing phieu:",t),et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi in phi\u1ebfu")}},Ie=(t,r)=>{const n=new Date(r),a=n.getFullYear().toString().slice(-2),i=(n.getMonth()+1).toString().padStart(2,"0"),s=n.getDate().toString().padStart(2,"0"),o="NHAP"===t?"NK":"XK",l=`${a}${i}${s}`,c=e.filter((e=>e.SOPHIEU&&e.SOPHIEU.startsWith(`${o}-`)));let u=0;c.forEach((e=>{const t=e.SOPHIEU.match(/-(\d+)$/);if(t){const e=parseInt(t[1]);e>u&&(u=e)}}));const d=(u+1).toString().padStart(4,"0");return`${o}-${l}-${d}`},Pe=e=>{const t=new Date(e),r=`${t.getFullYear().toString().slice(-2)}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}`,n=[...c,...x];let a=0;n.forEach((e=>{if(e.MA_KIEN){const t=e.MA_KIEN.match(/-(\d+)$/);if(t){const e=parseInt(t[1]);e>a&&(a=e)}}}));return`K-${r}-${(a+1).toString().padStart(5,"0")}`},He=e=>e&&0!==e?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"0 \u20ab",De=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("vi-VN")}catch(t){return e}},Me=async()=>{try{V(!0);const e=await ut.apiRequestKHO("XUATNHAPKHO","Find",{});t(e)}catch(e){console.error("Error fetching phieu list:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch phi\u1ebfu")}finally{V(!1)}},Le=async()=>{try{const e=await ut.apiRequestKHO("DSKH","Find",{});a(e)}catch(e){console.error("Error fetching customers:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch kh\xe1ch h\xe0ng")}},Re=async()=>{try{const e=await ut.apiRequestKHO("CD_KHO","Find",{});s(e)}catch(e){console.error("Error fetching kho list:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch kho")}},Fe=async()=>{try{const e=await ut.apiRequestKHO("DMHH","Find",{});l(e)}catch(e){console.error("Error fetching DMHH:",e),et.error("L\u1ed7i khi t\u1ea3i danh m\u1ee5c h\xe0ng h\xf3a")}},Ue=async()=>{try{const e=await ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Find",{});u(e)}catch(e){console.error("Error fetching ton kho:",e)}},Ge=async()=>{try{const e=await ut.apiRequestKHO("CD_TIEUCHUAN","Find",{});h(e)}catch(e){console.error("Error fetching tieu chuan:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch ti\xeau chu\u1ea9n")}},Be=async()=>{if(!O.trim())return void et.error("Vui l\xf2ng nh\u1eadp t\xean ti\xeau chu\u1ea9n");if(d.find((e=>e.TIEU_CHUAN.toLowerCase()===O.trim().toLowerCase())))et.error("Ti\xeau chu\u1ea9n n\xe0y \u0111\xe3 t\u1ed3n t\u1ea1i");else try{const e={ID_TC:Date.now(),TIEU_CHUAN:O.trim().toUpperCase()};await ut.apiRequestKHO("CD_TIEUCHUAN","Add",{Rows:[e]}),et.success("Th\xeam ti\xeau chu\u1ea9n m\u1edbi th\xe0nh c\xf4ng!"),await Ge(),_(""),S(!1)}catch(e){console.error("Error adding tieu chuan:",e),et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi th\xeam ti\xeau chu\u1ea9n")}};(0,n.useEffect)((()=>{d.length>0&&!y.TIEU_CHUAN&&v((e=>({...e,TIEU_CHUAN:d[0].TIEU_CHUAN})))}),[d]),(0,n.useEffect)((()=>{Me(),Le(),Re(),Fe(),Ue(),Ge(),(async()=>{try{const e=ut.getUserData();e&&p(e)}catch(e){console.error("Error fetching current user:",e)}})()}),[]),(0,n.useEffect)((()=>{const e=e=>{ge.current&&!ge.current.contains(e.target)&&ie(!1),xe.current&&!xe.current.contains(e.target)&&ce(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const ze=r.filter((e=>{var t,r;return(null===(t=e.TEN_KHACHHANG)||void 0===t?void 0:t.toLowerCase().includes(se.toLowerCase()))||(null===(r=e.MA_KH)||void 0===r?void 0:r.toLowerCase().includes(se.toLowerCase()))})),Ve=o.filter((e=>{var t;return null===(t=e.NHOM_HANG)||void 0===t?void 0:t.toLowerCase().includes(ue.toLowerCase())})),Ke=e=>{const t=o.find((t=>t.NHOM_HANG===e));fe(t),de(e),v((r=>({...r,NHOM_HANG:e,DONGIA:(null===t||void 0===t?void 0:t.DONGIA_HIEULUC)||0}))),ce(!1),"XUAT"===m.NGHIEP_VU&&$e(e)},$e=e=>{const t=c.filter((t=>t.NHOM_HANG===e&&"NHAP"===t.NGHIEP_VU&&t.KHO_NHAP===m.KHOXUAT));me(t)},We=(e,t,r)=>{const n=[...x];if(n[e][t]=r,"THANH"===t){const t=parseFloat(n[e].DAY)||0,a=parseFloat(n[e].RONG)||0,i=parseFloat(n[e].DAI)||0,s=parseFloat(r)||0;n[e].SO_KHOI=t*a*i*s/1e9}b(n),Xe(n)},Xe=e=>{const t=e.reduce(((e,t)=>e+(parseFloat(t.SO_KHOI)||0)),0);g((e=>({...e,TONGKHOILUONG:t})))},Ye=e=>{const t=e.reduce(((e,t)=>e+(parseFloat(t.THANHTIEN)||0)),0),r=e.reduce(((e,t)=>e+(parseFloat(t.SO_KHOI)||0)),0);g((e=>({...e,TONGTIEN:t,TONGKHOILUONG:r})))},qe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){B(!0),$(e.SOPHIEU);const t=e.NGAYNHAP_XUAT?new Date(e.NGAYNHAP_XUAT).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0];g({SOPHIEU:e.SOPHIEU||"",NGHIEP_VU:e.NGHIEP_VU||"NHAP",NGAYNHAP_XUAT:t,NCC_KHACHHANG:e.NCC_KHACHHANG||"",KHOXUAT:e.KHOXUAT||"",KHONHAP:e.KHONHAP||"",NGUOIPHUTRACH:e.NGUOIPHUTRACH||"",TONGKHOILUONG:e.TONGKHOILUONG||0,TONGTIEN:e.TONGTIEN||0,DIENGIAI:e.DIENGIAI||""}),oe(e.NCC_KHACHHANG||""),Qe(e.SOPHIEU)}else{B(!1),$("");const e=Ie("NHAP",(new Date).toISOString().split("T")[0]),t=f?f["H\u1ecd v\xe0 T\xean"]||f.username:"";g({SOPHIEU:e,NGHIEP_VU:"NHAP",NGAYNHAP_XUAT:(new Date).toISOString().split("T")[0],NCC_KHACHHANG:"",KHOXUAT:"",KHONHAP:"",NGUOIPHUTRACH:t,TONGKHOILUONG:0,TONGTIEN:0,DIENGIAI:""}),oe(""),b([]);const r=d.length>0?d[0].TIEU_CHUAN:"";v({NHOM_HANG:"",SO_KIEN:"",DONGIA:0,TIEU_CHUAN:r,DOI_HANG_KHO:""})}w(!0)},Qe=async e=>{try{const t=(await ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Find",{})).filter((t=>t.SOPHIEU===e));b(t)}catch(t){console.error("Error loading chi tiet:",t)}},Ze=()=>{w(!1),k(!1),B(!1),$(""),g({SOPHIEU:"",NGHIEP_VU:"NHAP",NGAYNHAP_XUAT:(new Date).toISOString().split("T")[0],NCC_KHACHHANG:"",KHOXUAT:"",KHONHAP:"",NGUOIPHUTRACH:"",TONGKHOILUONG:0,TONGTIEN:0,DIENGIAI:""}),oe(""),b([]),v({NHOM_HANG:"",SO_KIEN:"",DONGIA:0,TIEU_CHUAN:"",DOI_HANG_KHO:""}),de(""),fe(null),ie(!1),ce(!1),me([])},Je=(e,t)=>{if(g((r=>({...r,[e]:t}))),("NGHIEP_VU"===e||"NGAYNHAP_XUAT"===e)&&!G){const r="NGHIEP_VU"===e?t:m.NGHIEP_VU,n="NGAYNHAP_XUAT"===e?t:m.NGAYNHAP_XUAT,a=Ie(r,n);g((e=>({...e,SOPHIEU:a})))}},tt=e=>{de(e),ce(!0)},rt=()=>{H(!1),M(null)},nt=e=>{let t="ascending";F.key===e&&"ascending"===F.direction&&(t="descending"),U({key:e,direction:t})},at=(0,n.useCallback)((()=>{const t=[...e];return F.key&&t.sort(((e,t)=>{const r=e[F.key]||"",n=t[F.key]||"";if("NGAYNHAP_XUAT"===F.key){const e=new Date(r),t=new Date(n);return"ascending"===F.direction?e-t:t-e}if(["TONGKHOILUONG","TONGTIEN"].includes(F.key)){const e=parseFloat(r)||0,t=parseFloat(n)||0;return"ascending"===F.direction?e-t:t-e}return r<n?"ascending"===F.direction?-1:1:r>n?"ascending"===F.direction?1:-1:0})),t}),[e,F]),it=at().filter((e=>{var t,r,n;const a=A.toLowerCase(),i=(null===(t=e.SOPHIEU)||void 0===t?void 0:t.toLowerCase().includes(a))||(null===(r=e.NCC_KHACHHANG)||void 0===r?void 0:r.toLowerCase().includes(a))||(null===(n=e.NGUOIPHUTRACH)||void 0===n?void 0:n.toLowerCase().includes(a)),s="ALL"===be||e.NGHIEP_VU===be,o="ALL"===ve||e.NCC_KHACHHANG===ve;let l=!0;if(we||ke){const t=new Date(e.NGAYNHAP_XUAT);if(we){const e=new Date(we);l=l&&t>=e}if(ke){const e=new Date(ke);e.setHours(23,59,59,999),l=l&&t<=e}}return i&&s&&o&&l})),st=Math.ceil(it.length/_e),ot=Se*_e,ct=ot-_e,dt=it.slice(ct,ot);(0,n.useEffect)((()=>{Oe(1)}),[A,be,ve,we,ke,_e]);const ht=e=>F.key!==e?(0,ar.jsx)("span",{className:"text-gray-400 ml-1",children:"\u21c5"}):"ascending"===F.direction?(0,ar.jsx)("span",{className:"text-blue-600 ml-1",children:"\u2191"}):(0,ar.jsx)("span",{className:"text-blue-600 ml-1",children:"\u2193"}),ft=e.filter((e=>"NHAP"===e.NGHIEP_VU)).length,pt=e.filter((e=>"XUAT"===e.NGHIEP_VU)).length,mt=e.filter((e=>"NHAP"===e.NGHIEP_VU)).reduce(((e,t)=>e+(parseFloat(t.TONGKHOILUONG)||0)),0),gt=e.filter((e=>"XUAT"===e.NGHIEP_VU)).reduce(((e,t)=>e+(parseFloat(t.TONGTIEN)||0)),0),xt=[...new Set(e.map((e=>e.NCC_KHACHHANG)).filter(Boolean))];return(0,ar.jsxs)("div",{className:"p-3 md:p-4 bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen",children:[(0,ar.jsx)("div",{className:"mx-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-3 md:p-4 mb-4 border border-gray-100",children:[(0,ar.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-3 gap-3",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow-md",children:(0,ar.jsx)(yr,{className:"w-5 h-5 text-white"})}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:"Qu\u1ea3n L\xfd Nh\u1eadp Xu\u1ea5t Kho"}),(0,ar.jsx)("p",{className:"text-xs md:text-sm text-gray-500 mt-0.5",children:"Qu\u1ea3n l\xfd phi\u1ebfu nh\u1eadp xu\u1ea5t kho v\xe0 chi ti\u1ebft"})]})]}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ar.jsxs)("button",{onClick:async()=>{et.info("\u0110ang t\u1ea3i l\u1ea1i d\u1eef li\u1ec7u..."),await Me(),await Le(),await Re(),await Fe(),await Ue(),await Ge(),et.success("\u0110\xe3 t\u1ea3i l\u1ea1i d\u1eef li\u1ec7u th\xe0nh c\xf4ng!")},className:"px-3 py-1.5 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 flex items-center gap-1.5 transition-all shadow-sm hover:shadow text-sm",title:"T\u1ea3i l\u1ea1i d\u1eef li\u1ec7u",children:[(0,ar.jsx)(JG,{className:"w-4 h-4"}),(0,ar.jsx)("span",{className:"hidden sm:inline",children:"L\xe0m m\u1edbi"})]}),(0,ar.jsxs)("button",{onClick:()=>R(!L),className:"px-3 py-1.5 rounded-lg flex items-center gap-1.5 transition-all shadow-sm hover:shadow text-sm "+(L?"bg-purple-50 text-purple-700 border border-purple-200":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:[(0,ar.jsx)(vk,{className:"w-4 h-4"}),(0,ar.jsx)("span",{className:"hidden sm:inline",children:"B\u1ed9 l\u1ecdc"})]}),(0,ar.jsxs)("button",{onClick:()=>S(!0),className:"px-3 py-1.5 bg-blue-50 text-blue-700 border border-blue-200 rounded-lg hover:bg-blue-100 flex items-center gap-1.5 transition-all shadow-sm hover:shadow text-sm",children:[(0,ar.jsx)(eB,{className:"w-4 h-4"}),(0,ar.jsx)("span",{className:"hidden sm:inline",children:"Ti\xeau chu\u1ea9n"})]}),(0,ar.jsxs)("button",{onClick:()=>{const e=pL.book_new(),t=pL.json_to_sheet([{"Ng\xe0y (DD/MM/YYYY)":"01/01/2024","NCC/Kh\xe1ch h\xe0ng":"C\xf4ng ty ABC",Kho:"KHO A","Ng\u01b0\u1eddi ph\u1ee5 tr\xe1ch":"Nguy\u1ec5n V\u0103n A","Nh\xf3m h\xe0ng":"25*100*2400","D\xe0y (mm)":25,"R\u1ed9ng (mm)":100,"D\xe0i (mm)":2400,"S\u1ed1 thanh":50,"Ti\xeau chu\u1ea9n":"A","\u0110\u1ed9i h\xe0ng kh\xf4":"\u0110\u1ed9i 1","Di\u1ec5n gi\u1ea3i":"Ghi ch\xfa"},{"Ng\xe0y (DD/MM/YYYY)":"01/01/2024","NCC/Kh\xe1ch h\xe0ng":"C\xf4ng ty ABC",Kho:"KHO A","Ng\u01b0\u1eddi ph\u1ee5 tr\xe1ch":"Nguy\u1ec5n V\u0103n A","Nh\xf3m h\xe0ng":"30*120*3000","D\xe0y (mm)":30,"R\u1ed9ng (mm)":120,"D\xe0i (mm)":3e3,"S\u1ed1 thanh":40,"Ti\xeau chu\u1ea9n":"B","\u0110\u1ed9i h\xe0ng kh\xf4":"\u0110\u1ed9i 2","Di\u1ec5n gi\u1ea3i":""}]);t["!cols"]=[{wch:20},{wch:25},{wch:15},{wch:20},{wch:20},{wch:12},{wch:12},{wch:12},{wch:12},{wch:15},{wch:15},{wch:30}],pL.book_append_sheet(e,t,"M\u1eabu Nh\u1eadp Kho");const r=pL.json_to_sheet([{"Ng\xe0y (DD/MM/YYYY)":"01/01/2024","NCC/Kh\xe1ch h\xe0ng":"C\xf4ng ty XYZ","Kho xu\u1ea5t":"KHO A","Ng\u01b0\u1eddi ph\u1ee5 tr\xe1ch":"Nguy\u1ec5n V\u0103n B","Nh\xf3m h\xe0ng":"25*100*2400","D\xe0y (mm)":25,"R\u1ed9ng (mm)":100,"D\xe0i (mm)":2400,"S\u1ed1 thanh":50,"\u0110\u01a1n gi\xe1":5e6,"Ti\xeau chu\u1ea9n":"A","\u0110\u1ed9i h\xe0ng kh\xf4":"\u0110\u1ed9i 1","Di\u1ec5n gi\u1ea3i":"Xu\u1ea5t h\xe0ng cho kh\xe1ch"},{"Ng\xe0y (DD/MM/YYYY)":"01/01/2024","NCC/Kh\xe1ch h\xe0ng":"C\xf4ng ty XYZ","Kho xu\u1ea5t":"KHO A","Ng\u01b0\u1eddi ph\u1ee5 tr\xe1ch":"Nguy\u1ec5n V\u0103n B","Nh\xf3m h\xe0ng":"30*120*3000","D\xe0y (mm)":30,"R\u1ed9ng (mm)":120,"D\xe0i (mm)":3e3,"S\u1ed1 thanh":40,"\u0110\u01a1n gi\xe1":6e6,"Ti\xeau chu\u1ea9n":"B","\u0110\u1ed9i h\xe0ng kh\xf4":"\u0110\u1ed9i 2","Di\u1ec5n gi\u1ea3i":""}]);r["!cols"]=[{wch:20},{wch:25},{wch:15},{wch:20},{wch:20},{wch:12},{wch:12},{wch:12},{wch:12},{wch:15},{wch:15},{wch:15},{wch:30}],pL.book_append_sheet(e,r,"M\u1eabu Xu\u1ea5t Kho");const n=eL(e,{bookType:"xlsx",type:"array"}),a=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,yB.saveAs)(a,`Template_NhapXuatKho_${(new Date).getTime()}.xlsx`),et.success("\u0110\xe3 t\u1ea3i xu\u1ed1ng file m\u1eabu Excel (2 sheet: Nh\u1eadp & Xu\u1ea5t)")},className:"px-3 py-1.5 bg-green-50 text-green-700 border border-green-200 rounded-lg hover:bg-green-100 flex items-center gap-1.5 transition-all shadow-sm hover:shadow text-sm",title:"T\u1ea3i file Excel m\u1eabu",children:[(0,ar.jsx)(pB,{className:"w-4 h-4"}),(0,ar.jsx)("span",{className:"hidden sm:inline",children:"M\u1eabu Excel"})]}),(0,ar.jsxs)("button",{onClick:()=>{X(!0),q(null),Z([]),ee("NHAP")},className:"px-3 py-1.5 bg-orange-50 text-orange-700 border border-orange-200 rounded-lg hover:bg-orange-100 flex items-center gap-1.5 transition-all shadow-sm hover:shadow text-sm",title:"Import t\u1eeb Excel",children:[(0,ar.jsx)(Sk,{className:"w-4 h-4"}),(0,ar.jsx)("span",{className:"hidden sm:inline",children:"Import Excel"})]}),(0,ar.jsxs)("button",{onClick:()=>qe(),className:"px-3 py-1.5 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 flex items-center gap-1.5 transition-all shadow-md hover:shadow-lg text-sm font-medium",children:[(0,ar.jsx)(Nk,{className:"w-4 h-4"}),(0,ar.jsx)("span",{children:"T\u1ea1o phi\u1ebfu"})]})]})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-6 gap-2 md:gap-3 mb-3",children:[(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-3 rounded-lg border-l-4 border-green-500 shadow-sm hover:shadow-md transition-all",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,ar.jsx)(kr,{className:"w-4 h-4 text-green-600"}),(0,ar.jsx)("p",{className:"text-xs font-medium text-green-700",children:"Phi\u1ebfu nh\u1eadp"})]}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-green-900",children:ft})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-red-50 to-red-100 p-3 rounded-lg border-l-4 border-red-500 shadow-sm hover:shadow-md transition-all",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,ar.jsx)(mB,{className:"w-4 h-4 text-red-600"}),(0,ar.jsx)("p",{className:"text-xs font-medium text-red-700",children:"Phi\u1ebfu xu\u1ea5t"})]}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-red-900",children:pt})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-3 rounded-lg border-l-4 border-blue-500 shadow-sm hover:shadow-md transition-all",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,ar.jsx)(yr,{className:"w-4 h-4 text-blue-600"}),(0,ar.jsx)("p",{className:"text-xs font-medium text-blue-700",children:"KL Nh\u1eadp"})]}),(0,ar.jsxs)("p",{className:"text-xl font-bold text-blue-900",children:[mt.toFixed(4)," ",(0,ar.jsx)("span",{className:"text-sm font-normal text-blue-700",children:"m\xb3"})]}),(0,ar.jsxs)("p",{className:"text-xs text-blue-600 mt-0.5",children:[e.filter((e=>"NHAP"===e.NGHIEP_VU)).reduce(((e,t)=>e+c.filter((e=>e.SOPHIEU===t.SOPHIEU)).length),0)," ki\u1ec7n"]})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-3 rounded-lg border-l-4 border-orange-500 shadow-sm hover:shadow-md transition-all",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,ar.jsx)(yr,{className:"w-4 h-4 text-orange-600"}),(0,ar.jsx)("p",{className:"text-xs font-medium text-orange-700",children:"KL Xu\u1ea5t"})]}),(0,ar.jsxs)("p",{className:"text-xl font-bold text-orange-900",children:[e.filter((e=>"XUAT"===e.NGHIEP_VU)).reduce(((e,t)=>e+(parseFloat(t.TONGKHOILUONG)||0)),0).toFixed(4)," ",(0,ar.jsx)("span",{className:"text-sm font-normal text-orange-700",children:"m\xb3"})]}),(0,ar.jsxs)("p",{className:"text-xs text-orange-600 mt-0.5",children:[e.filter((e=>"XUAT"===e.NGHIEP_VU)).reduce(((e,t)=>e+c.filter((e=>e.SOPHIEU===t.SOPHIEU&&"XUAT"===e.NGHIEP_VU)).length),0)," ki\u1ec7n"]})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-3 rounded-lg border-l-4 border-purple-500 shadow-sm hover:shadow-md transition-all",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,ar.jsx)(gB,{className:"w-4 h-4 text-purple-600"}),(0,ar.jsx)("p",{className:"text-xs font-medium text-purple-700",children:"KL T\u1ed3n"})]}),(0,ar.jsxs)("p",{className:"text-xl font-bold text-purple-900",children:[(()=>{const t=e.filter((e=>"NHAP"===e.NGHIEP_VU)).reduce(((e,t)=>e+(parseFloat(t.TONGKHOILUONG)||0)),0),r=e.filter((e=>"XUAT"===e.NGHIEP_VU)).reduce(((e,t)=>e+(parseFloat(t.TONGKHOILUONG)||0)),0);return(t-r).toFixed(4)})()," ",(0,ar.jsx)("span",{className:"text-sm font-normal text-purple-700",children:"m\xb3"})]}),(0,ar.jsxs)("p",{className:"text-xs text-purple-600 mt-0.5",children:[c.filter((e=>"NHAP"===e.NGHIEP_VU)).length-c.filter((e=>"XUAT"===e.NGHIEP_VU)).length," ki\u1ec7n"]})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-3 rounded-lg border-l-4 border-yellow-500 shadow-sm hover:shadow-md transition-all",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,ar.jsx)(zG,{className:"w-4 h-4 text-yellow-600"}),(0,ar.jsx)("p",{className:"text-xs font-medium text-yellow-700",children:"Doanh thu"})]}),(0,ar.jsx)("p",{className:"text-xl font-bold text-yellow-900",children:new Intl.NumberFormat("vi-VN",{notation:"compact",compactDisplay:"short",maximumFractionDigits:1}).format(gt)}),(0,ar.jsx)("p",{className:"text-xs text-yellow-600 mt-0.5 truncate",title:He(gt),children:He(gt)})]})]}),L&&(0,ar.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 mb-3 animate-fadeIn",children:[(0,ar.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 md:gap-3",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nghi\u1ec7p v\u1ee5"}),(0,ar.jsxs)("select",{value:be,onChange:e=>ye(e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,ar.jsx)("option",{value:"ALL",children:"T\u1ea5t c\u1ea3"}),(0,ar.jsx)("option",{value:"NHAP",children:"Nh\u1eadp kho"}),(0,ar.jsx)("option",{value:"XUAT",children:"Xu\u1ea5t kho"})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Kh\xe1ch h\xe0ng"}),(0,ar.jsxs)("select",{value:ve,onChange:e=>Ne(e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,ar.jsx)("option",{value:"ALL",children:"T\u1ea5t c\u1ea3"}),xt.map(((e,t)=>(0,ar.jsx)("option",{value:e,children:e},t)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"T\u1eeb ng\xe0y"}),(0,ar.jsx)("input",{type:"date",value:we,onChange:e=>je(e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"\u0110\u1ebfn ng\xe0y"}),(0,ar.jsx)("input",{type:"date",value:ke,onChange:e=>Te(e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),(0,ar.jsx)("div",{className:"flex justify-end mt-2",children:(0,ar.jsx)("button",{onClick:()=>{ye("ALL"),Ne("ALL"),je(""),Te("")},className:"px-3 py-1.5 text-xs text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"X\xf3a b\u1ed9 l\u1ecdc"})})]}),(0,ar.jsxs)("div",{className:"relative mb-3",children:[(0,ar.jsx)(wk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,ar.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm theo s\u1ed1 phi\u1ebfu, kh\xe1ch h\xe0ng, ng\u01b0\u1eddi ph\u1ee5 tr\xe1ch...",value:A,onChange:e=>I(e.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,ar.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:z?(0,ar.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)("div",{className:"w-12 h-12 border-4 border-purple-200 border-t-purple-500 rounded-full animate-spin"}),(0,ar.jsx)("div",{className:"absolute top-0 left-0 w-12 h-12 border-4 border-transparent border-t-purple-300 rounded-full animate-pulse"})]})}):0===dt.length?(0,ar.jsxs)("div",{className:"text-center py-12",children:[(0,ar.jsx)(yr,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),(0,ar.jsx)("p",{className:"text-gray-500 text-sm",children:"Kh\xf4ng t\xecm th\u1ea5y phi\u1ebfu n\xe0o"})]}):(0,ar.jsxs)("table",{className:"w-full text-sm",children:[(0,ar.jsx)("thead",{className:"bg-gradient-to-r from-purple-50 to-purple-100 border-b border-purple-200",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsxs)("th",{className:"px-3 py-2 text-left text-xs font-semibold text-purple-900 cursor-pointer hover:bg-purple-200 transition-colors",onClick:()=>nt("SOPHIEU"),children:["S\u1ed1 phi\u1ebfu ",ht("SOPHIEU")]}),(0,ar.jsxs)("th",{className:"px-3 py-2 text-left text-xs font-semibold text-purple-900 cursor-pointer hover:bg-purple-200 transition-colors",onClick:()=>nt("NGHIEP_VU"),children:["Nghi\u1ec7p v\u1ee5 ",ht("NGHIEP_VU")]}),(0,ar.jsxs)("th",{className:"px-3 py-2 text-left text-xs font-semibold text-purple-900 cursor-pointer hover:bg-purple-200 transition-colors",onClick:()=>nt("NGAYNHAP_XUAT"),children:["Ng\xe0y ",ht("NGAYNHAP_XUAT")]}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold text-purple-900",children:"Kh\xe1ch h\xe0ng/NCC"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold text-purple-900",children:"Kho"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold text-purple-900",children:"Ng\u01b0\u1eddi ph\u1ee5 tr\xe1ch"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-semibold text-purple-900",children:"S\u1ed1 ki\u1ec7n"}),(0,ar.jsxs)("th",{className:"px-3 py-2 text-right text-xs font-semibold text-purple-900 cursor-pointer hover:bg-purple-200 transition-colors",onClick:()=>nt("TONGKHOILUONG"),children:["KL (m\xb3) ",ht("TONGKHOILUONG")]}),(0,ar.jsxs)("th",{className:"px-3 py-2 text-right text-xs font-semibold text-purple-900 cursor-pointer hover:bg-purple-200 transition-colors",onClick:()=>nt("TONGTIEN"),children:["T\u1ed5ng ti\u1ec1n ",ht("TONGTIEN")]}),(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-semibold text-purple-900",children:"Thao t\xe1c"})]})}),(0,ar.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:dt.map(((e,t)=>{return(0,ar.jsxs)("tr",{className:"hover:bg-purple-50 transition-colors",children:[(0,ar.jsx)("td",{className:"px-3 py-2 text-xs font-medium text-gray-900",children:e.SOPHIEU}),(0,ar.jsx)("td",{className:"px-3 py-2",children:(0,ar.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium "+("NHAP"===e.NGHIEP_VU?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"NHAP"===e.NGHIEP_VU?"Nh\u1eadp":"Xu\u1ea5t"})}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs text-gray-700",children:De(e.NGAYNHAP_XUAT)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs text-gray-700",children:e.NCC_KHACHHANG||"-"}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs text-gray-700",children:"NHAP"===e.NGHIEP_VU?e.KHONHAP:e.KHOXUAT}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs text-gray-700",children:e.NGUOIPHUTRACH||"-"}),(0,ar.jsx)("td",{className:"px-3 py-2 text-center",children:(0,ar.jsx)("span",{className:"inline-flex items-center justify-center px-2.5 py-1 rounded-full text-xs font-bold bg-blue-100 text-blue-800",children:(r=e.SOPHIEU,c.filter((e=>e.SOPHIEU===r)).length)})}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs text-right font-medium text-gray-900",children:parseFloat(e.TONGKHOILUONG||0).toFixed(4)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs text-right font-medium text-gray-900",children:He(e.TONGTIEN)}),(0,ar.jsx)("td",{className:"px-3 py-2",children:(0,ar.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,ar.jsx)("button",{onClick:()=>(e=>{g(e),oe(e.NCC_KHACHHANG||""),Qe(e.SOPHIEU),k(!0)})(e),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Xem chi ti\u1ebft",children:(0,ar.jsx)(xr,{className:"w-4 h-4"})}),(0,ar.jsx)("button",{onClick:()=>Ae(e),className:"p-1.5 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"In phi\u1ebfu",children:(0,ar.jsx)(xB,{className:"w-4 h-4"})}),(0,ar.jsx)("button",{onClick:()=>qe(e),className:"p-1.5 text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors",title:"S\u1eeda",children:(0,ar.jsx)(kk,{className:"w-4 h-4"})}),(0,ar.jsx)("button",{onClick:()=>(e=>{M(e),H(!0)})(e),className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"X\xf3a",children:(0,ar.jsx)(Tk,{className:"w-4 h-4"})})]})})]},t);var r}))})]})}),it.length>0&&(0,ar.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-3 gap-2",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("span",{className:"text-xs text-gray-600",children:"Hi\u1ec3n th\u1ecb"}),(0,ar.jsxs)("select",{value:_e,onChange:e=>Ee(Number(e.target.value)),className:"px-2 py-1 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,ar.jsx)("option",{value:5,children:"5"}),(0,ar.jsx)("option",{value:10,children:"10"}),(0,ar.jsx)("option",{value:20,children:"20"}),(0,ar.jsx)("option",{value:50,children:"50"})]}),(0,ar.jsxs)("span",{className:"text-xs text-gray-600",children:["/ ",it.length," phi\u1ebfu"]})]}),(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ar.jsx)("button",{onClick:()=>Oe(1),disabled:1===Se,className:"p-1.5 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang \u0111\u1ea7u",children:(0,ar.jsx)(aB,{className:"w-4 h-4"})}),(0,ar.jsx)("button",{onClick:()=>Oe((e=>Math.max(e-1,1))),disabled:1===Se,className:"p-1.5 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang tr\u01b0\u1edbc",children:(0,ar.jsx)(lk,{className:"w-4 h-4"})}),(0,ar.jsx)("div",{className:"flex gap-1",children:(()=>{const e=[];if(st<=5)for(let t=1;t<=st;t++)e.push(t);else if(Se<=3){for(let t=1;t<=4;t++)e.push(t);e.push("..."),e.push(st)}else if(Se>=st-2){e.push(1),e.push("...");for(let t=st-3;t<=st;t++)e.push(t)}else{e.push(1),e.push("...");for(let t=Se-1;t<=Se+1;t++)e.push(t);e.push("..."),e.push(st)}return e})().map(((e,t)=>"..."===e?(0,ar.jsx)("span",{className:"px-2 py-1 text-xs text-gray-500",children:"..."},t):(0,ar.jsx)("button",{onClick:()=>(e=>Oe(e))(e),className:"px-2.5 py-1 text-xs rounded-lg transition-colors "+(Se===e?"bg-purple-500 text-white font-medium":"border border-gray-300 hover:bg-gray-50"),children:e},t)))}),(0,ar.jsx)("button",{onClick:()=>Oe((e=>Math.min(e+1,st))),disabled:Se===st,className:"p-1.5 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang sau",children:(0,ar.jsx)(ek,{className:"w-4 h-4"})}),(0,ar.jsx)("button",{onClick:()=>Oe(st),disabled:Se===st,className:"p-1.5 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang cu\u1ed1i",children:(0,ar.jsx)(iB,{className:"w-4 h-4"})})]})]})]})}),W&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 md:p-4 overflow-y-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-hidden flex flex-col",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 bg-gradient-to-r from-orange-50 to-orange-100",children:[(0,ar.jsxs)("h2",{className:"text-lg md:text-xl font-bold text-orange-900 flex items-center gap-2",children:[(0,ar.jsx)(Sk,{className:"w-5 h-5"}),"Import D\u1eef Li\u1ec7u T\u1eeb Excel"]}),(0,ar.jsx)("button",{onClick:Ce,disabled:te,className:"p-1.5 hover:bg-orange-200 rounded-lg transition-colors disabled:opacity-50",children:(0,ar.jsx)(xk,{className:"w-5 h-5 text-gray-600"})})]}),(0,ar.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:[(0,ar.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200 mb-4",children:[(0,ar.jsx)("h3",{className:"font-semibold text-orange-900 mb-3 text-sm",children:"C\xe0i \u0111\u1eb7t import"}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Nghi\u1ec7p v\u1ee5 ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("select",{value:J,onChange:e=>ee(e.target.value),disabled:te||Q.length>0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent disabled:bg-gray-100",children:[(0,ar.jsx)("option",{value:"NHAP",children:"Nh\u1eadp kho"}),(0,ar.jsx)("option",{value:"XUAT",children:"Xu\u1ea5t kho"})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Ch\u1ecdn file Excel ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{ref:ne,type:"file",accept:".xlsx,.xls",onChange:e=>{const t=e.target.files[0];if(!t)return;if(!t.name.endsWith(".xlsx")&&!t.name.endsWith(".xls"))return void et.error("Vui l\xf2ng ch\u1ecdn file Excel (.xlsx ho\u1eb7c .xls)");q(t);const r=new FileReader;r.onload=e=>{try{const t=YM(e.target.result,{type:"binary"}),r=t.SheetNames[0],n=t.Sheets[r],a=pL.sheet_to_json(n);if(0===a.length)return void et.error("File Excel kh\xf4ng c\xf3 d\u1eef li\u1ec7u");const i=a.map(((e,t)=>{const r=parseFloat(e["D\xe0y (mm)"])||0,n=parseFloat(e["R\u1ed9ng (mm)"])||0,a=parseFloat(e["D\xe0i (mm)"])||0,i=parseFloat(e["S\u1ed1 thanh"])||0,s=((e,t,r,n)=>(parseFloat(e)||0)*(parseFloat(t)||0)*(parseFloat(r)||0)*(parseFloat(n)||0)/1e9)(r,n,a,i),o=parseFloat(e["\u0110\u01a1n gi\xe1"])||0,l=s*o;return{rowIndex:t+2,ngay:e["Ng\xe0y (DD/MM/YYYY)"],nccKhachHang:e["NCC/Kh\xe1ch h\xe0ng"]||"",kho:e.Kho||e["Kho xu\u1ea5t"]||"",nguoiPhuTrach:e["Ng\u01b0\u1eddi ph\u1ee5 tr\xe1ch"]||"",nhomHang:e["Nh\xf3m h\xe0ng"]||"",day:r,rong:n,dai:a,soThanh:i,soKhoi:s,donGia:o,thanhTien:l,tieuChuan:e["Ti\xeau chu\u1ea9n"]||"",doiHangKho:e["\u0110\u1ed9i h\xe0ng kh\xf4"]||"",dienGiai:e["Di\u1ec5n gi\u1ea3i"]||"",errors:[]}}));i.forEach((e=>{e.ngay||e.errors.push("Thi\u1ebfu ng\xe0y"),e.kho||e.errors.push("Thi\u1ebfu kho"),e.nhomHang||e.errors.push("Thi\u1ebfu nh\xf3m h\xe0ng"),(e.day<=0||e.rong<=0||e.dai<=0)&&e.errors.push("K\xedch th\u01b0\u1edbc kh\xf4ng h\u1ee3p l\u1ec7"),e.soThanh<=0&&e.errors.push("S\u1ed1 thanh ph\u1ea3i l\u1edbn h\u01a1n 0"),e.tieuChuan||e.errors.push("Thi\u1ebfu ti\xeau chu\u1ea9n"),"XUAT"===J&&e.donGia<=0&&e.errors.push("\u0110\u01a1n gi\xe1 ph\u1ea3i l\u1edbn h\u01a1n 0 khi xu\u1ea5t kho")})),Z(i),et.success(`\u0110\xe3 \u0111\u1ecdc ${i.length} d\xf2ng d\u1eef li\u1ec7u t\u1eeb Excel`)}catch(t){console.error("Error reading Excel file:",t),et.error("C\xf3 l\u1ed7i khi \u0111\u1ecdc file Excel: "+t.message)}},r.readAsBinaryString(t)},disabled:te,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent disabled:bg-gray-100"})]})]}),(0,ar.jsxs)("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,ar.jsx)("p",{className:"text-xs text-blue-800 mb-2",children:(0,ar.jsx)("strong",{children:"L\u01b0u \xfd:"})}),(0,ar.jsxs)("ul",{className:"text-xs text-blue-700 space-y-1 list-disc list-inside",children:[(0,ar.jsxs)("li",{children:[(0,ar.jsx)("strong",{children:"Nh\u1eadp kho:"}),' C\u1ed9t "Kho" - Kh\xf4ng c\u1ea7n \u0111\u01a1n gi\xe1']}),(0,ar.jsxs)("li",{children:[(0,ar.jsx)("strong",{children:"Xu\u1ea5t kho:"}),' C\u1ed9t "Kho xu\u1ea5t" + "\u0110\u01a1n gi\xe1" (b\u1eaft bu\u1ed9c)']}),(0,ar.jsx)("li",{children:"S\u1ed1 m\xb3 = (D\xe0y \xd7 R\u1ed9ng \xd7 D\xe0i \xd7 S\u1ed1 thanh) / 1,000,000,000"}),(0,ar.jsx)("li",{children:"Th\xe0nh ti\u1ec1n = S\u1ed1 m\xb3 \xd7 \u0110\u01a1n gi\xe1 (ch\u1ec9 xu\u1ea5t kho)"}),(0,ar.jsx)("li",{children:"C\xe1c d\xf2ng c\xf9ng ng\xe0y, kho, kh\xe1ch h\xe0ng s\u1ebd g\u1ed9p th\xe0nh 1 phi\u1ebfu"})]})]})]}),Q.length>0&&(0,ar.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,ar.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3 text-sm flex items-center justify-between",children:[(0,ar.jsxs)("span",{children:["Xem tr\u01b0\u1edbc d\u1eef li\u1ec7u (",Q.length," d\xf2ng)"]}),(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsxs)("span",{className:"text-xs text-green-600 flex items-center gap-1",children:[(0,ar.jsx)(qG,{className:"w-4 h-4"}),Q.filter((e=>0===e.errors.length)).length," h\u1ee3p l\u1ec7"]}),Q.some((e=>e.errors.length>0))&&(0,ar.jsxs)("span",{className:"text-xs text-red-600 flex items-center gap-1",children:[(0,ar.jsx)(ZG,{className:"w-4 h-4"}),Q.filter((e=>e.errors.length>0)).length," l\u1ed7i"]})]})]}),(0,ar.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-300 max-h-96",children:(0,ar.jsxs)("table",{className:"w-full text-xs bg-white",children:[(0,ar.jsx)("thead",{className:"bg-gray-100 border-b border-gray-300 sticky top-0",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{className:"px-2 py-1.5 text-left font-semibold text-gray-900",children:"D\xf2ng"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-left font-semibold text-gray-900",children:"Ng\xe0y"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-left font-semibold text-gray-900",children:"Kho"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-left font-semibold text-gray-900",children:"Nh\xf3m h\xe0ng"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-center font-semibold text-gray-900",children:"D\xe0y"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-center font-semibold text-gray-900",children:"R\u1ed9ng"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-center font-semibold text-gray-900",children:"D\xe0i"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-center font-semibold text-gray-900",children:"Thanh"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-right font-semibold text-gray-900",children:"m\xb3"}),"XUAT"===J&&(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("th",{className:"px-2 py-1.5 text-right font-semibold text-gray-900",children:"\u0110\u01a1n gi\xe1"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-right font-semibold text-gray-900",children:"Th\xe0nh ti\u1ec1n"})]}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-left font-semibold text-gray-900",children:"Ti\xeau chu\u1ea9n"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-left font-semibold text-gray-900",children:"Tr\u1ea1ng th\xe1i"})]})}),(0,ar.jsx)("tbody",{className:"divide-y divide-gray-200",children:Q.map(((e,t)=>(0,ar.jsxs)("tr",{className:e.errors.length>0?"bg-red-50":"hover:bg-gray-50",children:[(0,ar.jsx)("td",{className:"px-2 py-1.5 text-gray-700",children:e.rowIndex}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-gray-700",children:e.ngay}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-gray-700",children:e.kho}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-gray-700",children:e.nhomHang}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-center text-gray-700",children:e.day}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-center text-gray-700",children:e.rong}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-center text-gray-700",children:e.dai}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-center text-gray-700",children:e.soThanh}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-right font-medium text-gray-900",children:e.soKhoi.toFixed(4)}),"XUAT"===J&&(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("td",{className:"px-2 py-1.5 text-right text-gray-700",children:He(e.donGia)}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-right font-medium text-gray-900",children:He(e.thanhTien)})]}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-gray-700",children:e.tieuChuan}),(0,ar.jsx)("td",{className:"px-2 py-1.5",children:0===e.errors.length?(0,ar.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,ar.jsx)(qG,{className:"w-3 h-3 mr-1"}),"H\u1ee3p l\u1ec7"]}):(0,ar.jsx)("div",{className:"flex flex-col gap-0.5",children:e.errors.map(((e,t)=>(0,ar.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[(0,ar.jsx)(ZG,{className:"w-3 h-3 mr-1"}),e]},t)))})})]},t)))})]})})]})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-2 p-4 border-t border-gray-200 bg-gray-50",children:[(0,ar.jsx)("button",{onClick:Ce,disabled:te,className:"px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"H\u1ee7y"}),(0,ar.jsx)("button",{onClick:async()=>{if(0===Q.length)return void et.error("Kh\xf4ng c\xf3 d\u1eef li\u1ec7u \u0111\u1ec3 import");const e=Q.filter((e=>0===e.errors.length));if(0===e.length)return void et.error("Kh\xf4ng c\xf3 d\xf2ng d\u1eef li\u1ec7u h\u1ee3p l\u1ec7 \u0111\u1ec3 import");if(Q.some((e=>e.errors.length>0))){if(!window.confirm(`C\xf3 ${Q.length-e.length} d\xf2ng l\u1ed7i. B\u1ea1n c\xf3 mu\u1ed1n import ${e.length} d\xf2ng h\u1ee3p l\u1ec7 kh\xf4ng?`))return}try{re(!0);const r={};e.forEach((e=>{const t=(e=>{if(!e)return(new Date).toISOString().split("T")[0];const t=e.toString().trim();if(t.includes("-")&&4===t.split("-")[0].length)return t;const r=t.split("/");if(3===r.length){const e=r[0].padStart(2,"0"),t=r[1].padStart(2,"0");return`${r[2]}-${t}-${e}`}return(new Date).toISOString().split("T")[0]})(e.ngay),n=`${t}_${e.kho}_${e.nccKhachHang}_${e.nguoiPhuTrach}`;r[n]||(r[n]={ngay:t,kho:e.kho,nccKhachHang:e.nccKhachHang,nguoiPhuTrach:e.nguoiPhuTrach,dienGiai:e.dienGiai,chiTiet:[]}),r[n].chiTiet.push(e)}));let n=0,a=0;for(const e in r){const i=r[e];try{const e=Ie(J,i.ngay),t=i.chiTiet.reduce(((e,t)=>e+t.soKhoi),0),r=i.chiTiet.reduce(((e,t)=>e+t.thanhTien),0),a={SOPHIEU:e,NGHIEP_VU:J,NGAYNHAP_XUAT:i.ngay,NCC_KHACHHANG:i.nccKhachHang,KHOXUAT:"XUAT"===J?i.kho:"",KHONHAP:"NHAP"===J?i.kho:"",NGUOIPHUTRACH:i.nguoiPhuTrach,TONGKHOILUONG:t,TONGTIEN:r,DIENGIAI:i.dienGiai};await ut.apiRequestKHO("XUATNHAPKHO","Add",{Rows:[a]});const s=[];for(let n=0;n<i.chiTiet.length;n++){const t=i.chiTiet[n],r=Pe(i.ngay),a={ID_CT:Date.now()+n,SOPHIEU:e,NGHIEP_VU:J,KHO_XUAT:"XUAT"===J?i.kho:"",KHO_NHAP:"NHAP"===J?i.kho:"",NGAY_NHAP_XUAT:i.ngay,NHOM_HANG:t.nhomHang,MA_KIEN:r,DAY:t.day,RONG:t.rong,DAI:t.dai,THANH:t.soThanh,SO_KHOI:t.soKhoi,TIEU_CHUAN:t.tieuChuan,DOI_HANG_KHO:t.doiHangKho,DONGIA:t.donGia,THANHTIEN:t.thanhTien,GHICHU:""};s.push(a),await new Promise((e=>setTimeout(e,10)))}await ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Add",{Rows:s}),n++}catch(t){console.error("Error importing group:",t),a++}}n>0&&(et.success(`Import th\xe0nh c\xf4ng ${n} phi\u1ebfu v\u1edbi ${e.length} ki\u1ec7n`),await Me(),await Ue(),Ce()),a>0&&et.warning(`C\xf3 ${a} phi\u1ebfu import th\u1ea5t b\u1ea1i`)}catch(t){console.error("Error importing data:",t),et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi import d\u1eef li\u1ec7u: "+t.message)}finally{re(!1)}},disabled:te||0===Q.length||Q.every((e=>e.errors.length>0)),className:"px-4 py-2 text-sm bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 flex items-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:te?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"\u0110ang import..."]}):(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)(Sk,{className:"w-4 h-4"}),"Import d\u1eef li\u1ec7u"]})})]})]})}),N&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 md:p-4 overflow-y-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-7xl max-h-[95vh] overflow-hidden flex flex-col",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-purple-100",children:[(0,ar.jsxs)("h2",{className:"text-lg md:text-xl font-bold text-purple-900 flex items-center gap-2",children:[(0,ar.jsx)(Zj,{className:"w-5 h-5"}),G?"S\u1eeda Phi\u1ebfu":"T\u1ea1o Phi\u1ebfu M\u1edbi"]}),(0,ar.jsx)("button",{onClick:Ze,disabled:E,className:"p-1.5 hover:bg-purple-200 rounded-lg transition-colors disabled:opacity-50",children:(0,ar.jsx)(xk,{className:"w-5 h-5 text-gray-600"})})]}),(0,ar.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,ar.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-10 gap-4",children:[(0,ar.jsx)("div",{className:"lg:col-span-3 space-y-3",children:(0,ar.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-200",children:[(0,ar.jsxs)("h3",{className:"font-semibold text-purple-900 mb-3 text-sm flex items-center gap-2",children:[(0,ar.jsx)(eB,{className:"w-4 h-4"}),"Th\xf4ng tin phi\u1ebfu"]}),(0,ar.jsxs)("div",{className:"space-y-2.5",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["S\u1ed1 phi\u1ebfu ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"text",value:m.SOPHIEU,onChange:e=>Je("SOPHIEU",e.target.value),disabled:E,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100 font-medium",placeholder:"T\u1ef1 \u0111\u1ed9ng t\u1ea1o"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Nghi\u1ec7p v\u1ee5 ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("select",{value:m.NGHIEP_VU,onChange:e=>Je("NGHIEP_VU",e.target.value),disabled:E||G,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100",children:[(0,ar.jsx)("option",{value:"NHAP",children:"Nh\u1eadp kho"}),(0,ar.jsx)("option",{value:"XUAT",children:"Xu\u1ea5t kho"})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Ng\xe0y nh\u1eadp/xu\u1ea5t ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"date",value:m.NGAYNHAP_XUAT,onChange:e=>Je("NGAYNHAP_XUAT",e.target.value),disabled:E,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"NHAP"===m.NGHIEP_VU?"Nh\xe0 cung c\u1ea5p":"Kh\xe1ch h\xe0ng"}),(0,ar.jsxs)("div",{className:"relative",ref:ge,children:[(0,ar.jsx)("input",{type:"text",value:se,onChange:e=>(e=>{oe(e),g((t=>({...t,NCC_KHACHHANG:e}))),ie(!0)})(e.target.value),onFocus:()=>ie(!0),disabled:E,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100",placeholder:"Nh\u1eadp \u0111\u1ec3 t\xecm ki\u1ebfm..."}),ae&&ze.length>0&&(0,ar.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:ze.map(((e,t)=>(0,ar.jsxs)("div",{onClick:()=>(e=>{g((t=>({...t,NCC_KHACHHANG:e.TEN_KHACHHANG}))),oe(e.TEN_KHACHHANG),ie(!1)})(e),className:"px-3 py-2 hover:bg-purple-50 cursor-pointer text-sm border-b border-gray-100 last:border-b-0",children:[(0,ar.jsx)("div",{className:"font-medium text-gray-900",children:e.TEN_KHACHHANG}),(0,ar.jsx)("div",{className:"text-xs text-gray-500",children:e.MA_KH})]},t)))})]})]}),"NHAP"===m.NGHIEP_VU&&(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Kho nh\u1eadp ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("select",{value:m.KHONHAP,onChange:e=>Je("KHONHAP",e.target.value),disabled:E,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100",children:[(0,ar.jsx)("option",{value:"",children:"-- Ch\u1ecdn kho --"}),i.map(((e,t)=>(0,ar.jsx)("option",{value:e.KHO,children:e.KHO},t)))]})]}),"XUAT"===m.NGHIEP_VU&&(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Kho xu\u1ea5t ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("select",{value:m.KHOXUAT,onChange:e=>Je("KHOXUAT",e.target.value),disabled:E,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100",children:[(0,ar.jsx)("option",{value:"",children:"-- Ch\u1ecdn kho --"}),i.map(((e,t)=>(0,ar.jsx)("option",{value:e.KHO,children:e.KHO},t)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ng\u01b0\u1eddi ph\u1ee5 tr\xe1ch"}),(0,ar.jsx)("input",{type:"text",value:m.NGUOIPHUTRACH,onChange:e=>Je("NGUOIPHUTRACH",e.target.value),disabled:E,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100",placeholder:"Nh\u1eadp t\xean ng\u01b0\u1eddi ph\u1ee5 tr\xe1ch"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Di\u1ec5n gi\u1ea3i"}),(0,ar.jsx)("textarea",{value:m.DIENGIAI,onChange:e=>Je("DIENGIAI",e.target.value),disabled:E,rows:3,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100 resize-none",placeholder:"Ghi ch\xfa th\xeam..."})]}),(0,ar.jsxs)("div",{className:"bg-white p-2.5 rounded-lg border border-purple-300 mt-3",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center text-xs mb-1.5",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"T\u1ed5ng kh\u1ed1i l\u01b0\u1ee3ng:"}),(0,ar.jsxs)("span",{className:"font-bold text-purple-900",children:[parseFloat(m.TONGKHOILUONG||0).toFixed(4)," m\xb3"]})]}),"XUAT"===m.NGHIEP_VU&&(0,ar.jsxs)("div",{className:"flex justify-between items-center text-xs pt-1.5 border-t border-purple-200",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"T\u1ed5ng ti\u1ec1n:"}),(0,ar.jsx)("span",{className:"font-bold text-purple-900",children:He(m.TONGTIEN)})]})]})]})]})}),(0,ar.jsx)("div",{className:"lg:col-span-7 space-y-3",children:(0,ar.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[(0,ar.jsxs)("h3",{className:"font-semibold text-blue-900 mb-3 text-sm flex items-center gap-2",children:[(0,ar.jsx)(yr,{className:"w-4 h-4"}),"Chi ti\u1ebft phi\u1ebfu (",x.length," ki\u1ec7n)"]}),"NHAP"===m.NGHIEP_VU?(0,ar.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-blue-300 mb-3",children:[(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2",children:[(0,ar.jsxs)("div",{className:"relative",ref:xe,children:[(0,ar.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Nh\xf3m h\xe0ng ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"text",value:ue,onChange:e=>tt(e.target.value),onFocus:()=>ce(!0),disabled:E,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100",placeholder:"Ch\u1ecdn nh\xf3m h\xe0ng..."}),le&&Ve.length>0&&(0,ar.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:Ve.map(((e,t)=>(0,ar.jsxs)("div",{onClick:()=>Ke(e.NHOM_HANG),className:"px-3 py-2 hover:bg-blue-50 cursor-pointer text-sm border-b border-gray-100 last:border-b-0",children:[(0,ar.jsx)("div",{className:"font-medium text-gray-900",children:e.NHOM_HANG}),(0,ar.jsxs)("div",{className:"text-xs text-gray-500",children:[e.DAY,"x",e.RONG,"x",e.DAI]})]},t)))})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Ti\xeau chu\u1ea9n ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("select",{value:y.TIEU_CHUAN,onChange:e=>v((t=>({...t,TIEU_CHUAN:e.target.value}))),disabled:E,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100",children:[(0,ar.jsx)("option",{value:"",children:"-- Ch\u1ecdn --"}),d.map(((e,t)=>(0,ar.jsx)("option",{value:e.TIEU_CHUAN,children:e.TIEU_CHUAN},t)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"\u0110\u1ed9i h\xe0ng kh\xf4"}),(0,ar.jsx)("input",{type:"text",value:y.DOI_HANG_KHO,onChange:e=>v((t=>({...t,DOI_HANG_KHO:e.target.value}))),disabled:E,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100",placeholder:"Nh\u1eadp \u0111\u1ed9i h\xe0ng kh\xf4"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["S\u1ed1 ki\u1ec7n ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"number",value:y.SO_KIEN,onChange:e=>v((t=>({...t,SO_KIEN:e.target.value}))),disabled:E,min:"1",className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100",placeholder:"Nh\u1eadp s\u1ed1 ki\u1ec7n"})]}),(0,ar.jsx)("div",{className:"flex items-end",children:(0,ar.jsxs)("button",{onClick:()=>{if(!y.NHOM_HANG)return void et.error("Vui l\xf2ng ch\u1ecdn nh\xf3m h\xe0ng");if(!y.TIEU_CHUAN)return void et.error("Vui l\xf2ng ch\u1ecdn ti\xeau chu\u1ea9n");if(!y.SO_KIEN||parseInt(y.SO_KIEN)<=0)return void et.error("Vui l\xf2ng nh\u1eadp s\u1ed1 ki\u1ec7n h\u1ee3p l\u1ec7");const e=parseInt(y.SO_KIEN)||0,t=[],r=[...c,...x];let n=0;r.forEach((e=>{if(e.MA_KIEN){const t=e.MA_KIEN.match(/-(\d+)$/);if(t){const e=parseInt(t[1]);e>n&&(n=e)}}}));const a=new Date(m.NGAYNHAP_XUAT),i=`${a.getFullYear().toString().slice(-2)}${(a.getMonth()+1).toString().padStart(2,"0")}${a.getDate().toString().padStart(2,"0")}`;for(let o=0;o<e;o++){const e=`K-${i}-${(n+o+1).toString().padStart(5,"0")}`,r={ID_CT:Date.now()+o,SOPHIEU:m.SOPHIEU,NGHIEP_VU:"NHAP",KHO_XUAT:"",KHO_NHAP:m.KHONHAP,NGAY_NHAP_XUAT:m.NGAYNHAP_XUAT,NHOM_HANG:y.NHOM_HANG,MA_KIEN:e,DAY:(null===he||void 0===he?void 0:he.DAY)||"",RONG:(null===he||void 0===he?void 0:he.RONG)||"",DAI:(null===he||void 0===he?void 0:he.DAI)||"",THANH:"",SO_KHOI:0,TIEU_CHUAN:y.TIEU_CHUAN,DOI_HANG_KHO:y.DOI_HANG_KHO||"",DONGIA:0,THANHTIEN:0,GHICHU:""};t.push(r)}b((e=>[...e,...t])),et.success(`\u0110\xe3 th\xeam ${e} ki\u1ec7n v\xe0o danh s\xe1ch`);const s=d.length>0?d[0].TIEU_CHUAN:"";v({NHOM_HANG:"",SO_KIEN:"",DONGIA:0,TIEU_CHUAN:s,DOI_HANG_KHO:y.DOI_HANG_KHO}),de(""),fe(null)},disabled:E,className:"w-full px-3 py-1.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center justify-center gap-1.5 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",children:[(0,ar.jsx)(Nk,{className:"w-4 h-4"}),"Th\xeam"]})})]}),he&&(0,ar.jsxs)("div",{className:"mt-2 p-2 bg-blue-50 rounded border border-blue-200 text-xs text-blue-800",children:[(0,ar.jsx)("strong",{children:"Th\xf4ng tin:"})," ",he.NHOM_HANG," - K\xedch th\u01b0\u1edbc: ",he.DAY,"x",he.RONG,"x",he.DAI]})]}):(0,ar.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-blue-300 mb-3",children:[(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[(0,ar.jsxs)("div",{className:"relative",ref:xe,children:[(0,ar.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Nh\xf3m h\xe0ng ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"text",value:ue,onChange:e=>tt(e.target.value),onFocus:()=>ce(!0),disabled:E||!m.KHOXUAT,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100",placeholder:m.KHOXUAT?"Ch\u1ecdn nh\xf3m h\xe0ng...":"Ch\u1ecdn kho xu\u1ea5t tr\u01b0\u1edbc"}),le&&Ve.length>0&&(0,ar.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:Ve.map(((e,t)=>(0,ar.jsxs)("div",{onClick:()=>Ke(e.NHOM_HANG),className:"px-3 py-2 hover:bg-blue-50 cursor-pointer text-sm border-b border-gray-100 last:border-b-0",children:[(0,ar.jsx)("div",{className:"font-medium text-gray-900",children:e.NHOM_HANG}),(0,ar.jsxs)("div",{className:"text-xs text-gray-500",children:[e.DAY,"x",e.RONG,"x",e.DAI," - Gi\xe1: ",He(e.DONGIA_HIEULUC)]})]},t)))})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"\u0110\u01a1n gi\xe1"}),(0,ar.jsx)("input",{type:"number",value:y.DONGIA,onChange:e=>v((t=>({...t,DONGIA:e.target.value}))),disabled:E,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100",placeholder:"\u0110\u01a1n gi\xe1"})]}),(0,ar.jsx)("div",{className:"flex items-end",children:(0,ar.jsx)("div",{className:"text-xs text-gray-600 w-full",children:pe.length>0?(0,ar.jsxs)("span",{className:"text-green-600 font-medium",children:[pe.length," ki\u1ec7n c\xf3 s\u1eb5n"]}):(0,ar.jsx)("span",{className:"text-orange-600",children:"Ch\u1ecdn nh\xf3m h\xe0ng \u0111\u1ec3 xem ki\u1ec7n"})})})]}),pe.length>0&&(0,ar.jsx)("div",{className:"mt-2 max-h-32 overflow-y-auto border border-blue-200 rounded-lg",children:(0,ar.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-1 p-2",children:pe.map(((e,t)=>(0,ar.jsxs)("button",{onClick:()=>(e=>{if(x.find((t=>t.MA_KIEN===e.MA_KIEN)))return void et.warning("Ki\u1ec7n n\xe0y \u0111\xe3 \u0111\u01b0\u1ee3c ch\u1ecdn");const t=parseFloat(y.DONGIA)||0,r=parseFloat(e.SO_KHOI)||0,n={ID_CT:Date.now(),SOPHIEU:m.SOPHIEU,NGHIEP_VU:"XUAT",KHO_XUAT:m.KHOXUAT,KHO_NHAP:"",NGAY_NHAP_XUAT:m.NGAYNHAP_XUAT,NHOM_HANG:e.NHOM_HANG,MA_KIEN:e.MA_KIEN,DAY:e.DAY,RONG:e.RONG,DAI:e.DAI,THANH:e.THANH,SO_KHOI:r,TIEU_CHUAN:e.TIEU_CHUAN,DOI_HANG_KHO:e.DOI_HANG_KHO,DONGIA:t,THANHTIEN:r*t,GHICHU:""},a=[...x,n];b(a),Ye(a),et.success("\u0110\xe3 th\xeam ki\u1ec7n v\xe0o danh s\xe1ch")})(e),disabled:E,className:"px-2 py-1.5 text-xs bg-white border border-blue-300 rounded hover:bg-blue-50 hover:border-blue-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-left",children:[(0,ar.jsx)("div",{className:"font-medium text-blue-900",children:e.MA_KIEN}),(0,ar.jsxs)("div",{className:"text-gray-600",children:[parseFloat(e.SO_KHOI||0).toFixed(4)," m\xb3"]})]},t)))})})]}),(0,ar.jsx)("div",{className:"overflow-x-auto rounded-lg border border-blue-300",children:0===x.length?(0,ar.jsxs)("div",{className:"text-center py-8 bg-white",children:[(0,ar.jsx)(_k,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),(0,ar.jsx)("p",{className:"text-gray-500 text-sm",children:"Ch\u01b0a c\xf3 chi ti\u1ebft n\xe0o"})]}):(0,ar.jsxs)("table",{className:"w-full text-xs bg-white",children:[(0,ar.jsx)("thead",{className:"bg-blue-100 border-b border-blue-300",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{className:"px-2 py-1.5 text-left font-semibold text-blue-900",children:"STT"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-left font-semibold text-blue-900",children:"M\xe3 ki\u1ec7n"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-left font-semibold text-blue-900",children:"Nh\xf3m h\xe0ng"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-center font-semibold text-blue-900",children:"D\xe0y"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-center font-semibold text-blue-900",children:"R\u1ed9ng"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-center font-semibold text-blue-900",children:"D\xe0i"}),"NHAP"===m.NGHIEP_VU&&(0,ar.jsx)("th",{className:"px-2 py-1.5 text-center font-semibold text-blue-900",children:"Thanh"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-right font-semibold text-blue-900",children:"S\u1ed1 kh\u1ed1i"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-left font-semibold text-blue-900",children:"Ti\xeau chu\u1ea9n"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-left font-semibold text-blue-900",children:"\u0110\u1ed9i h\xe0ng kh\xf4"}),"XUAT"===m.NGHIEP_VU&&(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("th",{className:"px-2 py-1.5 text-right font-semibold text-blue-900",children:"\u0110\u01a1n gi\xe1"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-right font-semibold text-blue-900",children:"Th\xe0nh ti\u1ec1n"})]}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-center font-semibold text-blue-900",children:"Thao t\xe1c"})]})}),(0,ar.jsx)("tbody",{className:"divide-y divide-gray-200",children:x.map(((e,t)=>(0,ar.jsxs)("tr",{className:"hover:bg-blue-50 transition-colors",children:[(0,ar.jsx)("td",{className:"px-2 py-1.5",children:t+1}),(0,ar.jsx)("td",{className:"px-2 py-1.5 font-medium text-gray-900",children:e.MA_KIEN}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-gray-700",children:e.NHOM_HANG}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-center text-gray-700",children:e.DAY}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-center text-gray-700",children:e.RONG}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-center text-gray-700",children:e.DAI}),"NHAP"===m.NGHIEP_VU&&(0,ar.jsx)("td",{className:"px-2 py-1.5",children:(0,ar.jsx)("input",{type:"number",value:e.THANH,onChange:e=>We(t,"THANH",e.target.value),disabled:E,className:"w-16 px-1.5 py-0.5 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent text-center",min:"0",step:"1"})}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-right font-medium text-gray-900",children:parseFloat(e.SO_KHOI||0).toFixed(4)}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-gray-700",children:e.TIEU_CHUAN}),"NHAP"===m.NGHIEP_VU?(0,ar.jsx)("td",{className:"px-2 py-1.5",children:(0,ar.jsx)("input",{type:"text",value:e.DOI_HANG_KHO||"",onChange:e=>We(t,"DOI_HANG_KHO",e.target.value),disabled:E,className:"px-1.5 py-0.5 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent",placeholder:"\u0110\u1ed9i h\xe0ng kh\xf4"})}):(0,ar.jsx)("td",{className:"px-2 py-1.5 text-gray-700",children:e.DOI_HANG_KHO||"-"}),"XUAT"===m.NGHIEP_VU&&(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("td",{className:"px-2 py-1.5",children:(0,ar.jsx)("input",{type:"number",value:e.DONGIA,onChange:e=>((e,t)=>{const r=[...x];r[e].DONGIA=parseFloat(t)||0,r[e].THANHTIEN=r[e].SO_KHOI*r[e].DONGIA,b(r),Ye(r)})(t,e.target.value),disabled:E,className:"w-24 px-1.5 py-0.5 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent text-right",min:"0"})}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-right font-medium text-gray-900",children:He(e.THANHTIEN)})]}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-center",children:(0,ar.jsx)("button",{onClick:()=>(e=>{const t=x.filter(((t,r)=>r!==e));b(t),"NHAP"===m.NGHIEP_VU?Xe(t):Ye(t),et.info("\u0110\xe3 x\xf3a chi ti\u1ebft")})(t),disabled:E,className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors disabled:opacity-50",title:"X\xf3a",children:(0,ar.jsx)(bB,{className:"w-3.5 h-3.5"})})})]},t)))})]})})]})})]})}),(0,ar.jsxs)("div",{className:"flex justify-end gap-2 p-4 border-t border-gray-200 bg-gray-50",children:[(0,ar.jsx)("button",{onClick:Ze,disabled:E,className:"px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"H\u1ee7y"}),(0,ar.jsx)("button",{onClick:async()=>{if(!E)try{C(!0);const t=(e=>{const t=[];e.SOPHIEU||t.push("S\u1ed1 phi\u1ebfu kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e.NGAYNHAP_XUAT||t.push("Ng\xe0y nh\u1eadp/xu\u1ea5t kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),"NHAP"!==e.NGHIEP_VU||e.KHONHAP||t.push("Kho nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),"XUAT"!==e.NGHIEP_VU||e.KHOXUAT||t.push("Kho xu\u1ea5t kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),0===x.length&&t.push("Vui l\xf2ng th\xeam \xedt nh\u1ea5t m\u1ed9t chi ti\u1ebft"),"NHAP"===e.NGHIEP_VU&&x.filter((e=>!e.THANH||parseFloat(e.THANH)<=0)).length>0&&t.push("Vui l\xf2ng nh\u1eadp s\u1ed1 thanh cho t\u1ea5t c\u1ea3 c\xe1c ki\u1ec7n");return t})(m);if(t.length>0)return et.error(t.join("\n")),void C(!1);const r={...m};if(G)if(K!==r.SOPHIEU){const t=e.find((e=>e.SOPHIEU===r.SOPHIEU));if(t)return et.error("S\u1ed1 phi\u1ebfu m\u1edbi n\xe0y \u0111\xe3 t\u1ed3n t\u1ea1i!"),void C(!1);const n=(await ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Find",{})).filter((e=>e.SOPHIEU===K));if(n.length>0){const e=n.map((e=>({ID_CT:e.ID_CT})));await ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Delete",{Rows:e})}await ut.apiRequestKHO("XUATNHAPKHO","Delete",{Rows:[{SOPHIEU:K}]}),await ut.apiRequestKHO("XUATNHAPKHO","Add",{Rows:[r]});const a=x.map((e=>({...e,SOPHIEU:r.SOPHIEU})));await ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Add",{Rows:a}),et.success("C\u1eadp nh\u1eadt phi\u1ebfu th\xe0nh c\xf4ng!")}else{await ut.apiRequestKHO("XUATNHAPKHO","Edit",{Rows:[r]});const e=(await ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Find",{})).filter((e=>e.SOPHIEU===r.SOPHIEU));if(e.length>0){const t=e.map((e=>({ID_CT:e.ID_CT})));await ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Delete",{Rows:t})}await ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Add",{Rows:x}),et.success("C\u1eadp nh\u1eadt phi\u1ebfu th\xe0nh c\xf4ng!")}else{const t=e.find((e=>e.SOPHIEU===r.SOPHIEU));if(t)return et.error("S\u1ed1 phi\u1ebfu n\xe0y \u0111\xe3 t\u1ed3n t\u1ea1i!"),void C(!1);await ut.apiRequestKHO("XUATNHAPKHO","Add",{Rows:[r]}),await ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Add",{Rows:x}),et.success("Th\xeam phi\u1ebfu m\u1edbi th\xe0nh c\xf4ng!")}await Me(),await Ue(),Ze()}catch(t){console.error("Error saving phieu:",t),et.error("C\xf3 l\u1ed7i x\u1ea3y ra: "+(t.message||"Kh\xf4ng th\u1ec3 l\u01b0u phi\u1ebfu"))}finally{C(!1)}},disabled:E||0===x.length,className:"px-4 py-2 text-sm bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 flex items-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:E?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"\u0110ang l\u01b0u..."]}):(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)(mk,{className:"w-4 h-4"}),G?"C\u1eadp nh\u1eadt":"L\u01b0u phi\u1ebfu"]})})]})]})}),j&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 md:p-4 overflow-y-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-hidden flex flex-col",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[(0,ar.jsxs)("h2",{className:"text-lg md:text-xl font-bold text-blue-900 flex items-center gap-2",children:[(0,ar.jsx)(xr,{className:"w-5 h-5"}),"Chi Ti\u1ebft Phi\u1ebfu - ",m.SOPHIEU]}),(0,ar.jsx)("button",{onClick:()=>k(!1),className:"p-1.5 hover:bg-blue-200 rounded-lg transition-colors",children:(0,ar.jsx)(xk,{className:"w-5 h-5 text-gray-600"})})]}),(0,ar.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:[(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:[(0,ar.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[(0,ar.jsx)("h3",{className:"font-semibold text-blue-900 mb-2 text-sm",children:"Th\xf4ng tin chung"}),(0,ar.jsxs)("div",{className:"space-y-1.5 text-xs",children:[(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"S\u1ed1 phi\u1ebfu:"}),(0,ar.jsx)("span",{className:"font-medium text-gray-900",children:m.SOPHIEU})]}),(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"Nghi\u1ec7p v\u1ee5:"}),(0,ar.jsx)("span",{className:"font-medium "+("NHAP"===m.NGHIEP_VU?"text-green-700":"text-red-700"),children:"NHAP"===m.NGHIEP_VU?"Nh\u1eadp kho":"Xu\u1ea5t kho"})]}),(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"Ng\xe0y:"}),(0,ar.jsx)("span",{className:"font-medium text-gray-900",children:De(m.NGAYNHAP_XUAT)})]}),(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsxs)("span",{className:"text-gray-600",children:["NHAP"===m.NGHIEP_VU?"NCC":"Kh\xe1ch h\xe0ng",":"]}),(0,ar.jsx)("span",{className:"font-medium text-gray-900",children:m.NCC_KHACHHANG||"-"})]})]})]}),(0,ar.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-200",children:[(0,ar.jsx)("h3",{className:"font-semibold text-purple-900 mb-2 text-sm",children:"Th\xf4ng tin kho"}),(0,ar.jsxs)("div",{className:"space-y-1.5 text-xs",children:[(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"Kho:"}),(0,ar.jsx)("span",{className:"font-medium text-gray-900",children:"NHAP"===m.NGHIEP_VU?m.KHONHAP:m.KHOXUAT})]}),(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"Ng\u01b0\u1eddi ph\u1ee5 tr\xe1ch:"}),(0,ar.jsx)("span",{className:"font-medium text-gray-900",children:m.NGUOIPHUTRACH||"-"})]}),(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"T\u1ed5ng KL:"}),(0,ar.jsxs)("span",{className:"font-medium text-gray-900",children:[parseFloat(m.TONGKHOILUONG||0).toFixed(4)," m\xb3"]})]}),"XUAT"===m.NGHIEP_VU&&(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"T\u1ed5ng ti\u1ec1n:"}),(0,ar.jsx)("span",{className:"font-medium text-gray-900",children:He(m.TONGTIEN)})]})]})]})]}),m.DIENGIAI&&(0,ar.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200 mb-4",children:[(0,ar.jsx)("h3",{className:"font-semibold text-yellow-900 mb-1 text-sm",children:"Di\u1ec5n gi\u1ea3i"}),(0,ar.jsx)("p",{className:"text-xs text-gray-700",children:m.DIENGIAI})]}),(0,ar.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[(0,ar.jsxs)("h3",{className:"font-semibold text-gray-900 mb-2 text-sm",children:["Danh s\xe1ch chi ti\u1ebft (",x.length," ki\u1ec7n)"]}),(0,ar.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-300",children:(0,ar.jsxs)("table",{className:"w-full text-xs bg-white",children:[(0,ar.jsx)("thead",{className:"bg-gray-100 border-b border-gray-300",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{className:"px-2 py-1.5 text-left font-semibold text-gray-900",children:"STT"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-left font-semibold text-gray-900",children:"M\xe3 ki\u1ec7n"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-left font-semibold text-gray-900",children:"Nh\xf3m h\xe0ng"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-center font-semibold text-gray-900",children:"K\xedch th\u01b0\u1edbc"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-center font-semibold text-gray-900",children:"Thanh"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-right font-semibold text-gray-900",children:"S\u1ed1 kh\u1ed1i"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-left font-semibold text-gray-900",children:"Ti\xeau chu\u1ea9n"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-left font-semibold text-gray-900",children:"\u0110\u1ed9i h\xe0ng kh\xf4"}),"XUAT"===m.NGHIEP_VU&&(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("th",{className:"px-2 py-1.5 text-right font-semibold text-gray-900",children:"\u0110\u01a1n gi\xe1"}),(0,ar.jsx)("th",{className:"px-2 py-1.5 text-right font-semibold text-gray-900",children:"Th\xe0nh ti\u1ec1n"})]})]})}),(0,ar.jsx)("tbody",{className:"divide-y divide-gray-200",children:x.map(((e,t)=>(0,ar.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,ar.jsx)("td",{className:"px-2 py-1.5",children:t+1}),(0,ar.jsx)("td",{className:"px-2 py-1.5 font-medium text-gray-900",children:e.MA_KIEN}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-gray-700",children:e.NHOM_HANG}),(0,ar.jsxs)("td",{className:"px-2 py-1.5 text-center text-gray-700",children:[e.DAY,"x",e.RONG,"x",e.DAI]}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-center text-gray-700",children:e.THANH||"-"}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-right font-medium text-gray-900",children:parseFloat(e.SO_KHOI||0).toFixed(4)}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-gray-700",children:e.TIEU_CHUAN}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-gray-700",children:e.DOI_HANG_KHO||"-"}),"XUAT"===m.NGHIEP_VU&&(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("td",{className:"px-2 py-1.5 text-right text-gray-700",children:He(e.DONGIA)}),(0,ar.jsx)("td",{className:"px-2 py-1.5 text-right font-medium text-gray-900",children:He(e.THANHTIEN)})]})]},t)))})]})})]})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-2 p-4 border-t border-gray-200 bg-gray-50",children:[(0,ar.jsxs)("button",{onClick:()=>Ae(m),className:"px-4 py-2 text-sm bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center gap-2 transition-colors",children:[(0,ar.jsx)(xB,{className:"w-4 h-4"}),"In phi\u1ebfu"]}),(0,ar.jsx)("button",{onClick:()=>k(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors",children:"\u0110\xf3ng"})]})]})}),T&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 md:p-4",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[(0,ar.jsxs)("h2",{className:"text-lg md:text-xl font-bold text-blue-900 flex items-center gap-2",children:[(0,ar.jsx)(eB,{className:"w-5 h-5"}),"Qu\u1ea3n L\xfd Ti\xeau Chu\u1ea9n"]}),(0,ar.jsx)("button",{onClick:()=>S(!1),className:"p-1.5 hover:bg-blue-200 rounded-lg transition-colors",children:(0,ar.jsx)(xk,{className:"w-5 h-5 text-gray-600"})})]}),(0,ar.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:[(0,ar.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200 mb-4",children:[(0,ar.jsx)("h3",{className:"font-semibold text-blue-900 mb-2 text-sm",children:"Th\xeam ti\xeau chu\u1ea9n m\u1edbi"}),(0,ar.jsxs)("div",{className:"flex gap-2",children:[(0,ar.jsx)("input",{type:"text",value:O,onChange:e=>_(e.target.value),onKeyPress:e=>"Enter"===e.key&&Be(),className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nh\u1eadp t\xean ti\xeau chu\u1ea9n..."}),(0,ar.jsxs)("button",{onClick:Be,className:"px-4 py-2 text-sm bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center gap-2 transition-colors font-medium",children:[(0,ar.jsx)(Nk,{className:"w-4 h-4"}),"Th\xeam"]})]})]}),(0,ar.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[(0,ar.jsxs)("h3",{className:"font-semibold text-gray-900 mb-2 text-sm",children:["Danh s\xe1ch ti\xeau chu\u1ea9n (",d.length,")"]}),0===d.length?(0,ar.jsxs)("div",{className:"text-center py-8",children:[(0,ar.jsx)(eB,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),(0,ar.jsx)("p",{className:"text-gray-500 text-sm",children:"Ch\u01b0a c\xf3 ti\xeau chu\u1ea9n n\xe0o"})]}):(0,ar.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:d.map(((e,t)=>(0,ar.jsxs)("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ar.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,ar.jsx)("span",{className:"text-xs font-bold text-blue-700",children:t+1})}),(0,ar.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.TIEU_CHUAN})]}),(0,ar.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a ti\xeau chu\u1ea9n n\xe0y?"))try{await ut.apiRequestKHO("CD_TIEUCHUAN","Delete",{Rows:[{ID_TC:e}]}),et.success("X\xf3a ti\xeau chu\u1ea9n th\xe0nh c\xf4ng!"),await Ge()}catch(t){console.error("Error deleting tieu chuan:",t),et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a ti\xeau chu\u1ea9n")}})(e.ID_TC),className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"X\xf3a ti\xeau chu\u1ea9n",children:(0,ar.jsx)(Tk,{className:"w-4 h-4"})})]},t)))})]})]}),(0,ar.jsx)("div",{className:"flex justify-end gap-2 p-4 border-t border-gray-200 bg-gray-50",children:(0,ar.jsx)("button",{onClick:()=>S(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors",children:"\u0110\xf3ng"})})]})}),P&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ar.jsx)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:(0,ar.jsxs)("div",{className:"p-6",children:[(0,ar.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mx-auto mb-4",children:(0,ar.jsx)(_k,{className:"w-6 h-6 text-red-600"})}),(0,ar.jsx)("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:"X\xe1c nh\u1eadn x\xf3a phi\u1ebfu"}),(0,ar.jsxs)("p",{className:"text-sm text-gray-600 text-center mb-6",children:["B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a phi\u1ebfu ",(0,ar.jsx)("strong",{children:null===D||void 0===D?void 0:D.SOPHIEU}),"?",(0,ar.jsx)("br",{}),"H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c."]}),(0,ar.jsxs)("div",{className:"flex gap-3",children:[(0,ar.jsx)("button",{onClick:rt,className:"flex-1 px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors",children:"H\u1ee7y"}),(0,ar.jsx)("button",{onClick:async()=>{if(D)try{const e=(await ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Find",{})).filter((e=>e.SOPHIEU===D.SOPHIEU));if(e.length>0){const t=e.map((e=>({ID_CT:e.ID_CT})));await ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Delete",{Rows:t})}await ut.apiRequestKHO("XUATNHAPKHO","Delete",{Rows:[{SOPHIEU:D.SOPHIEU}]}),et.success("X\xf3a phi\u1ebfu th\xe0nh c\xf4ng!"),await Me(),await Ue(),rt()}catch(e){console.error("Error deleting phieu:",e),et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a phi\u1ebfu: "+(e.message||""))}},className:"flex-1 px-4 py-2 text-sm bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors font-medium",children:"X\xf3a"})]})]})})}),(0,ar.jsx)(lt,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},NB=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[i,s]=(0,n.useState)([]),[o,l]=(0,n.useState)([]),[c,u]=(0,n.useState)([]),[d,h]=(0,n.useState)({ID_CT:"",SOPHIEU:"",NGHIEP_VU:"",KHO_XUAT:"",KHO_NHAP:"",NGAY_NHAP_XUAT:"",NHOM_HANG:"",MA_KIEN:"",DAY:"",RONG:"",DAI:"",THANH:"",SO_KHOI:0,TIEU_CHUAN:"",DOI_HANG_KHO:"",DONGIA:0,THANHTIEN:0,GHICHU:""}),[f,p]=(0,n.useState)(!1),[m,g]=(0,n.useState)(!1),[x,b]=(0,n.useState)(!1),[y,v]=(0,n.useState)(null),[N,w]=(0,n.useState)(!1),[j,k]=(0,n.useState)(!1),[T,S]=(0,n.useState)(!1),[O,_]=(0,n.useState)(""),[E,C]=(0,n.useState)(!1),[A,I]=(0,n.useState)("ALL"),[P,H]=(0,n.useState)("ALL"),[D,M]=(0,n.useState)("ALL"),[L,R]=(0,n.useState)("ALL"),[F,U]=(0,n.useState)(""),[G,B]=(0,n.useState)(""),[z,V]=(0,n.useState)({key:"NGAY_NHAP_XUAT",direction:"descending"}),[K,$]=(0,n.useState)(1),[W,X]=(0,n.useState)(20),Y=async()=>{try{S(!0);const e=await ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Find",{});t(e)}catch(e){console.error("Error fetching chi tiet list:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch chi ti\u1ebft")}finally{S(!1)}},q=async()=>{try{const e=await ut.apiRequestKHO("XUATNHAPKHO","Find",{});a(e)}catch(e){console.error("Error fetching phieu list:",e)}},Q=async()=>{try{const e=await ut.apiRequestKHO("CD_KHO","Find",{});s(e)}catch(e){console.error("Error fetching kho list:",e)}},Z=async()=>{try{const e=await ut.apiRequestKHO("DMHH","Find",{});l(e)}catch(e){console.error("Error fetching DMHH:",e)}},J=async()=>{try{const e=await ut.apiRequestKHO("CD_TIEUCHUAN","Find",{});u(e)}catch(e){console.error("Error fetching tieu chuan:",e)}};(0,n.useEffect)((()=>{Y(),q(),Q(),Z(),J()}),[]);const ee=e=>e&&0!==e?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"0 \u20ab",te=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("vi-VN")}catch(t){return e}},re=e=>r.find((t=>t.SOPHIEU===e)),ne=()=>{p(!1),g(!1),w(!1),h({ID_CT:"",SOPHIEU:"",NGHIEP_VU:"",KHO_XUAT:"",KHO_NHAP:"",NGAY_NHAP_XUAT:(new Date).toISOString().split("T")[0],NHOM_HANG:"",MA_KIEN:"",DAY:"",RONG:"",DAI:"",THANH:"",SO_KHOI:0,TIEU_CHUAN:"",DOI_HANG_KHO:"",DONGIA:0,THANHTIEN:0,GHICHU:""})},ae=(e,t)=>{h((r=>{const n={...r,[e]:t};if(["DAY","RONG","DAI","THANH"].includes(e)){const e=(a=n.DAY,i=n.RONG,s=n.DAI,o=n.THANH,(parseFloat(a)||0)*(parseFloat(i)||0)*(parseFloat(s)||0)*(parseFloat(o)||0)/1e9);n.SO_KHOI=e,"XUAT"===n.NGHIEP_VU&&(n.THANHTIEN=e*(parseFloat(n.DONGIA)||0))}var a,i,s,o;return"DONGIA"===e&&"XUAT"===n.NGHIEP_VU&&(n.THANHTIEN=(parseFloat(n.SO_KHOI)||0)*(parseFloat(t)||0)),n}))},ie=()=>{b(!1),v(null)},se=e=>{let t="ascending";z.key===e&&"ascending"===z.direction&&(t="descending"),V({key:e,direction:t})},oe=(0,n.useCallback)((()=>{const t=[...e];return z.key&&t.sort(((e,t)=>{const r=e[z.key]||"",n=t[z.key]||"";if("NGAY_NHAP_XUAT"===z.key){const e=new Date(r),t=new Date(n);return"ascending"===z.direction?e-t:t-e}if(["SO_KHOI","DONGIA","THANHTIEN","DAY","RONG","DAI","THANH"].includes(z.key)){const e=parseFloat(r)||0,t=parseFloat(n)||0;return"ascending"===z.direction?e-t:t-e}return r<n?"ascending"===z.direction?-1:1:r>n?"ascending"===z.direction?1:-1:0})),t}),[e,z]),le=oe().filter((e=>{var t,r,n,a;const i=O.toLowerCase(),s=(null===(t=e.SOPHIEU)||void 0===t?void 0:t.toLowerCase().includes(i))||(null===(r=e.MA_KIEN)||void 0===r?void 0:r.toLowerCase().includes(i))||(null===(n=e.NHOM_HANG)||void 0===n?void 0:n.toLowerCase().includes(i))||(null===(a=e.DOI_HANG_KHO)||void 0===a?void 0:a.toLowerCase().includes(i)),o="ALL"===A||e.NGHIEP_VU===A,l="NHAP"===e.NGHIEP_VU?e.KHO_NHAP:e.KHO_XUAT,c="ALL"===P||l===P,u="ALL"===D||e.NHOM_HANG===D,d="ALL"===L||e.TIEU_CHUAN===L;let h=!0;if(F||G){const t=new Date(e.NGAY_NHAP_XUAT);if(F){const e=new Date(F);h=h&&t>=e}if(G){const e=new Date(G);e.setHours(23,59,59,999),h=h&&t<=e}}return s&&o&&c&&u&&d&&h})),ce=Math.ceil(le.length/W),ue=K*W,de=ue-W,he=le.slice(de,ue);(0,n.useEffect)((()=>{$(1)}),[O,A,P,D,L,F,G,W]);const fe=e=>z.key!==e?(0,ar.jsx)("span",{className:"text-gray-400 ml-1",children:"\u21c5"}):"ascending"===z.direction?(0,ar.jsx)("span",{className:"text-blue-600 ml-1",children:"\u2191"}):(0,ar.jsx)("span",{className:"text-blue-600 ml-1",children:"\u2193"}),pe=[...new Set(e.map((e=>e.NHOM_HANG)).filter(Boolean))],me=[...new Set(e.map((e=>"NHAP"===e.NGHIEP_VU?e.KHO_NHAP:e.KHO_XUAT)).filter(Boolean))],ge=e.filter((e=>"NHAP"===e.NGHIEP_VU)).length,xe=e.filter((e=>"XUAT"===e.NGHIEP_VU)).length,be=ge-xe,ye=e.filter((e=>"NHAP"===e.NGHIEP_VU)).reduce(((e,t)=>e+(parseFloat(t.SO_KHOI)||0)),0),ve=e.filter((e=>"XUAT"===e.NGHIEP_VU)).reduce(((e,t)=>e+(parseFloat(t.SO_KHOI)||0)),0),Ne=ye-ve,we=e.filter((e=>"XUAT"===e.NGHIEP_VU)).reduce(((e,t)=>e+(parseFloat(t.THANHTIEN)||0)),0);return(0,ar.jsxs)("div",{className:"p-3 md:p-4 bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen",children:[(0,ar.jsx)("div",{className:"mx-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-3 md:p-4 mb-4 border border-gray-100",children:[(0,ar.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-3 gap-3",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-md",children:(0,ar.jsx)(yr,{className:"w-5 h-5 text-white"})}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:"Chi Ti\u1ebft Nh\u1eadp Xu\u1ea5t Kho"}),(0,ar.jsx)("p",{className:"text-xs md:text-sm text-gray-500 mt-0.5",children:"Qu\u1ea3n l\xfd chi ti\u1ebft t\u1eebng ki\u1ec7n h\xe0ng"})]})]}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ar.jsxs)("button",{onClick:async()=>{et.info("\u0110ang t\u1ea3i l\u1ea1i d\u1eef li\u1ec7u..."),await Y(),await q(),await Q(),await Z(),await J(),et.success("\u0110\xe3 t\u1ea3i l\u1ea1i d\u1eef li\u1ec7u th\xe0nh c\xf4ng!")},className:"px-3 py-1.5 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 flex items-center gap-1.5 transition-all shadow-sm hover:shadow text-sm",title:"T\u1ea3i l\u1ea1i d\u1eef li\u1ec7u",children:[(0,ar.jsx)(JG,{className:"w-4 h-4"}),(0,ar.jsx)("span",{className:"hidden sm:inline",children:"L\xe0m m\u1edbi"})]}),(0,ar.jsxs)("button",{onClick:()=>C(!E),className:"px-3 py-1.5 rounded-lg flex items-center gap-1.5 transition-all shadow-sm hover:shadow text-sm "+(E?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:[(0,ar.jsx)(vk,{className:"w-4 h-4"}),(0,ar.jsx)("span",{className:"hidden sm:inline",children:"B\u1ed9 l\u1ecdc"})]}),(0,ar.jsxs)("button",{onClick:()=>{const e=le.map(((e,t)=>{const r=re(e.SOPHIEU);return{STT:t+1,"S\u1ed1 phi\u1ebfu":e.SOPHIEU,"Nghi\u1ec7p v\u1ee5":"NHAP"===e.NGHIEP_VU?"Nh\u1eadp kho":"Xu\u1ea5t kho","Ng\xe0y":te(e.NGAY_NHAP_XUAT),"Kh\xe1ch h\xe0ng/NCC":(null===r||void 0===r?void 0:r.NCC_KHACHHANG)||"",Kho:"NHAP"===e.NGHIEP_VU?e.KHO_NHAP:e.KHO_XUAT,"M\xe3 ki\u1ec7n":e.MA_KIEN,"Nh\xf3m h\xe0ng":e.NHOM_HANG,"D\xe0y (mm)":e.DAY,"R\u1ed9ng (mm)":e.RONG,"D\xe0i (mm)":e.DAI,"S\u1ed1 thanh":e.THANH||"","S\u1ed1 m\xb3":parseFloat(e.SO_KHOI||0).toFixed(4),"Ti\xeau chu\u1ea9n":e.TIEU_CHUAN,"\u0110\u1ed9i h\xe0ng kh\xf4":e.DOI_HANG_KHO||"","\u0110\u01a1n gi\xe1":e.DONGIA||0,"Th\xe0nh ti\u1ec1n":e.THANHTIEN||0,"Ghi ch\xfa":e.GHICHU||""}})),t=pL.book_new(),r=pL.json_to_sheet(e);r["!cols"]=[{wch:5},{wch:15},{wch:12},{wch:12},{wch:25},{wch:12},{wch:15},{wch:20},{wch:10},{wch:10},{wch:10},{wch:10},{wch:12},{wch:12},{wch:15},{wch:15},{wch:15},{wch:20}],pL.book_append_sheet(t,r,"Chi ti\u1ebft nh\u1eadp xu\u1ea5t kho");const n=eL(t,{bookType:"xlsx",type:"array"}),a=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,yB.saveAs)(a,`ChiTiet_NhapXuatKho_${(new Date).getTime()}.xlsx`),et.success("\u0110\xe3 xu\u1ea5t file Excel th\xe0nh c\xf4ng!")},className:"px-3 py-1.5 bg-green-50 text-green-700 border border-green-200 rounded-lg hover:bg-green-100 flex items-center gap-1.5 transition-all shadow-sm hover:shadow text-sm",children:[(0,ar.jsx)(pB,{className:"w-4 h-4"}),(0,ar.jsx)("span",{className:"hidden sm:inline",children:"Xu\u1ea5t Excel"})]})]})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-6 gap-2 md:gap-3 mb-3",children:[(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-3 rounded-lg border-l-4 border-green-500 shadow-sm hover:shadow-md transition-all",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,ar.jsx)(yr,{className:"w-4 h-4 text-green-600"}),(0,ar.jsx)("p",{className:"text-xs font-medium text-green-700",children:"Ki\u1ec7n nh\u1eadp"})]}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-green-900",children:ge}),(0,ar.jsxs)("p",{className:"text-xs text-green-600 mt-0.5",children:[ye.toFixed(4)," m\xb3"]})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-red-50 to-red-100 p-3 rounded-lg border-l-4 border-red-500 shadow-sm hover:shadow-md transition-all",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,ar.jsx)(yr,{className:"w-4 h-4 text-red-600"}),(0,ar.jsx)("p",{className:"text-xs font-medium text-red-700",children:"Ki\u1ec7n xu\u1ea5t"})]}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-red-900",children:xe}),(0,ar.jsxs)("p",{className:"text-xs text-red-600 mt-0.5",children:[ve.toFixed(4)," m\xb3"]})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-3 rounded-lg border-l-4 border-purple-500 shadow-sm hover:shadow-md transition-all",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,ar.jsx)(yr,{className:"w-4 h-4 text-purple-600"}),(0,ar.jsx)("p",{className:"text-xs font-medium text-purple-700",children:"Ki\u1ec7n t\u1ed3n"})]}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:be}),(0,ar.jsxs)("p",{className:"text-xs text-purple-600 mt-0.5",children:[Ne.toFixed(4)," m\xb3"]})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-3 rounded-lg border-l-4 border-blue-500 shadow-sm hover:shadow-md transition-all",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,ar.jsx)(eB,{className:"w-4 h-4 text-blue-600"}),(0,ar.jsx)("p",{className:"text-xs font-medium text-blue-700",children:"Nh\xf3m h\xe0ng"})]}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:pe.length})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-3 rounded-lg border-l-4 border-orange-500 shadow-sm hover:shadow-md transition-all",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,ar.jsx)(eB,{className:"w-4 h-4 text-orange-600"}),(0,ar.jsx)("p",{className:"text-xs font-medium text-orange-700",children:"Kho"})]}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-orange-900",children:me.length})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-3 rounded-lg border-l-4 border-yellow-500 shadow-sm hover:shadow-md transition-all",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,ar.jsx)(eB,{className:"w-4 h-4 text-yellow-600"}),(0,ar.jsx)("p",{className:"text-xs font-medium text-yellow-700",children:"Doanh thu"})]}),(0,ar.jsx)("p",{className:"text-xl font-bold text-yellow-900",children:new Intl.NumberFormat("vi-VN",{notation:"compact",compactDisplay:"short",maximumFractionDigits:1}).format(we)})]})]}),E&&(0,ar.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 mb-3 animate-fadeIn",children:[(0,ar.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-2 md:gap-3",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nghi\u1ec7p v\u1ee5"}),(0,ar.jsxs)("select",{value:A,onChange:e=>I(e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ar.jsx)("option",{value:"ALL",children:"T\u1ea5t c\u1ea3"}),(0,ar.jsx)("option",{value:"NHAP",children:"Nh\u1eadp kho"}),(0,ar.jsx)("option",{value:"XUAT",children:"Xu\u1ea5t kho"})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Kho"}),(0,ar.jsxs)("select",{value:P,onChange:e=>H(e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ar.jsx)("option",{value:"ALL",children:"T\u1ea5t c\u1ea3"}),me.map(((e,t)=>(0,ar.jsx)("option",{value:e,children:e},t)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nh\xf3m h\xe0ng"}),(0,ar.jsxs)("select",{value:D,onChange:e=>M(e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ar.jsx)("option",{value:"ALL",children:"T\u1ea5t c\u1ea3"}),pe.map(((e,t)=>(0,ar.jsx)("option",{value:e,children:e},t)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ti\xeau chu\u1ea9n"}),(0,ar.jsxs)("select",{value:L,onChange:e=>R(e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ar.jsx)("option",{value:"ALL",children:"T\u1ea5t c\u1ea3"}),c.map(((e,t)=>(0,ar.jsx)("option",{value:e.TIEU_CHUAN,children:e.TIEU_CHUAN},t)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"T\u1eeb ng\xe0y"}),(0,ar.jsx)("input",{type:"date",value:F,onChange:e=>U(e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"\u0110\u1ebfn ng\xe0y"}),(0,ar.jsx)("input",{type:"date",value:G,onChange:e=>B(e.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,ar.jsx)("div",{className:"flex justify-end mt-2",children:(0,ar.jsx)("button",{onClick:()=>{I("ALL"),H("ALL"),M("ALL"),R("ALL"),U(""),B("")},className:"px-3 py-1.5 text-xs text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"X\xf3a b\u1ed9 l\u1ecdc"})})]}),(0,ar.jsxs)("div",{className:"relative mb-3",children:[(0,ar.jsx)(wk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,ar.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm theo s\u1ed1 phi\u1ebfu, m\xe3 ki\u1ec7n, nh\xf3m h\xe0ng, \u0111\u1ed9i h\xe0ng kh\xf4...",value:O,onChange:e=>_(e.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,ar.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:T?(0,ar.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-500 rounded-full animate-spin"}),(0,ar.jsx)("div",{className:"absolute top-0 left-0 w-12 h-12 border-4 border-transparent border-t-blue-300 rounded-full animate-pulse"})]})}):0===he.length?(0,ar.jsxs)("div",{className:"text-center py-12",children:[(0,ar.jsx)(yr,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),(0,ar.jsx)("p",{className:"text-gray-500 text-sm",children:"Kh\xf4ng t\xecm th\u1ea5y chi ti\u1ebft n\xe0o"})]}):(0,ar.jsxs)("table",{className:"w-full text-sm",children:[(0,ar.jsx)("thead",{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-b border-blue-200",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsxs)("th",{className:"px-3 py-2 text-left text-xs font-semibold text-blue-900 cursor-pointer hover:bg-blue-200 transition-colors",onClick:()=>se("SOPHIEU"),children:["S\u1ed1 phi\u1ebfu ",fe("SOPHIEU")]}),(0,ar.jsxs)("th",{className:"px-3 py-2 text-left text-xs font-semibold text-blue-900 cursor-pointer hover:bg-blue-200 transition-colors",onClick:()=>se("NGHIEP_VU"),children:["Nghi\u1ec7p v\u1ee5 ",fe("NGHIEP_VU")]}),(0,ar.jsxs)("th",{className:"px-3 py-2 text-left text-xs font-semibold text-blue-900 cursor-pointer hover:bg-blue-200 transition-colors",onClick:()=>se("NGAY_NHAP_XUAT"),children:["Ng\xe0y ",fe("NGAY_NHAP_XUAT")]}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold text-blue-900",children:"M\xe3 ki\u1ec7n"}),(0,ar.jsxs)("th",{className:"px-3 py-2 text-left text-xs font-semibold text-blue-900 cursor-pointer hover:bg-blue-200 transition-colors",onClick:()=>se("NHOM_HANG"),children:["Nh\xf3m h\xe0ng ",fe("NHOM_HANG")]}),(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-semibold text-blue-900",children:"K\xedch th\u01b0\u1edbc"}),(0,ar.jsxs)("th",{className:"px-3 py-2 text-center text-xs font-semibold text-blue-900 cursor-pointer hover:bg-blue-200 transition-colors",onClick:()=>se("THANH"),children:["Thanh ",fe("THANH")]}),(0,ar.jsxs)("th",{className:"px-3 py-2 text-right text-xs font-semibold text-blue-900 cursor-pointer hover:bg-blue-200 transition-colors",onClick:()=>se("SO_KHOI"),children:["S\u1ed1 m\xb3 ",fe("SO_KHOI")]}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold text-blue-900",children:"Ti\xeau chu\u1ea9n"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold text-blue-900",children:"Kho"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold text-blue-900",children:"\u0110\u1ed9i h\xe0ng kh\xf4"}),(0,ar.jsxs)("th",{className:"px-3 py-2 text-right text-xs font-semibold text-blue-900 cursor-pointer hover:bg-blue-200 transition-colors",onClick:()=>se("DONGIA"),children:["\u0110\u01a1n gi\xe1 ",fe("DONGIA")]}),(0,ar.jsxs)("th",{className:"px-3 py-2 text-right text-xs font-semibold text-blue-900 cursor-pointer hover:bg-blue-200 transition-colors",onClick:()=>se("THANHTIEN"),children:["Th\xe0nh ti\u1ec1n ",fe("THANHTIEN")]}),(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-semibold text-blue-900",children:"Thao t\xe1c"})]})}),(0,ar.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:he.map(((e,t)=>{re(e.SOPHIEU);return(0,ar.jsxs)("tr",{className:"hover:bg-blue-50 transition-colors",children:[(0,ar.jsx)("td",{className:"px-3 py-2 text-xs font-medium text-gray-900",children:e.SOPHIEU}),(0,ar.jsx)("td",{className:"px-3 py-2",children:(0,ar.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium "+("NHAP"===e.NGHIEP_VU?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"NHAP"===e.NGHIEP_VU?"Nh\u1eadp":"Xu\u1ea5t"})}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs text-gray-700",children:te(e.NGAY_NHAP_XUAT)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs font-medium text-blue-700",children:e.MA_KIEN}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs text-gray-700",children:e.NHOM_HANG}),(0,ar.jsxs)("td",{className:"px-3 py-2 text-center text-xs text-gray-700",children:[e.DAY,"\xd7",e.RONG,"\xd7",e.DAI]}),(0,ar.jsx)("td",{className:"px-3 py-2 text-center text-xs text-gray-700",children:e.THANH||"-"}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs text-right font-medium text-gray-900",children:parseFloat(e.SO_KHOI||0).toFixed(4)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs text-gray-700",children:e.TIEU_CHUAN}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs text-gray-700",children:"NHAP"===e.NGHIEP_VU?e.KHO_NHAP:e.KHO_XUAT}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs text-gray-700",children:e.DOI_HANG_KHO||"-"}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs text-right text-gray-700",children:e.DONGIA>0?ee(e.DONGIA):"-"}),(0,ar.jsx)("td",{className:"px-3 py-2 text-xs text-right font-medium text-gray-900",children:e.THANHTIEN>0?ee(e.THANHTIEN):"-"}),(0,ar.jsx)("td",{className:"px-3 py-2",children:(0,ar.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,ar.jsx)("button",{onClick:()=>(e=>{h(e),g(!0)})(e),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Xem chi ti\u1ebft",children:(0,ar.jsx)(xr,{className:"w-4 h-4"})}),(0,ar.jsx)("button",{onClick:()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(w(!0),h({...e})):(w(!1),h({ID_CT:"",SOPHIEU:"",NGHIEP_VU:"",KHO_XUAT:"",KHO_NHAP:"",NGAY_NHAP_XUAT:(new Date).toISOString().split("T")[0],NHOM_HANG:"",MA_KIEN:"",DAY:"",RONG:"",DAI:"",THANH:"",SO_KHOI:0,TIEU_CHUAN:"",DOI_HANG_KHO:"",DONGIA:0,THANHTIEN:0,GHICHU:""})),p(!0)}(e),className:"p-1.5 text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors",title:"S\u1eeda",children:(0,ar.jsx)(kk,{className:"w-4 h-4"})}),(0,ar.jsx)("button",{onClick:()=>(e=>{v(e),b(!0)})(e),className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"X\xf3a",children:(0,ar.jsx)(Tk,{className:"w-4 h-4"})})]})})]},t)}))})]})}),le.length>0&&(0,ar.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-3 gap-2",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("span",{className:"text-xs text-gray-600",children:"Hi\u1ec3n th\u1ecb"}),(0,ar.jsxs)("select",{value:W,onChange:e=>X(Number(e.target.value)),className:"px-2 py-1 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ar.jsx)("option",{value:10,children:"10"}),(0,ar.jsx)("option",{value:20,children:"20"}),(0,ar.jsx)("option",{value:50,children:"50"}),(0,ar.jsx)("option",{value:100,children:"100"})]}),(0,ar.jsxs)("span",{className:"text-xs text-gray-600",children:["/ ",le.length," ki\u1ec7n"]})]}),(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ar.jsx)("button",{onClick:()=>$(1),disabled:1===K,className:"p-1.5 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang \u0111\u1ea7u",children:(0,ar.jsx)(aB,{className:"w-4 h-4"})}),(0,ar.jsx)("button",{onClick:()=>$((e=>Math.max(e-1,1))),disabled:1===K,className:"p-1.5 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang tr\u01b0\u1edbc",children:(0,ar.jsx)(lk,{className:"w-4 h-4"})}),(0,ar.jsx)("div",{className:"flex gap-1",children:(()=>{const e=[];if(ce<=5)for(let t=1;t<=ce;t++)e.push(t);else if(K<=3){for(let t=1;t<=4;t++)e.push(t);e.push("..."),e.push(ce)}else if(K>=ce-2){e.push(1),e.push("...");for(let t=ce-3;t<=ce;t++)e.push(t)}else{e.push(1),e.push("...");for(let t=K-1;t<=K+1;t++)e.push(t);e.push("..."),e.push(ce)}return e})().map(((e,t)=>"..."===e?(0,ar.jsx)("span",{className:"px-2 py-1 text-xs text-gray-500",children:"..."},t):(0,ar.jsx)("button",{onClick:()=>(e=>$(e))(e),className:"px-2.5 py-1 text-xs rounded-lg transition-colors "+(K===e?"bg-blue-500 text-white font-medium":"border border-gray-300 hover:bg-gray-50"),children:e},t)))}),(0,ar.jsx)("button",{onClick:()=>$((e=>Math.min(e+1,ce))),disabled:K===ce,className:"p-1.5 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang sau",children:(0,ar.jsx)(ek,{className:"w-4 h-4"})}),(0,ar.jsx)("button",{onClick:()=>$(ce),disabled:K===ce,className:"p-1.5 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Trang cu\u1ed1i",children:(0,ar.jsx)(iB,{className:"w-4 h-4"})})]})]})]})}),m&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 md:p-4 overflow-y-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[95vh] overflow-hidden flex flex-col",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[(0,ar.jsxs)("h2",{className:"text-lg md:text-xl font-bold text-blue-900 flex items-center gap-2",children:[(0,ar.jsx)(xr,{className:"w-5 h-5"}),"Chi Ti\u1ebft Ki\u1ec7n - ",d.MA_KIEN]}),(0,ar.jsx)("button",{onClick:ne,className:"p-1.5 hover:bg-blue-200 rounded-lg transition-colors",children:(0,ar.jsx)(xk,{className:"w-5 h-5 text-gray-600"})})]}),(0,ar.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:[(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,ar.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[(0,ar.jsx)("h3",{className:"font-semibold text-blue-900 mb-2 text-sm",children:"Th\xf4ng tin phi\u1ebfu"}),(0,ar.jsxs)("div",{className:"space-y-1.5 text-xs",children:[(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"S\u1ed1 phi\u1ebfu:"}),(0,ar.jsx)("span",{className:"font-medium text-gray-900",children:d.SOPHIEU})]}),(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"Nghi\u1ec7p v\u1ee5:"}),(0,ar.jsx)("span",{className:"font-medium "+("NHAP"===d.NGHIEP_VU?"text-green-700":"text-red-700"),children:"NHAP"===d.NGHIEP_VU?"Nh\u1eadp kho":"Xu\u1ea5t kho"})]}),(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"Ng\xe0y:"}),(0,ar.jsx)("span",{className:"font-medium text-gray-900",children:te(d.NGAY_NHAP_XUAT)})]}),(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"Kho:"}),(0,ar.jsx)("span",{className:"font-medium text-gray-900",children:"NHAP"===d.NGHIEP_VU?d.KHO_NHAP:d.KHO_XUAT})]})]})]}),(0,ar.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-200",children:[(0,ar.jsx)("h3",{className:"font-semibold text-purple-900 mb-2 text-sm",children:"Th\xf4ng tin ki\u1ec7n"}),(0,ar.jsxs)("div",{className:"space-y-1.5 text-xs",children:[(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"M\xe3 ki\u1ec7n:"}),(0,ar.jsx)("span",{className:"font-medium text-gray-900",children:d.MA_KIEN})]}),(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"Nh\xf3m h\xe0ng:"}),(0,ar.jsx)("span",{className:"font-medium text-gray-900",children:d.NHOM_HANG})]}),(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"Ti\xeau chu\u1ea9n:"}),(0,ar.jsx)("span",{className:"font-medium text-gray-900",children:d.TIEU_CHUAN})]}),(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"\u0110\u1ed9i h\xe0ng kh\xf4:"}),(0,ar.jsx)("span",{className:"font-medium text-gray-900",children:d.DOI_HANG_KHO||"-"})]})]})]}),(0,ar.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[(0,ar.jsx)("h3",{className:"font-semibold text-green-900 mb-2 text-sm",children:"K\xedch th\u01b0\u1edbc & Kh\u1ed1i l\u01b0\u1ee3ng"}),(0,ar.jsxs)("div",{className:"space-y-1.5 text-xs",children:[(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"D\xe0y:"}),(0,ar.jsxs)("span",{className:"font-medium text-gray-900",children:[d.DAY," mm"]})]}),(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"R\u1ed9ng:"}),(0,ar.jsxs)("span",{className:"font-medium text-gray-900",children:[d.RONG," mm"]})]}),(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"D\xe0i:"}),(0,ar.jsxs)("span",{className:"font-medium text-gray-900",children:[d.DAI," mm"]})]}),(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"S\u1ed1 thanh:"}),(0,ar.jsx)("span",{className:"font-medium text-gray-900",children:d.THANH||"-"})]}),(0,ar.jsxs)("div",{className:"flex justify-between pt-1.5 border-t border-green-300",children:[(0,ar.jsx)("span",{className:"text-gray-600 font-semibold",children:"S\u1ed1 m\xb3:"}),(0,ar.jsx)("span",{className:"font-bold text-green-900",children:parseFloat(d.SO_KHOI||0).toFixed(4)})]})]})]}),"XUAT"===d.NGHIEP_VU&&(0,ar.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[(0,ar.jsx)("h3",{className:"font-semibold text-yellow-900 mb-2 text-sm",children:"Th\xf4ng tin gi\xe1"}),(0,ar.jsxs)("div",{className:"space-y-1.5 text-xs",children:[(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsx)("span",{className:"text-gray-600",children:"\u0110\u01a1n gi\xe1:"}),(0,ar.jsx)("span",{className:"font-medium text-gray-900",children:ee(d.DONGIA)})]}),(0,ar.jsxs)("div",{className:"flex justify-between pt-1.5 border-t border-yellow-300",children:[(0,ar.jsx)("span",{className:"text-gray-600 font-semibold",children:"Th\xe0nh ti\u1ec1n:"}),(0,ar.jsx)("span",{className:"font-bold text-yellow-900",children:ee(d.THANHTIEN)})]})]})]})]}),d.GHICHU&&(0,ar.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 mt-3",children:[(0,ar.jsx)("h3",{className:"font-semibold text-gray-900 mb-1 text-sm",children:"Ghi ch\xfa"}),(0,ar.jsx)("p",{className:"text-xs text-gray-700",children:d.GHICHU})]})]}),(0,ar.jsx)("div",{className:"flex justify-end gap-2 p-4 border-t border-gray-200 bg-gray-50",children:(0,ar.jsx)("button",{onClick:ne,className:"px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors",children:"\u0110\xf3ng"})})]})}),f&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 md:p-4 overflow-y-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[95vh] overflow-hidden flex flex-col",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:[(0,ar.jsxs)("h2",{className:"text-lg md:text-xl font-bold text-blue-900 flex items-center gap-2",children:[(0,ar.jsx)(kk,{className:"w-5 h-5"}),N?"S\u1eeda Chi Ti\u1ebft":"Th\xeam Chi Ti\u1ebft M\u1edbi"]}),(0,ar.jsx)("button",{onClick:ne,disabled:j,className:"p-1.5 hover:bg-blue-200 rounded-lg transition-colors disabled:opacity-50",children:(0,ar.jsx)(xk,{className:"w-5 h-5 text-gray-600"})})]}),(0,ar.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,ar.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[(0,ar.jsx)("h3",{className:"font-semibold text-blue-900 mb-2 text-sm",children:"Th\xf4ng tin phi\u1ebfu"}),(0,ar.jsxs)("div",{className:"space-y-2",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["S\u1ed1 phi\u1ebfu ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("select",{value:d.SOPHIEU,onChange:e=>{const t=r.find((t=>t.SOPHIEU===e.target.value));t&&(ae("SOPHIEU",e.target.value),ae("NGHIEP_VU",t.NGHIEP_VU),ae("NGAY_NHAP_XUAT",t.NGAYNHAP_XUAT),ae("KHO_NHAP",t.KHONHAP||""),ae("KHO_XUAT",t.KHOXUAT||""))},disabled:j||N,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100",children:[(0,ar.jsx)("option",{value:"",children:"-- Ch\u1ecdn phi\u1ebfu --"}),r.map(((e,t)=>(0,ar.jsxs)("option",{value:e.SOPHIEU,children:[e.SOPHIEU," - ","NHAP"===e.NGHIEP_VU?"Nh\u1eadp":"Xu\u1ea5t"," - ",te(e.NGAYNHAP_XUAT)]},t)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nghi\u1ec7p v\u1ee5"}),(0,ar.jsx)("input",{type:"text",value:"NHAP"===d.NGHIEP_VU?"Nh\u1eadp kho":"Xu\u1ea5t kho",disabled:!0,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg bg-gray-100"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ng\xe0y nh\u1eadp/xu\u1ea5t"}),(0,ar.jsx)("input",{type:"date",value:d.NGAY_NHAP_XUAT,disabled:!0,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg bg-gray-100"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Kho"}),(0,ar.jsx)("input",{type:"text",value:"NHAP"===d.NGHIEP_VU?d.KHO_NHAP:d.KHO_XUAT,disabled:!0,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg bg-gray-100"})]})]})]}),(0,ar.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-200",children:[(0,ar.jsx)("h3",{className:"font-semibold text-purple-900 mb-2 text-sm",children:"Th\xf4ng tin ki\u1ec7n"}),(0,ar.jsxs)("div",{className:"space-y-2",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["M\xe3 ki\u1ec7n ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"text",value:d.MA_KIEN,onChange:e=>ae("MA_KIEN",e.target.value),disabled:j,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100",placeholder:"Nh\u1eadp m\xe3 ki\u1ec7n"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Nh\xf3m h\xe0ng ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("select",{value:d.NHOM_HANG,onChange:e=>{const t=o.find((t=>t.NHOM_HANG===e.target.value));t&&(ae("NHOM_HANG",e.target.value),ae("DAY",t.DAY),ae("RONG",t.RONG),ae("DAI",t.DAI),ae("DONGIA",t.DONGIA_HIEULUC||0))},disabled:j,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100",children:[(0,ar.jsx)("option",{value:"",children:"-- Ch\u1ecdn nh\xf3m h\xe0ng --"}),o.map(((e,t)=>(0,ar.jsxs)("option",{value:e.NHOM_HANG,children:[e.NHOM_HANG," - ",e.DAY,"\xd7",e.RONG,"\xd7",e.DAI]},t)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Ti\xeau chu\u1ea9n ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("select",{value:d.TIEU_CHUAN,onChange:e=>ae("TIEU_CHUAN",e.target.value),disabled:j,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100",children:[(0,ar.jsx)("option",{value:"",children:"-- Ch\u1ecdn ti\xeau chu\u1ea9n --"}),c.map(((e,t)=>(0,ar.jsx)("option",{value:e.TIEU_CHUAN,children:e.TIEU_CHUAN},t)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"\u0110\u1ed9i h\xe0ng kh\xf4"}),(0,ar.jsx)("input",{type:"text",value:d.DOI_HANG_KHO,onChange:e=>ae("DOI_HANG_KHO",e.target.value),disabled:j,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100",placeholder:"Nh\u1eadp \u0111\u1ed9i h\xe0ng kh\xf4"})]})]})]}),(0,ar.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[(0,ar.jsx)("h3",{className:"font-semibold text-green-900 mb-2 text-sm",children:"K\xedch th\u01b0\u1edbc & Kh\u1ed1i l\u01b0\u1ee3ng"}),(0,ar.jsxs)("div",{className:"space-y-2",children:[(0,ar.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["D\xe0y (mm) ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"number",value:d.DAY,onChange:e=>ae("DAY",e.target.value),disabled:j,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-100",placeholder:"D\xe0y",min:"0",step:"0.01"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["R\u1ed9ng (mm) ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"number",value:d.RONG,onChange:e=>ae("RONG",e.target.value),disabled:j,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-100",placeholder:"R\u1ed9ng",min:"0",step:"0.01"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["D\xe0i (mm) ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"number",value:d.DAI,onChange:e=>ae("DAI",e.target.value),disabled:j,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-100",placeholder:"D\xe0i",min:"0",step:"0.01"})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"S\u1ed1 thanh"}),(0,ar.jsx)("input",{type:"number",value:d.THANH,onChange:e=>ae("THANH",e.target.value),disabled:j,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-100",placeholder:"Nh\u1eadp s\u1ed1 thanh",min:"0",step:"1"})]}),(0,ar.jsx)("div",{className:"bg-white p-2 rounded border border-green-300",children:(0,ar.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ar.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"S\u1ed1 m\xb3:"}),(0,ar.jsx)("span",{className:"text-sm font-bold text-green-900",children:parseFloat(d.SO_KHOI||0).toFixed(4)})]})})]})]}),"XUAT"===d.NGHIEP_VU&&(0,ar.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[(0,ar.jsx)("h3",{className:"font-semibold text-yellow-900 mb-2 text-sm",children:"Th\xf4ng tin gi\xe1"}),(0,ar.jsxs)("div",{className:"space-y-2",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"\u0110\u01a1n gi\xe1 (VN\u0110)"}),(0,ar.jsx)("input",{type:"number",value:d.DONGIA,onChange:e=>ae("DONGIA",e.target.value),disabled:j,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent disabled:bg-gray-100",placeholder:"Nh\u1eadp \u0111\u01a1n gi\xe1",min:"0",step:"1000"})]}),(0,ar.jsx)("div",{className:"bg-white p-2 rounded border border-yellow-300",children:(0,ar.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ar.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"Th\xe0nh ti\u1ec1n:"}),(0,ar.jsx)("span",{className:"text-sm font-bold text-yellow-900",children:ee(d.THANHTIEN)})]})})]})]}),(0,ar.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 md:col-span-2",children:[(0,ar.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 text-sm",children:"Ghi ch\xfa"}),(0,ar.jsx)("textarea",{value:d.GHICHU,onChange:e=>ae("GHICHU",e.target.value),disabled:j,rows:3,className:"w-full px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent disabled:bg-gray-100 resize-none",placeholder:"Nh\u1eadp ghi ch\xfa..."})]})]})}),(0,ar.jsxs)("div",{className:"flex justify-end gap-2 p-4 border-t border-gray-200 bg-gray-50",children:[(0,ar.jsx)("button",{onClick:ne,disabled:j,className:"px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"H\u1ee7y"}),(0,ar.jsx)("button",{onClick:async()=>{if(!j)try{k(!0);const e=(e=>{const t=[];return e.SOPHIEU||t.push("S\u1ed1 phi\u1ebfu kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e.NGHIEP_VU||t.push("Nghi\u1ec7p v\u1ee5 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e.NGAY_NHAP_XUAT||t.push("Ng\xe0y nh\u1eadp/xu\u1ea5t kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e.NHOM_HANG||t.push("Nh\xf3m h\xe0ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e.MA_KIEN||t.push("M\xe3 ki\u1ec7n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e.TIEU_CHUAN||t.push("Ti\xeau chu\u1ea9n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),"NHAP"!==e.NGHIEP_VU||e.KHO_NHAP||t.push("Kho nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),"XUAT"!==e.NGHIEP_VU||e.KHO_XUAT||t.push("Kho xu\u1ea5t kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),(!e.DAY||parseFloat(e.DAY)<=0)&&t.push("D\xe0y ph\u1ea3i l\u1edbn h\u01a1n 0"),(!e.RONG||parseFloat(e.RONG)<=0)&&t.push("R\u1ed9ng ph\u1ea3i l\u1edbn h\u01a1n 0"),(!e.DAI||parseFloat(e.DAI)<=0)&&t.push("D\xe0i ph\u1ea3i l\u1edbn h\u01a1n 0"),t})(d);if(e.length>0)return et.error(e.join("\n")),void k(!1);const t={...d};N?(await ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Edit",{Rows:[t]}),et.success("C\u1eadp nh\u1eadt chi ti\u1ebft th\xe0nh c\xf4ng!")):(t.ID_CT=Date.now(),await ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Add",{Rows:[t]}),et.success("Th\xeam chi ti\u1ebft m\u1edbi th\xe0nh c\xf4ng!")),await Y(),ne()}catch(e){console.error("Error saving chi tiet:",e),et.error("C\xf3 l\u1ed7i x\u1ea3y ra: "+(e.message||"Kh\xf4ng th\u1ec3 l\u01b0u chi ti\u1ebft"))}finally{k(!1)}},disabled:j,className:"px-4 py-2 text-sm bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 flex items-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:j?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"\u0110ang l\u01b0u..."]}):(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)(mk,{className:"w-4 h-4"}),N?"C\u1eadp nh\u1eadt":"L\u01b0u"]})})]})]})}),x&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ar.jsx)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:(0,ar.jsxs)("div",{className:"p-6",children:[(0,ar.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mx-auto mb-4",children:(0,ar.jsx)(_k,{className:"w-6 h-6 text-red-600"})}),(0,ar.jsx)("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:"X\xe1c nh\u1eadn x\xf3a chi ti\u1ebft"}),(0,ar.jsxs)("p",{className:"text-sm text-gray-600 text-center mb-6",children:["B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a ki\u1ec7n ",(0,ar.jsx)("strong",{children:null===y||void 0===y?void 0:y.MA_KIEN}),"?",(0,ar.jsx)("br",{}),"H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c."]}),(0,ar.jsxs)("div",{className:"flex gap-3",children:[(0,ar.jsx)("button",{onClick:ie,className:"flex-1 px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors",children:"H\u1ee7y"}),(0,ar.jsx)("button",{onClick:async()=>{if(y)try{await ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Delete",{Rows:[{ID_CT:y.ID_CT}]}),et.success("X\xf3a chi ti\u1ebft th\xe0nh c\xf4ng!"),await Y(),ie()}catch(e){console.error("Error deleting chi tiet:",e),et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a chi ti\u1ebft: "+(e.message||""))}},className:"flex-1 px-4 py-2 text-sm bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors font-medium",children:"X\xf3a"})]})]})})}),(0,ar.jsx)(lt,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},wB=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)({"NG\xc0Y C\xc0I \u0110\u1eb6T":"","HI\u1ec6U L\u1ef0C T\u1eea":"","HI\u1ec6U L\u1ef0C \u0110\u1ebeN":"","M\xc3 C\xd4NG \u0110O\u1ea0N":"","T\xcaN C\xd4NG \u0110O\u1ea0N":"","NH\xd3M":"","CHI TI\u1ebeT C\xd4NG \u0110O\u1ea0N":"","\u0110\u01a0N V\u1eca T\xcdNH":"","\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T":""}),[i,s]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)(""),[d,h]=(0,n.useState)(!1),[f,p]=(0,n.useState)(null),[m,g]=(0,n.useState)(!1),[x,b]=(0,n.useState)({key:null,direction:"ascending"}),[y,v]=(0,n.useState)(!1),[N,w]=(0,n.useState)(""),[j,k]=(0,n.useState)(""),[T,S]=(0,n.useState)([]),[O,_]=(0,n.useState)([]),E=async()=>{try{const e=await ut.apiRequest("CONGDOAN_DONGIA","Find",{});t(e)}catch(e){console.error("Error fetching cong doan don gia list:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch c\xf4ng \u0111o\u1ea1n \u0111\u01a1n gi\xe1")}};(0,n.useEffect)((()=>{E()}),[]),(0,n.useEffect)((()=>{if(e.length>0){const t=[...new Set(e.map((e=>e["NH\xd3M"])).filter(Boolean))];S(t);const r=[...new Set(e.map((e=>e["CHI TI\u1ebeT C\xd4NG \u0110O\u1ea0N"])).filter(Boolean))];_(r)}}),[e]);const C=e=>{if(!e)return"";if("string"===typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=new Date(e);if(isNaN(t.getTime()))return"";return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`},A=(e,t)=>{if(!e||!t)return"";return`${e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase().split(/[\s,]+/).filter((e=>e.length>0)).map((e=>e.charAt(0))).join("")}-${t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase().replace(/[^A-Z]/g,"").split("").join("")}`},I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e)v(!0),a({"NG\xc0Y C\xc0I \u0110\u1eb6T":e["NG\xc0Y C\xc0I \u0110\u1eb6T"]||"","HI\u1ec6U L\u1ef0C T\u1eea":e["HI\u1ec6U L\u1ef0C T\u1eea"]||"","HI\u1ec6U L\u1ef0C \u0110\u1ebeN":e["HI\u1ec6U L\u1ef0C \u0110\u1ebeN"]||"","M\xc3 C\xd4NG \u0110O\u1ea0N":e["M\xc3 C\xd4NG \u0110O\u1ea0N"]||"","T\xcaN C\xd4NG \u0110O\u1ea0N":e["T\xcaN C\xd4NG \u0110O\u1ea0N"]||"","NH\xd3M":e["NH\xd3M"]||"","CHI TI\u1ebeT C\xd4NG \u0110O\u1ea0N":e["CHI TI\u1ebeT C\xd4NG \u0110O\u1ea0N"]||"","\u0110\u01a0N V\u1eca T\xcdNH":e["\u0110\u01a0N V\u1eca T\xcdNH"]||"","\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T":e["\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"]||""});else{v(!1);const e=(new Date).toISOString().split("T")[0];a({"NG\xc0Y C\xc0I \u0110\u1eb6T":e,"HI\u1ec6U L\u1ef0C T\u1eea":e,"HI\u1ec6U L\u1ef0C \u0110\u1ebeN":"","M\xc3 C\xd4NG \u0110O\u1ea0N":"","T\xcaN C\xd4NG \u0110O\u1ea0N":"","NH\xd3M":"","CHI TI\u1ebeT C\xd4NG \u0110O\u1ea0N":"","\u0110\u01a0N V\u1eca T\xcdNH":"","\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T":""})}s(!0)},P=()=>{s(!1),v(!1),a({"NG\xc0Y C\xc0I \u0110\u1eb6T":"","HI\u1ec6U L\u1ef0C T\u1eea":"","HI\u1ec6U L\u1ef0C \u0110\u1ebeN":"","M\xc3 C\xd4NG \u0110O\u1ea0N":"","T\xcaN C\xd4NG \u0110O\u1ea0N":"","NH\xd3M":"","CHI TI\u1ebeT C\xd4NG \u0110O\u1ea0N":"","\u0110\u01a0N V\u1eca T\xcdNH":"","\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T":""})},H=(e,t)=>{a((r=>{const n={...r,[e]:t};if("NH\xd3M"===e||"CHI TI\u1ebeT C\xd4NG \u0110O\u1ea0N"===e){const r="NH\xd3M"===e?t:n["NH\xd3M"],a="CHI TI\u1ebeT C\xd4NG \u0110O\u1ea0N"===e?t:n["CHI TI\u1ebeT C\xd4NG \u0110O\u1ea0N"];if(r&&a){const e=`${r} - ${a}`,t=A(r,a);n["T\xcaN C\xd4NG \u0110O\u1ea0N"]=e,n["M\xc3 C\xd4NG \u0110O\u1ea0N"]=t}}return n}))},D=()=>{h(!1),p(null)},M=e=>{let t="ascending";x.key===e&&"ascending"===x.direction&&(t="descending"),b({key:e,direction:t})},L=(0,n.useCallback)((()=>{const t=[...e];return x.key&&t.sort(((e,t)=>{const r=e[x.key],n=t[x.key];if("\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"===x.key){const e=parseFloat(r)||0,t=parseFloat(n)||0;return e<t?"ascending"===x.direction?-1:1:e>t?"ascending"===x.direction?1:-1:0}if(x.key.includes("NG\xc0Y")||x.key.includes("HI\u1ec6U L\u1ef0C")){const e=new Date(r||"1900-01-01"),t=new Date(n||"1900-01-01");return e<t?"ascending"===x.direction?-1:1:e>t?"ascending"===x.direction?1:-1:0}return r<n?"ascending"===x.direction?-1:1:r>n?"ascending"===x.direction?1:-1:0})),t}),[e,x]),R=L().filter((e=>{var t,r,n,a,i,s,o;const l=(null===(t=e["T\xcaN C\xd4NG \u0110O\u1ea0N"])||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null===(r=e["M\xc3 C\xd4NG \u0110O\u1ea0N"])||void 0===r?void 0:r.toLowerCase().includes(c.toLowerCase()))||(null===(n=e["NH\xd3M"])||void 0===n?void 0:n.toLowerCase().includes(c.toLowerCase()))||(null===(a=e["CHI TI\u1ebeT C\xd4NG \u0110O\u1ea0N"])||void 0===a?void 0:a.toLowerCase().includes(c.toLowerCase())),u=!N||(null===(i=e["NG\xc0Y C\xc0I \u0110\u1eb6T"])||void 0===i?void 0:i.includes(N))||(null===(s=e["HI\u1ec6U L\u1ef0C T\u1eea"])||void 0===s?void 0:s.includes(N)),d=!j||(null===(o=e["NH\xd3M"])||void 0===o?void 0:o.toLowerCase().includes(j.toLowerCase()));return l&&u&&d})),F=e=>x.key!==e?null:"ascending"===x.direction?"\u2191":"\u2193",U=[...new Set(e.map((e=>e["NH\xd3M"])).filter(Boolean))];return(0,ar.jsxs)("div",{className:"p-4 md:p-6 bg-gray-50 min-h-screen",children:[(0,ar.jsx)("div",{className:"mx-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 mb-6 border border-gray-100",children:[(0,ar.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[(0,ar.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Qu\u1ea3n l\xfd C\xf4ng \u0110o\u1ea1n & \u0110\u01a1n Gi\xe1"}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ar.jsxs)("button",{onClick:()=>g(!m),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(vk,{className:"w-4 h-4"}),m?"\u1ea8n b\u1ed9 l\u1ecdc":"B\u1ed9 l\u1ecdc"]}),(0,ar.jsxs)("button",{onClick:()=>I(),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(Nk,{className:"w-4 h-4"}),"Th\xeam c\xf4ng \u0111o\u1ea1n"]})]})]}),(0,ar.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)(wk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,ar.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm theo t\xean c\xf4ng \u0111o\u1ea1n, m\xe3 c\xf4ng \u0111o\u1ea1n, nh\xf3m, chi ti\u1ebft...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:c,onChange:e=>u(e.target.value)})]}),m&&(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg border",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"L\u1ecdc theo ng\xe0y"}),(0,ar.jsx)("input",{type:"date",value:N,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"L\u1ecdc theo nh\xf3m"}),(0,ar.jsxs)("select",{value:j,onChange:e=>k(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,ar.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3 nh\xf3m"}),U.map((e=>(0,ar.jsx)("option",{value:e,children:e},e)))]})]}),(0,ar.jsx)("div",{className:"flex items-end",children:(0,ar.jsx)("button",{onClick:()=>{w(""),k(""),u("")},className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"X\xf3a b\u1ed9 l\u1ecdc"})})]})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,ar.jsxs)("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4",children:[(0,ar.jsx)("h3",{className:"text-sm text-blue-700 mb-1",children:"T\u1ed5ng s\u1ed1 c\xf4ng \u0111o\u1ea1n"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-blue-800",children:e.length})]}),(0,ar.jsxs)("div",{className:"bg-green-50 border border-green-100 rounded-lg p-4",children:[(0,ar.jsx)("h3",{className:"text-sm text-green-700 mb-1",children:"\u0110\u01a1n gi\xe1 cao nh\u1ea5t"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-green-800",children:e.length>0?Math.max(...e.map((e=>parseFloat(e["\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"])||0))).toLocaleString("vi-VN"):0})]}),(0,ar.jsxs)("div",{className:"bg-purple-50 border border-purple-100 rounded-lg p-4",children:[(0,ar.jsx)("h3",{className:"text-sm text-purple-700 mb-1",children:"S\u1ed1 nh\xf3m"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-purple-800",children:U.length})]}),(0,ar.jsxs)("div",{className:"bg-yellow-50 border border-yellow-100 rounded-lg p-4",children:[(0,ar.jsx)("h3",{className:"text-sm text-yellow-700 mb-1",children:"\u0110\u01a1n gi\xe1 trung b\xecnh"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-yellow-800",children:e.length>0?(e.reduce(((e,t)=>e+(parseFloat(t["\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"])||0)),0)/e.length).toLocaleString("vi-VN",{maximumFractionDigits:0}):0})]})]}),(0,ar.jsx)("div",{className:"overflow-x-auto",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gray-50",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsxs)("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>M("M\xc3 C\xd4NG \u0110O\u1ea0N"),children:["M\xe3 CD ",F("M\xc3 C\xd4NG \u0110O\u1ea0N")]}),(0,ar.jsxs)("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>M("T\xcaN C\xd4NG \u0110O\u1ea0N"),children:["T\xean c\xf4ng \u0111o\u1ea1n ",F("T\xcaN C\xd4NG \u0110O\u1ea0N")]}),(0,ar.jsxs)("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>M("NH\xd3M"),children:["Nh\xf3m ",F("NH\xd3M")]}),(0,ar.jsxs)("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>M("\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"),children:["\u0110\u01a1n gi\xe1 ",F("\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T")]}),(0,ar.jsxs)("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>M("HI\u1ec6U L\u1ef0C T\u1eea"),children:["Hi\u1ec7u l\u1ef1c t\u1eeb ",F("HI\u1ec6U L\u1ef0C T\u1eea")]}),(0,ar.jsxs)("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>M("HI\u1ec6U L\u1ef0C \u0110\u1ebeN"),children:["Hi\u1ec7u l\u1ef1c \u0111\u1ebfn ",F("HI\u1ec6U L\u1ef0C \u0110\u1ebeN")]}),(0,ar.jsx)("th",{scope:"col",className:"px-3 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-center",children:"Thao t\xe1c"})]})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:R.length>0?R.map(((e,t)=>(0,ar.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,ar.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e["M\xc3 C\xd4NG \u0110O\u1ea0N"]}),(0,ar.jsx)("td",{className:"px-3 py-4 text-sm text-gray-900",children:(0,ar.jsx)("div",{className:"max-w-xs truncate",title:e["T\xcaN C\xd4NG \u0110O\u1ea0N"],children:e["T\xcaN C\xd4NG \u0110O\u1ea0N"]})}),(0,ar.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700",children:(0,ar.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:e["NH\xd3M"]})}),(0,ar.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:parseFloat(e["\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"]).toLocaleString("vi-VN")}),(0,ar.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700",children:new Date(e["HI\u1ec6U L\u1ef0C T\u1eea"]).toLocaleDateString("vi-VN")}),(0,ar.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700",children:e["HI\u1ec6U L\u1ef0C \u0110\u1ebeN"]?new Date(e["HI\u1ec6U L\u1ef0C \u0110\u1ebeN"]).toLocaleDateString("vi-VN"):"\u2014"}),(0,ar.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:(0,ar.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,ar.jsx)("button",{onClick:()=>I(e),className:"text-indigo-600 hover:text-indigo-900 p-1.5 rounded-full hover:bg-indigo-50",title:"S\u1eeda c\xf4ng \u0111o\u1ea1n",children:(0,ar.jsx)(kk,{className:"h-4 w-4"})}),(0,ar.jsx)("button",{onClick:()=>(p(e),void h(!0)),className:"text-red-600 hover:text-red-900 p-1.5 rounded-full hover:bg-red-50",title:"X\xf3a c\xf4ng \u0111o\u1ea1n",children:(0,ar.jsx)(Tk,{className:"h-4 w-4"})})]})})]},`${e["M\xc3 C\xd4NG \u0110O\u1ea0N"]}-${t}`))):(0,ar.jsx)("tr",{children:(0,ar.jsx)("td",{colSpan:"7",className:"px-3 py-6 text-center text-sm text-gray-500",children:"Kh\xf4ng t\xecm th\u1ea5y c\xf4ng \u0111o\u1ea1n n\xe0o ph\xf9 h\u1ee3p v\u1edbi ti\xeau ch\xed t\xecm ki\u1ebfm"})})})]})})]})}),i&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-5",children:[(0,ar.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:y?"C\u1eadp nh\u1eadt c\xf4ng \u0111o\u1ea1n \u0111\u01a1n gi\xe1":"Th\xeam c\xf4ng \u0111o\u1ea1n \u0111\u01a1n gi\xe1 m\u1edbi"}),(0,ar.jsx)("button",{onClick:P,className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ar.jsxs)("div",{className:"space-y-4",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ng\xe0y c\xe0i \u0111\u1eb7t ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"date",value:C(r["NG\xc0Y C\xc0I \u0110\u1eb6T"]),onChange:e=>H("NG\xc0Y C\xc0I \u0110\u1eb6T",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Hi\u1ec7u l\u1ef1c t\u1eeb ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"date",value:C(r["HI\u1ec6U L\u1ef0C T\u1eea"]),onChange:e=>H("HI\u1ec6U L\u1ef0C T\u1eea",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hi\u1ec7u l\u1ef1c \u0111\u1ebfn"}),(0,ar.jsx)("input",{type:"date",value:C(r["HI\u1ec6U L\u1ef0C \u0110\u1ebeN"]),onChange:e=>H("HI\u1ec6U L\u1ef0C \u0110\u1ebeN",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nh\xf3m ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"text",list:"nhom-options",value:r["NH\xd3M"],onChange:e=>H("NH\xd3M",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Ch\u1ecdn ho\u1eb7c nh\u1eadp nh\xf3m c\xf4ng \u0111o\u1ea1n",required:!0}),(0,ar.jsx)("datalist",{id:"nhom-options",children:T.map((e=>(0,ar.jsx)("option",{value:e},e)))})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Chi ti\u1ebft c\xf4ng \u0111o\u1ea1n ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"text",list:"chitiet-options",value:r["CHI TI\u1ebeT C\xd4NG \u0110O\u1ea0N"],onChange:e=>H("CHI TI\u1ebeT C\xd4NG \u0110O\u1ea0N",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Ch\u1ecdn ho\u1eb7c nh\u1eadp chi ti\u1ebft c\xf4ng \u0111o\u1ea1n",required:!0}),(0,ar.jsx)("datalist",{id:"chitiet-options",children:O.map((e=>(0,ar.jsx)("option",{value:e},e)))})]})]}),(0,ar.jsxs)("div",{className:"space-y-4",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xean c\xf4ng \u0111o\u1ea1n (t\u1ef1 \u0111\u1ed9ng t\u1ea1o)"}),(0,ar.jsx)("input",{type:"text",value:r["T\xcaN C\xd4NG \u0110O\u1ea0N"],className:"p-2.5 border border-gray-300 rounded-lg w-full bg-gray-100",readOnly:!0}),(0,ar.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"T\u1ef1 \u0111\u1ed9ng t\u1ea1o t\u1eeb: Nh\xf3m - Chi ti\u1ebft c\xf4ng \u0111o\u1ea1n"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M\xe3 c\xf4ng \u0111o\u1ea1n (t\u1ef1 \u0111\u1ed9ng t\u1ea1o)"}),(0,ar.jsx)("input",{type:"text",value:r["M\xc3 C\xd4NG \u0110O\u1ea0N"],className:"p-2.5 border border-gray-300 rounded-lg w-full bg-gray-100",readOnly:!0}),(0,ar.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"T\u1ef1 \u0111\u1ed9ng t\u1ea1o t\u1eeb ch\u1eef c\xe1i \u0111\u1ea7u c\u1ee7a t\xean c\xf4ng \u0111o\u1ea1n"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["\u0110VT n\u0103ng su\u1ea5t ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("select",{value:r["\u0110\u01a0N V\u1eca T\xcdNH"],onChange:e=>H("\u0110\u01a0N V\u1eca T\xcdNH",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[(0,ar.jsx)("option",{value:"",children:"Ch\u1ecdn \u0110VT n\u0103ng su\u1ea5t"}),(0,ar.jsx)("option",{value:"T\u1ea5n",children:"T\u1ea5n"}),(0,ar.jsx)("option",{value:"Kg",children:"Kg"}),(0,ar.jsx)("option",{value:"M2",children:"M2"}),(0,ar.jsx)("option",{value:"M3",children:"M3"}),(0,ar.jsx)("option",{value:"C\xe1i",children:"C\xe1i"}),(0,ar.jsx)("option",{value:"L\u1ea7n",children:"L\u1ea7n"}),(0,ar.jsx)("option",{value:"Gi\u1edd",children:"Gi\u1edd"}),(0,ar.jsx)("option",{value:"Ng\xe0y",children:"Ng\xe0y"})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["\u0110\u01a1n gi\xe1 n\u0103ng su\u1ea5t ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"number",value:r["\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"],onChange:e=>H("\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Nh\u1eadp \u0111\u01a1n gi\xe1",min:"0",step:"1000",required:!0})]})]})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200 mt-6",children:[(0,ar.jsx)("button",{onClick:P,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors shadow-sm",disabled:o,children:"H\u1ee7y"}),(0,ar.jsx)("button",{onClick:async()=>{if(!o)try{l(!0);const e=(e=>{const t=[];return e["NG\xc0Y C\xc0I \u0110\u1eb6T"]||t.push("Ng\xe0y c\xe0i \u0111\u1eb7t kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e["HI\u1ec6U L\u1ef0C T\u1eea"]||t.push("Hi\u1ec7u l\u1ef1c t\u1eeb kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e["NH\xd3M"]||t.push("Nh\xf3m kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e["CHI TI\u1ebeT C\xd4NG \u0110O\u1ea0N"]||t.push("Chi ti\u1ebft c\xf4ng \u0111o\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e["\u0110\u01a0N V\u1eca T\xcdNH"]||t.push("\u0110VT n\u0103ng su\u1ea5t kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e["\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"]||t.push("\u0110\u01a1n gi\xe1 n\u0103ng su\u1ea5t kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e["HI\u1ec6U L\u1ef0C \u0110\u1ebeN"]&&e["HI\u1ec6U L\u1ef0C T\u1eea"]&&new Date(e["HI\u1ec6U L\u1ef0C \u0110\u1ebeN"])<new Date(e["HI\u1ec6U L\u1ef0C T\u1eea"])&&t.push("Hi\u1ec7u l\u1ef1c \u0111\u1ebfn ph\u1ea3i sau hi\u1ec7u l\u1ef1c t\u1eeb"),t})(r);if(e.length>0)return et.error(e.join("\n")),void l(!1);if(y)await ut.apiRequest("CONGDOAN_DONGIA","Edit",{Rows:[r]}),et.success("C\u1eadp nh\u1eadt c\xf4ng \u0111o\u1ea1n \u0111\u01a1n gi\xe1 th\xe0nh c\xf4ng!");else{const e=await ut.apiRequest("CONGDOAN_DONGIA","Find",{});if(e.some((e=>e["M\xc3 C\xd4NG \u0110O\u1ea0N"]===r["M\xc3 C\xd4NG \u0110O\u1ea0N"])))return et.error("M\xe3 c\xf4ng \u0111o\u1ea1n n\xe0y \u0111\xe3 t\u1ed3n t\u1ea1i!"),void l(!1);await ut.apiRequest("CONGDOAN_DONGIA","Add",{Rows:[r]}),et.success("Th\xeam c\xf4ng \u0111o\u1ea1n \u0111\u01a1n gi\xe1 m\u1edbi th\xe0nh c\xf4ng!")}await E(),P()}catch(e){console.error("Error saving cong doan don gia:",e),et.error("C\xf3 l\u1ed7i x\u1ea3y ra: "+(e.message||"Kh\xf4ng th\u1ec3 l\u01b0u c\xf4ng \u0111o\u1ea1n \u0111\u01a1n gi\xe1"))}finally{l(!1)}},disabled:o,className:`px-4 py-2 bg-indigo-600 text-white rounded-lg ${o?"opacity-50 cursor-not-allowed":"hover:bg-indigo-700"} flex items-center gap-2 transition-colors shadow-sm`,children:o?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ar.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ar.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0110ang l\u01b0u..."]}):(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)(Ek,{className:"h-4 w-4"}),y?"C\u1eadp nh\u1eadt":"Th\xeam m\u1edbi"]})})]})]})}),d&&f&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-5",children:[(0,ar.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"X\xe1c nh\u1eadn x\xf3a"}),(0,ar.jsx)("button",{onClick:D,className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsxs)("div",{className:"space-y-5",children:[(0,ar.jsxs)("div",{className:"bg-red-50 border border-red-100 rounded-lg p-4",children:[(0,ar.jsxs)("p",{className:"text-red-700",children:["B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a c\xf4ng \u0111o\u1ea1n ",(0,ar.jsx)("span",{className:"font-bold",children:f["T\xcaN C\xd4NG \u0110O\u1ea0N"]}),"?"]}),(0,ar.jsxs)("div",{className:"mt-3 text-sm text-red-600",children:[(0,ar.jsxs)("p",{children:[(0,ar.jsx)("strong",{children:"M\xe3:"})," ",f["M\xc3 C\xd4NG \u0110O\u1ea0N"]]}),(0,ar.jsxs)("p",{children:[(0,ar.jsx)("strong",{children:"\u0110\u01a1n gi\xe1:"})," ",parseFloat(f["\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"]).toLocaleString("vi-VN")," VN\u0110"]})]}),(0,ar.jsx)("p",{className:"text-sm text-red-600 mt-2",children:"H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c v\xe0 c\xf3 th\u1ec3 \u1ea3nh h\u01b0\u1edfng \u0111\u1ebfn c\xe1c b\xe1o c\xe1o \u0111\xe3 s\u1eed d\u1ee5ng c\xf4ng \u0111o\u1ea1n n\xe0y."})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,ar.jsx)("button",{onClick:D,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors shadow-sm",children:"H\u1ee7y"}),(0,ar.jsxs)("button",{onClick:async()=>{if(f)try{await ut.apiRequest("CONGDOAN_DONGIA","Delete",{Rows:[{"M\xc3 C\xd4NG \u0110O\u1ea0N":f["M\xc3 C\xd4NG \u0110O\u1ea0N"]}]}),et.success("X\xf3a c\xf4ng \u0111o\u1ea1n \u0111\u01a1n gi\xe1 th\xe0nh c\xf4ng!"),await E(),D()}catch(e){console.error("Error deleting cong doan don gia:",e),et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a c\xf4ng \u0111o\u1ea1n \u0111\u01a1n gi\xe1")}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(Tk,{className:"h-4 w-4"}),"X\xf3a c\xf4ng \u0111o\u1ea1n"]})]})]})]})}),(0,ar.jsx)(lt,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},jB=fr("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),kB=fr("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),TB=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[i,s]=(0,n.useState)([]),[o,l]=(0,n.useState)({"ID T\u1ed4 C\xd4NG \u0110O\u1ea0N":"","NG\xc0Y C\xc0I \u0110\u1eb6T":"","HI\u1ec6U L\u1ef0C T\u1eea":"","HI\u1ec6U L\u1ef0C \u0110\u1ebeN":"","T\u1ed4":"","M\xc3 C\xd4NG \u0110O\u1ea0N":"","T\xcaN C\xd4NG \u0110O\u1ea0N":"","NH\xd3M":"","\u0110\u01a0N V\u1eca T\xcdNH":"","PP T\xcdNH N\u0102NG SU\u1ea4T":"","\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T":"","NH\xc2N S\u1ef0":[],"S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0":0,"\u0110\u01a0N GI\xc1 PH\u1ee4 C\u1ea4P TN/TH\xc1NG":""}),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)(!1),[f,p]=(0,n.useState)(""),[m,g]=(0,n.useState)(!1),[x,b]=(0,n.useState)(null),[y,v]=(0,n.useState)(!1),[N,w]=(0,n.useState)({key:null,direction:"ascending"}),[j,k]=(0,n.useState)(!1),[T,S]=(0,n.useState)(""),[O,_]=(0,n.useState)(""),[E,C]=(0,n.useState)([]),[A,I]=(0,n.useState)(new Set),[P,H]=(0,n.useState)(new Set),[D,M]=(0,n.useState)(""),L=async()=>{try{const e=(await ut.apiRequest("TO_PBNS","Find",{})).map((e=>({...e,"NH\xc2N S\u1ef0":"string"===typeof e["NH\xc2N S\u1ef0"]?e["NH\xc2N S\u1ef0"].split(",").map((e=>e.trim())).filter((e=>e)):e["NH\xc2N S\u1ef0"]||[]})));t(e)}catch(e){console.error("Error fetching phan bo nhan su list:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch ph\xe2n b\u1ed5 nh\xe2n s\u1ef1")}};(0,n.useEffect)((()=>{L(),(async()=>{try{const e=await ut.apiRequest("CONGDOAN_DONGIA","Find",{});a(e)}catch(e){console.error("Error fetching cong doan don gia list:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch c\xf4ng \u0111o\u1ea1n")}})(),(async()=>{try{const e=await ut.apiRequest("DSNV","Find",{});s(e)}catch(e){console.error("Error fetching danh sach nhan vien:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch nh\xe2n vi\xean")}})()}),[]);const R=(e,t)=>`${e} ${t}`,F=(0,n.useCallback)((()=>{const t=[...e];return N.key&&t.sort(((e,t)=>{const r=e[N.key],n=t[N.key];if("S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"===N.key||"\u0110\u01a0N GI\xc1 PH\u1ee4 C\u1ea4P TN/TH\xc1NG"===N.key){const e=parseFloat(r)||0,t=parseFloat(n)||0;return e<t?"ascending"===N.direction?-1:1:e>t?"ascending"===N.direction?1:-1:0}if(N.key.includes("NG\xc0Y")||N.key.includes("HI\u1ec6U L\u1ef0C")){const e=new Date(r||"1900-01-01"),t=new Date(n||"1900-01-01");return e<t?"ascending"===N.direction?-1:1:e>t?"ascending"===N.direction?1:-1:0}return r<n?"ascending"===N.direction?-1:1:r>n?"ascending"===N.direction?1:-1:0})),t}),[e,N]),U=i.filter((e=>e["H\u1ecd v\xe0 T\xean"].toLowerCase().includes(D.toLowerCase()))),G=F().filter((e=>{var t,r,n,a,i,s,o;const l=(null===(t=e["T\u1ed4"])||void 0===t?void 0:t.toLowerCase().includes(f.toLowerCase()))||(null===(r=e["T\xcaN C\xd4NG \u0110O\u1ea0N"])||void 0===r?void 0:r.toLowerCase().includes(f.toLowerCase()))||(null===(n=e["M\xc3 C\xd4NG \u0110O\u1ea0N"])||void 0===n?void 0:n.toLowerCase().includes(f.toLowerCase()))||(null===(a=e["NH\xd3M"])||void 0===a?void 0:a.toLowerCase().includes(f.toLowerCase()))||(Array.isArray(e["NH\xc2N S\u1ef0"])?e["NH\xc2N S\u1ef0"].join(", "):e["NH\xc2N S\u1ef0"]||"").toLowerCase().includes(f.toLowerCase()),c=!T||(null===(i=e["NG\xc0Y C\xc0I \u0110\u1eb6T"])||void 0===i?void 0:i.includes(T))||(null===(s=e["HI\u1ec6U L\u1ef0C T\u1eea"])||void 0===s?void 0:s.includes(T)),u=!O||(null===(o=e["T\u1ed4"])||void 0===o?void 0:o.toLowerCase().includes(O.toLowerCase()));return l&&c&&u})),B=(0,n.useCallback)((()=>{const e={};G.forEach((t=>{const r=t["NH\xd3M"]||"Ch\u01b0a ph\xe2n nh\xf3m",n=t["T\u1ed4"]||"Ch\u01b0a c\xf3 t\u1ed5";e[r]||(e[r]={}),e[r][n]||(e[r][n]=[]),e[r][n].push(t)}));const t={};return Object.keys(e).sort().forEach((r=>{t[r]={},Object.keys(e[r]).sort().forEach((n=>{t[r][n]=e[r][n].sort(((e,t)=>e["T\xcaN C\xd4NG \u0110O\u1ea0N"].localeCompare(t["T\xcaN C\xd4NG \u0110O\u1ea0N"])))}))})),t}),[G]),z=[...new Set(e.map((e=>e["T\u1ed4"])).filter(Boolean))],V=B(),K=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e)k(!0),l({"ID T\u1ed4 C\xd4NG \u0110O\u1ea0N":e["ID T\u1ed4 C\xd4NG \u0110O\u1ea0N"]||"","NG\xc0Y C\xc0I \u0110\u1eb6T":e["NG\xc0Y C\xc0I \u0110\u1eb6T"]||"","HI\u1ec6U L\u1ef0C T\u1eea":e["HI\u1ec6U L\u1ef0C T\u1eea"]||"","HI\u1ec6U L\u1ef0C \u0110\u1ebeN":e["HI\u1ec6U L\u1ef0C \u0110\u1ebeN"]||"","T\u1ed4":e["T\u1ed4"]||"","M\xc3 C\xd4NG \u0110O\u1ea0N":e["M\xc3 C\xd4NG \u0110O\u1ea0N"]||"","T\xcaN C\xd4NG \u0110O\u1ea0N":e["T\xcaN C\xd4NG \u0110O\u1ea0N"]||"","NH\xd3M":e["NH\xd3M"]||"","\u0110\u01a0N V\u1eca T\xcdNH":e["\u0110\u01a0N V\u1eca T\xcdNH"]||"","PP T\xcdNH N\u0102NG SU\u1ea4T":e["PP T\xcdNH N\u0102NG SU\u1ea4T"]||"","\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T":e["\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"]||"","NH\xc2N S\u1ef0":e["NH\xc2N S\u1ef0"]||[],"S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0":e["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"]||0,"\u0110\u01a0N GI\xc1 PH\u1ee4 C\u1ea4P TN/TH\xc1NG":e["\u0110\u01a0N GI\xc1 PH\u1ee4 C\u1ea4P TN/TH\xc1NG"]||""}),C(e["NH\xc2N S\u1ef0"]||[]);else{k(!1);const e=(new Date).toISOString().split("T")[0];l({"ID T\u1ed4 C\xd4NG \u0110O\u1ea0N":"","NG\xc0Y C\xc0I \u0110\u1eb6T":e,"HI\u1ec6U L\u1ef0C T\u1eea":e,"HI\u1ec6U L\u1ef0C \u0110\u1ebeN":"","T\u1ed4":"","M\xc3 C\xd4NG \u0110O\u1ea0N":"","T\xcaN C\xd4NG \u0110O\u1ea0N":"","NH\xd3M":"","\u0110\u01a0N V\u1eca T\xcdNH":"","PP T\xcdNH N\u0102NG SU\u1ea4T":"","\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T":"","NH\xc2N S\u1ef0":[],"S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0":0,"\u0110\u01a0N GI\xc1 PH\u1ee4 C\u1ea4P TN/TH\xc1NG":""}),C([])}u(!0)},$=()=>{u(!1),k(!1),C([]),M(""),l({"ID T\u1ed4 C\xd4NG \u0110O\u1ea0N":"","NG\xc0Y C\xc0I \u0110\u1eb6T":"","HI\u1ec6U L\u1ef0C T\u1eea":"","HI\u1ec6U L\u1ef0C \u0110\u1ebeN":"","T\u1ed4":"","M\xc3 C\xd4NG \u0110O\u1ea0N":"","T\xcaN C\xd4NG \u0110O\u1ea0N":"","NH\xd3M":"","\u0110\u01a0N V\u1eca T\xcdNH":"","PP T\xcdNH N\u0102NG SU\u1ea4T":"","\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T":"","NH\xc2N S\u1ef0":[],"S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0":0,"\u0110\u01a0N GI\xc1 PH\u1ee4 C\u1ea4P TN/TH\xc1NG":""})},W=e=>{if(!e)return"";if("string"===typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=new Date(e);if(isNaN(t.getTime()))return"";return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`},X=e=>{C(e),l((t=>({...t,"NH\xc2N S\u1ef0":e,"S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0":e.length})))},Y=e=>{const t=E.filter((t=>t!==e));X(t)},q=(e,t)=>{l((r=>({...r,[e]:t})))},Q=()=>{g(!1),b(null)};return(0,ar.jsxs)("div",{className:"p-4 md:p-6 bg-gray-50 min-h-screen",children:[(0,ar.jsx)("div",{className:"mx-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 mb-6 border border-gray-100",children:[(0,ar.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[(0,ar.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Qu\u1ea3n l\xfd Ph\xe2n B\u1ed5 Nh\xe2n S\u1ef1"}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ar.jsxs)("button",{onClick:()=>v(!y),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(vk,{className:"w-4 h-4"}),y?"\u1ea8n b\u1ed9 l\u1ecdc":"B\u1ed9 l\u1ecdc"]}),(0,ar.jsx)("button",{onClick:()=>{I(new Set(Object.keys(V)));const e=[];Object.entries(V).forEach((t=>{let[r,n]=t;Object.keys(n).forEach((t=>{e.push(`${r}-${t}`)}))})),H(new Set(e))},className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",children:"M\u1edf t\u1ea5t c\u1ea3"}),(0,ar.jsx)("button",{onClick:()=>{I(new Set),H(new Set)},className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",children:"\u0110\xf3ng t\u1ea5t c\u1ea3"}),(0,ar.jsxs)("button",{onClick:()=>K(),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(Nk,{className:"w-4 h-4"}),"Th\xeam ph\xe2n b\u1ed5"]})]})]}),(0,ar.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)(wk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,ar.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm theo nh\xf3m, t\u1ed5, c\xf4ng \u0111o\u1ea1n, nh\xe2n s\u1ef1...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:f,onChange:e=>p(e.target.value)})]}),y&&(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg border",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"L\u1ecdc theo ng\xe0y"}),(0,ar.jsx)("input",{type:"date",value:T,onChange:e=>S(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"L\u1ecdc theo t\u1ed5"}),(0,ar.jsxs)("select",{value:O,onChange:e=>_(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,ar.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3 t\u1ed5"}),z.map((e=>(0,ar.jsx)("option",{value:e,children:e},e)))]})]}),(0,ar.jsx)("div",{className:"flex items-end",children:(0,ar.jsx)("button",{onClick:()=>{S(""),_(""),p("")},className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"X\xf3a b\u1ed9 l\u1ecdc"})})]})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,ar.jsxs)("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4",children:[(0,ar.jsx)("h3",{className:"text-sm text-blue-700 mb-1",children:"T\u1ed5ng ph\xe2n b\u1ed5"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-blue-800",children:e.length})]}),(0,ar.jsxs)("div",{className:"bg-green-50 border border-green-100 rounded-lg p-4",children:[(0,ar.jsx)("h3",{className:"text-sm text-green-700 mb-1",children:"S\u1ed1 nh\xf3m"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-green-800",children:Object.keys(V).length})]}),(0,ar.jsxs)("div",{className:"bg-purple-50 border border-purple-100 rounded-lg p-4",children:[(0,ar.jsx)("h3",{className:"text-sm text-purple-700 mb-1",children:"T\u1ed5ng nh\xe2n s\u1ef1"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-purple-800",children:e.reduce(((e,t)=>e+(parseInt(t["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"])||0)),0)})]}),(0,ar.jsxs)("div",{className:"bg-yellow-50 border border-yellow-100 rounded-lg p-4",children:[(0,ar.jsx)("h3",{className:"text-sm text-yellow-700 mb-1",children:"Ph\u1ee5 c\u1ea5p TB"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-yellow-800",children:e.length>0?(e.reduce(((e,t)=>e+(parseFloat(t["\u0110\u01a0N GI\xc1 PH\u1ee4 C\u1ea4P TN/TH\xc1NG"])||0)),0)/e.length).toLocaleString("vi-VN",{maximumFractionDigits:0}):0})]})]}),(0,ar.jsx)("div",{className:"overflow-x-auto",children:Object.keys(V).length>0?Object.entries(V).map((e=>{let[t,r]=e;return(0,ar.jsxs)("div",{className:"mb-6",children:[(0,ar.jsx)("div",{className:"bg-indigo-50 border border-indigo-200 rounded-t-lg p-4 cursor-pointer hover:bg-indigo-100 transition-colors",onClick:()=>(e=>{const t=new Set(A);t.has(e)?t.delete(e):t.add(e),I(t)})(t),children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-3",children:[A.has(t)?(0,ar.jsx)(sk,{className:"w-5 h-5 text-indigo-600"}):(0,ar.jsx)(ek,{className:"w-5 h-5 text-indigo-600"}),(0,ar.jsxs)("h3",{className:"text-lg font-semibold text-indigo-800",children:["Nh\xf3m: ",t]}),(0,ar.jsxs)("span",{className:"bg-indigo-100 text-indigo-800 px-2 py-1 rounded-full text-sm font-medium",children:[Object.keys(r).length," t\u1ed5"]})]}),(0,ar.jsxs)("div",{className:"text-sm text-indigo-600",children:["T\u1ed5ng nh\xe2n s\u1ef1: ",Object.values(r).flat().reduce(((e,t)=>e+(parseInt(t["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"])||0)),0)," ng\u01b0\u1eddi"]})]})}),A.has(t)&&(0,ar.jsx)("div",{className:"border border-t-0 border-indigo-200 rounded-b-lg",children:Object.entries(r).map((e=>{let[r,n]=e;return(0,ar.jsxs)("div",{className:"border-b border-gray-100 last:border-b-0",children:[(0,ar.jsx)("div",{className:"bg-blue-50 border-b border-blue-100 p-3 cursor-pointer hover:bg-blue-100 transition-colors",onClick:()=>((e,t)=>{const r=`${e}-${t}`,n=new Set(P);n.has(r)?n.delete(r):n.add(r),H(n)})(t,r),children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-3",children:[P.has(`${t}-${r}`)?(0,ar.jsx)(sk,{className:"w-4 h-4 text-blue-600"}):(0,ar.jsx)(ek,{className:"w-4 h-4 text-blue-600"}),(0,ar.jsxs)("h4",{className:"text-md font-semibold text-blue-800",children:["T\u1ed5: ",r]}),(0,ar.jsxs)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:[n.length," c\xf4ng \u0111o\u1ea1n"]})]}),(0,ar.jsxs)("div",{className:"text-xs text-blue-600",children:[n.reduce(((e,t)=>e+(parseInt(t["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"])||0)),0)," ng\u01b0\u1eddi"]})]})}),P.has(`${t}-${r}`)&&(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gray-50",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"C\xf4ng \u0111o\u1ea1n"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nh\xe2n s\u1ef1"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SL"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u0110\u01a0N GI\xc1 N\u0102NG XU\u1ea4T"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ph\u1ee5 c\u1ea5p"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hi\u1ec7u l\u1ef1c"}),(0,ar.jsx)("th",{className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-center",children:"Thao t\xe1c"})]})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(((e,t)=>(0,ar.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,ar.jsx)("td",{className:"px-4 py-4 text-sm text-gray-900",children:(0,ar.jsxs)("div",{className:"max-w-xs",children:[(0,ar.jsx)("div",{className:"font-medium",children:e["T\xcaN C\xd4NG \u0110O\u1ea0N"]}),(0,ar.jsx)("div",{className:"text-xs text-gray-500",children:e["M\xc3 C\xd4NG \u0110O\u1ea0N"]})]})}),(0,ar.jsx)("td",{className:"px-4 py-4 text-sm text-gray-700",children:(0,ar.jsx)("div",{className:"max-w-xs",children:(0,ar.jsx)("div",{className:"truncate",title:Array.isArray(e["NH\xc2N S\u1ef0"])?e["NH\xc2N S\u1ef0"].join(", "):e["NH\xc2N S\u1ef0"],children:Array.isArray(e["NH\xc2N S\u1ef0"])?e["NH\xc2N S\u1ef0"].join(", "):e["NH\xc2N S\u1ef0"]})})}),(0,ar.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:(0,ar.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:[(0,ar.jsx)(Ck,{className:"w-3 h-3 mr-1"}),e["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"]]})}),(0,ar.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:parseFloat(e["\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"]).toLocaleString("vi-VN")}),(0,ar.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:parseFloat(e["\u0110\u01a0N GI\xc1 PH\u1ee4 C\u1ea4P TN/TH\xc1NG"]).toLocaleString("vi-VN")}),(0,ar.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-700",children:(0,ar.jsxs)("div",{children:[(0,ar.jsx)("div",{children:new Date(e["HI\u1ec6U L\u1ef0C T\u1eea"]).toLocaleDateString("vi-VN")}),e["HI\u1ec6U L\u1ef0C \u0110\u1ebeN"]&&"1970-01-01"!==new Date(e["HI\u1ec6U L\u1ef0C \u0110\u1ebeN"]).toLocaleDateString("vi-VN")?(0,ar.jsxs)("div",{className:"text-xs text-gray-500",children:["\u0111\u1ebfn ",new Date(e["HI\u1ec6U L\u1ef0C \u0110\u1ebeN"]).toLocaleDateString("vi-VN")]}):(0,ar.jsx)("div",{className:"text-xs text-gray-500",children:"\u2014"})]})}),(0,ar.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:(0,ar.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,ar.jsx)("button",{onClick:()=>K(e),className:"text-indigo-600 hover:text-indigo-900 p-1.5 rounded-full hover:bg-indigo-50",title:"S\u1eeda ph\xe2n b\u1ed5",children:(0,ar.jsx)(kk,{className:"h-4 w-4"})}),(0,ar.jsx)("button",{onClick:()=>(e=>{b(e),g(!0)})(e),className:"text-red-600 hover:text-red-900 p-1.5 rounded-full hover:bg-red-50",title:"X\xf3a ph\xe2n b\u1ed5",children:(0,ar.jsx)(Tk,{className:"h-4 w-4"})})]})})]},`${e["ID T\u1ed4 C\xd4NG \u0110O\u1ea0N"]}-${t}`)))})]})]},`${t}-${r}`)}))})]},t)})):(0,ar.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg border",children:[(0,ar.jsx)("div",{className:"text-gray-500 text-lg mb-2",children:"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u"}),(0,ar.jsx)("div",{className:"text-sm text-gray-400",children:"Kh\xf4ng c\xf3 ph\xe2n b\u1ed5 nh\xe2n s\u1ef1 n\xe0o ph\xf9 h\u1ee3p v\u1edbi ti\xeau ch\xed t\xecm ki\u1ebfm"})]})})]})}),c&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-6xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-5",children:[(0,ar.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:j?"C\u1eadp nh\u1eadt ph\xe2n b\u1ed5 nh\xe2n s\u1ef1":"Th\xeam ph\xe2n b\u1ed5 nh\xe2n s\u1ef1 m\u1edbi"}),(0,ar.jsx)("button",{onClick:$,className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ar.jsxs)("div",{className:"space-y-4",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ng\xe0y c\xe0i \u0111\u1eb7t ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"date",value:W(o["NG\xc0Y C\xc0I \u0110\u1eb6T"]),onChange:e=>q("NG\xc0Y C\xc0I \u0110\u1eb6T",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Hi\u1ec7u l\u1ef1c t\u1eeb ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"date",value:W(o["HI\u1ec6U L\u1ef0C T\u1eea"]),onChange:e=>q("HI\u1ec6U L\u1ef0C T\u1eea",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hi\u1ec7u l\u1ef1c \u0111\u1ebfn"}),(0,ar.jsx)("input",{type:"date",value:W(o["HI\u1ec6U L\u1ef0C \u0110\u1ebeN"]),onChange:e=>q("HI\u1ec6U L\u1ef0C \u0110\u1ebeN",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["T\u1ed5 ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"text",value:o["T\u1ed4"],onChange:e=>(e=>{const t={...o,"T\u1ed4":e};e&&t["M\xc3 C\xd4NG \u0110O\u1ea0N"]&&(t["ID T\u1ed4 C\xd4NG \u0110O\u1ea0N"]=R(e,t["M\xc3 C\xd4NG \u0110O\u1ea0N"])),l(t)})(e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Nh\u1eadp t\xean t\u1ed5",required:!0})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["T\xean c\xf4ng \u0111o\u1ea1n ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("select",{value:o["T\xcaN C\xd4NG \u0110O\u1ea0N"],onChange:e=>(e=>{const t=r.find((t=>t["T\xcaN C\xd4NG \u0110O\u1ea0N"]===e)),n={...o,"T\xcaN C\xd4NG \u0110O\u1ea0N":e,"M\xc3 C\xd4NG \u0110O\u1ea0N":t?t["M\xc3 C\xd4NG \u0110O\u1ea0N"]:"","NH\xd3M":t?t["NH\xd3M"]:"","\u0110\u01a0N V\u1eca T\xcdNH":t?t["\u0110\u01a0N V\u1eca T\xcdNH"]:"","PP T\xcdNH N\u0102NG SU\u1ea4T":t?t["PP T\xcdNH N\u0102NG SU\u1ea4T"]:"","\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T":t?t["\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"]:""};n["T\u1ed4"]&&n["M\xc3 C\xd4NG \u0110O\u1ea0N"]&&(n["ID T\u1ed4 C\xd4NG \u0110O\u1ea0N"]=R(n["T\u1ed4"],n["M\xc3 C\xd4NG \u0110O\u1ea0N"])),l(n)})(e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[(0,ar.jsx)("option",{value:"",children:"Ch\u1ecdn c\xf4ng \u0111o\u1ea1n"}),r.map((e=>(0,ar.jsx)("option",{value:e["T\xcaN C\xd4NG \u0110O\u1ea0N"],children:e["T\xcaN C\xd4NG \u0110O\u1ea0N"]},e["M\xc3 C\xd4NG \u0110O\u1ea0N"])))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID T\u1ed5 C\xf4ng \u0110o\u1ea1n (t\u1ef1 t\u1ea1o)"}),(0,ar.jsx)("input",{type:"text",value:o["ID T\u1ed4 C\xd4NG \u0110O\u1ea0N"],className:"p-2.5 border border-gray-300 rounded-lg w-full bg-gray-100",readOnly:!0})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nh\xf3m (t\u1eeb c\xf4ng \u0111o\u1ea1n)"}),(0,ar.jsx)("input",{type:"text",value:o["NH\xd3M"],className:"p-2.5 border border-gray-300 rounded-lg w-full bg-gray-100",readOnly:!0})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M\xe3 c\xf4ng \u0111o\u1ea1n"}),(0,ar.jsx)("input",{type:"text",value:o["M\xc3 C\xd4NG \u0110O\u1ea0N"],className:"p-2.5 border border-gray-300 rounded-lg w-full bg-gray-100",readOnly:!0})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u0110\u01a1n gi\xe1 n\u0103ng su\u1ea5t"}),(0,ar.jsx)("input",{type:"text",value:o["\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"]?parseFloat(o["\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"]).toLocaleString("vi-VN"):"",className:"p-2.5 border border-gray-300 rounded-lg w-full bg-gray-100",readOnly:!0})]})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u0110\u01a1n v\u1ecb t\xednh"}),(0,ar.jsx)("input",{type:"text",value:o["\u0110\u01a0N V\u1eca T\xcdNH"],className:"p-2.5 border border-gray-300 rounded-lg w-full bg-gray-100",readOnly:!0})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PP t\xednh n\u0103ng su\u1ea5t"}),(0,ar.jsx)("input",{type:"text",value:o["PP T\xcdNH N\u0102NG SU\u1ea4T"],className:"p-2.5 border border-gray-300 rounded-lg w-full bg-gray-100",readOnly:!0})]})]})]}),(0,ar.jsxs)("div",{className:"space-y-4",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["\u0110\u01a1n gi\xe1 ph\u1ee5 c\u1ea5p TN/Th\xe1ng ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"number",value:o["\u0110\u01a0N GI\xc1 PH\u1ee4 C\u1ea4P TN/TH\xc1NG"],onChange:e=>q("\u0110\u01a0N GI\xc1 PH\u1ee4 C\u1ea4P TN/TH\xc1NG",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Nh\u1eadp \u0111\u01a1n gi\xe1 ph\u1ee5 c\u1ea5p",min:"0",step:"1000",required:!0})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"S\u1ed1 l\u01b0\u1ee3ng nh\xe2n s\u1ef1 (t\u1ef1 \u0111\u1ed9ng \u0111\u1ebfm)"}),(0,ar.jsxs)("div",{className:"p-2.5 border border-gray-300 rounded-lg w-full bg-gray-100 flex items-center gap-2",children:[(0,ar.jsx)(Ck,{className:"w-5 h-5 text-gray-500"}),(0,ar.jsx)("span",{className:"font-semibold text-lg",children:o["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"]}),(0,ar.jsx)("span",{className:"text-gray-500",children:"ng\u01b0\u1eddi"})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ch\u1ecdn nh\xe2n s\u1ef1 ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("div",{className:"relative mb-2",children:[(0,ar.jsx)(wk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,ar.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm nh\xe2n vi\xean...",value:D,onChange:e=>M(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,ar.jsx)("div",{className:"border border-gray-300 rounded-lg p-3 max-h-60 overflow-y-auto",children:(0,ar.jsx)("div",{className:"space-y-2",children:U.length>0?U.map((e=>(0,ar.jsxs)("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded",children:[(0,ar.jsx)("span",{className:"text-sm",children:e["H\u1ecd v\xe0 T\xean"]}),E.includes(e["H\u1ecd v\xe0 T\xean"])?(0,ar.jsx)("button",{type:"button",onClick:()=>Y(e["H\u1ecd v\xe0 T\xean"]),className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-50",title:"X\xf3a kh\u1ecfi danh s\xe1ch",children:(0,ar.jsx)(jB,{className:"w-5 h-5"})}):(0,ar.jsx)("button",{type:"button",onClick:()=>(e=>{if(!E.includes(e)){const t=[...E,e];X(t)}})(e["H\u1ecd v\xe0 T\xean"]),className:"text-green-600 hover:text-green-800 p-1 rounded-full hover:bg-green-50",title:"Th\xeam v\xe0o danh s\xe1ch",children:(0,ar.jsx)(kB,{className:"w-5 h-5"})})]},e["H\u1ecd v\xe0 T\xean"]))):(0,ar.jsx)("div",{className:"text-center py-4 text-gray-500",children:D?"Kh\xf4ng t\xecm th\u1ea5y nh\xe2n vi\xean n\xe0o":"Kh\xf4ng c\xf3 nh\xe2n vi\xean"})})}),D&&U.length>0&&(0,ar.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,ar.jsxs)("button",{type:"button",onClick:()=>{const e=[...new Set([...E,...U.map((e=>e["H\u1ecd v\xe0 T\xean"]))])];X(e)},className:"px-3 py-1 text-xs bg-green-100 text-green-700 rounded-full hover:bg-green-200 transition-colors",children:["Th\xeam t\u1ea5t c\u1ea3 (",U.filter((e=>!E.includes(e["H\u1ecd v\xe0 T\xean"]))).length,")"]}),(0,ar.jsx)("button",{type:"button",onClick:()=>M(""),className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors",children:"X\xf3a t\xecm ki\u1ebfm"})]})]}),E.length>0&&(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nh\xe2n s\u1ef1 \u0111\xe3 ch\u1ecdn (",E.length,")"]}),(0,ar.jsx)("div",{className:"border border-gray-300 rounded-lg p-3 max-h-32 overflow-y-auto bg-blue-50",children:(0,ar.jsx)("div",{className:"flex flex-wrap gap-2",children:E.map((e=>(0,ar.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:[e,(0,ar.jsx)("button",{type:"button",onClick:()=>Y(e),className:"text-blue-600 hover:text-blue-800",children:(0,ar.jsx)(xk,{className:"w-3 h-3"})})]},e)))})})]})]})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200 mt-6",children:[(0,ar.jsx)("button",{onClick:$,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors shadow-sm",disabled:d,children:"H\u1ee7y"}),(0,ar.jsx)("button",{onClick:async()=>{if(!d)try{h(!0);const e=(e=>{const t=[];return e["NG\xc0Y C\xc0I \u0110\u1eb6T"]||t.push("Ng\xe0y c\xe0i \u0111\u1eb7t kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e["HI\u1ec6U L\u1ef0C T\u1eea"]||t.push("Hi\u1ec7u l\u1ef1c t\u1eeb kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e["T\u1ed4"]||t.push("T\u1ed5 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e["T\xcaN C\xd4NG \u0110O\u1ea0N"]||t.push("T\xean c\xf4ng \u0111o\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e["NH\xc2N S\u1ef0"]&&0!==e["NH\xc2N S\u1ef0"].length||t.push("Ph\u1ea3i ch\u1ecdn \xedt nh\u1ea5t m\u1ed9t nh\xe2n s\u1ef1"),e["\u0110\u01a0N GI\xc1 PH\u1ee4 C\u1ea4P TN/TH\xc1NG"]||t.push("\u0110\u01a1n gi\xe1 ph\u1ee5 c\u1ea5p kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e["HI\u1ec6U L\u1ef0C \u0110\u1ebeN"]&&e["HI\u1ec6U L\u1ef0C T\u1eea"]&&new Date(e["HI\u1ec6U L\u1ef0C \u0110\u1ebeN"])<new Date(e["HI\u1ec6U L\u1ef0C T\u1eea"])&&t.push("Hi\u1ec7u l\u1ef1c \u0111\u1ebfn ph\u1ea3i sau hi\u1ec7u l\u1ef1c t\u1eeb"),t})(o);if(e.length>0)return et.error(e.join("\n")),void h(!1);const t={...o,"NH\xc2N S\u1ef0":o["NH\xc2N S\u1ef0"].join(", ")};j?(await ut.apiRequest("TO_PBNS","Edit",{Rows:[t]}),et.success("C\u1eadp nh\u1eadt ph\xe2n b\u1ed5 nh\xe2n s\u1ef1 th\xe0nh c\xf4ng!")):(await ut.apiRequest("TO_PBNS","Add",{Rows:[t]}),et.success("Th\xeam ph\xe2n b\u1ed5 nh\xe2n s\u1ef1 m\u1edbi th\xe0nh c\xf4ng!")),await L(),$()}catch(e){console.error("Error saving phan bo nhan su:",e),et.error("C\xf3 l\u1ed7i x\u1ea3y ra: "+(e.message||"Kh\xf4ng th\u1ec3 l\u01b0u ph\xe2n b\u1ed5 nh\xe2n s\u1ef1"))}finally{h(!1)}},disabled:d,className:`px-4 py-2 bg-indigo-600 text-white rounded-lg ${d?"opacity-50 cursor-not-allowed":"hover:bg-indigo-700"} flex items-center gap-2 transition-colors shadow-sm`,children:d?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ar.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ar.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0110ang l\u01b0u..."]}):(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)(Ek,{className:"w-4 h-4"}),j?"C\u1eadp nh\u1eadt":"Th\xeam m\u1edbi"]})})]})]})}),m&&x&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-5",children:[(0,ar.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"X\xe1c nh\u1eadn x\xf3a"}),(0,ar.jsx)("button",{onClick:Q,className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsxs)("div",{className:"space-y-5",children:[(0,ar.jsxs)("div",{className:"bg-red-50 border border-red-100 rounded-lg p-4",children:[(0,ar.jsx)("p",{className:"text-red-700",children:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a ph\xe2n b\u1ed5 nh\xe2n s\u1ef1 n\xe0y?"}),(0,ar.jsxs)("div",{className:"mt-3 text-sm text-red-600",children:[(0,ar.jsxs)("p",{children:[(0,ar.jsx)("strong",{children:"ID:"})," ",x["ID T\u1ed4 C\xd4NG \u0110O\u1ea0N"]]}),(0,ar.jsxs)("p",{children:[(0,ar.jsx)("strong",{children:"Nh\xf3m:"})," ",x["NH\xd3M"]]}),(0,ar.jsxs)("p",{children:[(0,ar.jsx)("strong",{children:"T\u1ed5:"})," ",x["T\u1ed4"]]}),(0,ar.jsxs)("p",{children:[(0,ar.jsx)("strong",{children:"C\xf4ng \u0111o\u1ea1n:"})," ",x["T\xcaN C\xd4NG \u0110O\u1ea0N"]]}),(0,ar.jsxs)("p",{children:[(0,ar.jsx)("strong",{children:"S\u1ed1 nh\xe2n s\u1ef1:"})," ",x["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"]," ng\u01b0\u1eddi"]}),(0,ar.jsxs)("p",{children:[(0,ar.jsx)("strong",{children:"Ph\u1ee5 c\u1ea5p:"})," ",parseFloat(x["\u0110\u01a0N GI\xc1 PH\u1ee4 C\u1ea4P TN/TH\xc1NG"]).toLocaleString("vi-VN")," VN\u0110"]})]}),(0,ar.jsx)("p",{className:"text-sm text-red-600 mt-2",children:"H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c."})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,ar.jsx)("button",{onClick:Q,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors shadow-sm",children:"H\u1ee7y"}),(0,ar.jsxs)("button",{onClick:async()=>{if(x)try{await ut.apiRequest("TO_PBNS","Delete",{Rows:[{"ID T\u1ed4 C\xd4NG \u0110O\u1ea0N":x["ID T\u1ed4 C\xd4NG \u0110O\u1ea0N"]}]}),et.success("X\xf3a ph\xe2n b\u1ed5 nh\xe2n s\u1ef1 th\xe0nh c\xf4ng!"),await L(),Q()}catch(e){console.error("Error deleting phan bo nhan su:",e),et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a ph\xe2n b\u1ed5 nh\xe2n s\u1ef1")}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(Tk,{className:"h-4 w-4"}),"X\xf3a ph\xe2n b\u1ed5"]})]})]})]})}),(0,ar.jsx)(lt,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},SB=fr("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),OB=fr("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),_B=fr("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),EB=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";t+=Date.now().toString(36).toUpperCase().slice(-4).padStart(4,e.charAt(Math.floor(36*Math.random())));for(let r=0;r<4;r++)t+=e.charAt(Math.floor(36*Math.random()));return t},CB=e=>{let{record:t,onClose:r,onSuccess:a}=e;const[i,s]=(0,n.useState)([]),[o,l]=(0,n.useState)([]),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)((()=>{const e=parseFloat(t["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"]||0)>0,r=parseFloat(t["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]||0)>0;return e?"anh":r?"em":"anh"})),f=(0,n.useMemo)((()=>{const e=parseFloat(t["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"]||0),r=parseFloat(t["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]||0),n=o.filter((e=>"anh"===e.type)).reduce(((e,t)=>e+parseFloat(t.totalQuantity||0)),0),a=o.filter((e=>"em"===e.type)).reduce(((e,t)=>e+parseFloat(t.totalQuantity||0)),0);return{anh:e-n,em:r-a}}),[o,t]);(0,n.useEffect)((()=>{p()}),[]);const p=async()=>{try{u(!0);const e=await ut.apiRequest("TO_PBNS","Find",{}),r=new Date(t["NG\xc0Y TH\xc1NG"]),n=e.filter((e=>{const t=new Date(e["HI\u1ec6U L\u1ef0C T\u1eea"]),n=new Date(e["HI\u1ec6U L\u1ef0C \u0110\u1ebeN"]);return r>=t&&r<=n})),a=m(n);s(a)}catch(e){console.error("Error fetching team data:",e),et.error("L\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u t\u1ed5 c\xf4ng \u0111o\u1ea1n")}finally{u(!1)}},m=e=>{const t={};return e.forEach((e=>{const r=e["T\u1ed4"],n=e["NH\xd3M"];t[r]||(t[r]={teamName:r,anh:[],em:[]}),"Bao b\xec anh"===n?t[r].anh.push(e):"Bao b\xec em"===n&&t[r].em.push(e)})),Object.values(t)},g=o.filter((e=>e.type===d)),x=parseFloat(t["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"]||0)>0,b=parseFloat(t["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]||0)>0;return x||b?(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[(0,ar.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-xl",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[(0,ar.jsx)(yr,{className:"h-6 w-6 text-indigo-600"}),"Ph\xe2n b\u1ed5 bao b\xec - ",t["S\u1ed0 XE"]]}),(0,ar.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Kh\xe1ch h\xe0ng: ",t["KH\xc1CH H\xc0NG"]," | Ng\xe0y: ",new Date(t["NG\xc0Y TH\xc1NG"]).toLocaleDateString("vi-VN")]})]}),(0,ar.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 p-2 rounded-full hover:bg-gray-100",children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsxs)("div",{className:"flex space-x-1 mt-4",children:[x&&(0,ar.jsxs)("button",{onClick:()=>h("anh"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+("anh"===d?"bg-blue-100 text-blue-800 border border-blue-200":"text-gray-600 hover:bg-gray-100"),children:["Bao b\xec Anh (",parseFloat(t["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"]||0).toFixed(2)," t\u1ea5n)",(0,ar.jsxs)("span",{className:"ml-2 text-xs",children:["C\xf2n: ",f.anh.toFixed(2)," t\u1ea5n"]})]}),b&&(0,ar.jsxs)("button",{onClick:()=>h("em"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+("em"===d?"bg-purple-100 text-purple-800 border border-purple-200":"text-gray-600 hover:bg-gray-100"),children:["Bao b\xec Em (",parseFloat(t["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]||0).toFixed(2)," t\u1ea5n)",(0,ar.jsxs)("span",{className:"ml-2 text-xs",children:["C\xf2n: ",f.em.toFixed(2)," t\u1ea5n"]})]})]})]}),(0,ar.jsxs)("div",{className:"p-6",children:[c?(0,ar.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,ar.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),(0,ar.jsx)("span",{className:"ml-2 text-gray-600",children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u..."})]}):(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("div",{className:"mb-6",children:[(0,ar.jsxs)("h3",{className:"text-lg font-medium mb-3 flex items-center gap-2",children:[(0,ar.jsx)(Ck,{className:"h-5 w-5"}),"Ch\u1ecdn t\u1ed5 \u0111\u1ec3 ph\xe2n b\u1ed5 ","anh"===d?"bao b\xec anh":"bao b\xec em"]}),(0,ar.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.filter((e=>e[d].length>0)).map((e=>(0,ar.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ar.jsx)("h4",{className:"font-medium text-gray-800",children:e.teamName}),(0,ar.jsxs)("button",{onClick:()=>((e,t)=>{const r=o.find((r=>r.teamId===e.teamName&&r.type===t));if(r)return void et.warning(`T\u1ed5 ${e.teamName} \u0111\xe3 \u0111\u01b0\u1ee3c ph\xe2n b\u1ed5 cho ${"anh"===t?"bao b\xec anh":"bao b\xec em"}`);const n={id:Date.now().toString(),type:t,teamId:e.teamName,teamName:e.teamName,processes:e[t].map((e=>({...e,quantity:0}))),totalQuantity:0};l([...o,n])})(e,d),className:"px-3 py-1 bg-indigo-600 text-white rounded text-sm hover:bg-indigo-700 flex items-center gap-1",children:[(0,ar.jsx)(Nk,{className:"w-3 h-3"}),"Ch\u1ecdn"]})]}),(0,ar.jsxs)("div",{className:"text-sm text-gray-600",children:[e[d].length," c\xf4ng \u0111o\u1ea1n ","anh"===d?"bao b\xec anh":"bao b\xec em"]}),(0,ar.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:[e[d].slice(0,3).map((e=>e["T\xcaN C\xd4NG \u0110O\u1ea0N"])).join(", "),e[d].length>3&&"..."]})]},e.teamName)))}),0===i.filter((e=>e[d].length>0)).length&&(0,ar.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,ar.jsx)(yr,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),(0,ar.jsxs)("p",{children:["Kh\xf4ng c\xf3 t\u1ed5 n\xe0o c\xf3 c\xf4ng \u0111o\u1ea1n ","anh"===d?"bao b\xec anh":"bao b\xec em"]})]})]}),(0,ar.jsxs)("div",{className:"mb-6",children:[(0,ar.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Ph\xe2n b\u1ed5 hi\u1ec7n t\u1ea1i"}),(0,ar.jsxs)("div",{className:"space-y-4",children:[g.map((e=>(0,ar.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("h4",{className:"font-medium text-gray-800",children:["T\u1ed5: ",e.teamName]}),(0,ar.jsxs)("p",{className:"text-sm text-gray-600",children:[e.processes.length," c\xf4ng \u0111o\u1ea1n s\u1ebd nh\u1eadn \u0111\u1ec1u nhau"]})]}),(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("input",{type:"number",step:"1",min:"0",max:"anh"===d?f.anh+e.totalQuantity:f.em+e.totalQuantity,placeholder:"S\u1ed1 l\u01b0\u1ee3ng (t\u1ea5n)",value:e.totalQuantity||"",onChange:t=>((e,t)=>{const r=parseFloat(t||0);l((t=>t.map((t=>{if(t.id===e){const e=t.processes.map((e=>({...e,quantity:r})));return{...t,processes:e,totalQuantity:r}}return t}))))})(e.id,t.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded text-sm focus:ring-indigo-500 focus:border-indigo-500"}),(0,ar.jsx)("button",{onClick:()=>{return t=e.id,void l((e=>e.filter((e=>e.id!==t))));var t},className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",title:"X\xf3a ph\xe2n b\u1ed5",children:(0,ar.jsx)(bB,{className:"w-4 h-4"})})]})]}),(0,ar.jsxs)("div",{className:"bg-white rounded p-3 border",children:[(0,ar.jsx)("div",{className:"text-sm font-medium mb-2 text-gray-700",children:"C\xe1c c\xf4ng \u0111o\u1ea1n s\u1ebd nh\u1eadn:"}),(0,ar.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs",children:e.processes.map(((e,t)=>{const r=parseFloat(e["\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"]||0),n=e.quantity*r;return(0,ar.jsxs)("div",{className:"bg-gray-50 p-2 rounded border-l-2 border-indigo-200",children:[(0,ar.jsx)("div",{className:"font-medium text-gray-800",children:e["T\xcaN C\xd4NG \u0110O\u1ea0N"]}),(0,ar.jsxs)("div",{className:"text-gray-600 mt-1",children:[e.quantity.toFixed(2)," t\u1ea5n \xd7 ",r.toLocaleString()," = ",n.toLocaleString()," VN\u0110"]}),(0,ar.jsxs)("div",{className:"text-gray-500 text-xs mt-1",children:["Nh\xe2n s\u1ef1: ",e["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"]||"Ch\u01b0a x\xe1c \u0111\u1ecbnh"]})]},t)}))})]})]},e.id))),0===g.length&&(0,ar.jsxs)("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-200 rounded-lg",children:[(0,ar.jsx)(yr,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),(0,ar.jsxs)("p",{children:["Ch\u01b0a c\xf3 ph\xe2n b\u1ed5 n\xe0o cho ","anh"===d?"bao b\xec anh":"bao b\xec em"]}),(0,ar.jsx)("p",{className:"text-sm",children:"Ch\u1ecdn t\u1ed5 t\u1eeb danh s\xe1ch tr\xean \u0111\u1ec3 th\xeam ph\xe2n b\u1ed5"})]})]})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 border border-indigo-200 rounded-lg p-4 mb-6",children:[(0,ar.jsx)("h3",{className:"text-lg font-medium text-indigo-800 mb-3",children:"T\u1ed5ng k\u1ebft ph\xe2n b\u1ed5"}),(0,ar.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[x&&(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[(0,ar.jsx)("div",{className:"text-sm text-gray-600",children:"T\u1ed5ng Anh"}),(0,ar.jsxs)("div",{className:"text-lg font-bold text-blue-600",children:[parseFloat(t["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"]||0).toFixed(2)," t\u1ea5n"]})]}),(0,ar.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[(0,ar.jsx)("div",{className:"text-sm text-gray-600",children:"C\xf2n l\u1ea1i Anh"}),(0,ar.jsxs)("div",{className:"text-lg font-bold "+(f.anh>=0?"text-green-600":"text-red-600"),children:[f.anh.toFixed(2)," t\u1ea5n"]})]})]}),b&&(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[(0,ar.jsx)("div",{className:"text-sm text-gray-600",children:"T\u1ed5ng Em"}),(0,ar.jsxs)("div",{className:"text-lg font-bold text-purple-600",children:[parseFloat(t["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]||0).toFixed(2)," t\u1ea5n"]})]}),(0,ar.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[(0,ar.jsx)("div",{className:"text-sm text-gray-600",children:"C\xf2n l\u1ea1i Em"}),(0,ar.jsxs)("div",{className:"text-lg font-bold "+(f.em>=0?"text-green-600":"text-red-600"),children:[f.em.toFixed(2)," t\u1ea5n"]})]})]})]}),(f.anh<-.001||f.em<-.001)&&(0,ar.jsx)("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,ar.jsxs)("div",{className:"flex items-center text-red-800",children:[(0,ar.jsx)(_k,{className:"h-4 w-4 mr-2"}),(0,ar.jsx)("span",{className:"text-sm font-medium",children:"C\u1ea3nh b\xe1o: S\u1ed1 l\u01b0\u1ee3ng ph\xe2n b\u1ed5 v\u01b0\u1ee3t qu\xe1 s\u1ed1 l\u01b0\u1ee3ng c\xf3 s\u1eb5n!"})]})})]})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,ar.jsx)("button",{onClick:r,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"H\u1ee7y"}),(0,ar.jsx)("button",{onClick:async()=>{try{if(u(!0),f.anh<-.001||f.em<-.001)return void et.error("S\u1ed1 l\u01b0\u1ee3ng ph\xe2n b\u1ed5 v\u01b0\u1ee3t qu\xe1 s\u1ed1 l\u01b0\u1ee3ng c\xf3 s\u1eb5n");const n=[],i=o.filter((e=>"anh"===e.type)).reduce(((e,t)=>e+parseFloat(t.totalQuantity||0)),0),s=o.filter((e=>"em"===e.type)).reduce(((e,t)=>e+parseFloat(t.totalQuantity||0)),0);if(o.forEach((e=>{e.processes.forEach((r=>{if(r.quantity>0){var a;const i=parseFloat(r["\u0110\u01a0N GI\xc1 N\u0102NG SU\u1ea4T"]||0),s=r.quantity*i;n.push({IDBC:EB(),"NG\xc0Y":t["NG\xc0Y TH\xc1NG"],ID_NHAPBAOBI:t.ID,"T\xcaN H\xc0NG":"anh"===e.type?"Bao b\xec anh":"Bao b\xec em","T\u1ed4":r["T\u1ed4"],"C\xd4NG \u0110O\u1ea0N":r["T\xcaN C\xd4NG \u0110O\u1ea0N"],"\u0110\u01a0N V\u1eca T\xcdNH":r["\u0110\u01a0N V\u1eca T\xcdNH"]||"T\u1ea5n","PP T\xcdNH N\u0102NG SU\u1ea4T":r["PP T\xcdNH N\u0102NG SU\u1ea4T"]||"T\u1ea5n","KH\u1ed0I L\u01af\u1ee2NG":r.quantity,"S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0":r["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"]||"","NH\xc2N S\u1ef0":r["NH\xc2N S\u1ef0"]||"","S\u1ed0 D\xc2Y":"","GHI CH\xda":`Ph\xe2n b\u1ed5 t\u1eeb ${t["S\u1ed0 XE"]} - ${t["KH\xc1CH H\xc0NG"]}`,"NG\u01af\u1edcI NH\u1eacP":(null===(a=ut.getUserData())||void 0===a?void 0:a["H\u1ecd v\xe0 T\xean"])||"H\u1ec7 th\u1ed1ng","\u0110\u01a0N GI\xc1":i,"TH\xc0NH TI\u1ec0N":s,"L\u1ecaCH S\u1eec":`[${(new Date).toLocaleString("vi-VN")}] T\u1ea1o t\u1eeb ph\xe2n b\u1ed5 bao b\xec`})}}))})),0===n.length)return void et.warning("Kh\xf4ng c\xf3 d\u1eef li\u1ec7u \u0111\u1ec3 l\u01b0u. Vui l\xf2ng nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng cho c\xe1c t\u1ed5.");const l=parseFloat(t["\u0110\xc3 PH\xc2N B\u1ed4 (ANH)"]||0),c=parseFloat(t["\u0110\xc3 PH\xc2N B\u1ed4 (EM)"]||0),d=l+i,h=c+s,p=parseFloat(t["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"]||0),m=parseFloat(t["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]||0),g=p-d,x=m-h,b={...t,"\u0110\xc3 PH\xc2N B\u1ed4 (ANH)":d.toFixed(2),"B\xc3I (ANH)":g.toFixed(2),"\u0110\xc3 PH\xc2N B\u1ed4 (EM)":h.toFixed(2),"B\xc3I (EM)":x.toFixed(2)},y=20;let v=0;for(let t=0;t<n.length;t+=y){const r=n.slice(t,t+y);try{await ut.apiRequest("BC2","Add",{Rows:r}),v+=r.length}catch(e){throw console.error("Error saving batch:",e),new Error(`L\u1ed7i khi l\u01b0u batch ${Math.floor(t/y)+1}: ${e.message}`)}}await ut.apiRequest("NHAPBAOBI","Edit",{Rows:[b]}),et.success(`\u0110\xe3 l\u01b0u th\xe0nh c\xf4ng ${v} b\u1ea3n ghi ph\xe2n b\u1ed5 v\xe0 c\u1eadp nh\u1eadt th\xf4ng tin bao b\xec`),null===a||void 0===a||a(),r()}catch(e){console.error("Error saving allocation:",e),et.error("L\u1ed7i khi l\u01b0u ph\xe2n b\u1ed5: "+e.message)}finally{u(!1)}},disabled:c||0===o.length||f.anh<-.001||f.em<-.001,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:c?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),"\u0110ang l\u01b0u..."]}):(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)(mk,{className:"w-4 h-4"}),"L\u01b0u ph\xe2n b\u1ed5 (",o.reduce(((e,t)=>e+t.processes.length),0)," b\u1ea3n ghi)"]})})]})]})]})}):(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ar.jsx)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:(0,ar.jsxs)("div",{className:"text-center",children:[(0,ar.jsx)(_k,{className:"h-16 w-16 text-yellow-500 mx-auto mb-4"}),(0,ar.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u \u0111\u1ec3 ph\xe2n b\u1ed5"}),(0,ar.jsx)("p",{className:"text-gray-600 mb-4",children:"B\u1ea3n ghi n\xe0y kh\xf4ng c\xf3 th\u1ef1c nh\u1eadn bao b\xec anh ho\u1eb7c em."}),(0,ar.jsx)("button",{onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u0110\xf3ng"})]})})})},AB=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";t+=Date.now().toString(36).toUpperCase().slice(-4).padStart(4,e.charAt(Math.floor(36*Math.random())));for(let r=0;r<4;r++)t+=e.charAt(Math.floor(36*Math.random()));return t},IB=e=>{if(!e)return"";if("string"===typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=new Date(e);if(isNaN(t.getTime()))return"";return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`},PB=e=>{if(!e)return null;if(e.includes("/")){const[t,r,n]=e.split("/").map(Number),a=new Date(n,r-1,t);return a.setHours(0,0,0,0),a}const t=new Date(e);return t.setHours(0,0,0,0),t},HB=e=>!e||isNaN(e)?"0.00":parseFloat(e).toFixed(2),DB=e=>!e||isNaN(e)?"0 VN\u0110":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),MB=e=>{const t=parseFloat(e)||0,r=.03*t,n=t-r;return{truBaoBi:r.toFixed(2),thucNhan:n.toFixed(2)}},LB=e=>{let{currentPage:t,totalPages:r,onPageChange:n,itemsPerPage:a,onItemsPerPageChange:i,totalItems:s}=e;return(0,ar.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mt-6",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("label",{className:"text-sm text-gray-600 whitespace-nowrap",children:"Hi\u1ec3n th\u1ecb:"}),(0,ar.jsxs)("select",{value:a,onChange:e=>i(Number(e.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-indigo-500 focus:border-indigo-500 bg-white",children:[(0,ar.jsx)("option",{value:10,children:"10 d\xf2ng"}),(0,ar.jsx)("option",{value:25,children:"25 d\xf2ng"}),(0,ar.jsx)("option",{value:50,children:"50 d\xf2ng"}),(0,ar.jsx)("option",{value:100,children:"100 d\xf2ng"})]}),(0,ar.jsxs)("span",{className:"text-sm text-gray-600",children:["(T\u1ed5ng: ",s," b\u1ea3n ghi)"]})]}),(0,ar.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,ar.jsx)("button",{onClick:()=>n(t-1),disabled:1===t,className:"p-2 rounded-md "+(1===t?"text-gray-400 cursor-not-allowed":"text-indigo-600 hover:bg-indigo-50"),children:(0,ar.jsx)(lk,{className:"h-5 w-5"})}),(0,ar.jsx)("div",{className:"flex space-x-1",children:Array.from({length:Math.min(5,r)},((e,a)=>{let i;return i=r<=5||t<=3?a+1:t>=r-2?r-4+a:t-2+a,(0,ar.jsx)("button",{onClick:()=>n(i),className:"w-8 h-8 flex items-center justify-center rounded-md "+(t===i?"bg-indigo-600 text-white":"text-gray-700 hover:bg-indigo-50"),children:i},i)}))}),(0,ar.jsx)("button",{onClick:()=>n(t+1),disabled:t===r,className:"p-2 rounded-md "+(t===r?"text-gray-400 cursor-not-allowed":"text-indigo-600 hover:bg-indigo-50"),children:(0,ar.jsx)(ek,{className:"h-5 w-5"})}),(0,ar.jsxs)("span",{className:"text-sm text-gray-600 ml-2",children:["Trang ",t," / ",r||1]})]})]})},RB=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[i,s]=(0,n.useState)("list"),[o,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)(""),[d,h]=(0,n.useState)(1),[f,p]=(0,n.useState)(10),[m,g]=(0,n.useState)(!1),[x,b]=(0,n.useState)([]),[y,v]=(0,n.useState)(!1),[N,w]=(0,n.useState)(new Set),[j,k]=(0,n.useState)(new Set),[T,S]=(0,n.useState)({key:null,direction:"asc"}),[O,_]=(0,n.useState)({searchFilter:"",startDate:null,endDate:null,allocationStatus:""}),[E,C]=(0,n.useState)(!1),[A,I]=(0,n.useState)(null),[P,H]=(0,n.useState)([]),[D,M]=(0,n.useState)(!1),[L,R]=(0,n.useState)(!1),[F,U]=(0,n.useState)(null),[G,B]=(0,n.useState)(!1),[z,V]=(0,n.useState)(null),[K,$]=(0,n.useState)(""),[W,X]=(0,n.useState)(""),[Y,q]=(0,n.useState)(!1),[Q,Z]=(0,n.useState)(!1),[J,ee]=(0,n.useState)(null),te={ID:"","NG\xc0Y TH\xc1NG":new Date,"S\u1ed0 XE":"","KH\xc1CH H\xc0NG":"","BAO B\xcc ANH (T\u1ea4N)":"","TR\u1eea BAO B\xcc ANH (T\u1ea4N)":"","TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)":"","BAO B\xcc EM (T\u1ea4N)":"","TR\u1eea BAO B\xcc EM (T\u1ea4N)":"","TH\u1ef0C NH\u1eacN EM (T\u1ea4N)":""},[re,ne]=(0,n.useState)(te),ae=e=>{const t=new Set(N);t.has(e)?t.delete(e):t.add(e),w(t)},ie=e=>{const t=new Set(j);t.has(e)?t.delete(e):t.add(e),k(t)},se=e=>{const t=r.filter((t=>t.ID_NHAPBAOBI===e.ID)),n=parseFloat(e["\u0110\xc3 PH\xc2N B\u1ed4 (ANH)"]||0),a=parseFloat(e["\u0110\xc3 PH\xc2N B\u1ed4 (EM)"]||0),i=parseFloat(e["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"]||0),s=parseFloat(e["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]||0),o=i-n,l=s-a,c=e["B\xc3I (ANH)"]?parseFloat(e["B\xc3I (ANH)"]):Math.max(0,o),u=e["B\xc3I (EM)"]?parseFloat(e["B\xc3I (EM)"]):Math.max(0,l);return{totalReports:t.length,allocatedAnh:n,allocatedEm:a,remainingAnh:Math.max(0,o),remainingEm:Math.max(0,l),baiAnh:c,baiEm:u,isFullyAllocated:o<=.01&&l<=.01&&(i>0||s>0),hasAllocation:t.length>0,relatedReports:t.sort(((e,t)=>new Date(t["NG\xc0Y"])-new Date(e["NG\xc0Y"])))}},oe=e=>{let{record:t}=e;const r=se(t);if(!r.hasAllocation)return(0,ar.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,ar.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[(0,ar.jsx)(QG,{className:"w-3 h-3 mr-1"}),"Ch\u01b0a ph\xe2n b\u1ed5"]}),(r.baiAnh>0||r.baiEm>0)&&(0,ar.jsxs)("div",{className:"text-xs text-gray-600",children:[r.baiAnh>0&&`B\xe3i BBA: ${HB(r.baiAnh)}T`,r.baiAnh>0&&r.baiEm>0&&", ",r.baiEm>0&&`B\xe3i BBE: ${HB(r.baiEm)}T`]})]});const n=r.relatedReports.reduce(((e,t)=>{const r=t["T\u1ed4"]||"Kh\xe1c";return e[r]||(e[r]=0),e[r]+=parseFloat(t["KH\u1ed0I L\u01af\u1ee2NG"]||0),e}),{}),a=Object.entries(n).map((e=>{let[t,r]=e;return`${t}: ${HB(r)}T`})).join(", ");return r.isFullyAllocated?(0,ar.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,ar.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,ar.jsx)(qG,{className:"w-3 h-3 mr-1"}),"\u0110\xe3 ph\xe2n b\u1ed5 h\u1ebft"]}),(0,ar.jsx)("div",{className:"text-xs text-indigo-700 font-medium",children:a})]}):(0,ar.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,ar.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,ar.jsx)(_k,{className:"w-3 h-3 mr-1"}),"Ph\xe2n b\u1ed5 m\u1ed9t ph\u1ea7n"]}),(0,ar.jsx)("div",{className:"text-xs text-indigo-700 font-medium",children:a}),(r.baiAnh>0||r.baiEm>0)&&(0,ar.jsxs)("div",{className:"text-xs text-yellow-700 font-medium",children:[r.baiAnh>0&&`B\xe3i BBA: ${HB(r.baiAnh)}T`,r.baiAnh>0&&r.baiEm>0&&", ",r.baiEm>0&&`B\xe3i BBE: ${HB(r.baiEm)}T`]})]})},le=e=>{let{record:t,isInGroupView:r=!1}=e;const n=se(t),a=r?j:N,i=r?ie:ae;if(!n.hasAllocation)return null;const s=n.relatedReports.reduce(((e,t)=>{const r=t["T\u1ed4"]||"Ch\u01b0a ph\xe2n t\u1ed5";return e[r]||(e[r]=[]),e[r].push(t),e}),{});return(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("button",{onClick:e=>{e.stopPropagation(),i(t.ID)},className:"text-blue-600 hover:text-blue-900 p-1.5 rounded-full hover:bg-blue-50",title:a.has(t.ID)?"\u1ea8n chi ti\u1ebft":"Xem chi ti\u1ebft ph\xe2n b\u1ed5",children:a.has(t.ID)?(0,ar.jsx)(Hk,{className:"h-4 w-4"}):(0,ar.jsx)(sk,{className:"h-4 w-4"})}),a.has(t.ID)&&(0,ar.jsx)("tr",{children:(0,ar.jsx)("td",{colSpan:"15",className:"px-4 py-0",children:(0,ar.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 p-4 my-2 rounded-r-lg",children:[(0,ar.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ar.jsxs)("h4",{className:"text-lg font-semibold text-blue-800 flex items-center gap-2",children:[(0,ar.jsx)(yr,{className:"w-5 h-5"}),"Chi ti\u1ebft ph\xe2n b\u1ed5 (",n.totalReports," b\xe1o c\xe1o - ",Object.keys(s).length," t\u1ed5)"]}),(0,ar.jsxs)("div",{className:"text-sm text-blue-600",children:["T\u1ed5ng gi\xe1 tr\u1ecb: ",(0,ar.jsx)("span",{className:"font-bold",children:DB(n.relatedReports.reduce(((e,t)=>e+parseFloat(t["TH\xc0NH TI\u1ec0N"]||0)),0))})]})]}),(0,ar.jsx)("div",{className:"space-y-4",children:Object.entries(s).map((e=>{let[t,r]=e;const n=r.reduce(((e,t)=>e+parseFloat(t["TH\xc0NH TI\u1ec0N"]||0)),0),a=r.reduce(((e,t)=>e+parseFloat(t["KH\u1ed0I L\u01af\u1ee2NG"]||0)),0);return(0,ar.jsxs)("div",{className:"bg-white rounded-lg border border-blue-200 overflow-hidden",children:[(0,ar.jsx)("div",{className:"bg-gradient-to-r from-indigo-100 to-blue-100 px-4 py-3 border-b border-blue-200",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ar.jsx)("span",{className:"px-3 py-1 bg-indigo-600 text-white rounded-lg text-sm font-bold",children:t}),(0,ar.jsxs)("span",{className:"text-sm text-gray-700",children:[r.length," b\xe1o c\xe1o"]}),(0,ar.jsxs)("span",{className:"text-sm text-gray-700",children:["T\u1ed5ng KL: ",(0,ar.jsxs)("span",{className:"font-semibold text-purple-600",children:[HB(a)," T\u1ea5n"]})]})]}),(0,ar.jsx)("div",{className:"text-sm font-bold text-green-700",children:DB(n)})]})}),(0,ar.jsx)("div",{className:"overflow-x-auto",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-blue-200",children:[(0,ar.jsx)("thead",{className:"bg-blue-50",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-blue-700 uppercase",children:"Ng\xe0y BC"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-blue-700 uppercase",children:"T\xean h\xe0ng"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-blue-700 uppercase",children:"C\xf4ng \u0111o\u1ea1n"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-blue-700 uppercase",children:"Kh\u1ed1i l\u01b0\u1ee3ng"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-blue-700 uppercase",children:"Nh\xe2n s\u1ef1"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-blue-700 uppercase",children:"\u0110\u01a1n gi\xe1"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-blue-700 uppercase",children:"Th\xe0nh ti\u1ec1n"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-blue-700 uppercase",children:"Ng\u01b0\u1eddi nh\u1eadp"})]})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-blue-100",children:r.map(((e,t)=>(0,ar.jsxs)("tr",{className:(t%2===0?"bg-white":"bg-blue-25")+" hover:bg-blue-50 transition-colors",children:[(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-700",children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ar.jsx)(QG,{className:"w-3 h-3 text-gray-400"}),new Date(e["NG\xc0Y"]).toLocaleDateString("vi-VN")]})}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:e["T\xcaN H\xc0NG"]}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 max-w-xs",children:(0,ar.jsx)("div",{className:"truncate",title:e["C\xd4NG \u0110O\u1ea0N"],children:e["C\xd4NG \u0110O\u1ea0N"]})}),(0,ar.jsxs)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-purple-600",children:[HB(e["KH\u1ed0I L\u01af\u1ee2NG"]),(0,ar.jsx)("span",{className:"text-gray-500 text-xs ml-1",children:e["\u0110\u01a0N V\u1eca T\xcdNH"]})]}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 max-w-xs",children:(0,ar.jsx)("div",{className:"truncate",title:e["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"],children:e["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"]})}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-green-600 font-medium",children:DB(e["\u0110\u01a0N GI\xc1"])}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-bold text-green-700",children:DB(e["TH\xc0NH TI\u1ec0N"])}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-600",children:e["NG\u01af\u1edcI NH\u1eacP"]})]},e.IDBC)))})]})})]},t)}))})]})})})]})},ce=e=>{let{data:t}=e;const r=(0,n.useMemo)((()=>({totalRecords:t.length,totalBaoBiAnh:t.reduce(((e,t)=>e+parseFloat(t["BAO B\xcc ANH (T\u1ea4N)"]||0)),0),totalBaoBiEm:t.reduce(((e,t)=>e+parseFloat(t["BAO B\xcc EM (T\u1ea4N)"]||0)),0),totalThucNhanAnh:t.reduce(((e,t)=>e+parseFloat(t["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"]||0)),0),totalThucNhanEm:t.reduce(((e,t)=>e+parseFloat(t["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]||0)),0),totalDaPhanBoAnh:t.reduce(((e,t)=>e+parseFloat(t["\u0110\xc3 PH\xc2N B\u1ed4 (ANH)"]||0)),0),totalDaPhanBoEm:t.reduce(((e,t)=>e+parseFloat(t["\u0110\xc3 PH\xc2N B\u1ed4 (EM)"]||0)),0),totalBaiAnh:t.reduce(((e,t)=>e+parseFloat(t["B\xc3I (ANH)"]||0)),0),totalBaiEm:t.reduce(((e,t)=>e+parseFloat(t["B\xc3I (EM)"]||0)),0)})),[t]),a=[{title:"T\u1ed5ng s\u1ed1 xe",value:r.totalRecords,icon:(0,ar.jsx)(yr,{className:"w-5 h-5"}),bgColor:"bg-gradient-to-r from-purple-500 to-purple-600",textColor:"text-white"},{title:"T\u1ed5ng nh\u1eadp BB anh",value:`${HB(r.totalBaoBiAnh)} T`,icon:(0,ar.jsx)(yr,{className:"w-5 h-5"}),bgColor:"bg-gradient-to-r from-blue-500 to-blue-600",textColor:"text-white"},{title:"T\u1ed5ng nh\u1eadp BB em",value:`${HB(r.totalBaoBiEm)} T`,icon:(0,ar.jsx)(yr,{className:"w-5 h-5"}),bgColor:"bg-gradient-to-r from-purple-500 to-purple-600",textColor:"text-white"},{title:"Th\u1ef1c nh\u1eadn BB anh",value:`${HB(r.totalThucNhanAnh)} T`,icon:(0,ar.jsx)(Ek,{className:"w-5 h-5"}),bgColor:"bg-gradient-to-r from-green-500 to-green-600",textColor:"text-white"},{title:"Th\u1ef1c nh\u1eadn em",value:`${HB(r.totalThucNhanEm)} T`,icon:(0,ar.jsx)(Ek,{className:"w-5 h-5"}),bgColor:"bg-gradient-to-r from-teal-500 to-teal-600",textColor:"text-white"},{title:"\u0110\xe3 ph\xe2n b\u1ed5 BB anh",value:`${HB(r.totalDaPhanBoAnh)} T`,icon:(0,ar.jsx)(Ck,{className:"w-5 h-5"}),bgColor:"bg-gradient-to-r from-indigo-500 to-indigo-600",textColor:"text-white"},{title:"\u0110\xe3 ph\xe2n b\u1ed5 BB em",value:`${HB(r.totalDaPhanBoEm)} T`,icon:(0,ar.jsx)(Ck,{className:"w-5 h-5"}),bgColor:"bg-gradient-to-r from-violet-500 to-violet-600",textColor:"text-white"},{title:"B\xe3i BB anh",value:`${HB(r.totalBaiAnh)} T`,icon:(0,ar.jsx)(_k,{className:"w-5 h-5"}),bgColor:"bg-gradient-to-r from-yellow-500 to-yellow-600",textColor:"text-white"},{title:"B\xe3i BB em",value:`${HB(r.totalBaiEm)} T`,icon:(0,ar.jsx)(_k,{className:"w-5 h-5"}),bgColor:"bg-gradient-to-r from-orange-500 to-orange-600",textColor:"text-white"}];return(0,ar.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-5 lg:grid-cols-9 gap-3 mb-6",children:a.map(((e,t)=>(0,ar.jsx)("div",{className:`${e.bgColor} rounded-xl shadow-lg p-3 text-center transform hover:scale-105 transition-all duration-200`,children:(0,ar.jsxs)("div",{className:"flex flex-col items-center",children:[(0,ar.jsx)("div",{className:`${e.textColor} opacity-80 mb-1`,children:e.icon}),(0,ar.jsx)("h3",{className:`${e.textColor} text-xs font-medium mb-1 text-center leading-tight`,children:e.title}),(0,ar.jsx)("p",{className:`${e.textColor} text-sm lg:text-base font-bold`,children:e.value})]})},t)))})},ue=(e,t)=>{t.stopPropagation(),t.preventDefault(),ee(e),Z(!0)},de=(e,t)=>{_((r=>({...r,[e]:t||null})))},he=()=>{B(!1),V(null),$(""),X(""),q(!1)};(0,n.useEffect)((()=>{fe(),pe()}),[]);const fe=async()=>{try{const e=await ut.apiRequest("NHAPBAOBI","Find",{});t(e)}catch(e){console.error("Error fetching packaging data:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch nh\u1eadp bao b\xec")}},pe=async()=>{try{const e=await ut.apiRequest("BC2","Find",{});a(e)}catch(e){console.error("Error fetching detail reports:",e),et.error("L\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u chi ti\u1ebft ph\xe2n b\u1ed5")}},me=e=>{U(e),R(!0)},ge=()=>{R(!1),U(null)},xe=(0,n.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;ne(e?{ID:e.ID||"","NG\xc0Y TH\xc1NG":IB(e["NG\xc0Y TH\xc1NG"]),"S\u1ed0 XE":e["S\u1ed0 XE"]||"","KH\xc1CH H\xc0NG":e["KH\xc1CH H\xc0NG"]||"","BAO B\xcc ANH (T\u1ea4N)":e["BAO B\xcc ANH (T\u1ea4N)"]||"","TR\u1eea BAO B\xcc ANH (T\u1ea4N)":e["TR\u1eea BAO B\xcc ANH (T\u1ea4N)"]||"","TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)":e["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"]||"","BAO B\xcc EM (T\u1ea4N)":e["BAO B\xcc EM (T\u1ea4N)"]||"","TR\u1eea BAO B\xcc EM (T\u1ea4N)":e["TR\u1eea BAO B\xcc EM (T\u1ea4N)"]||"","TH\u1ef0C NH\u1eacN EM (T\u1ea4N)":e["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]||""}:te),l(!0)}),[te]),be=(0,n.useCallback)((()=>{l(!1),ne(te)}),[te]),ye=(0,n.useCallback)(((e,t)=>{ne((r=>{const n={...r,[e]:t};if("BAO B\xcc ANH (T\u1ea4N)"===e){const e=MB(t);n["TR\u1eea BAO B\xcc ANH (T\u1ea4N)"]=e.truBaoBi,n["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"]=e.thucNhan}if("BAO B\xcc EM (T\u1ea4N)"===e){const e=MB(t);n["TR\u1eea BAO B\xcc EM (T\u1ea4N)"]=e.truBaoBi,n["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]=e.thucNhan}return n}))}),[]),ve=(0,n.useCallback)((e=>{const t=[];e["NG\xc0Y TH\xc1NG"]||t.push("NG\xc0Y TH\xc1NG kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e["S\u1ed0 XE"]||t.push("S\u1ed0 XE kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),e["KH\xc1CH H\xc0NG"]||t.push("KH\xc1CH H\xc0NG kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng");const r=e["BAO B\xcc ANH (T\u1ea4N)"]&&parseFloat(e["BAO B\xcc ANH (T\u1ea4N)"])>0,n=e["BAO B\xcc EM (T\u1ea4N)"]&&parseFloat(e["BAO B\xcc EM (T\u1ea4N)"])>0;return r||n||t.push("Ph\u1ea3i nh\u1eadp \xedt nh\u1ea5t m\u1ed9t lo\u1ea1i bao b\xec (Anh ho\u1eb7c Em)"),t}),[]),Ne=(e,t)=>{t.stopPropagation(),t.preventDefault(),X("X\xf3a th\xf4ng tin nh\u1eadp bao b\xec"),$("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a th\xf4ng tin n\xe0y?"),V((()=>async()=>{try{await ut.apiRequest("NHAPBAOBI","Delete",{Rows:[{ID:e}]}),et.success("X\xf3a th\xf4ng tin th\xe0nh c\xf4ng!"),await fe()}catch(t){console.error("Error deleting record:",t),et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a th\xf4ng tin")}})),B(!0)},we=(e,t)=>{t.stopPropagation(),t.preventDefault(),xe(e)},je=e=>{if(!e)return"";if("string"===typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if("string"===typeof e&&/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e)){const[t,r,n]=e.split("/");return`${n}-${r.padStart(2,"0")}-${t.padStart(2,"0")}`}if("number"===typeof e){const t=new Date(1900,0,1),r=new Date(t.getTime()+24*(e-2)*60*60*1e3);return`${r.getFullYear()}-${(r.getMonth()+1).toString().padStart(2,"0")}-${r.getDate().toString().padStart(2,"0")}`}try{const t=new Date(e);if(!isNaN(t.getTime())){const e=t.getFullYear(),r=(t.getMonth()+1).toString().padStart(2,"0");return`${e}-${r}-${t.getDate().toString().padStart(2,"0")}`}}catch(t){console.warn("Cannot parse date:",e)}return""},ke=(0,n.useMemo)((()=>{let t=e.filter((e=>{var t,r,n,a,i;const s=(null===(t=e["S\u1ed0 XE"])||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null===(r=e["KH\xc1CH H\xc0NG"])||void 0===r?void 0:r.toLowerCase().includes(c.toLowerCase()))||(null===(n=e.ID)||void 0===n?void 0:n.toLowerCase().includes(c.toLowerCase())),o=!O.searchFilter||(null===(a=e["S\u1ed0 XE"])||void 0===a?void 0:a.toLowerCase().includes(O.searchFilter.toLowerCase()))||(null===(i=e["KH\xc1CH H\xc0NG"])||void 0===i?void 0:i.toLowerCase().includes(O.searchFilter.toLowerCase()));let l=!0;if(O.allocationStatus){const t=se(e);"allocated"!==O.allocationStatus||t.isFullyAllocated||(l=!1),"partial"!==O.allocationStatus||!t.isFullyAllocated&&t.hasAllocation||(l=!1),"unallocated"===O.allocationStatus&&t.hasAllocation&&(l=!1)}let u=!0;if(O.startDate||O.endDate){const t=IB(e["NG\xc0Y TH\xc1NG"]);if(t){const e=new Date(t);if(e.setHours(0,0,0,0),O.startDate&&O.endDate){const t=new Date(O.startDate);t.setHours(0,0,0,0);const r=new Date(O.endDate);r.setHours(23,59,59,999),u=e>=t&&e<=r}else if(O.startDate){const t=new Date(O.startDate);t.setHours(0,0,0,0),u=e>=t}else if(O.endDate){const t=new Date(O.endDate);t.setHours(23,59,59,999),u=e<=t}}else u=!1}return s&&o&&u&&l}));return T.key?t.sort(((e,t)=>{let r=e[T.key],n=t[T.key];return"NG\xc0Y TH\xc1NG"===T.key&&(r=new Date(r),n=new Date(n)),(T.key.includes("(T\u1ea4N)")||T.key.includes("PH\xc2N B\u1ed4")||T.key.includes("B\xc3I"))&&(r=parseFloat(r)||0,n=parseFloat(n)||0),r<n?"asc"===T.direction?-1:1:r>n?"asc"===T.direction?1:-1:0})):t.sort(((e,t)=>{const r=parseInt(e._RowNumber)||0;return(parseInt(t._RowNumber)||0)-r})),t}),[e,r,c,O,T]),Te=Math.ceil(ke.length/f),Se=(0,n.useMemo)((()=>{const e=d*f,t=e-f;return ke.slice(t,e)}),[ke,d,f]),Oe=(0,n.useMemo)((()=>{if("grouped"!==i)return null;const e={};return ke.forEach((t=>{const r=new Date(t["NG\xc0Y TH\xc1NG"]).toLocaleDateString("vi-VN");e[r]||(e[r]=[]),e[r].push(t)})),Object.keys(e).sort(((e,t)=>{const r=PB(e);return PB(t)-r})).map((t=>({date:t,records:e[t],totalRecords:e[t].length,totalBaoBiAnh:e[t].reduce(((e,t)=>e+parseFloat(t["BAO B\xcc ANH (T\u1ea4N)"]||0)),0),totalThucNhanAnh:e[t].reduce(((e,t)=>e+parseFloat(t["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"]||0)),0),totalBaoBiEm:e[t].reduce(((e,t)=>e+parseFloat(t["BAO B\xcc EM (T\u1ea4N)"]||0)),0),totalThucNhanEm:e[t].reduce(((e,t)=>e+parseFloat(t["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]||0)),0),totalDaPhanBoAnh:e[t].reduce(((e,t)=>e+parseFloat(t["\u0110\xc3 PH\xc2N B\u1ed4 (ANH)"]||0)),0),totalDaPhanBoEm:e[t].reduce(((e,t)=>e+parseFloat(t["\u0110\xc3 PH\xc2N B\u1ed4 (EM)"]||0)),0),totalBaiAnh:e[t].reduce(((e,t)=>e+parseFloat(t["B\xc3I (ANH)"]||0)),0),totalBaiEm:e[t].reduce(((e,t)=>e+parseFloat(t["B\xc3I (EM)"]||0)),0)})))}),[ke,i]),_e=e=>{let{column:t}=e;return T.key!==t?(0,ar.jsx)(SB,{className:"w-4 h-4 text-gray-400"}):"asc"===T.direction?(0,ar.jsx)(OB,{className:"w-4 h-4 text-indigo-600"}):(0,ar.jsx)(_B,{className:"w-4 h-4 text-indigo-600"})};return(0,ar.jsxs)("div",{className:"p-4 md:p-6 bg-gray-50 min-h-screen",children:[(0,ar.jsx)("div",{className:"mx-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 mb-6 border border-gray-100",children:[(0,ar.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[(0,ar.jsxs)("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[(0,ar.jsx)(yr,{className:"h-6 w-6 text-indigo-600"}),"Qu\u1ea3n l\xfd Nh\u1eadp Bao B\xec"]}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ar.jsxs)("button",{onClick:()=>v(!y),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(vk,{className:"w-4 h-4"}),y?"\u1ea8n b\u1ed9 l\u1ecdc":"B\u1ed9 l\u1ecdc"]}),(0,ar.jsxs)("button",{onClick:()=>C(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(Sk,{className:"w-4 h-4"}),"Nh\u1eadp Excel"]}),x.length>0&&(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("button",{onClick:()=>{if(0===x.length)return void et.warning("Vui l\xf2ng ch\u1ecdn th\xf4ng tin \u0111\u1ec3 xu\u1ea5t file");const t=e.filter((e=>x.includes(e.ID))),r=t.map((e=>({ID:e.ID,"NG\xc0Y TH\xc1NG":e["NG\xc0Y TH\xc1NG"],"S\u1ed0 XE":e["S\u1ed0 XE"],"KH\xc1CH H\xc0NG":e["KH\xc1CH H\xc0NG"],"BAO B\xcc ANH (T\u1ea4N)":e["BAO B\xcc ANH (T\u1ea4N)"],"TR\u1eea BAO B\xcc ANH (T\u1ea4N)":e["TR\u1eea BAO B\xcc ANH (T\u1ea4N)"],"TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)":e["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"],"BAO B\xcc EM (T\u1ea4N)":e["BAO B\xcc EM (T\u1ea4N)"],"TR\u1eea BAO B\xcc EM (T\u1ea4N)":e["TR\u1eea BAO B\xcc EM (T\u1ea4N)"],"TH\u1ef0C NH\u1eacN EM (T\u1ea4N)":e["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]}))),n=pL.json_to_sheet(r),a=pL.book_new();pL.book_append_sheet(a,n,"Nh\u1eadp Bao B\xec"),rL(a,`nhap-bao-bi-${(new Date).toISOString().slice(0,10)}.xlsx`)},className:"px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(Ak,{className:"w-4 h-4"}),"Xu\u1ea5t file (",x.length,")"]}),(0,ar.jsxs)("button",{onClick:()=>{0!==x.length?(X("X\xf3a nhi\u1ec1u th\xf4ng tin"),$(`B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a ${x.length} th\xf4ng tin \u0111\xe3 ch\u1ecdn?`),V((()=>async()=>{try{await Promise.all(x.map((e=>ut.apiRequest("NHAPBAOBI","Delete",{Rows:[{ID:e}]})))),et.success("X\xf3a th\xf4ng tin th\xe0nh c\xf4ng!"),b([]),await fe()}catch(e){et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi x\xf3a th\xf4ng tin")}})),B(!0)):et.warning("Vui l\xf2ng ch\u1ecdn th\xf4ng tin \u0111\u1ec3 x\xf3a")},className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(Tk,{className:"w-4 h-4"}),"X\xf3a (",x.length,")"]})]}),(0,ar.jsxs)("button",{onClick:()=>xe(),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(Nk,{className:"w-4 h-4"}),"Th\xeam th\xf4ng tin"]}),(0,ar.jsx)("button",{onClick:()=>s("list"===i?"grouped":"list"),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 transition-colors shadow-sm",children:"list"===i?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)(Ik,{className:"w-4 h-4"}),"Nh\xf3m theo ng\xe0y"]}):(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)(Pk,{className:"w-4 h-4"}),"Danh s\xe1ch"]})})]})]}),y&&(0,ar.jsx)("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50 animate-fadeIn",children:(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[(0,ar.jsxs)("div",{className:"col-span-2",children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xecm ki\u1ebfm S\u1ed1 xe / Kh\xe1ch h\xe0ng"}),(0,ar.jsx)("input",{type:"text",value:O.searchFilter,onChange:e=>_({...O,searchFilter:e.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Nh\u1eadp s\u1ed1 xe ho\u1eb7c kh\xe1ch h\xe0ng"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tr\u1ea1ng th\xe1i ph\xe2n b\u1ed5"}),(0,ar.jsxs)("select",{value:O.allocationStatus,onChange:e=>_({...O,allocationStatus:e.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",children:[(0,ar.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3 tr\u1ea1ng th\xe1i"}),(0,ar.jsx)("option",{value:"allocated",children:"\u0110\xe3 ph\xe2n b\u1ed5 h\u1ebft"}),(0,ar.jsx)("option",{value:"partial",children:"Ph\xe2n b\u1ed5 m\u1ed9t ph\u1ea7n"}),(0,ar.jsx)("option",{value:"unallocated",children:"Ch\u01b0a ph\xe2n b\u1ed5"})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\u1eeb ng\xe0y"}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,ar.jsx)(Ik,{className:"w-4 h-4 text-gray-500"})}),(0,ar.jsx)("input",{type:"date",value:O.startDate||"",onChange:e=>de("startDate",e.target.value),className:"pl-10 p-2 border rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",placeholder:"T\u1eeb ng\xe0y"})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u0110\u1ebfn ng\xe0y"}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,ar.jsx)(Ik,{className:"w-4 h-4 text-gray-500"})}),(0,ar.jsx)("input",{type:"date",value:O.endDate||"",onChange:e=>de("endDate",e.target.value),className:"pl-10 p-2 border rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",placeholder:"\u0110\u1ebfn ng\xe0y"})]})]}),(0,ar.jsx)("div",{className:"flex items-end",children:(0,ar.jsx)("button",{onClick:()=>_({searchFilter:"",startDate:null,endDate:null,allocationStatus:""}),className:"w-full px-4 py-2 text-indigo-600 bg-indigo-50 border border-indigo-200 rounded-lg hover:bg-indigo-100 transition-colors",children:"X\xf3a b\u1ed9 l\u1ecdc"})})]})}),(0,ar.jsx)("div",{className:"mb-6",children:(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)(wk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,ar.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm theo ID, s\u1ed1 xe ho\u1eb7c kh\xe1ch h\xe0ng...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:c,onChange:e=>u(e.target.value)})]})}),(0,ar.jsx)(ce,{data:ke}),"list"===i?(0,ar.jsx)("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:(0,ar.jsx)("div",{className:"inline-block min-w-full align-middle",children:(0,ar.jsx)("div",{className:"overflow-hidden border border-gray-200 rounded-lg",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gray-50",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{scope:"col",className:"p-4 text-left",children:(0,ar.jsx)("div",{className:"flex items-center",children:(0,ar.jsx)("input",{type:"checkbox",checked:x.length===ke.length&&ke.length>0,onChange:e=>{e.target.checked?b(ke.map((e=>e.ID))):b([])},className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})})}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left cursor-pointer hover:bg-gray-100 select-none",onClick:()=>(e=>{let t="asc";T.key===e&&"asc"===T.direction&&(t="desc"),S({key:e,direction:t})})("NG\xc0Y TH\xc1NG"),children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:["Ng\xe0y th\xe1ng",(0,ar.jsx)(_e,{column:"NG\xc0Y TH\xc1NG"})]})}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"S\u1ed1 xe"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Kh\xe1ch h\xe0ng"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Tr\u1ea1ng th\xe1i"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Nh\u1eadp BB anh"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Th\u1ef1c nh\u1eadn BB anh"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"\u0110\xe3 ph\xe2n b\u1ed5 BB anh"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"B\xe3i BB anh"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Nh\u1eadp BB em"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Th\u1ef1c nh\u1eadn BB em"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"\u0110\xe3 ph\xe2n b\u1ed5 BB em"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"B\xe3i BB em"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Chi ti\u1ebft"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"Thao t\xe1c"})]})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Se.length>0?Se.map((e=>{const t=se(e);return(0,ar.jsxs)(n.Fragment,{children:[(0,ar.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>me(e),children:[(0,ar.jsx)("td",{className:"p-4 whitespace-nowrap",onClick:e=>e.stopPropagation(),children:(0,ar.jsx)("div",{className:"flex items-center",children:(0,ar.jsx)("input",{type:"checkbox",checked:x.includes(e.ID),onChange:t=>{t.target.checked?b([...x,e.ID]):b(x.filter((t=>t!==e.ID)))},className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:new Date(e["NG\xc0Y TH\xc1NG"]).toLocaleDateString("vi-VN")}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium",children:e["S\u1ed0 XE"]}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:e["KH\xc1CH H\xc0NG"]}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,ar.jsx)(oe,{record:e})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium text-blue-600",children:e["BAO B\xcc ANH (T\u1ea4N)"]?HB(e["BAO B\xcc ANH (T\u1ea4N)"]):"-"}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium text-green-600",children:e["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"]?HB(e["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"]):"-"}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium text-indigo-600",children:e["\u0110\xc3 PH\xc2N B\u1ed4 (ANH)"]?HB(e["\u0110\xc3 PH\xc2N B\u1ed4 (ANH)"]):"0.00"}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium text-yellow-600",children:e["B\xc3I (ANH)"]?HB(e["B\xc3I (ANH)"]):HB(Math.max(0,parseFloat(e["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"]||0)-parseFloat(e["\u0110\xc3 PH\xc2N B\u1ed4 (ANH)"]||0)).toFixed(2))}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium text-purple-600",children:e["BAO B\xcc EM (T\u1ea4N)"]?HB(e["BAO B\xcc EM (T\u1ea4N)"]):"-"}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium text-teal-600",children:e["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]?HB(e["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]):"-"}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium text-indigo-600",children:e["\u0110\xc3 PH\xc2N B\u1ed4 (EM)"]?HB(e["\u0110\xc3 PH\xc2N B\u1ed4 (EM)"]):"0.00"}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium text-yellow-600",children:e["B\xc3I (EM)"]?HB(e["B\xc3I (EM)"]):HB(Math.max(0,parseFloat(e["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]||0)-parseFloat(e["\u0110\xc3 PH\xc2N B\u1ed4 (EM)"]||0)).toFixed(2))}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-center",onClick:e=>e.stopPropagation(),children:t.hasAllocation&&(0,ar.jsx)("button",{onClick:t=>{t.stopPropagation(),ae(e.ID)},className:"text-blue-600 hover:text-blue-900 p-1.5 rounded-full hover:bg-blue-50",title:N.has(e.ID)?"\u1ea8n chi ti\u1ebft":"Xem chi ti\u1ebft ph\xe2n b\u1ed5",children:N.has(e.ID)?(0,ar.jsx)(Hk,{className:"h-4 w-4"}):(0,ar.jsx)(sk,{className:"h-4 w-4"})})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",onClick:e=>e.stopPropagation(),children:(0,ar.jsxs)("div",{className:"flex justify-end space-x-1",children:[(0,ar.jsx)("button",{onClick:t=>ue(e,t),className:"text-green-600 hover:text-green-900 p-1.5 rounded-full hover:bg-green-50",title:"Ph\xe2n b\u1ed5",children:(0,ar.jsx)(Ck,{className:"h-4 w-4"})}),(0,ar.jsx)("button",{onClick:t=>we(e,t),className:"text-indigo-600 hover:text-indigo-900 p-1.5 rounded-full hover:bg-indigo-50",title:"S\u1eeda th\xf4ng tin",children:(0,ar.jsx)(kk,{className:"h-4 w-4"})}),(0,ar.jsx)("button",{onClick:t=>Ne(e.ID,t),className:"text-red-600 hover:text-red-900 p-1.5 rounded-full hover:bg-red-50",title:"X\xf3a th\xf4ng tin",children:(0,ar.jsx)(Tk,{className:"h-4 w-4"})})]})})]}),N.has(e.ID)&&t.hasAllocation&&(0,ar.jsx)(le,{record:e,isInGroupView:!1})]},e.ID)})):(0,ar.jsx)("tr",{children:(0,ar.jsx)("td",{colSpan:"15",className:"px-4 py-6 text-center text-sm text-gray-500",children:"Kh\xf4ng t\xecm th\u1ea5y th\xf4ng tin n\xe0o ph\xf9 h\u1ee3p v\u1edbi ti\xeau ch\xed t\xecm ki\u1ebfm"})})})]})})})}):(0,ar.jsxs)("div",{className:"space-y-6",children:[Oe&&Oe.map((e=>(0,ar.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[(0,ar.jsxs)("div",{className:"bg-gray-50 px-6 py-4 border-b flex justify-between items-center",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("h3",{className:"text-lg font-medium text-gray-800",children:["Ng\xe0y: ",e.date]}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[(0,ar.jsxs)("span",{className:"text-xs font-medium px-2.5 py-0.5 rounded-full bg-blue-100 text-blue-800",children:["T\u1ed5ng: ",e.totalRecords," xe"]}),e.totalBaoBiAnh>0&&(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("span",{className:"text-xs font-medium px-2.5 py-0.5 rounded-full bg-green-100 text-green-800",children:["Nh\u1eadp BB anh: ",HB(e.totalBaoBiAnh.toFixed(2))," t\u1ea5n"]}),(0,ar.jsxs)("span",{className:"text-xs font-medium px-2.5 py-0.5 rounded-full bg-green-200 text-green-900",children:["Th\u1ef1c nh\u1eadn BB anh: ",HB(e.totalThucNhanAnh.toFixed(2))," t\u1ea5n"]}),(0,ar.jsxs)("span",{className:"text-xs font-medium px-2.5 py-0.5 rounded-full bg-indigo-100 text-indigo-800",children:["\u0110\xe3 ph\xe2n b\u1ed5 BB anh: ",HB(e.totalDaPhanBoAnh.toFixed(2))," t\u1ea5n"]}),(0,ar.jsxs)("span",{className:"text-xs font-medium px-2.5 py-0.5 rounded-full bg-yellow-100 text-yellow-800",children:["B\xe3i BB anh: ",HB(e.totalBaiAnh.toFixed(2))," t\u1ea5n"]})]}),e.totalBaoBiEm>0&&(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("span",{className:"text-xs font-medium px-2.5 py-0.5 rounded-full bg-purple-100 text-purple-800",children:["Nh\u1eadp BB em: ",HB(e.totalBaoBiEm.toFixed(2))," t\u1ea5n"]}),(0,ar.jsxs)("span",{className:"text-xs font-medium px-2.5 py-0.5 rounded-full bg-purple-200 text-purple-900",children:["Th\u1ef1c nh\u1eadn BB em: ",HB(e.totalThucNhanEm.toFixed(2))," t\u1ea5n"]}),(0,ar.jsxs)("span",{className:"text-xs font-medium px-2.5 py-0.5 rounded-full bg-violet-100 text-violet-800",children:["\u0110\xe3 ph\xe2n b\u1ed5 BB em: ",HB(e.totalDaPhanBoEm.toFixed(2))," t\u1ea5n"]}),(0,ar.jsxs)("span",{className:"text-xs font-medium px-2.5 py-0.5 rounded-full bg-orange-100 text-orange-800",children:["B\xe3i BB em: ",HB(e.totalBaiEm.toFixed(2))," t\u1ea5n"]})]})]})]}),(0,ar.jsx)("div",{children:(0,ar.jsxs)("button",{onClick:()=>{const t=e.records.map((e=>({ID:e.ID,"NG\xc0Y TH\xc1NG":e["NG\xc0Y TH\xc1NG"],"S\u1ed0 XE":e["S\u1ed0 XE"],"KH\xc1CH H\xc0NG":e["KH\xc1CH H\xc0NG"],"BAO B\xcc ANH (T\u1ea4N)":e["BAO B\xcc ANH (T\u1ea4N)"],"TR\u1eea BAO B\xcc ANH (T\u1ea4N)":e["TR\u1eea BAO B\xcc ANH (T\u1ea4N)"],"TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)":e["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"],"BAO B\xcc EM (T\u1ea4N)":e["BAO B\xcc EM (T\u1ea4N)"],"TR\u1eea BAO B\xcc EM (T\u1ea4N)":e["TR\u1eea BAO B\xcc EM (T\u1ea4N)"],"TH\u1ef0C NH\u1eacN EM (T\u1ea4N)":e["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]}))),r=pL.json_to_sheet(t),n=pL.book_new();pL.book_append_sheet(n,r,"Nh\u1eadp Bao B\xec"),rL(n,`nhap-bao-bi-${e.date.replace(/\//g,"-")}.xlsx`)},className:"px-3 py-1.5 bg-amber-500 text-white rounded-lg hover:bg-amber-600 flex items-center gap-1.5 text-sm transition-colors shadow-sm",children:[(0,ar.jsx)(Ak,{className:"w-3.5 h-3.5"}),"Xu\u1ea5t file"]})})]}),(0,ar.jsx)("div",{className:"overflow-x-auto",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gray-50",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"S\u1ed1 xe"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Kh\xe1ch h\xe0ng"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Tr\u1ea1ng th\xe1i"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Nh\u1eadp BB anh"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Th\u1ef1c nh\u1eadn BB anh"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"\u0110\xe3 ph\xe2n b\u1ed5 BB anh"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"B\xe3i BB anh"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Nh\u1eadp BB em"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Th\u1ef1c nh\u1eadn BB em"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"\u0110\xe3 ph\xe2n b\u1ed5 BB em"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"B\xe3i BB em"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Chi ti\u1ebft"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"Thao t\xe1c"})]})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.records.map((e=>{const t=se(e);return(0,ar.jsxs)(n.Fragment,{children:[(0,ar.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>me(e),children:[(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium",children:e["S\u1ed0 XE"]}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:e["KH\xc1CH H\xc0NG"]}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,ar.jsx)(oe,{record:e})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium text-blue-600",children:e["BAO B\xcc ANH (T\u1ea4N)"]?HB(e["BAO B\xcc ANH (T\u1ea4N)"]):"-"}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium text-green-600",children:e["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"]?HB(e["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"]):"-"}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium text-indigo-600",children:e["\u0110\xc3 PH\xc2N B\u1ed4 (ANH)"]?HB(e["\u0110\xc3 PH\xc2N B\u1ed4 (ANH)"]):"0.00"}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium text-yellow-600",children:e["B\xc3I (ANH)"]?HB(e["B\xc3I (ANH)"]):HB(Math.max(0,parseFloat(e["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"]||0)-parseFloat(e["\u0110\xc3 PH\xc2N B\u1ed4 (ANH)"]||0)).toFixed(2))}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium text-purple-600",children:e["BAO B\xcc EM (T\u1ea4N)"]?HB(e["BAO B\xcc EM (T\u1ea4N)"]):"-"}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium text-teal-600",children:e["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]?HB(e["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]):"-"}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium text-indigo-600",children:e["\u0110\xc3 PH\xc2N B\u1ed4 (EM)"]?HB(e["\u0110\xc3 PH\xc2N B\u1ed4 (EM)"]):"0.00"}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium text-yellow-600",children:e["B\xc3I (EM)"]?HB(e["B\xc3I (EM)"]):HB(Math.max(0,parseFloat(e["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]||0)-parseFloat(e["\u0110\xc3 PH\xc2N B\u1ed4 (EM)"]||0)).toFixed(2))}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-center",onClick:e=>e.stopPropagation(),children:t.hasAllocation&&(0,ar.jsx)("button",{onClick:t=>{t.stopPropagation(),ie(e.ID)},className:"text-blue-600 hover:text-blue-900 p-1.5 rounded-full hover:bg-blue-50",title:j.has(e.ID)?"\u1ea8n chi ti\u1ebft":"Xem chi ti\u1ebft ph\xe2n b\u1ed5",children:j.has(e.ID)?(0,ar.jsx)(Hk,{className:"h-4 w-4"}):(0,ar.jsx)(sk,{className:"h-4 w-4"})})}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",onClick:e=>e.stopPropagation(),children:(0,ar.jsxs)("div",{className:"flex justify-end space-x-1",children:[(0,ar.jsx)("button",{onClick:t=>ue(e,t),className:"text-green-600 hover:text-green-900 p-1.5 rounded-full hover:bg-green-50",title:"Ph\xe2n b\u1ed5",children:(0,ar.jsx)(Ck,{className:"h-4 w-4"})}),(0,ar.jsx)("button",{onClick:t=>we(e,t),className:"text-indigo-600 hover:text-indigo-900 p-1.5 rounded-full hover:bg-indigo-50",title:"S\u1eeda th\xf4ng tin",children:(0,ar.jsx)(kk,{className:"h-4 w-4"})}),(0,ar.jsx)("button",{onClick:t=>Ne(e.ID,t),className:"text-red-600 hover:text-red-900 p-1.5 rounded-full hover:bg-red-50",title:"X\xf3a th\xf4ng tin",children:(0,ar.jsx)(Tk,{className:"h-4 w-4"})})]})})]}),j.has(e.ID)&&t.hasAllocation&&(0,ar.jsx)(le,{record:e,isInGroupView:!0})]},e.ID)}))})]})})]},e.date))),Oe&&0===Oe.length&&(0,ar.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-8 text-center",children:(0,ar.jsx)("p",{className:"text-gray-500",children:"Kh\xf4ng t\xecm th\u1ea5y th\xf4ng tin n\xe0o ph\xf9 h\u1ee3p v\u1edbi ti\xeau ch\xed t\xecm ki\u1ebfm"})})]}),"list"===i&&Se.length>0&&(0,ar.jsx)(LB,{currentPage:d,totalPages:Te,onPageChange:h,itemsPerPage:f,onItemsPerPageChange:e=>{p(e),h(1)},totalItems:ke.length})]})}),L&&F&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-7xl w-full h-full p-6 overflow-y-auto",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-5",children:[(0,ar.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[(0,ar.jsx)(xr,{className:"h-5 w-5 text-indigo-600"}),"Chi ti\u1ebft th\xf4ng tin nh\u1eadp bao b\xec"]}),(0,ar.jsx)("button",{onClick:ge,className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsxs)("div",{className:"space-y-6",children:[(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[(0,ar.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ng\xe0y th\xe1ng"}),(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)(Ik,{className:"h-4 w-4 text-gray-500"}),(0,ar.jsx)("span",{className:"text-sm text-gray-900",children:new Date(F["NG\xc0Y TH\xc1NG"]).toLocaleDateString("vi-VN")})]})]}),(0,ar.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"S\u1ed1 xe"}),(0,ar.jsx)("span",{className:"text-sm text-gray-900 font-medium",children:F["S\u1ed0 XE"]})]}),(0,ar.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kh\xe1ch h\xe0ng"}),(0,ar.jsx)("span",{className:"text-sm text-gray-900",children:F["KH\xc1CH H\xc0NG"]})]})]}),(0,ar.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsx)("h3",{className:"text-lg font-medium text-blue-800 mb-2",children:"Tr\u1ea1ng th\xe1i ph\xe2n b\u1ed5"}),(0,ar.jsx)(oe,{record:F})]})}),(0,ar.jsxs)("div",{className:"border border-blue-200 rounded-lg p-5 bg-blue-50",children:[(0,ar.jsxs)("h3",{className:"text-lg font-medium text-blue-800 mb-4 flex items-center gap-2",children:[(0,ar.jsx)(yr,{className:"w-5 h-5"}),"Th\xf4ng tin Bao b\xec Anh"]}),F["BAO B\xcc ANH (T\u1ea4N)"]&&parseFloat(F["BAO B\xcc ANH (T\u1ea4N)"])>0?(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,ar.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nh\u1eadp bao b\xec"}),(0,ar.jsxs)("div",{className:"text-lg font-bold text-blue-600",children:[HB(F["BAO B\xcc ANH (T\u1ea4N)"])," t\u1ea5n"]})]}),(0,ar.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tr\u1eeb bao b\xec (3%)"}),(0,ar.jsxs)("div",{className:"text-lg font-bold text-red-600",children:["-",HB(F["TR\u1eea BAO B\xcc ANH (T\u1ea4N)"])," t\u1ea5n"]})]}),(0,ar.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Th\u1ef1c nh\u1eadn"}),(0,ar.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[HB(F["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"])," t\u1ea5n"]})]}),(0,ar.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0110\xe3 ph\xe2n b\u1ed5"}),(0,ar.jsxs)("div",{className:"text-lg font-bold text-indigo-600",children:[F["\u0110\xc3 PH\xc2N B\u1ed4 (ANH)"]?HB(F["\u0110\xc3 PH\xc2N B\u1ed4 (ANH)"]):"0.00"," t\u1ea5n"]})]}),(0,ar.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"C\xf2n l\u1ea1i (B\xe3i)"}),(0,ar.jsxs)("div",{className:"text-lg font-bold text-yellow-600",children:[F["B\xc3I (ANH)"]?HB(F["B\xc3I (ANH)"]):HB((parseFloat(F["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"]||0)-parseFloat(F["\u0110\xc3 PH\xc2N B\u1ed4 (ANH)"]||0)).toFixed(2))," t\u1ea5n"]})]})]}):(0,ar.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,ar.jsx)(yr,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),(0,ar.jsx)("p",{children:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u bao b\xec Anh"})]})]}),(0,ar.jsxs)("div",{className:"border border-purple-200 rounded-lg p-5 bg-purple-50",children:[(0,ar.jsxs)("h3",{className:"text-lg font-medium text-purple-800 mb-4 flex items-center gap-2",children:[(0,ar.jsx)(yr,{className:"w-5 h-5"}),"Th\xf4ng tin Bao b\xec Em"]}),F["BAO B\xcc EM (T\u1ea4N)"]&&parseFloat(F["BAO B\xcc EM (T\u1ea4N)"])>0?(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,ar.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nh\u1eadp bao b\xec"}),(0,ar.jsxs)("div",{className:"text-lg font-bold text-purple-600",children:[HB(F["BAO B\xcc EM (T\u1ea4N)"])," t\u1ea5n"]})]}),(0,ar.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tr\u1eeb bao b\xec (3%)"}),(0,ar.jsxs)("div",{className:"text-lg font-bold text-orange-600",children:["-",HB(F["TR\u1eea BAO B\xcc EM (T\u1ea4N)"])," t\u1ea5n"]})]}),(0,ar.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Th\u1ef1c nh\u1eadn"}),(0,ar.jsxs)("div",{className:"text-lg font-bold text-teal-600",children:[HB(F["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"])," t\u1ea5n"]})]}),(0,ar.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0110\xe3 ph\xe2n b\u1ed5"}),(0,ar.jsxs)("div",{className:"text-lg font-bold text-indigo-600",children:[F["\u0110\xc3 PH\xc2N B\u1ed4 (EM)"]?HB(F["\u0110\xc3 PH\xc2N B\u1ed4 (EM)"]):"0.00"," t\u1ea5n"]})]}),(0,ar.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"C\xf2n l\u1ea1i (B\xe3i)"}),(0,ar.jsxs)("div",{className:"text-lg font-bold text-yellow-600",children:[F["B\xc3I (EM)"]?HB(F["B\xc3I (EM)"]):HB((parseFloat(F["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"]||0)-parseFloat(F["\u0110\xc3 PH\xc2N B\u1ed4 (EM)"]||0)).toFixed(2))," t\u1ea5n"]})]})]}):(0,ar.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,ar.jsx)(yr,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),(0,ar.jsx)("p",{children:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u bao b\xec Em"})]})]}),(()=>{const e=se(F);return e.hasAllocation&&(0,ar.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-5",children:[(0,ar.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ar.jsxs)("h3",{className:"text-lg font-medium text-blue-800 flex items-center gap-2",children:[(0,ar.jsx)(yr,{className:"w-5 h-5"}),"Chi ti\u1ebft ph\xe2n b\u1ed5 (",e.totalReports," b\xe1o c\xe1o)"]}),(0,ar.jsxs)("div",{className:"text-sm text-blue-600",children:["T\u1ed5ng gi\xe1 tr\u1ecb: ",(0,ar.jsx)("span",{className:"font-bold",children:DB(e.relatedReports.reduce(((e,t)=>e+parseFloat(t["TH\xc0NH TI\u1ec0N"]||0)),0))})]})]}),(0,ar.jsx)("div",{className:"overflow-x-auto",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-blue-200",children:[(0,ar.jsx)("thead",{className:"bg-blue-100",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-blue-700 uppercase",children:"Ng\xe0y BC"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-blue-700 uppercase",children:"T\xean h\xe0ng"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-blue-700 uppercase",children:"T\u1ed5"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-blue-700 uppercase",children:"C\xf4ng \u0111o\u1ea1n"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-blue-700 uppercase",children:"Kh\u1ed1i l\u01b0\u1ee3ng"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-blue-700 uppercase",children:"Nh\xe2n s\u1ef1"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-blue-700 uppercase",children:"\u0110\u01a1n gi\xe1"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-blue-700 uppercase",children:"Th\xe0nh ti\u1ec1n"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-blue-700 uppercase",children:"Ng\u01b0\u1eddi nh\u1eadp"})]})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-blue-100",children:e.relatedReports.map(((e,t)=>(0,ar.jsxs)("tr",{className:(t%2===0?"bg-white":"bg-blue-25")+" hover:bg-blue-50 transition-colors",children:[(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-700",children:(0,ar.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ar.jsx)(QG,{className:"w-3 h-3 text-gray-400"}),new Date(e["NG\xc0Y"]).toLocaleDateString("vi-VN")]})}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:e["T\xcaN H\xc0NG"]}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,ar.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium",children:e["T\u1ed4"]})}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 max-w-xs",children:(0,ar.jsx)("div",{className:"truncate",title:e["C\xd4NG \u0110O\u1ea0N"],children:e["C\xd4NG \u0110O\u1ea0N"]})}),(0,ar.jsxs)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-purple-600",children:[HB(e["KH\u1ed0I L\u01af\u1ee2NG"]),(0,ar.jsx)("span",{className:"text-gray-500 text-xs ml-1",children:e["\u0110\u01a0N V\u1eca T\xcdNH"]})]}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 max-w-xs",children:(0,ar.jsx)("div",{className:"truncate",title:e["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"],children:e["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"]})}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-green-600 font-medium",children:DB(e["\u0110\u01a0N GI\xc1"])}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-bold text-green-700",children:DB(e["TH\xc0NH TI\u1ec0N"])}),(0,ar.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-600",children:e["NG\u01af\u1edcI NH\u1eacP"]})]},e.IDBC)))})]})})]})})(),(0,ar.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,ar.jsxs)("button",{onClick:()=>{ge(),ee(F),Z(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(Ck,{className:"w-4 h-4"}),"Ph\xe2n b\u1ed5"]}),(0,ar.jsxs)("button",{onClick:()=>{ge(),xe(F)},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(kk,{className:"w-4 h-4"}),"Ch\u1ec9nh s\u1eeda"]}),(0,ar.jsx)("button",{onClick:ge,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors shadow-sm",children:"\u0110\xf3ng"})]})]})]})}),Q&&J&&(0,ar.jsx)(CB,{record:J,onClose:()=>{Z(!1),ee(null)},onSuccess:async()=>{await fe(),await pe(),et.success("Ph\xe2n b\u1ed5 th\xe0nh c\xf4ng!")}}),o&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-5",children:[(0,ar.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:re.ID?"C\u1eadp nh\u1eadt th\xf4ng tin nh\u1eadp bao b\xec":"Th\xeam th\xf4ng tin nh\u1eadp bao b\xec"}),(0,ar.jsx)("button",{onClick:be,className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsxs)("div",{className:"space-y-5",children:[(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ng\xe0y th\xe1ng"}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,ar.jsx)(Ik,{className:"w-4 h-4 text-gray-500"})}),(0,ar.jsx)("input",{type:"date",value:IB(re["NG\xc0Y TH\xc1NG"]),onChange:e=>ye("NG\xc0Y TH\xc1NG",e.target.value),className:"pl-10 p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",required:!0})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"S\u1ed1 xe"}),(0,ar.jsx)("input",{type:"text",placeholder:"Nh\u1eadp s\u1ed1 xe",className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",value:re["S\u1ed0 XE"],onChange:e=>ye("S\u1ed0 XE",e.target.value),required:!0})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kh\xe1ch h\xe0ng"}),(0,ar.jsx)("input",{type:"text",placeholder:"Nh\u1eadp t\xean kh\xe1ch h\xe0ng",className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",value:re["KH\xc1CH H\xc0NG"],onChange:e=>ye("KH\xc1CH H\xc0NG",e.target.value),required:!0})]})]}),(0,ar.jsxs)("div",{className:"border border-blue-200 rounded-lg p-4 bg-blue-50",children:[(0,ar.jsxs)("h3",{className:"text-lg font-medium text-blue-800 mb-3 flex items-center gap-2",children:[(0,ar.jsx)(yr,{className:"w-5 h-5"}),"Bao b\xec Anh"]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nh\u1eadp bao b\xec (T\u1ea5n)"}),(0,ar.jsx)("input",{type:"number",step:"0.001",placeholder:"0.000",className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-blue-500 focus:border-blue-500",value:re["BAO B\xcc ANH (T\u1ea4N)"],onChange:e=>ye("BAO B\xcc ANH (T\u1ea4N)",e.target.value)})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tr\u1eeb bao b\xec (T\u1ea5n)"}),(0,ar.jsx)("input",{type:"text",className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-blue-500 focus:border-blue-500 bg-gray-100",value:re["TR\u1eea BAO B\xcc ANH (T\u1ea4N)"],readOnly:!0,placeholder:"T\u1ef1 \u0111\u1ed9ng t\xednh"}),(0,ar.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"3% c\u1ee7a nh\u1eadp bao b\xec"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Th\u1ef1c nh\u1eadn (T\u1ea5n)"}),(0,ar.jsx)("input",{type:"text",className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-blue-500 focus:border-blue-500 bg-gray-100",value:re["TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)"],readOnly:!0,placeholder:"T\u1ef1 \u0111\u1ed9ng t\xednh"}),(0,ar.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Nh\u1eadp - Tr\u1eeb bao b\xec"})]})]})]}),(0,ar.jsxs)("div",{className:"border border-purple-200 rounded-lg p-4 bg-purple-50",children:[(0,ar.jsxs)("h3",{className:"text-lg font-medium text-purple-800 mb-3 flex items-center gap-2",children:[(0,ar.jsx)(yr,{className:"w-5 h-5"}),"Bao b\xec Em"]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nh\u1eadp bao b\xec (T\u1ea5n)"}),(0,ar.jsx)("input",{type:"number",step:"0.001",placeholder:"0.000",className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-purple-500 focus:border-purple-500",value:re["BAO B\xcc EM (T\u1ea4N)"],onChange:e=>ye("BAO B\xcc EM (T\u1ea4N)",e.target.value)})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tr\u1eeb bao b\xec (T\u1ea5n)"}),(0,ar.jsx)("input",{type:"text",className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-purple-500 focus:border-purple-500 bg-gray-100",value:re["TR\u1eea BAO B\xcc EM (T\u1ea4N)"],readOnly:!0,placeholder:"T\u1ef1 \u0111\u1ed9ng t\xednh"}),(0,ar.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"3% c\u1ee7a nh\u1eadp bao b\xec"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Th\u1ef1c nh\u1eadn (T\u1ea5n)"}),(0,ar.jsx)("input",{type:"text",className:"p-2.5 border border-gray-300 rounded-lg w-full focus:ring-purple-500 focus:border-purple-500 bg-gray-100",value:re["TH\u1ef0C NH\u1eacN EM (T\u1ea4N)"],readOnly:!0,placeholder:"T\u1ef1 \u0111\u1ed9ng t\xednh"}),(0,ar.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Nh\u1eadp - Tr\u1eeb bao b\xec"})]})]})]}),(0,ar.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,ar.jsxs)("div",{className:"flex items-start",children:[(0,ar.jsx)(_k,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-2 flex-shrink-0"}),(0,ar.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,ar.jsx)("p",{className:"font-medium",children:"L\u01b0u \xfd:"}),(0,ar.jsx)("p",{children:"C\u1ea7n nh\u1eadp \xedt nh\u1ea5t m\u1ed9t lo\u1ea1i bao b\xec (Anh ho\u1eb7c Em). C\xf3 th\u1ec3 nh\u1eadp c\u1ea3 hai lo\u1ea1i cho c\xf9ng m\u1ed9t xe."})]})]})}),(0,ar.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,ar.jsx)("button",{onClick:be,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors shadow-sm",disabled:m,children:"H\u1ee7y"}),(0,ar.jsx)("button",{onClick:async()=>{if(!m)try{g(!0);const e=ve(re);if(e.length>0)return void et.error(e.join("\n"));let t={...re,"NG\xc0Y TH\xc1NG":IB(re["NG\xc0Y TH\xc1NG"])};t.ID?(await ut.apiRequest("NHAPBAOBI","Edit",{Rows:[t]}),et.success("C\u1eadp nh\u1eadt th\xf4ng tin nh\u1eadp bao b\xec th\xe0nh c\xf4ng!")):(t.ID=AB(),await ut.apiRequest("NHAPBAOBI","Add",{Rows:[t]}),et.success("Th\xeam th\xf4ng tin nh\u1eadp bao b\xec th\xe0nh c\xf4ng!")),await fe(),await pe(),be()}catch(e){console.error("Error saving record:",e),et.error("C\xf3 l\u1ed7i x\u1ea3y ra: "+(e.message||"Kh\xf4ng th\u1ec3 l\u01b0u th\xf4ng tin"))}finally{g(!1)}},disabled:m,className:`px-4 py-2 bg-indigo-600 text-white rounded-lg ${m?"opacity-50 cursor-not-allowed":"hover:bg-indigo-700"} flex items-center gap-2 transition-colors shadow-sm`,children:m?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ar.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ar.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0110ang l\u01b0u..."]}):"L\u01b0u th\xf4ng tin"})]})]})]})}),E&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full p-6",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-5",children:[(0,ar.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Nh\u1eadp d\u1eef li\u1ec7u t\u1eeb Excel"}),(0,ar.jsx)("button",{onClick:()=>{C(!1),I(null),H([])},className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsxs)("div",{className:"mb-5",children:[(0,ar.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["T\u1ea3i l\xean file Excel (.xlsx, .xls) ho\u1eb7c CSV c\xf3 ch\u1ee9a d\u1eef li\u1ec7u nh\u1eadp bao b\xec. File c\u1ea7n c\xf3 c\xe1c c\u1ed9t: ",(0,ar.jsx)("span",{className:"font-medium",children:"NG\xc0Y TH\xc1NG, S\u1ed0 XE, KH\xc1CH H\xc0NG"})," v\xe0 \xedt nh\u1ea5t m\u1ed9t trong hai c\u1ed9t:",(0,ar.jsx)("span",{className:"font-medium",children:" BAO B\xcc ANH (T\u1ea4N), BAO B\xcc EM (T\u1ea4N)"}),"."]}),(0,ar.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3",children:(0,ar.jsxs)("div",{className:"flex items-start",children:[(0,ar.jsx)(_k,{className:"w-4 h-4 text-yellow-600 mt-0.5 mr-2 flex-shrink-0"}),(0,ar.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,ar.jsx)("p",{className:"font-medium",children:"L\u01b0u \xfd \u0111\u1ecbnh d\u1ea1ng ng\xe0y:"}),(0,ar.jsx)("p",{children:"Nh\u1eadp ng\xe0y theo \u0111\u1ecbnh d\u1ea1ng DD/MM/YYYY (v\xed d\u1ee5: 22/03/2025, 01/01/2025)"})]})]})}),(0,ar.jsxs)("div",{className:"flex gap-3",children:[(0,ar.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",children:[(0,ar.jsx)("input",{type:"file",accept:".xlsx,.xls,.csv",className:"hidden",onChange:e=>{const t=e.target.files[0];if(!t)return;const r=t.name.split(".").pop().toLowerCase();if(!["xlsx","xls","csv"].includes(r))return void et.error("Vui l\xf2ng ch\u1ecdn file Excel (.xlsx, .xls) ho\u1eb7c CSV");I(t);const n=new FileReader;n.onload=e=>{try{const t=YM(e.target.result,{type:"binary"}),r=t.SheetNames[0],n=t.Sheets[r],a=pL.sheet_to_json(n,{header:1});if(a.length<2)return et.error("File kh\xf4ng c\xf3 d\u1eef li\u1ec7u ho\u1eb7c kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng"),void I(null);const i=a[0],s=["NG\xc0Y TH\xc1NG","S\u1ed0 XE","KH\xc1CH H\xc0NG"].filter((e=>!i.includes(e)));if(s.length>0)return et.error(`File thi\u1ebfu c\xe1c c\u1ed9t b\u1eaft bu\u1ed9c: ${s.join(", ")}`),void I(null);const o=i.includes("BAO B\xcc ANH (T\u1ea4N)"),l=i.includes("BAO B\xcc EM (T\u1ea4N)");if(!o&&!l)return et.error("File ph\u1ea3i c\xf3 \xedt nh\u1ea5t m\u1ed9t c\u1ed9t: BAO B\xcc ANH (T\u1ea4N) ho\u1eb7c BAO B\xcc EM (T\u1ea4N)"),void I(null);const c=a.slice(1,6).map((e=>{const t={};return i.forEach(((r,n)=>{t[r]=e[n]||""})),t}));H(c)}catch(t){console.error("Error parsing Excel file:",t),et.error("Kh\xf4ng th\u1ec3 \u0111\u1ecdc file. Vui l\xf2ng ki\u1ec3m tra \u0111\u1ecbnh d\u1ea1ng file."),I(null)}},n.onerror=()=>{et.error("Kh\xf4ng th\u1ec3 \u0111\u1ecdc file"),I(null)},n.readAsBinaryString(t)}}),(0,ar.jsx)(Sk,{className:"h-4 w-4"}),(0,ar.jsx)("span",{children:"Ch\u1ecdn file"})]}),(0,ar.jsxs)("button",{onClick:()=>{const e=pL.aoa_to_sheet([["NG\xc0Y TH\xc1NG","S\u1ed0 XE","KH\xc1CH H\xc0NG","BAO B\xcc ANH (T\u1ea4N)","BAO B\xcc EM (T\u1ea4N)"],["22/03/2025","29A-12345","C\xf4ng ty ABC","10.5",""],["23/03/2025","30B-67890","C\xf4ng ty XYZ","","8.2"],["24/03/2025","31C-11111","C\xf4ng ty DEF","5.0","3.0"]]),t=pL.book_new();pL.book_append_sheet(t,e,"Template"),rL(t,"mau_nhap_bao_bi.xlsx")},className:"px-4 py-2 text-indigo-600 border border-indigo-300 bg-indigo-50 rounded-lg hover:bg-indigo-100 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(Ak,{className:"h-4 w-4"}),"T\u1ea3i m\u1eabu nh\u1eadp"]})]}),A&&(0,ar.jsxs)("div",{className:"mt-3 p-3 bg-indigo-50 border border-indigo-100 rounded-lg text-sm text-indigo-700 flex items-center",children:[(0,ar.jsx)("div",{className:"mr-2 flex-shrink-0",children:(0,ar.jsx)(yr,{className:"h-5 w-5"})}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("div",{className:"font-medium",children:["\u0110\xe3 ch\u1ecdn: ",A.name]}),(0,ar.jsxs)("div",{className:"text-xs text-indigo-600 mt-1",children:["K\xedch th\u01b0\u1edbc: ",(A.size/1024).toFixed(2)," KB"]})]})]})]}),P.length>0&&(0,ar.jsxs)("div",{className:"mb-5",children:[(0,ar.jsx)("h3",{className:"font-medium mb-2",children:"Xem tr\u01b0\u1edbc d\u1eef li\u1ec7u (5 d\xf2ng \u0111\u1ea7u ti\xean):"}),(0,ar.jsx)("div",{className:"overflow-x-auto border rounded-lg",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gray-50",children:(0,ar.jsx)("tr",{children:Object.keys(P[0]).map(((e,t)=>(0,ar.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e},t)))})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map(((e,t)=>(0,ar.jsx)("tr",{children:Object.values(e).map(((e,t)=>(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-gray-500 truncate",children:e},t)))},t)))})]})})]}),(0,ar.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,ar.jsx)("button",{onClick:()=>{C(!1),I(null),H([])},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors shadow-sm",disabled:D,children:"H\u1ee7y"}),(0,ar.jsx)("button",{onClick:async()=>{if(A){M(!0),et.info("\u0110ang x\u1eed l\xfd d\u1eef li\u1ec7u...",{autoClose:!1,toastId:"importing"});try{const e=new FileReader;e.onload=async e=>{try{const r=YM(e.target.result,{type:"binary"}),n=r.SheetNames[0],a=r.Sheets[n],i=pL.sheet_to_json(a),s=[],o=[];for(let e=0;e<i.length;e++){const t=i[e],r=je(t["NG\xc0Y TH\xc1NG"]);if(!t["S\u1ed0 XE"]||!t["KH\xc1CH H\xc0NG"]||!r){s.push(e+2);continue}const n=t["BAO B\xcc ANH (T\u1ea4N)"]&&parseFloat(t["BAO B\xcc ANH (T\u1ea4N)"])>0,a=t["BAO B\xcc EM (T\u1ea4N)"]&&parseFloat(t["BAO B\xcc EM (T\u1ea4N)"])>0;if(!n&&!a){s.push(e+2);continue}let l={truBaoBi:"",thucNhan:""};n&&(l=MB(t["BAO B\xcc ANH (T\u1ea4N)"]));let c={truBaoBi:"",thucNhan:""};a&&(c=MB(t["BAO B\xcc EM (T\u1ea4N)"]));const u={ID:AB(),"NG\xc0Y TH\xc1NG":r,"S\u1ed0 XE":t["S\u1ed0 XE"],"KH\xc1CH H\xc0NG":t["KH\xc1CH H\xc0NG"],"BAO B\xcc ANH (T\u1ea4N)":t["BAO B\xcc ANH (T\u1ea4N)"]||"","TR\u1eea BAO B\xcc ANH (T\u1ea4N)":l.truBaoBi,"TH\u1ef0C NH\u1eacN ANH (T\u1ea4N)":l.thucNhan,"BAO B\xcc EM (T\u1ea4N)":t["BAO B\xcc EM (T\u1ea4N)"]||"","TR\u1eea BAO B\xcc EM (T\u1ea4N)":c.truBaoBi,"TH\u1ef0C NH\u1eacN EM (T\u1ea4N)":c.thucNhan};o.push(u)}if(s.length>0&&et.warning(`C\xf3 ${s.length} d\xf2ng d\u1eef li\u1ec7u kh\xf4ng h\u1ee3p l\u1ec7 (d\xf2ng Excel ${s.join(", ")}). Ki\u1ec3m tra \u0111\u1ecbnh d\u1ea1ng ng\xe0y DD/MM/YYYY v\xe0 c\xe1c tr\u01b0\u1eddng b\u1eaft bu\u1ed9c.`),0===o.length)return void et.error("Kh\xf4ng c\xf3 d\u1eef li\u1ec7u h\u1ee3p l\u1ec7 \u0111\u1ec3 nh\u1eadp. Ki\u1ec3m tra \u0111\u1ecbnh d\u1ea1ng ng\xe0y ph\u1ea3i l\xe0 DD/MM/YYYY");const l=25;let c=0;for(let e=0;e<o.length;e+=l){const r=o.slice(e,e+l);try{await ut.apiRequest("NHAPBAOBI","Add",{Rows:r}),c+=r.length}catch(t){console.error("Error importing batch:",t)}}et.success(`\u0110\xe3 nh\u1eadp th\xe0nh c\xf4ng ${c} b\u1ea3n ghi`),await fe(),C(!1),I(null),H([])}catch(t){console.error("Error processing import:",t),et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi x\u1eed l\xfd d\u1eef li\u1ec7u")}finally{et.dismiss("importing"),M(!1)}},e.onerror=()=>{et.dismiss("importing"),et.error("Kh\xf4ng th\u1ec3 \u0111\u1ecdc file"),M(!1)},e.readAsBinaryString(A)}catch(e){et.dismiss("importing"),et.error("C\xf3 l\u1ed7i x\u1ea3y ra"),M(!1)}}},disabled:!A||D,className:`px-4 py-2 bg-indigo-600 text-white rounded-lg ${!A||D?"opacity-50 cursor-not-allowed":"hover:bg-indigo-700"} flex items-center gap-2 transition-colors shadow-sm`,children:D?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ar.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ar.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0110ang nh\u1eadp..."]}):"Nh\u1eadp d\u1eef li\u1ec7u"})]})]})}),G&&(0,ar.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4 mb-5",children:[(0,ar.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:W}),(0,ar.jsx)("button",{onClick:he,className:"text-gray-500 hover:text-gray-700 focus:outline-none",disabled:Y,children:(0,ar.jsx)(xk,{className:"h-5 w-5"})})]}),(0,ar.jsxs)("div",{className:"space-y-5",children:[(0,ar.jsx)("p",{className:"text-gray-600",children:K}),(0,ar.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,ar.jsx)("button",{onClick:he,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors shadow-sm",disabled:Y,children:"H\u1ee7y"}),(0,ar.jsx)("button",{onClick:async()=>{if(z&&"function"===typeof z){q(!0);try{await z()}catch(e){console.error("Error executing confirmation action:",e),et.error("C\xf3 l\u1ed7i x\u1ea3y ra khi th\u1ef1c hi\u1ec7n thao t\xe1c")}finally{he()}}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors shadow-sm flex items-center gap-2",disabled:Y,children:Y?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ar.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ar.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0110ang x\u1eed l\xfd..."]}):"X\xe1c nh\u1eadn"})]})]})]})}),(0,ar.jsx)(lt,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},FB=fr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),UB=e=>{if(!e)return"";const t=new Date(e),r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0");return`${t.getFullYear()}-${n}-${r}`},GB=e=>{if(!e)return"";return new Date(e).toLocaleDateString("vi-VN")},BB=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[i,s]=(0,n.useState)(["C\u1eaft th\xf4","B\xe0o, l\u1ef1a ph\xf4i","Finger gh\xe9p d\u1ecdc 1","Finger gh\xe9p d\u1ecdc 2","B\xe0o tinh gh\xe9p ngang","Tr\xe1m tr\xedt","Ch\xe0 nh\xe1m - ki\u1ec3m h\xe0ng","Nh\u1eadp kho th\xe0nh ph\u1ea9m"]),[o,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)({congDoan:"",trangThai:"",startDate:null,endDate:null}),[f,p]=(0,n.useState)({}),[m,g]=(0,n.useState)(!1),[x,b]=(0,n.useState)(null),[y,v]=(0,n.useState)(!0),[N,w]=(0,n.useState)(!1),[j,k]=(0,n.useState)([]),[T,S]=(0,n.useState)(!1),[O,_]=(0,n.useState)(!1),[E,C]=(0,n.useState)({ID:"","NG\xc0Y":new Date,"C\xd4NG \u0110O\u1ea0N":"","KH\u1ed0I L\u01af\u1ee2NG":"","NH\xc2N S\u1ef0 THAM GIA":"","GHI CH\xda":"","NG\u01af\u1edcI NH\u1eacP":"","TR\u1ea0NG TH\xc1I":"Ch\u1edd duy\u1ec7t","NG\u01af\u1edcI DUY\u1ec6T":""});(0,n.useEffect)((()=>{if(E["NH\xc2N S\u1ef0 THAM GIA"]){const e=E["NH\xc2N S\u1ef0 THAM GIA"].split(",").map((e=>e.trim()));k(e)}else k([])}),[E["NH\xc2N S\u1ef0 THAM GIA"]]),(0,n.useEffect)((()=>{(async()=>{v(!0);try{const e=await ut.apiRequest("BC","Find",{});t(e);const r=await ut.apiRequest("DSNV","Find",{});a(r.map((e=>({value:e["H\u1ecd v\xe0 T\xean"],label:e["H\u1ecd v\xe0 T\xean"]}))))}catch(e){console.error("Error fetching data:",e),et.error("L\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u")}finally{v(!1)}})()}),[]);const A=(0,n.useMemo)((()=>e.filter((e=>{var t,r;const n=!o||(null===(t=e["C\xd4NG \u0110O\u1ea0N"])||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null===(r=e.ID)||void 0===r?void 0:r.toLowerCase().includes(o.toLowerCase())),a=!d.congDoan||e["C\xd4NG \u0110O\u1ea0N"]===d.congDoan,i=!d.trangThai||e["TR\u1ea0NG TH\xc1I"]===d.trangThai;let s=!0;if(d.startDate||d.endDate){const t=new Date(e["NG\xc0Y"]);if(t.setHours(0,0,0,0),d.startDate&&d.endDate){const e=new Date(d.startDate);e.setHours(0,0,0,0);const r=new Date(d.endDate);r.setHours(23,59,59,999),s=t>=e&&t<=r}else if(d.startDate){const e=new Date(d.startDate);e.setHours(0,0,0,0),s=t>=e}else if(d.endDate){const e=new Date(d.endDate);e.setHours(23,59,59,999),s=t<=e}}return n&&a&&i&&s}))),[e,o,d]),I=(0,n.useMemo)((()=>{const e={};return A.forEach((t=>{const r=t["NG\xc0Y"].split("T")[0];e[r]||(e[r]=[]),e[r].push(t)})),Object.keys(e).sort(((e,t)=>new Date(t)-new Date(e))).reduce(((t,r)=>(t[r]=e[r],t)),{})}),[A]),P=(e,t)=>{if(t){const r=new Date(t);h((t=>({...t,[e]:r})))}else h((t=>({...t,[e]:null})))},H=e=>{switch(e){case"\u0110\xe3 duy\u1ec7t":return"bg-green-100 text-green-800 border border-green-200";case"T\u1eeb ch\u1ed1i":return"bg-red-100 text-red-800 border border-red-200";default:return"bg-yellow-100 text-yellow-800 border border-yellow-200"}},D=e=>e.reduce(((e,t)=>{const r=t["KH\u1ed0I L\u01af\u1ee2NG"].toString().replace(/[^\d.-]/g,"");return e+(parseFloat(r)||0)}),0),M=e=>({"C\u1eaft th\xf4":"bg-blue-50 text-blue-700 border-blue-200","B\xe0o, l\u1ef1a ph\xf4i":"bg-purple-50 text-purple-700 border-purple-200","Finger gh\xe9p d\u1ecdc 1":"bg-indigo-50 text-indigo-700 border-indigo-200","Finger gh\xe9p d\u1ecdc 2":"bg-cyan-50 text-cyan-700 border-cyan-200","B\xe0o tinh gh\xe9p ngang":"bg-teal-50 text-teal-700 border-teal-200","Tr\xe1m tr\xedt":"bg-amber-50 text-amber-700 border-amber-200","Ch\xe0 nh\xe1m - ki\u1ec3m h\xe0ng":"bg-lime-50 text-lime-700 border-lime-200","Nh\u1eadp kho th\xe0nh ph\u1ea9m":"bg-emerald-50 text-emerald-700 border-emerald-200"}[e]||"bg-gray-50 text-gray-700 border-gray-200"),L=()=>{g(!1),b(null)},R=async e=>{try{await ut.apiRequest("BC","Delete",{Rows:[{ID:e}]}),t((t=>t.filter((t=>t.ID!==e)))),m&&(null===x||void 0===x?void 0:x.ID)===e&&L(),et.success("\u0110\xe3 x\xf3a b\xe1o c\xe1o th\xe0nh c\xf4ng")}catch(r){console.error("Error deleting report:",r),et.error("L\u1ed7i khi x\xf3a b\xe1o c\xe1o")}},F=async(r,n)=>{try{const a=e.find((e=>e.ID===r));if(!a)return;const i=ut.getUserData(),s=(null===i||void 0===i?void 0:i["H\u1ecd v\xe0 T\xean"])||"",o={...a,"TR\u1ea0NG TH\xc1I":n?"\u0110\xe3 duy\u1ec7t":"T\u1eeb ch\u1ed1i","NG\u01af\u1edcI DUY\u1ec6T":s};await ut.apiRequest("BC","Edit",{Rows:[o]}),t((e=>e.map((e=>e.ID===r?o:e)))),m&&(null===x||void 0===x?void 0:x.ID)===r&&b(o),et.success("B\xe1o c\xe1o \u0111\xe3 \u0111\u01b0\u1ee3c "+(n?"duy\u1ec7t":"t\u1eeb ch\u1ed1i"))}catch(a){console.error("Error approving report:",a),et.error("L\u1ed7i khi x\u1eed l\xfd b\xe1o c\xe1o")}},U=(e,t)=>{C((r=>({...r,[e]:t})))};return(0,ar.jsxs)("div",{className:"bg-gray-50 min-h-screen pb-16",children:[(0,ar.jsx)("div",{className:"sticky top-0 z-10 bg-indigo-600 text-white shadow-md",children:(0,ar.jsxs)("div",{className:"px-4 py-3 flex items-center",children:[m||T?(0,ar.jsx)("button",{onClick:()=>{T?S(!1):L()},className:"mr-2 p-1 rounded-full hover:bg-indigo-500",children:(0,ar.jsx)(FB,{size:20})}):null,(0,ar.jsx)("h1",{className:"text-lg font-semibold flex-1",children:T?E.ID?"S\u1eeda b\xe1o c\xe1o":"Th\xeam b\xe1o c\xe1o m\u1edbi":m?"Chi ti\u1ebft b\xe1o c\xe1o":"B\xe1o c\xe1o s\u1ea3n xu\u1ea5t"}),!m&&!T&&(0,ar.jsx)("button",{onClick:()=>u(!c),className:"p-2 rounded-full hover:bg-indigo-500",children:(0,ar.jsx)(vk,{size:18})})]})}),(0,ar.jsxs)("div",{className:"p-4",children:[T&&(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden animate-fadeIn",children:[(0,ar.jsx)("div",{className:"p-4 border-b border-gray-100",children:(0,ar.jsx)("h2",{className:"text-lg font-bold",children:E.ID?"C\u1eadp nh\u1eadt b\xe1o c\xe1o":"Th\xeam b\xe1o c\xe1o m\u1edbi"})}),(0,ar.jsxs)("div",{className:"p-4 space-y-4",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ng\xe0y b\xe1o c\xe1o"}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,ar.jsx)(Ik,{className:"w-4 h-4 text-gray-500"})}),(0,ar.jsx)("input",{type:"date",value:UB(E["NG\xc0Y"]),onChange:e=>U("NG\xc0Y",new Date(e.target.value)),className:"pl-10 p-2.5 border border-gray-300 rounded-lg w-full"})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["C\xf4ng \u0111o\u1ea1n ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsxs)("select",{value:E["C\xd4NG \u0110O\u1ea0N"],onChange:e=>U("C\xd4NG \u0110O\u1ea0N",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full",required:!0,children:[(0,ar.jsx)("option",{value:"",children:"Ch\u1ecdn c\xf4ng \u0111o\u1ea1n"}),i.map(((e,t)=>(0,ar.jsx)("option",{value:e,children:e},t)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Kh\u1ed1i l\u01b0\u1ee3ng ",(0,ar.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ar.jsx)("input",{type:"text",placeholder:"Nh\u1eadp kh\u1ed1i l\u01b0\u1ee3ng (VD: 50 kh\u1ed1i)",value:E["KH\u1ed0I L\u01af\u1ee2NG"],onChange:e=>U("KH\u1ed0I L\u01af\u1ee2NG",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full",required:!0})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nh\xe2n s\u1ef1 tham gia"}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsxs)("button",{type:"button",onClick:()=>w(!N),className:"w-full p-2.5 border border-gray-300 rounded-lg text-left flex justify-between items-center",children:[(0,ar.jsx)("span",{className:"truncate",children:j.length>0?`\u0110\xe3 ch\u1ecdn ${j.length} nh\xe2n s\u1ef1`:"Ch\u1ecdn nh\xe2n s\u1ef1..."}),(0,ar.jsx)(sk,{size:16,className:"transition-transform "+(N?"rotate-180":"")})]}),j.length>0&&(0,ar.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:j.map(((e,t)=>(0,ar.jsx)("span",{className:"bg-indigo-50 text-indigo-700 text-xs px-2 py-1 rounded-md",children:e},t)))}),N&&(0,ar.jsxs)("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[(0,ar.jsx)("div",{className:"sticky top-0 bg-white border-b p-2",children:(0,ar.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm nh\xe2n s\u1ef1...",className:"w-full p-2 border border-gray-300 rounded-lg",onClick:e=>e.stopPropagation(),onChange:e=>{}})}),(0,ar.jsx)("div",{className:"p-2",children:r.map(((e,t)=>(0,ar.jsxs)("div",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[(0,ar.jsx)("input",{type:"checkbox",id:`staff-${t}`,checked:j.includes(e.value),onChange:()=>{if(j.includes(e.value)){const t=j.filter((t=>t!==e.value));k(t),U("NH\xc2N S\u1ef0 THAM GIA",t.join(", "))}else{const t=[...j,e.value];k(t),U("NH\xc2N S\u1ef0 THAM GIA",t.join(", "))}},className:"mr-2"}),(0,ar.jsx)("label",{htmlFor:`staff-${t}`,className:"flex-1 cursor-pointer",children:e.label})]},t)))}),(0,ar.jsxs)("div",{className:"sticky bottom-0 bg-white border-t p-2 flex justify-between",children:[(0,ar.jsx)("button",{type:"button",onClick:()=>{k([]),U("NH\xc2N S\u1ef0 THAM GIA","")},className:"text-sm text-red-600",children:"X\xf3a t\u1ea5t c\u1ea3"}),(0,ar.jsx)("button",{type:"button",onClick:()=>w(!1),className:"text-sm text-indigo-600 font-medium",children:"Xong"})]})]})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi ch\xfa"}),(0,ar.jsx)("textarea",{placeholder:"Nh\u1eadp ghi ch\xfa (n\u1ebfu c\xf3)",value:E["GHI CH\xda"],onChange:e=>U("GHI CH\xda",e.target.value),rows:3,className:"p-2.5 border border-gray-300 rounded-lg w-full"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ng\u01b0\u1eddi nh\u1eadp"}),(0,ar.jsx)("input",{type:"text",placeholder:"Nh\u1eadp t\xean ng\u01b0\u1eddi nh\u1eadp b\xe1o c\xe1o",value:E["NG\u01af\u1edcI NH\u1eacP"],onChange:e=>U("NG\u01af\u1edcI NH\u1eacP",e.target.value),className:"p-2.5 border border-gray-300 rounded-lg w-full"})]})]}),(0,ar.jsx)("div",{className:"p-4 border-t border-gray-100",children:(0,ar.jsx)("button",{onClick:async()=>{if(E["C\xd4NG \u0110O\u1ea0N"]&&E["KH\u1ed0I L\u01af\u1ee2NG"]){_(!0);try{const e={...E,"NG\xc0Y":UB(E["NG\xc0Y"])};if(E.ID)await ut.apiRequest("BC","Edit",{Rows:[e]}),t((t=>t.map((t=>t.ID===E.ID?e:t)))),et.success("C\u1eadp nh\u1eadt b\xe1o c\xe1o th\xe0nh c\xf4ng");else{const r=(await ut.apiRequest("BC","Find",{})).reduce(((e,t)=>{const r=parseInt(t.ID.replace("BC",""))||0;return r>e?r:e}),0),n=`BC${(r+1).toString().padStart(3,"0")}`;e.ID=n,await ut.apiRequest("BC","Add",{Rows:[e]}),t((t=>[...t,e])),et.success("Th\xeam b\xe1o c\xe1o m\u1edbi th\xe0nh c\xf4ng")}S(!1)}catch(e){console.error("Error saving report:",e),et.error("L\u1ed7i khi l\u01b0u b\xe1o c\xe1o")}finally{_(!1)}}else et.error("Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin b\u1eaft bu\u1ed9c")},disabled:O,className:"w-full py-3 bg-indigo-600 text-white rounded-lg flex justify-center items-center gap-2",children:O?(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),"\u0110ang l\u01b0u..."]}):"L\u01b0u b\xe1o c\xe1o"})})]}),m&&x&&!T?(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden animate-fadeIn",children:[(0,ar.jsxs)("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("span",{className:"text-xs text-gray-500",children:"M\xe3 b\xe1o c\xe1o"}),(0,ar.jsx)("h2",{className:"text-lg font-bold",children:x.ID})]}),(0,ar.jsx)("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${H(x["TR\u1ea0NG TH\xc1I"])}`,children:x["TR\u1ea0NG TH\xc1I"]})]}),(0,ar.jsxs)("div",{className:"p-4 space-y-4",children:[(0,ar.jsxs)("div",{className:"flex justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("span",{className:"text-xs text-gray-500",children:"Ng\xe0y b\xe1o c\xe1o"}),(0,ar.jsx)("p",{className:"font-medium",children:GB(x["NG\xc0Y"])})]}),(0,ar.jsxs)("div",{className:"text-right",children:[(0,ar.jsx)("span",{className:"text-xs text-gray-500",children:"Ng\u01b0\u1eddi nh\u1eadp"}),(0,ar.jsx)("p",{className:"font-medium",children:x["NG\u01af\u1edcI NH\u1eacP"]})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("span",{className:"text-xs text-gray-500",children:"C\xf4ng \u0111o\u1ea1n"}),(0,ar.jsx)("div",{className:`mt-1 inline-block px-2.5 py-1 rounded-md text-sm font-medium ${M(x["C\xd4NG \u0110O\u1ea0N"])}`,children:x["C\xd4NG \u0110O\u1ea0N"]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("span",{className:"text-xs text-gray-500",children:"Kh\u1ed1i l\u01b0\u1ee3ng"}),(0,ar.jsx)("p",{className:"text-xl font-bold text-indigo-700",children:x["KH\u1ed0I L\u01af\u1ee2NG"]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("span",{className:"text-xs text-gray-500",children:"Nh\xe2n s\u1ef1 tham gia"}),(0,ar.jsx)("p",{className:"font-medium",children:x["NH\xc2N S\u1ef0 THAM GIA"]})]}),x["GHI CH\xda"]&&(0,ar.jsxs)("div",{children:[(0,ar.jsx)("span",{className:"text-xs text-gray-500",children:"Ghi ch\xfa"}),(0,ar.jsx)("p",{className:"p-3 bg-gray-50 rounded-lg text-gray-700 mt-1",children:x["GHI CH\xda"]})]}),x["NG\u01af\u1edcI DUY\u1ec6T"]&&(0,ar.jsxs)("div",{children:[(0,ar.jsx)("span",{className:"text-xs text-gray-500",children:"Ng\u01b0\u1eddi duy\u1ec7t"}),(0,ar.jsx)("p",{className:"font-medium",children:x["NG\u01af\u1edcI DUY\u1ec6T"]})]})]}),(0,ar.jsx)("div",{className:"p-4 border-t border-gray-100 flex justify-between",children:"Ch\u1edd duy\u1ec7t"===x["TR\u1ea0NG TH\xc1I"]?(0,ar.jsxs)("div",{className:"flex gap-2 w-full",children:[(0,ar.jsxs)("button",{onClick:()=>F(x.ID,!1),className:"flex-1 py-2.5 bg-white border border-red-300 text-red-600 rounded-lg flex justify-center items-center gap-1.5",children:[(0,ar.jsx)(xk,{size:16}),"T\u1eeb ch\u1ed1i"]}),(0,ar.jsxs)("button",{onClick:()=>F(x.ID,!0),className:"flex-1 py-2.5 bg-green-600 text-white rounded-lg flex justify-center items-center gap-1.5",children:[(0,ar.jsx)(Ek,{size:16}),"Duy\u1ec7t"]})]}):(0,ar.jsxs)("div",{className:"flex gap-2 w-full",children:[(0,ar.jsxs)("button",{onClick:()=>{return e=x.ID,void(window.confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a b\xe1o c\xe1o n\xe0y?")&&R(e));var e},className:"flex-1 py-2.5 bg-white border border-red-300 text-red-600 rounded-lg flex justify-center items-center gap-1.5",children:[(0,ar.jsx)(Tk,{size:16}),"X\xf3a"]}),(0,ar.jsxs)("button",{onClick:()=>{var e;e=x,C({...e,"NG\xc0Y":new Date(e["NG\xc0Y"])}),S(!0),g(!1)},className:"flex-1 py-2.5 bg-indigo-600 text-white rounded-lg flex justify-center items-center gap-1.5",children:[(0,ar.jsx)(kk,{size:16}),"Ch\u1ec9nh s\u1eeda"]})]})})]}):null,!m&&!T&&(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("div",{className:"mb-4",children:(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)(wk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,ar.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm c\xf4ng \u0111o\u1ea1n, m\xe3 b\xe1o c\xe1o...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:o,onChange:e=>l(e.target.value)})]})}),c&&(0,ar.jsxs)("div",{className:"mb-4 p-4 bg-white rounded-lg shadow-sm border border-gray-100 animate-slideDown",children:[(0,ar.jsx)("h3",{className:"font-medium mb-3",children:"B\u1ed9 l\u1ecdc"}),(0,ar.jsxs)("div",{className:"space-y-3",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"C\xf4ng \u0111o\u1ea1n"}),(0,ar.jsxs)("select",{value:d.congDoan,onChange:e=>h({...d,congDoan:e.target.value}),className:"w-full p-2.5 border border-gray-300 rounded-lg",children:[(0,ar.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3 c\xf4ng \u0111o\u1ea1n"}),i.map(((e,t)=>(0,ar.jsx)("option",{value:e,children:e},t)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tr\u1ea1ng th\xe1i"}),(0,ar.jsxs)("select",{value:d.trangThai,onChange:e=>h({...d,trangThai:e.target.value}),className:"w-full p-2.5 border border-gray-300 rounded-lg",children:[(0,ar.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3 tr\u1ea1ng th\xe1i"}),(0,ar.jsx)("option",{value:"Ch\u1edd duy\u1ec7t",children:"Ch\u1edd duy\u1ec7t"}),(0,ar.jsx)("option",{value:"\u0110\xe3 duy\u1ec7t",children:"\u0110\xe3 duy\u1ec7t"}),(0,ar.jsx)("option",{value:"T\u1eeb ch\u1ed1i",children:"T\u1eeb ch\u1ed1i"})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\u1eeb ng\xe0y"}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,ar.jsx)(Ik,{className:"w-4 h-4 text-gray-500"})}),(0,ar.jsx)("input",{type:"date",value:d.startDate?UB(d.startDate):"",onChange:e=>P("startDate",e.target.value),className:"pl-10 p-2.5 border rounded-lg w-full"})]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u0110\u1ebfn ng\xe0y"}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,ar.jsx)(Ik,{className:"w-4 h-4 text-gray-500"})}),(0,ar.jsx)("input",{type:"date",value:d.endDate?UB(d.endDate):"",onChange:e=>P("endDate",e.target.value),className:"pl-10 p-2.5 border rounded-lg w-full"})]})]}),(0,ar.jsx)("button",{onClick:()=>{h({congDoan:"",trangThai:"",startDate:null,endDate:null}),l("")},className:"w-full py-2.5 mt-2 text-indigo-600 bg-indigo-50 border border-indigo-200 rounded-lg",children:"X\xf3a b\u1ed9 l\u1ecdc"})]})]}),y&&(0,ar.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,ar.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}),!y&&0===Object.keys(I).length&&(0,ar.jsx)("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:(0,ar.jsx)("p",{className:"text-gray-500",children:"Kh\xf4ng t\xecm th\u1ea5y b\xe1o c\xe1o n\xe0o ph\xf9 h\u1ee3p"})}),!y&&Object.entries(I).map((e=>{let[t,r]=e;return(0,ar.jsxs)("div",{className:"mb-4 bg-white rounded-lg shadow-sm overflow-hidden border border-gray-100",children:[(0,ar.jsxs)("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center cursor-pointer",onClick:()=>(e=>{p((t=>({...t,[e]:!t[e]})))})(t),children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("span",{className:"text-xs text-gray-500",children:"Ng\xe0y"}),(0,ar.jsx)("h2",{className:"text-lg font-bold",children:GB(t)})]}),(0,ar.jsxs)("div",{className:"flex items-center",children:[(0,ar.jsxs)("div",{className:"text-right mr-3",children:[(0,ar.jsx)("span",{className:"text-xs text-gray-500",children:"T\u1ed5ng kh\u1ed1i l\u01b0\u1ee3ng"}),(0,ar.jsxs)("p",{className:"font-bold text-indigo-700",children:[D(r).toFixed(2)," kh\u1ed1i"]})]}),f[t]?(0,ar.jsx)(Hk,{size:20}):(0,ar.jsx)(sk,{size:20})]})]}),f[t]&&(0,ar.jsx)("div",{className:"divide-y divide-gray-100 animate-fadeIn",children:r.map((e=>(0,ar.jsxs)("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>(e=>{b(e),g(!0)})(e),children:[(0,ar.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,ar.jsx)("div",{className:`px-2 py-1 rounded-md text-xs font-medium ${M(e["C\xd4NG \u0110O\u1ea0N"])}`,children:e["C\xd4NG \u0110O\u1ea0N"]}),(0,ar.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${H(e["TR\u1ea0NG TH\xc1I"])}`,children:e["TR\u1ea0NG TH\xc1I"]})]}),(0,ar.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("p",{className:"text-sm text-gray-500",children:e.ID}),(0,ar.jsx)("p",{className:"text-lg font-bold",children:e["KH\u1ed0I L\u01af\u1ee2NG"]})]}),(0,ar.jsxs)("div",{className:"text-right",children:[(0,ar.jsx)("p",{className:"text-sm text-gray-500",children:"Ng\u01b0\u1eddi nh\u1eadp"}),(0,ar.jsx)("p",{className:"text-sm font-medium",children:e["NG\u01af\u1edcI NH\u1eacP"]})]})]})]},e.ID)))})]},t)}))]})]}),!m&&!T&&(0,ar.jsx)("div",{className:"fixed bottom-5 right-5",children:(0,ar.jsx)("button",{onClick:()=>{const e=ut.getUserData();C({ID:"","NG\xc0Y":new Date,"C\xd4NG \u0110O\u1ea0N":"","KH\u1ed0I L\u01af\u1ee2NG":"","NH\xc2N S\u1ef0 THAM GIA":"","GHI CH\xda":"","NG\u01af\u1edcI NH\u1eacP":(null===e||void 0===e?void 0:e["H\u1ecd v\xe0 T\xean"])||"","TR\u1ea0NG TH\xc1I":"Ch\u1edd duy\u1ec7t","NG\u01af\u1edcI DUY\u1ec6T":""}),S(!0)},className:"bg-indigo-600 text-white w-14 h-14 rounded-full shadow-lg flex items-center justify-center hover:bg-indigo-700 active:bg-indigo-800 transition-colors","aria-label":"Th\xeam b\xe1o c\xe1o m\u1edbi",children:(0,ar.jsx)(Nk,{size:24})})}),(0,ar.jsx)(lt,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,ar.jsx)("style",{jsx:!0,children:"\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        \n        @keyframes slideDown {\n          from { opacity: 0; transform: translateY(-10px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        \n        .animate-fadeIn {\n          animation: fadeIn 0.3s ease-out;\n        }\n        \n        .animate-slideDown {\n          animation: slideDown 0.3s ease-out;\n        }\n      "})]})},zB=fr("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]),VB=fr("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]),KB=fr("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),$B=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[i,s]=(0,n.useState)([]),[o,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[d,h]=(0,n.useState)("ALL"),[f,p]=(0,n.useState)(""),[m,g]=(0,n.useState)(!1),[x,b]=(0,n.useState)(!1),[y,v]=(0,n.useState)(!0),[N,w]=(0,n.useState)("tong-hop"),[j,k]=(0,n.useState)("nhap"),T=(0,n.useRef)(null),[S,O]=(0,n.useState)({tonDauKy:{kien:0,m3:0},nhapTrongKy:{kien:0,m3:0},xuatTrongKy:{kien:0,m3:0},tonCuoiKy:{kien:0,m3:0}}),[_,E]=(0,n.useState)([]),[C,A]=(0,n.useState)([]),[I,P]=(0,n.useState)([]),[H,D]=(0,n.useState)({nhapNhieu:[],xuatNhieu:[],tonNhieu:[]}),M=["#8b5cf6","#3b82f6","#10b981","#f59e0b","#ef4444","#ec4899","#14b8a6","#f97316","#06b6d4","#84cc16"],L=[...new Set(r.map((e=>e.NHOM_HANG)).filter(Boolean))].filter((e=>e.toLowerCase().includes(f.toLowerCase())));(0,n.useEffect)((()=>{const e=e=>{T.current&&!T.current.contains(e.target)&&g(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const R=async()=>{try{b(!0);const[e,r,n]=await Promise.all([ut.apiRequestKHO("XUATNHAPKHO","Find",{}),ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Find",{}),ut.apiRequestKHO("DMHH","Find",{})]);t(e),a(r),s(n)}catch(e){console.error("Error fetching data:",e),et.error("L\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u")}finally{b(!1)}};(0,n.useEffect)((()=>{R()}),[]),(0,n.useEffect)((()=>{r.length>0&&F()}),[r,o,c,d]);const F=()=>{const e=o?new Date(o):null,t=c?new Date(c):null;t&&t.setHours(23,59,59,999);const n=[],a=[],i=[];r.forEach((r=>{const s=new Date(r.NGAY_NHAP_XUAT);e&&s<e?n.push(r):(!e||s>=e)&&(!t||s<=t)?a.push(r):t&&s>t&&i.push(r)}));const s=e=>"ALL"===d?e:e.filter((e=>e.NHOM_HANG===d)),l=s(n),u=s(a),h=U(l),f=G(u),p={kien:h.kien+f.nhap.kien-f.xuat.kien,m3:h.m3+f.nhap.m3-f.xuat.m3};O({tonDauKy:h,nhapTrongKy:f.nhap,xuatTrongKy:f.xuat,tonCuoiKy:p});const m=B(l,u);E(m),(e=>{const t=[...e].sort(((e,t)=>t.nhap.m3-e.nhap.m3)).slice(0,10).map((e=>({nhomHang:e.nhomHang,tieuChuan:e.tieuChuan,kien:e.nhap.kien,m3:e.nhap.m3}))),r=[...e].sort(((e,t)=>t.xuat.m3-e.xuat.m3)).slice(0,10).map((e=>({nhomHang:e.nhomHang,tieuChuan:e.tieuChuan,kien:e.xuat.kien,m3:e.xuat.m3}))),n=[...e].sort(((e,t)=>t.tonCuoiKy.m3-e.tonCuoiKy.m3)).slice(0,10).map((e=>({nhomHang:e.nhomHang,tieuChuan:e.tieuChuan,kien:e.tonCuoiKy.kien,m3:e.tonCuoiKy.m3})));D({nhapNhieu:t,xuatNhieu:r,tonNhieu:n})})(m),z(l,u),V(l,u)},U=e=>{const t={};e.forEach((e=>{const r=e.MA_KIEN,n=e.NGHIEP_VU;"NHAP"===n?t[r]=e:"XUAT"===n&&delete t[r]}));const r=Object.values(t);return{kien:r.length,m3:r.reduce(((e,t)=>e+(parseFloat(t.SO_KHOI)||0)),0)}},G=e=>{let t=0,r=0,n=0,a=0;return e.forEach((e=>{const i=e.NGHIEP_VU,s=parseFloat(e.SO_KHOI)||0;"NHAP"===i?(t+=1,r+=s):"XUAT"===i&&(n+=1,a+=s)})),{nhap:{kien:t,m3:r},xuat:{kien:n,m3:a}}},B=(e,t)=>{const r={},n={};return e.forEach((e=>{const t=e.MA_KIEN,r=e.NGHIEP_VU;"NHAP"===r?n[t]=e:"XUAT"===r&&delete n[t]})),Object.values(n).forEach((e=>{const t=e.NHOM_HANG||"Kh\xf4ng x\xe1c \u0111\u1ecbnh",n=e.TIEU_CHUAN||"Kh\xf4ng x\xe1c \u0111\u1ecbnh",a=`${t}_${n}`;r[a]||(r[a]={nhomHang:t,tieuChuan:n,tonDauKy:{kien:0,m3:0},nhap:{kien:0,m3:0},xuat:{kien:0,m3:0},tonCuoiKy:{kien:0,m3:0}}),r[a].tonDauKy.kien+=1,r[a].tonDauKy.m3+=parseFloat(e.SO_KHOI)||0})),t.forEach((e=>{const t=e.NHOM_HANG||"Kh\xf4ng x\xe1c \u0111\u1ecbnh",n=e.TIEU_CHUAN||"Kh\xf4ng x\xe1c \u0111\u1ecbnh",a=`${t}_${n}`,i=e.NGHIEP_VU,s=parseFloat(e.SO_KHOI)||0;r[a]||(r[a]={nhomHang:t,tieuChuan:n,tonDauKy:{kien:0,m3:0},nhap:{kien:0,m3:0},xuat:{kien:0,m3:0},tonCuoiKy:{kien:0,m3:0}}),"NHAP"===i?(r[a].nhap.kien+=1,r[a].nhap.m3+=s):"XUAT"===i&&(r[a].xuat.kien+=1,r[a].xuat.m3+=s)})),Object.keys(r).forEach((e=>{const t=r[e];t.tonCuoiKy.kien=t.tonDauKy.kien+t.nhap.kien-t.xuat.kien,t.tonCuoiKy.m3=t.tonDauKy.m3+t.nhap.m3-t.xuat.m3})),Object.values(r)},z=(e,t)=>{const r={};e.forEach((e=>{const t=e.MA_KIEN,n=e.NGHIEP_VU;"NHAP"===n?r[t]={...e,trangThai:"TON_DAU_KY"}:"XUAT"===n&&delete r[t]})),t.forEach((e=>{const t=e.MA_KIEN,n=e.NGHIEP_VU;"NHAP"===n?r[t]={...e,trangThai:"NHAP_TRONG_KY"}:"XUAT"===n&&delete r[t]}));const n=Object.values(r);A(n)},V=(e,t)=>{const r={},n={};e.forEach((e=>{const t=e.MA_KIEN,r=e.NGHIEP_VU;"NHAP"===r?n[t]=e:"XUAT"===r&&delete n[t]})),Object.values(n).forEach((e=>{const t=e.DAY||"Kh\xf4ng x\xe1c \u0111\u1ecbnh";r[t]||(r[t]={doDay:t,tonDauKy:{kien:0,m3:0},nhap:{kien:0,m3:0},xuat:{kien:0,m3:0},tonCuoiKy:{kien:0,m3:0}}),r[t].tonDauKy.kien+=1,r[t].tonDauKy.m3+=parseFloat(e.SO_KHOI)||0})),t.forEach((e=>{const t=e.DAY||"Kh\xf4ng x\xe1c \u0111\u1ecbnh",n=e.NGHIEP_VU,a=parseFloat(e.SO_KHOI)||0;r[t]||(r[t]={doDay:t,tonDauKy:{kien:0,m3:0},nhap:{kien:0,m3:0},xuat:{kien:0,m3:0},tonCuoiKy:{kien:0,m3:0}}),"NHAP"===n?(r[t].nhap.kien+=1,r[t].nhap.m3+=a):"XUAT"===n&&(r[t].xuat.kien+=1,r[t].xuat.m3+=a)})),Object.keys(r).forEach((e=>{const t=r[e];t.tonCuoiKy.kien=t.tonDauKy.kien+t.nhap.kien-t.xuat.kien,t.tonCuoiKy.m3=t.tonDauKy.m3+t.nhap.m3-t.xuat.m3}));const a=Object.values(r).sort(((e,t)=>(parseFloat(e.doDay)||0)-(parseFloat(t.doDay)||0)));P(a)},K=e=>new Intl.NumberFormat("vi-VN").format(Math.round(e));return(0,ar.jsxs)("div",{className:"p-3 md:p-4 bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen",children:[(0,ar.jsxs)("div",{className:"mx-auto",children:[(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-3 md:p-4 mb-4 border border-gray-100",children:[(0,ar.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-3 gap-3",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-md",children:(0,ar.jsx)(Zj,{className:"w-5 h-5 text-white"})}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:"B\xe1o C\xe1o T\u1ed3n Kho"}),(0,ar.jsx)("p",{className:"text-xs md:text-sm text-gray-500 mt-0.5",children:"Th\u1ed1ng k\xea t\u1ed3n \u0111\u1ea7u k\u1ef3, nh\u1eadp, xu\u1ea5t, t\u1ed3n cu\u1ed1i k\u1ef3"})]})]}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ar.jsxs)("button",{onClick:R,className:"px-3 py-1.5 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 flex items-center gap-1.5 transition-all shadow-sm hover:shadow text-sm",title:"T\u1ea3i l\u1ea1i d\u1eef li\u1ec7u",children:[(0,ar.jsx)(JG,{className:"w-4 h-4"}),(0,ar.jsx)("span",{className:"hidden sm:inline",children:"L\xe0m m\u1edbi"})]}),(0,ar.jsxs)("button",{onClick:()=>v(!y),className:"px-3 py-1.5 rounded-lg flex items-center gap-1.5 transition-all shadow-sm hover:shadow text-sm "+(y?"text-blue-700 bg-blue-50 border border-blue-200 hover:bg-blue-100":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:[(0,ar.jsx)(vk,{className:"w-4 h-4"}),(0,ar.jsx)("span",{className:"hidden sm:inline",children:y?"\u1ea8n b\u1ed9 l\u1ecdc":"Hi\u1ec7n b\u1ed9 l\u1ecdc"})]})]})]}),y&&(0,ar.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-3 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsxs)("h3",{className:"text-xs font-semibold text-gray-700 mb-2 flex items-center gap-1.5",children:[(0,ar.jsx)(vk,{className:"w-3.5 h-3.5"}),"B\u1ed9 l\u1ecdc b\xe1o c\xe1o:"]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2.5",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"T\u1eeb ng\xe0y:"}),(0,ar.jsx)("input",{type:"date",value:o,onChange:e=>l(e.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"\u0110\u1ebfn ng\xe0y:"}),(0,ar.jsx)("input",{type:"date",value:c,onChange:e=>u(e.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white"})]}),(0,ar.jsxs)("div",{className:"relative",ref:T,children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nh\xf3m h\xe0ng:"}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsxs)("button",{type:"button",onClick:()=>g(!m),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white text-left flex items-center justify-between",children:[(0,ar.jsx)("span",{className:"ALL"===d?"text-gray-500":"text-gray-900",children:"ALL"===d?"T\u1ea5t c\u1ea3 nh\xf3m h\xe0ng":d}),(0,ar.jsx)(sk,{className:"w-4 h-4 text-gray-400 transition-transform "+(m?"transform rotate-180":"")})]}),m&&(0,ar.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-80 overflow-hidden",children:[(0,ar.jsx)("div",{className:"p-2 border-b border-gray-200 sticky top-0 bg-white",children:(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)(wk,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,ar.jsx)("input",{type:"text",value:f,onChange:e=>p(e.target.value),placeholder:"T\xecm ki\u1ebfm nh\xf3m h\xe0ng...",className:"w-full pl-8 pr-8 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:e=>e.stopPropagation()}),f&&(0,ar.jsx)("button",{onClick:e=>{e.stopPropagation(),p("")},className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,ar.jsx)(xk,{className:"w-4 h-4"})})]})}),(0,ar.jsxs)("div",{className:"max-h-60 overflow-y-auto",children:[(0,ar.jsx)("button",{onClick:()=>{h("ALL"),g(!1),p("")},className:"w-full px-3 py-2 text-left text-sm hover:bg-blue-50 transition-colors "+("ALL"===d?"bg-blue-50 text-blue-700 font-semibold":"text-gray-700"),children:"T\u1ea5t c\u1ea3 nh\xf3m h\xe0ng"}),L.length>0?L.map(((e,t)=>(0,ar.jsx)("button",{onClick:()=>{h(e),g(!1),p("")},className:"w-full px-3 py-2 text-left text-sm hover:bg-blue-50 transition-colors "+(d===e?"bg-blue-50 text-blue-700 font-semibold":"text-gray-700"),children:e},t))):(0,ar.jsx)("div",{className:"px-3 py-4 text-center text-sm text-gray-500",children:"Kh\xf4ng t\xecm th\u1ea5y nh\xf3m h\xe0ng ph\xf9 h\u1ee3p"})]})]})]}),"ALL"!==d&&(0,ar.jsx)("button",{onClick:()=>{h("ALL"),p("")},className:"absolute right-8 top-[30px] text-gray-400 hover:text-gray-600",title:"X\xf3a l\u1ef1a ch\u1ecdn",children:(0,ar.jsx)(xk,{className:"w-4 h-4"})})]})]})]})]}),(0,ar.jsx)("div",{className:"bg-white rounded-xl shadow-lg mb-4 border border-gray-100",children:(0,ar.jsxs)("div",{className:"flex border-b border-gray-200 overflow-x-auto",children:[(0,ar.jsx)("button",{onClick:()=>w("tong-hop"),className:"flex-1 px-4 py-3 text-sm font-semibold transition-colors whitespace-nowrap "+("tong-hop"===N?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"),children:(0,ar.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,ar.jsx)(Zj,{className:"w-4 h-4"}),(0,ar.jsx)("span",{children:"T\u1ed5ng H\u1ee3p"})]})}),(0,ar.jsx)("button",{onClick:()=>w("nhom-hang"),className:"flex-1 px-4 py-3 text-sm font-semibold transition-colors whitespace-nowrap "+("nhom-hang"===N?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"),children:(0,ar.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,ar.jsx)(yr,{className:"w-4 h-4"}),(0,ar.jsx)("span",{children:"Nh\xf3m H\xe0ng"})]})}),(0,ar.jsx)("button",{onClick:()=>w("do-day"),className:"flex-1 px-4 py-3 text-sm font-semibold transition-colors whitespace-nowrap "+("do-day"===N?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"),children:(0,ar.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,ar.jsx)(nB,{className:"w-4 h-4"}),(0,ar.jsx)("span",{children:"Nh\xf3m \u0110\u1ed9 D\xe0y"})]})}),(0,ar.jsx)("button",{onClick:()=>w("theo-kien"),className:"flex-1 px-4 py-3 text-sm font-semibold transition-colors whitespace-nowrap "+("theo-kien"===N?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"),children:(0,ar.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,ar.jsx)(rB,{className:"w-4 h-4"}),(0,ar.jsx)("span",{children:"Theo Ki\u1ec7n"})]})})]})}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 border border-orange-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[(0,ar.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ar.jsx)("h3",{className:"text-xs font-semibold text-orange-700",children:"T\u1ed2N \u0110\u1ea6U K\u1ef2"}),(0,ar.jsx)(rB,{className:"w-5 h-5 text-orange-600"})]}),(0,ar.jsxs)("div",{className:"space-y-1",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ar.jsx)("span",{className:"text-xs text-orange-600",children:"S\u1ed1 ki\u1ec7n:"}),(0,ar.jsx)("span",{className:"text-lg font-bold text-orange-900",children:K(S.tonDauKy.kien)})]}),(0,ar.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ar.jsx)("span",{className:"text-xs text-orange-600",children:"Kh\u1ed1i l\u01b0\u1ee3ng:"}),(0,ar.jsxs)("span",{className:"text-sm font-semibold text-orange-800",children:[S.tonDauKy.m3.toFixed(3)," m\xb3"]})]})]})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[(0,ar.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ar.jsx)("h3",{className:"text-xs font-semibold text-green-700",children:"NH\u1eacP TRONG K\u1ef2"}),(0,ar.jsx)(zB,{className:"w-5 h-5 text-green-600"})]}),(0,ar.jsxs)("div",{className:"space-y-1",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ar.jsx)("span",{className:"text-xs text-green-600",children:"S\u1ed1 ki\u1ec7n:"}),(0,ar.jsx)("span",{className:"text-lg font-bold text-green-900",children:K(S.nhapTrongKy.kien)})]}),(0,ar.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ar.jsx)("span",{className:"text-xs text-green-600",children:"Kh\u1ed1i l\u01b0\u1ee3ng:"}),(0,ar.jsxs)("span",{className:"text-sm font-semibold text-green-800",children:[S.nhapTrongKy.m3.toFixed(3)," m\xb3"]})]})]})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[(0,ar.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ar.jsx)("h3",{className:"text-xs font-semibold text-blue-700",children:"XU\u1ea4T TRONG K\u1ef2"}),(0,ar.jsx)(VB,{className:"w-5 h-5 text-blue-600"})]}),(0,ar.jsxs)("div",{className:"space-y-1",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ar.jsx)("span",{className:"text-xs text-blue-600",children:"S\u1ed1 ki\u1ec7n:"}),(0,ar.jsx)("span",{className:"text-lg font-bold text-blue-900",children:K(S.xuatTrongKy.kien)})]}),(0,ar.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ar.jsx)("span",{className:"text-xs text-blue-600",children:"Kh\u1ed1i l\u01b0\u1ee3ng:"}),(0,ar.jsxs)("span",{className:"text-sm font-semibold text-blue-800",children:[S.xuatTrongKy.m3.toFixed(3)," m\xb3"]})]})]})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[(0,ar.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ar.jsx)("h3",{className:"text-xs font-semibold text-purple-700",children:"T\u1ed2N CU\u1ed0I K\u1ef2"}),(0,ar.jsx)(rB,{className:"w-5 h-5 text-purple-600"})]}),(0,ar.jsxs)("div",{className:"space-y-1",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ar.jsx)("span",{className:"text-xs text-purple-600",children:"S\u1ed1 ki\u1ec7n:"}),(0,ar.jsx)("span",{className:"text-lg font-bold text-purple-900",children:K(S.tonCuoiKy.kien)})]}),(0,ar.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ar.jsx)("span",{className:"text-xs text-purple-600",children:"Kh\u1ed1i l\u01b0\u1ee3ng:"}),(0,ar.jsxs)("span",{className:"text-sm font-semibold text-purple-800",children:[S.tonCuoiKy.m3.toFixed(3)," m\xb3"]})]})]})]})]}),"tong-hop"===N&&(0,ar.jsxs)("div",{className:"space-y-4",children:[(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100",children:[(0,ar.jsx)("h3",{className:"text-base font-bold text-gray-800 mb-4",children:"Bi\u1ec3u \u0111\u1ed3 t\u1ed5ng h\u1ee3p"}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,ar.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,ar.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-3 text-center",children:"S\u1ed1 ki\u1ec7n"}),(0,ar.jsx)(Fn,{width:"100%",height:300,children:(0,ar.jsxs)(hj,{data:[{name:"T\u1ed3n \u0111\u1ea7u k\u1ef3",value:S.tonDauKy.kien},{name:"Nh\u1eadp",value:S.nhapTrongKy.kien},{name:"Xu\u1ea5t",value:S.xuatTrongKy.kien},{name:"T\u1ed3n cu\u1ed1i k\u1ef3",value:S.tonCuoiKy.kien}],margin:{top:30,right:30,left:20,bottom:20},children:[(0,ar.jsx)(Cj,{strokeDasharray:"3 3"}),(0,ar.jsx)(ej,{dataKey:"name",fontSize:11}),(0,ar.jsx)(dj,{fontSize:10}),(0,ar.jsx)(Ga,{}),(0,ar.jsx)(vb,{dataKey:"value",fill:"#8b5cf6",label:e=>{const{x:t,y:r,width:n,height:a,value:i}=e;return(0,ar.jsx)("text",{x:t+n/2,y:r-5,fill:"#374151",textAnchor:"middle",fontSize:"12",fontWeight:"600",children:i})}})]})})]}),(0,ar.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,ar.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-3 text-center",children:"Kh\u1ed1i l\u01b0\u1ee3ng (m\xb3)"}),(0,ar.jsx)(Fn,{width:"100%",height:300,children:(0,ar.jsxs)(hj,{data:[{name:"T\u1ed3n \u0111\u1ea7u k\u1ef3",value:parseFloat(S.tonDauKy.m3.toFixed(3))},{name:"Nh\u1eadp",value:parseFloat(S.nhapTrongKy.m3.toFixed(3))},{name:"Xu\u1ea5t",value:parseFloat(S.xuatTrongKy.m3.toFixed(3))},{name:"T\u1ed3n cu\u1ed1i k\u1ef3",value:parseFloat(S.tonCuoiKy.m3.toFixed(3))}],margin:{top:30,right:30,left:20,bottom:20},children:[(0,ar.jsx)(Cj,{strokeDasharray:"3 3"}),(0,ar.jsx)(ej,{dataKey:"name",fontSize:11}),(0,ar.jsx)(dj,{fontSize:10}),(0,ar.jsx)(Ga,{}),(0,ar.jsx)(vb,{dataKey:"value",fill:"#3b82f6",label:e=>{const{x:t,y:r,width:n,value:a}=e;return(0,ar.jsx)("text",{x:t+n/2,y:r-5,fill:"#374151",textAnchor:"middle",fontSize:"12",fontWeight:"600",children:a.toFixed(3)})}})]})})]})]})]}),(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100",children:[(0,ar.jsxs)("h3",{className:"text-base font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,ar.jsx)(KB,{className:"w-5 h-5 text-yellow-500"}),"Top 10 M\u1eb7t H\xe0ng"]}),(0,ar.jsxs)("div",{className:"flex gap-2 mb-4 border-b border-gray-200",children:[(0,ar.jsx)("button",{onClick:()=>k("nhap"),className:"px-4 py-2 text-sm font-semibold transition-colors "+("nhap"===j?"text-green-600 border-b-2 border-green-600":"text-gray-600 hover:text-gray-800"),children:"Nh\u1eadp nhi\u1ec1u nh\u1ea5t"}),(0,ar.jsx)("button",{onClick:()=>k("xuat"),className:"px-4 py-2 text-sm font-semibold transition-colors "+("xuat"===j?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"),children:"Xu\u1ea5t nhi\u1ec1u nh\u1ea5t"}),(0,ar.jsx)("button",{onClick:()=>k("ton"),className:"px-4 py-2 text-sm font-semibold transition-colors "+("ton"===j?"text-purple-600 border-b-2 border-purple-600":"text-gray-600 hover:text-gray-800"),children:"T\u1ed3n nhi\u1ec1u nh\u1ea5t"})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,ar.jsx)("div",{className:"overflow-x-auto",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:""+("nhap"===j?"bg-gradient-to-r from-green-50 to-green-100":"xuat"===j?"bg-gradient-to-r from-blue-50 to-blue-100":"bg-gradient-to-r from-purple-50 to-purple-100"),children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{className:"px-3 py-3 text-center text-xs font-bold text-gray-700 uppercase",children:"Top"}),(0,ar.jsx)("th",{className:"px-3 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Nh\xf3m h\xe0ng"}),(0,ar.jsx)("th",{className:"px-3 py-3 text-center text-xs font-bold text-gray-700 uppercase",children:"Ch\u1ea5t l\u01b0\u1ee3ng"}),(0,ar.jsx)("th",{className:"px-3 py-3 text-center text-xs font-bold uppercase "+("nhap"===j?"text-green-700":"xuat"===j?"text-blue-700":"text-purple-700"),children:"Ki\u1ec7n"}),(0,ar.jsx)("th",{className:"px-3 py-3 text-center text-xs font-bold uppercase "+("nhap"===j?"text-green-700":"xuat"===j?"text-blue-700":"text-purple-700"),children:"m\xb3"})]})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:("nhap"===j?H.nhapNhieu:"xuat"===j?H.xuatNhieu:H.tonNhieu).map(((e,t)=>(0,ar.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ar.jsx)("td",{className:"px-3 py-2 text-center",children:(0,ar.jsx)("span",{className:"inline-flex items-center justify-center w-7 h-7 rounded-full text-xs font-bold "+(0===t?"bg-yellow-400 text-yellow-900":1===t?"bg-gray-300 text-gray-900":2===t?"bg-orange-400 text-orange-900":"nhap"===j?"bg-green-100 text-green-800":"xuat"===j?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:t+1})}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm font-medium text-gray-900",children:e.nhomHang}),(0,ar.jsx)("td",{className:"px-3 py-2 text-center",children:(0,ar.jsx)("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 rounded text-xs font-medium",children:e.tieuChuan})}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center font-semibold "+("nhap"===j?"text-green-600":"xuat"===j?"text-blue-600":"text-purple-600"),children:K(e.kien)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center font-bold "+("nhap"===j?"text-green-700":"xuat"===j?"text-blue-700":"text-purple-700"),children:e.m3.toFixed(3)})]},t)))})]})}),(0,ar.jsx)("div",{className:"bg-gray-50 p-3 rounded-lg",children:(0,ar.jsx)(Fn,{width:"100%",height:400,children:(0,ar.jsxs)(hj,{data:("nhap"===j?H.nhapNhieu:"xuat"===j?H.xuatNhieu:H.tonNhieu).map(((e,t)=>({name:`${t+1}`,nhomHang:e.nhomHang,value:parseFloat(e.m3.toFixed(3))}))),margin:{top:30,right:30,left:20,bottom:80},children:[(0,ar.jsx)(Cj,{strokeDasharray:"3 3"}),(0,ar.jsx)(ej,{dataKey:"nhomHang",fontSize:10,angle:-45,textAnchor:"end",height:80,interval:0}),(0,ar.jsx)(dj,{fontSize:10,label:{value:"m\xb3",angle:-90,position:"insideLeft"}}),(0,ar.jsx)(Ga,{content:e=>{let{active:t,payload:r}=e;return t&&r&&r.length?(0,ar.jsxs)("div",{className:"bg-white p-2 border border-gray-300 rounded shadow-lg",children:[(0,ar.jsx)("p",{className:"text-xs font-semibold",children:r[0].payload.nhomHang}),(0,ar.jsxs)("p",{className:"text-xs text-gray-600",children:["m\xb3: ",r[0].value.toFixed(3)]})]}):null}}),(0,ar.jsx)(vb,{dataKey:"value",fill:"nhap"===j?"#10b981":"xuat"===j?"#3b82f6":"#8b5cf6",label:{position:"top",fontSize:11,fontWeight:"bold",fill:"#374151",formatter:e=>e.toFixed(3)},children:("nhap"===j?H.nhapNhieu:"xuat"===j?H.xuatNhieu:H.tonNhieu).map(((e,t)=>(0,ar.jsx)(Qg,{fill:M[t%M.length]},`cell-${t}`)))})]})})})]})]})]}),"nhom-hang"===N&&(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100",children:[(0,ar.jsxs)("h2",{className:"text-base font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,ar.jsx)(yr,{className:"w-5 h-5 text-blue-600"}),"T\u1ed3n kho theo Nh\xf3m h\xe0ng & Ch\u1ea5t l\u01b0\u1ee3ng"]}),(0,ar.jsx)("div",{className:"overflow-x-auto",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsxs)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:[(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{rowSpan:"2",className:"px-3 py-3 text-center text-xs font-bold text-gray-700 uppercase border-r",children:"STT"}),(0,ar.jsx)("th",{rowSpan:"2",className:"px-3 py-3 text-left text-xs font-bold text-gray-700 uppercase border-r",children:"Nh\xf3m h\xe0ng"}),(0,ar.jsx)("th",{rowSpan:"2",className:"px-3 py-3 text-center text-xs font-bold text-gray-700 uppercase border-r",children:"Ch\u1ea5t l\u01b0\u1ee3ng"}),(0,ar.jsx)("th",{colSpan:"2",className:"px-3 py-2 text-center text-xs font-bold text-orange-700 uppercase border-r bg-orange-50",children:"T\u1ed3n \u0111\u1ea7u k\u1ef3"}),(0,ar.jsx)("th",{colSpan:"2",className:"px-3 py-2 text-center text-xs font-bold text-green-700 uppercase border-r bg-green-50",children:"Nh\u1eadp"}),(0,ar.jsx)("th",{colSpan:"2",className:"px-3 py-2 text-center text-xs font-bold text-blue-700 uppercase border-r bg-blue-50",children:"Xu\u1ea5t"}),(0,ar.jsx)("th",{colSpan:"2",className:"px-3 py-2 text-center text-xs font-bold text-purple-700 uppercase bg-purple-50",children:"T\u1ed3n cu\u1ed1i k\u1ef3"})]}),(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-bold text-orange-600 uppercase bg-orange-50",children:"Ki\u1ec7n"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-bold text-orange-600 uppercase border-r bg-orange-50",children:"m\xb3"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-bold text-green-600 uppercase bg-green-50",children:"Ki\u1ec7n"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-bold text-green-600 uppercase border-r bg-green-50",children:"m\xb3"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-bold text-blue-600 uppercase bg-blue-50",children:"Ki\u1ec7n"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-bold text-blue-600 uppercase border-r bg-blue-50",children:"m\xb3"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-bold text-purple-600 uppercase bg-purple-50",children:"Ki\u1ec7n"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-bold text-purple-600 uppercase bg-purple-50",children:"m\xb3"})]})]}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(((e,t)=>(0,ar.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-gray-700 border-r",children:t+1}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm font-medium text-gray-900 border-r",children:e.nhomHang}),(0,ar.jsx)("td",{className:"px-3 py-2 text-center border-r",children:(0,ar.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs font-medium",children:e.tieuChuan})}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-orange-600 font-semibold bg-orange-50",children:K(e.tonDauKy.kien)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-orange-600 border-r bg-orange-50",children:e.tonDauKy.m3.toFixed(3)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-green-600 font-semibold bg-green-50",children:K(e.nhap.kien)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-green-600 border-r bg-green-50",children:e.nhap.m3.toFixed(3)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-blue-600 font-semibold bg-blue-50",children:K(e.xuat.kien)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-blue-600 border-r bg-blue-50",children:e.xuat.m3.toFixed(3)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-purple-600 font-semibold bg-purple-50",children:K(e.tonCuoiKy.kien)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-purple-600 font-bold bg-purple-50",children:e.tonCuoiKy.m3.toFixed(3)})]},t)))}),(0,ar.jsx)("tfoot",{className:"bg-gray-100",children:(0,ar.jsxs)("tr",{className:"font-bold",children:[(0,ar.jsx)("td",{colSpan:"3",className:"px-3 py-3 text-sm text-center text-gray-900 border-r",children:"T\u1ed4NG C\u1ed8NG"}),(0,ar.jsx)("td",{className:"px-3 py-3 text-sm text-center text-orange-700 bg-orange-50",children:K(_.reduce(((e,t)=>e+t.tonDauKy.kien),0))}),(0,ar.jsx)("td",{className:"px-3 py-3 text-sm text-center text-orange-700 border-r bg-orange-50",children:_.reduce(((e,t)=>e+t.tonDauKy.m3),0).toFixed(3)}),(0,ar.jsx)("td",{className:"px-3 py-3 text-sm text-center text-green-700 bg-green-50",children:K(_.reduce(((e,t)=>e+t.nhap.kien),0))}),(0,ar.jsx)("td",{className:"px-3 py-3 text-sm text-center text-green-700 border-r bg-green-50",children:_.reduce(((e,t)=>e+t.nhap.m3),0).toFixed(3)}),(0,ar.jsx)("td",{className:"px-3 py-3 text-sm text-center text-blue-700 bg-blue-50",children:K(_.reduce(((e,t)=>e+t.xuat.kien),0))}),(0,ar.jsx)("td",{className:"px-3 py-3 text-sm text-center text-blue-700 border-r bg-blue-50",children:_.reduce(((e,t)=>e+t.xuat.m3),0).toFixed(3)}),(0,ar.jsx)("td",{className:"px-3 py-3 text-sm text-center text-purple-700 bg-purple-50",children:K(_.reduce(((e,t)=>e+t.tonCuoiKy.kien),0))}),(0,ar.jsx)("td",{className:"px-3 py-3 text-sm text-center text-purple-700 bg-purple-50",children:_.reduce(((e,t)=>e+t.tonCuoiKy.m3),0).toFixed(3)})]})})]})})]}),"do-day"===N&&(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100",children:[(0,ar.jsxs)("h2",{className:"text-base font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,ar.jsx)(nB,{className:"w-5 h-5 text-indigo-600"}),"T\u1ed3n kho theo Nh\xf3m \u0110\u1ed9 D\xe0y"]}),(0,ar.jsx)("div",{className:"overflow-x-auto",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsxs)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:[(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{rowSpan:"2",className:"px-3 py-3 text-center text-xs font-bold text-gray-700 uppercase border-r",children:"STT"}),(0,ar.jsx)("th",{rowSpan:"2",className:"px-3 py-3 text-center text-xs font-bold text-gray-700 uppercase border-r",children:"\u0110\u1ed9 d\xe0y (mm)"}),(0,ar.jsx)("th",{colSpan:"2",className:"px-3 py-2 text-center text-xs font-bold text-orange-700 uppercase border-r bg-orange-50",children:"T\u1ed3n \u0111\u1ea7u k\u1ef3"}),(0,ar.jsx)("th",{colSpan:"2",className:"px-3 py-2 text-center text-xs font-bold text-green-700 uppercase border-r bg-green-50",children:"Nh\u1eadp"}),(0,ar.jsx)("th",{colSpan:"2",className:"px-3 py-2 text-center text-xs font-bold text-blue-700 uppercase border-r bg-blue-50",children:"Xu\u1ea5t"}),(0,ar.jsx)("th",{colSpan:"2",className:"px-3 py-2 text-center text-xs font-bold text-purple-700 uppercase bg-purple-50",children:"T\u1ed3n cu\u1ed1i k\u1ef3"})]}),(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-bold text-orange-600 uppercase bg-orange-50",children:"Ki\u1ec7n"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-bold text-orange-600 uppercase border-r bg-orange-50",children:"m\xb3"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-bold text-green-600 uppercase bg-green-50",children:"Ki\u1ec7n"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-bold text-green-600 uppercase border-r bg-green-50",children:"m\xb3"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-bold text-blue-600 uppercase bg-blue-50",children:"Ki\u1ec7n"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-bold text-blue-600 uppercase border-r bg-blue-50",children:"m\xb3"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-bold text-purple-600 uppercase bg-purple-50",children:"Ki\u1ec7n"}),(0,ar.jsx)("th",{className:"px-3 py-2 text-center text-xs font-bold text-purple-600 uppercase bg-purple-50",children:"m\xb3"})]})]}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(((e,t)=>(0,ar.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-gray-700 border-r",children:t+1}),(0,ar.jsx)("td",{className:"px-3 py-2 text-center border-r",children:(0,ar.jsx)("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-lg text-sm font-bold",children:e.doDay})}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-orange-600 font-semibold bg-orange-50",children:K(e.tonDauKy.kien)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-orange-600 border-r bg-orange-50",children:e.tonDauKy.m3.toFixed(3)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-green-600 font-semibold bg-green-50",children:K(e.nhap.kien)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-green-600 border-r bg-green-50",children:e.nhap.m3.toFixed(3)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-blue-600 font-semibold bg-blue-50",children:K(e.xuat.kien)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-blue-600 border-r bg-blue-50",children:e.xuat.m3.toFixed(3)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-purple-600 font-semibold bg-purple-50",children:K(e.tonCuoiKy.kien)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-purple-600 font-bold bg-purple-50",children:e.tonCuoiKy.m3.toFixed(3)})]},t)))}),(0,ar.jsx)("tfoot",{className:"bg-gray-100",children:(0,ar.jsxs)("tr",{className:"font-bold",children:[(0,ar.jsx)("td",{colSpan:"2",className:"px-3 py-3 text-sm text-center text-gray-900 border-r",children:"T\u1ed4NG C\u1ed8NG"}),(0,ar.jsx)("td",{className:"px-3 py-3 text-sm text-center text-orange-700 bg-orange-50",children:K(I.reduce(((e,t)=>e+t.tonDauKy.kien),0))}),(0,ar.jsx)("td",{className:"px-3 py-3 text-sm text-center text-orange-700 border-r bg-orange-50",children:I.reduce(((e,t)=>e+t.tonDauKy.m3),0).toFixed(3)}),(0,ar.jsx)("td",{className:"px-3 py-3 text-sm text-center text-green-700 bg-green-50",children:K(I.reduce(((e,t)=>e+t.nhap.kien),0))}),(0,ar.jsx)("td",{className:"px-3 py-3 text-sm text-center text-green-700 border-r bg-green-50",children:I.reduce(((e,t)=>e+t.nhap.m3),0).toFixed(3)}),(0,ar.jsx)("td",{className:"px-3 py-3 text-sm text-center text-blue-700 bg-blue-50",children:K(I.reduce(((e,t)=>e+t.xuat.kien),0))}),(0,ar.jsx)("td",{className:"px-3 py-3 text-sm text-center text-blue-700 border-r bg-blue-50",children:I.reduce(((e,t)=>e+t.xuat.m3),0).toFixed(3)}),(0,ar.jsx)("td",{className:"px-3 py-3 text-sm text-center text-purple-700 bg-purple-50",children:K(I.reduce(((e,t)=>e+t.tonCuoiKy.kien),0))}),(0,ar.jsx)("td",{className:"px-3 py-3 text-sm text-center text-purple-700 bg-purple-50",children:I.reduce(((e,t)=>e+t.tonCuoiKy.m3),0).toFixed(3)})]})})]})}),(0,ar.jsxs)("div",{className:"mt-6 bg-gray-50 p-4 rounded-lg",children:[(0,ar.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-3 text-center",children:"Bi\u1ec3u \u0111\u1ed3 t\u1ed3n kho theo \u0111\u1ed9 d\xe0y"}),(0,ar.jsx)(Fn,{width:"100%",height:400,children:(0,ar.jsxs)(hj,{data:I.map((e=>({doDay:e.doDay,tonDauKy:parseFloat(e.tonDauKy.m3.toFixed(3)),nhap:parseFloat(e.nhap.m3.toFixed(3)),xuat:parseFloat(e.xuat.m3.toFixed(3)),tonCuoiKy:parseFloat(e.tonCuoiKy.m3.toFixed(3))}))),margin:{top:20,right:30,left:20,bottom:60},children:[(0,ar.jsx)(Cj,{strokeDasharray:"3 3"}),(0,ar.jsx)(ej,{dataKey:"doDay",fontSize:11,angle:-45,textAnchor:"end",height:80,label:{value:"\u0110\u1ed9 d\xe0y (mm)",position:"insideBottom",offset:-10}}),(0,ar.jsx)(dj,{fontSize:10,label:{value:"m\xb3",angle:-90,position:"insideLeft"}}),(0,ar.jsx)(Ga,{contentStyle:{fontSize:"12px"},formatter:e=>e.toFixed(3)+" m\xb3"}),(0,ar.jsx)(ts,{wrapperStyle:{fontSize:"12px"},iconType:"rect"}),(0,ar.jsx)(vb,{dataKey:"tonDauKy",fill:"#f97316",name:"T\u1ed3n \u0111\u1ea7u k\u1ef3"}),(0,ar.jsx)(vb,{dataKey:"nhap",fill:"#10b981",name:"Nh\u1eadp"}),(0,ar.jsx)(vb,{dataKey:"xuat",fill:"#3b82f6",name:"Xu\u1ea5t"}),(0,ar.jsx)(vb,{dataKey:"tonCuoiKy",fill:"#8b5cf6",name:"T\u1ed3n cu\u1ed1i k\u1ef3"})]})})]})]}),"theo-kien"===N&&(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-4 border border-gray-100",children:[(0,ar.jsxs)("h2",{className:"text-base font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,ar.jsx)(rB,{className:"w-5 h-5 text-purple-600"}),"Chi ti\u1ebft t\u1ed3n kho theo ki\u1ec7n (",C.length," ki\u1ec7n)"]}),(0,ar.jsx)("div",{className:"overflow-x-auto",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{className:"px-3 py-3 text-center text-xs font-bold text-gray-700 uppercase",children:"STT"}),(0,ar.jsx)("th",{className:"px-3 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"M\xe3 ki\u1ec7n"}),(0,ar.jsx)("th",{className:"px-3 py-3 text-center text-xs font-bold text-gray-700 uppercase",children:"K\xedch th\u01b0\u1edbc (DxRxD)"}),(0,ar.jsx)("th",{className:"px-3 py-3 text-center text-xs font-bold text-gray-700 uppercase",children:"Ch\u1ea5t l\u01b0\u1ee3ng"}),(0,ar.jsx)("th",{className:"px-3 py-3 text-center text-xs font-bold text-gray-700 uppercase",children:"S\u1ed1 thanh"}),(0,ar.jsx)("th",{className:"px-3 py-3 text-center text-xs font-bold text-gray-700 uppercase",children:"m\xb3"}),(0,ar.jsx)("th",{className:"px-3 py-3 text-center text-xs font-bold text-gray-700 uppercase",children:"\u0110\u1ed9i h\xe0ng kh\xf4"}),(0,ar.jsx)("th",{className:"px-3 py-3 text-center text-xs font-bold text-gray-700 uppercase",children:"Kho"})]})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(((e,t)=>(0,ar.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-gray-700",children:t+1}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm font-medium text-gray-900",children:e.MA_KIEN}),(0,ar.jsxs)("td",{className:"px-3 py-2 text-sm text-center text-gray-700",children:[e.DAY," x ",e.RONG," x ",e.DAI]}),(0,ar.jsx)("td",{className:"px-3 py-2 text-center",children:e.TIEU_CHUAN&&(0,ar.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs font-medium",children:e.TIEU_CHUAN})}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-gray-700 font-medium",children:e.THANH||"\u2014"}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center font-semibold text-purple-600",children:parseFloat(e.SO_KHOI||0).toFixed(3)}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-gray-700",children:e.DOI_HANG_KHO||"\u2014"}),(0,ar.jsx)("td",{className:"px-3 py-2 text-sm text-center text-gray-700",children:e.KHO_NHAP||"\u2014"})]},t)))}),(0,ar.jsx)("tfoot",{className:"bg-gray-100",children:(0,ar.jsxs)("tr",{className:"font-bold",children:[(0,ar.jsx)("td",{colSpan:"4",className:"px-3 py-3 text-sm text-center text-gray-900",children:"T\u1ed4NG C\u1ed8NG"}),(0,ar.jsx)("td",{className:"px-3 py-3 text-sm text-center text-gray-900",children:K(C.reduce(((e,t)=>e+(parseFloat(t.THANH)||0)),0))}),(0,ar.jsx)("td",{className:"px-3 py-3 text-sm text-center text-purple-700",children:C.reduce(((e,t)=>e+(parseFloat(t.SO_KHOI)||0)),0).toFixed(3)}),(0,ar.jsx)("td",{colSpan:"2"})]})})]})})]})]}),(0,ar.jsx)(lt,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},WB=fr("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),XB=fr("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);function YB(e){return e+.5|0}const qB=(e,t,r)=>Math.max(Math.min(e,r),t);function QB(e){return qB(YB(2.55*e),0,255)}function ZB(e){return qB(YB(255*e),0,255)}function JB(e){return qB(YB(e/2.55)/100,0,1)}function ez(e){return qB(YB(100*e),0,100)}const tz={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},rz=[..."0123456789ABCDEF"],nz=e=>rz[15&e],az=e=>rz[(240&e)>>4]+rz[15&e],iz=e=>(240&e)>>4===(15&e);function sz(e){var t=(e=>iz(e.r)&&iz(e.g)&&iz(e.b)&&iz(e.a))(e)?nz:az;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const oz=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function lz(e,t,r){const n=t*Math.min(r,1-r),a=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return r-n*Math.max(Math.min(a-3,9-a,1),-1)};return[a(0),a(8),a(4)]}function cz(e,t,r){const n=function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(n+e/60)%6;return r-r*t*Math.max(Math.min(a,4-a,1),0)};return[n(5),n(3),n(1)]}function uz(e,t,r){const n=lz(e,1,.5);let a;for(t+r>1&&(a=1/(t+r),t*=a,r*=a),a=0;a<3;a++)n[a]*=1-t-r,n[a]+=t;return n}function dz(e){const t=e.r/255,r=e.g/255,n=e.b/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=(a+i)/2;let o,l,c;return a!==i&&(c=a-i,l=s>.5?c/(2-a-i):c/(a+i),o=function(e,t,r,n,a){return e===a?(t-r)/n+(t<r?6:0):t===a?(r-e)/n+2:(e-t)/n+4}(t,r,n,c,a),o=60*o+.5),[0|o,l||0,s]}function hz(e,t,r,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,n)).map(ZB)}function fz(e,t,r){return hz(lz,e,t,r)}function pz(e){return(e%360+360)%360}function mz(e){const t=oz.exec(e);let r,n=255;if(!t)return;t[5]!==r&&(n=t[6]?QB(+t[5]):ZB(+t[5]));const a=pz(+t[2]),i=+t[3]/100,s=+t[4]/100;return r="hwb"===t[1]?function(e,t,r){return hz(uz,e,t,r)}(a,i,s):"hsv"===t[1]?function(e,t,r){return hz(cz,e,t,r)}(a,i,s):fz(a,i,s),{r:r[0],g:r[1],b:r[2],a:n}}const gz={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},xz={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let bz;function yz(e){bz||(bz=function(){const e={},t=Object.keys(xz),r=Object.keys(gz);let n,a,i,s,o;for(n=0;n<t.length;n++){for(s=o=t[n],a=0;a<r.length;a++)i=r[a],o=o.replace(i,gz[i]);i=parseInt(xz[s],16),e[o]=[i>>16&255,i>>8&255,255&i]}return e}(),bz.transparent=[0,0,0,0]);const t=bz[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const vz=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Nz=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,wz=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function jz(e,t,r){if(e){let n=dz(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*r,0===t?360:1)),n=fz(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function kz(e,t){return e?Object.assign(t||{},e):e}function Tz(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ZB(e[3]))):(t=kz(e,{r:0,g:0,b:0,a:1})).a=ZB(t.a),t}function Sz(e){return"r"===e.charAt(0)?function(e){const t=vz.exec(e);let r,n,a,i=255;if(t){if(t[7]!==r){const e=+t[7];i=t[8]?QB(e):qB(255*e,0,255)}return r=+t[1],n=+t[3],a=+t[5],r=255&(t[2]?QB(r):qB(r,0,255)),n=255&(t[4]?QB(n):qB(n,0,255)),a=255&(t[6]?QB(a):qB(a,0,255)),{r:r,g:n,b:a,a:i}}}(e):mz(e)}class Oz{constructor(e){if(e instanceof Oz)return e;const t=typeof e;let r;"object"===t?r=Tz(e):"string"===t&&(r=function(e){var t,r=e.length;return"#"===e[0]&&(4===r||5===r?t={r:255&17*tz[e[1]],g:255&17*tz[e[2]],b:255&17*tz[e[3]],a:5===r?17*tz[e[4]]:255}:7!==r&&9!==r||(t={r:tz[e[1]]<<4|tz[e[2]],g:tz[e[3]]<<4|tz[e[4]],b:tz[e[5]]<<4|tz[e[6]],a:9===r?tz[e[7]]<<4|tz[e[8]]:255})),t}(e)||yz(e)||Sz(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=kz(this._rgb);return e&&(e.a=JB(e.a)),e}set rgb(e){this._rgb=Tz(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${JB(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):void 0}hexString(){return this._valid?sz(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=dz(e),r=t[0],n=ez(t[1]),a=ez(t[2]);return e.a<255?`hsla(${r}, ${n}%, ${a}%, ${JB(e.a)})`:`hsl(${r}, ${n}%, ${a}%)`}(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,n=e.rgb;let a;const i=t===a?.5:t,s=2*i-1,o=r.a-n.a,l=((s*o===-1?s:(s+o)/(1+s*o))+1)/2;a=1-l,r.r=255&l*r.r+a*n.r+.5,r.g=255&l*r.g+a*n.g+.5,r.b=255&l*r.b+a*n.b+.5,r.a=i*r.a+(1-i)*n.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,r){const n=wz(JB(e.r)),a=wz(JB(e.g)),i=wz(JB(e.b));return{r:ZB(Nz(n+r*(wz(JB(t.r))-n))),g:ZB(Nz(a+r*(wz(JB(t.g))-a))),b:ZB(Nz(i+r*(wz(JB(t.b))-i))),a:e.a+r*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Oz(this.rgb)}alpha(e){return this._rgb.a=ZB(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=YB(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return jz(this._rgb,2,e),this}darken(e){return jz(this._rgb,2,-e),this}saturate(e){return jz(this._rgb,1,e),this}desaturate(e){return jz(this._rgb,1,-e),this}rotate(e){return function(e,t){var r=dz(e);r[0]=pz(r[0]+t),r=fz(r),e.r=r[0],e.g=r[1],e.b=r[2]}(this._rgb,e),this}}function _z(){}const Ez=(()=>{let e=0;return()=>e++})();function Cz(e){return null===e||void 0===e}function Az(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Iz(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Pz(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Hz(e,t){return Pz(e)?e:t}function Dz(e,t){return"undefined"===typeof e?t:e}const Mz=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Lz(e,t,r){if(e&&"function"===typeof e.call)return e.apply(r,t)}function Rz(e,t,r,n){let a,i,s;if(Az(e))if(i=e.length,n)for(a=i-1;a>=0;a--)t.call(r,e[a],a);else for(a=0;a<i;a++)t.call(r,e[a],a);else if(Iz(e))for(s=Object.keys(e),i=s.length,a=0;a<i;a++)t.call(r,e[s[a]],s[a])}function Fz(e,t){let r,n,a,i;if(!e||!t||e.length!==t.length)return!1;for(r=0,n=e.length;r<n;++r)if(a=e[r],i=t[r],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function Uz(e){if(Az(e))return e.map(Uz);if(Iz(e)){const t=Object.create(null),r=Object.keys(e),n=r.length;let a=0;for(;a<n;++a)t[r[a]]=Uz(e[r[a]]);return t}return e}function Gz(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Bz(e,t,r,n){if(!Gz(e))return;const a=t[e],i=r[e];Iz(a)&&Iz(i)?zz(a,i,n):t[e]=Uz(i)}function zz(e,t,r){const n=Az(t)?t:[t],a=n.length;if(!Iz(e))return e;const i=(r=r||{}).merger||Bz;let s;for(let o=0;o<a;++o){if(s=n[o],!Iz(s))continue;const t=Object.keys(s);for(let n=0,a=t.length;n<a;++n)i(t[n],e,s,r)}return e}function Vz(e,t){return zz(e,t,{merger:Kz})}function Kz(e,t,r){if(!Gz(e))return;const n=t[e],a=r[e];Iz(n)&&Iz(a)?Vz(n,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Uz(a))}const $z={"":e=>e,x:e=>e.x,y:e=>e.y};function Wz(e,t){const r=$z[t]||($z[t]=function(e){const t=function(e){const t=e.split("."),r=[];let n="";for(const a of t)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}(e);return e=>{for(const r of t){if(""===r)break;e=e&&e[r]}return e}}(t));return r(e)}function Xz(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Yz=e=>"undefined"!==typeof e,qz=e=>"function"===typeof e,Qz=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};const Zz=Math.PI,Jz=2*Zz,eV=Jz+Zz,tV=Number.POSITIVE_INFINITY,rV=Zz/180,nV=Zz/2,aV=Zz/4,iV=2*Zz/3,sV=Math.log10,oV=Math.sign;function lV(e,t,r){return Math.abs(e-t)<r}function cV(e){const t=Math.round(e);e=lV(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(sV(e))),n=e/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function uV(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function dV(e,t,r){let n,a,i;for(n=0,a=e.length;n<a;n++)i=e[n][r],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function hV(e){return e*(Zz/180)}function fV(e){return e*(180/Zz)}function pV(e){if(!Pz(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function mV(e,t){const r=t.x-e.x,n=t.y-e.y,a=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*Zz&&(i+=Jz),{angle:i,distance:a}}function gV(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function xV(e,t){return(e-t+eV)%Jz-Zz}function bV(e){return(e%Jz+Jz)%Jz}function yV(e,t,r,n){const a=bV(e),i=bV(t),s=bV(r),o=bV(i-a),l=bV(s-a),c=bV(a-i),u=bV(a-s);return a===i||a===s||n&&i===s||o>l&&c<u}function vV(e,t,r){return Math.max(t,Math.min(r,e))}function NV(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,r)-n&&e<=Math.max(t,r)+n}function wV(e,t,r){r=r||(r=>e[r]<t);let n,a=e.length-1,i=0;for(;a-i>1;)n=i+a>>1,r(n)?i=n:a=n;return{lo:i,hi:a}}const jV=(e,t,r,n)=>wV(e,r,n?n=>{const a=e[n][t];return a<r||a===r&&e[n+1][t]===r}:n=>e[n][t]<r),kV=(e,t,r)=>wV(e,r,(n=>e[n][t]>=r));const TV=["push","pop","shift","splice","unshift"];function SV(e,t){const r=e._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(t);-1!==a&&n.splice(a,1),n.length>0||(TV.forEach((t=>{delete e[t]})),delete e._chartjs)}function OV(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const _V="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function EV(e,t){let r=[],n=!1;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];r=i,n||(n=!0,_V.call(window,(()=>{n=!1,e.apply(t,r)})))}}const CV=e=>"start"===e?"left":"end"===e?"right":"center",AV=(e,t,r)=>"start"===e?t:"end"===e?r:(t+r)/2;function IV(e,t,r){const n=t.length;let a=0,i=n;if(e._sorted){const{iScale:s,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=s.axis,{min:d,max:h,minDefined:f,maxDefined:p}=s.getUserBounds();if(f){if(a=Math.min(jV(l,u,d).lo,r?n:jV(t,u,s.getPixelForValue(d)).lo),c){const e=l.slice(0,a+1).reverse().findIndex((e=>!Cz(e[o.axis])));a-=Math.max(0,e)}a=vV(a,0,n-1)}if(p){let e=Math.max(jV(l,s.axis,h,!0).hi+1,r?0:jV(t,u,s.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex((e=>!Cz(e[o.axis])));e+=Math.max(0,t)}i=vV(e,a,n)-a}else i=n-a}return{start:a,count:i}}function PV(e){const{xScale:t,yScale:r,_scaleRanges:n}=e,a={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!n)return e._scaleRanges=a,!0;const i=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),i}const HV=e=>0===e||1===e,DV=(e,t,r)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Jz/r),MV=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*Jz/r)+1,LV={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*nV),easeOutSine:e=>Math.sin(e*nV),easeInOutSine:e=>-.5*(Math.cos(Zz*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>HV(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>HV(e)?e:DV(e,.075,.3),easeOutElastic:e=>HV(e)?e:MV(e,.075,.3),easeInOutElastic(e){const t=.1125;return HV(e)?e:e<.5?.5*DV(2*e,t,.45):.5+.5*MV(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-LV.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,r=2.75;return e<1/r?t*e*e:e<2/r?t*(e-=1.5/r)*e+.75:e<2.5/r?t*(e-=2.25/r)*e+.9375:t*(e-=2.625/r)*e+.984375},easeInOutBounce:e=>e<.5?.5*LV.easeInBounce(2*e):.5*LV.easeOutBounce(2*e-1)+.5};function RV(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function FV(e){return RV(e)?e:new Oz(e)}function UV(e){return RV(e)?e:new Oz(e).saturate(.5).darken(.1).hexString()}const GV=["x","y","borderWidth","radius","tension"],BV=["color","borderColor","backgroundColor"];const zV=new Map;function VV(e,t,r){return function(e,t){t=t||{};const r=e+JSON.stringify(t);let n=zV.get(r);return n||(n=new Intl.NumberFormat(e,t),zV.set(r,n)),n}(t,r).format(e)}const KV={values:e=>Az(e)?e:""+e,numeric(e,t,r){if(0===e)return"0";const n=this.chart.options.locale;let a,i=e;if(r.length>1){const t=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(t<1e-4||t>1e15)&&(a="scientific"),i=function(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e));return r}(e,r)}const s=sV(Math.abs(i)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:a,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),VV(e,n,l)},logarithmic(e,t,r){if(0===e)return"0";const n=r[t].significand||e/Math.pow(10,Math.floor(sV(e)));return[1,2,3,5,10,15].includes(n)||t>.8*r.length?KV.numeric.call(this,e,t,r):""}};var $V={formatters:KV};const WV=Object.create(null),XV=Object.create(null);function YV(e,t){if(!t)return e;const r=t.split(".");for(let n=0,a=r.length;n<a;++n){const t=r[n];e=e[t]||(e[t]=Object.create(null))}return e}function qV(e,t,r){return"string"===typeof t?zz(YV(e,t),r):zz(YV(e,""),t)}class QV{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>UV(t.backgroundColor),this.hoverBorderColor=(e,t)=>UV(t.borderColor),this.hoverColor=(e,t)=>UV(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return qV(this,e,t)}get(e){return YV(this,e)}describe(e,t){return qV(XV,e,t)}override(e,t){return qV(WV,e,t)}route(e,t,r,n){const a=YV(this,e),i=YV(this,r),s="_"+t;Object.defineProperties(a,{[s]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[s],t=i[n];return Iz(e)?Object.assign({},t,e):Dz(e,t)},set(e){this[s]=e}}})}apply(e){e.forEach((e=>e(this)))}}var ZV=new QV({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:BV},numbers:{type:"number",properties:GV}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$V.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function JV(e,t,r,n,a){let i=t[a];return i||(i=t[a]=e.measureText(a).width,r.push(a)),i>n&&(n=i),n}function eK(e,t,r){const n=e.currentDevicePixelRatio,a=0!==r?Math.max(r/2,.5):0;return Math.round((t-a)*n)/n+a}function tK(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function rK(e,t,r,n){nK(e,t,r,n,null)}function nK(e,t,r,n,a){let i,s,o,l,c,u,d,h;const f=t.pointStyle,p=t.rotation,m=t.radius;let g=(p||0)*rV;if(f&&"object"===typeof f&&(i=f.toString(),"[object HTMLImageElement]"===i||"[object HTMLCanvasElement]"===i))return e.save(),e.translate(r,n),e.rotate(g),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),f){default:a?e.ellipse(r,n,a/2,m,0,0,Jz):e.arc(r,n,m,0,Jz),e.closePath();break;case"triangle":u=a?a/2:m,e.moveTo(r+Math.sin(g)*u,n-Math.cos(g)*m),g+=iV,e.lineTo(r+Math.sin(g)*u,n-Math.cos(g)*m),g+=iV,e.lineTo(r+Math.sin(g)*u,n-Math.cos(g)*m),e.closePath();break;case"rectRounded":c=.516*m,l=m-c,s=Math.cos(g+aV)*l,d=Math.cos(g+aV)*(a?a/2-c:l),o=Math.sin(g+aV)*l,h=Math.sin(g+aV)*(a?a/2-c:l),e.arc(r-d,n-o,c,g-Zz,g-nV),e.arc(r+h,n-s,c,g-nV,g),e.arc(r+d,n+o,c,g,g+nV),e.arc(r-h,n+s,c,g+nV,g+Zz),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=a?a/2:l,e.rect(r-u,n-l,2*u,2*l);break}g+=aV;case"rectRot":d=Math.cos(g)*(a?a/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(a?a/2:m),e.moveTo(r-d,n-o),e.lineTo(r+h,n-s),e.lineTo(r+d,n+o),e.lineTo(r-h,n+s),e.closePath();break;case"crossRot":g+=aV;case"cross":d=Math.cos(g)*(a?a/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(a?a/2:m),e.moveTo(r-d,n-o),e.lineTo(r+d,n+o),e.moveTo(r+h,n-s),e.lineTo(r-h,n+s);break;case"star":d=Math.cos(g)*(a?a/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(a?a/2:m),e.moveTo(r-d,n-o),e.lineTo(r+d,n+o),e.moveTo(r+h,n-s),e.lineTo(r-h,n+s),g+=aV,d=Math.cos(g)*(a?a/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(a?a/2:m),e.moveTo(r-d,n-o),e.lineTo(r+d,n+o),e.moveTo(r+h,n-s),e.lineTo(r-h,n+s);break;case"line":s=a?a/2:Math.cos(g)*m,o=Math.sin(g)*m,e.moveTo(r-s,n-o),e.lineTo(r+s,n+o);break;case"dash":e.moveTo(r,n),e.lineTo(r+Math.cos(g)*(a?a/2:m),n+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function aK(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function iK(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function sK(e){e.restore()}function oK(e,t,r,n,a){if(!t)return e.lineTo(r.x,r.y);if("middle"===a){const n=(t.x+r.x)/2;e.lineTo(n,t.y),e.lineTo(n,r.y)}else"after"===a!==!!n?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function lK(e,t,r,n){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function cK(e,t,r,n,a){if(a.strikethrough||a.underline){const i=e.measureText(n),s=t-i.actualBoundingBoxLeft,o=t+i.actualBoundingBoxRight,l=r-i.actualBoundingBoxAscent,c=r+i.actualBoundingBoxDescent,u=a.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(s,u),e.lineTo(o,u),e.stroke()}}function uK(e,t){const r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function dK(e,t,r,n,a){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=Az(t)?t:[t],o=i.strokeWidth>0&&""!==i.strokeColor;let l,c;for(e.save(),e.font=a.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Cz(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,i),l=0;l<s.length;++l)c=s[l],i.backdrop&&uK(e,i.backdrop),o&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),Cz(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(c,r,n,i.maxWidth)),e.fillText(c,r,n,i.maxWidth),cK(e,r,n,c,i),n+=Number(a.lineHeight);e.restore()}function hK(e,t){const{x:r,y:n,w:a,h:i,radius:s}=t;e.arc(r+s.topLeft,n+s.topLeft,s.topLeft,1.5*Zz,Zz,!0),e.lineTo(r,n+i-s.bottomLeft),e.arc(r+s.bottomLeft,n+i-s.bottomLeft,s.bottomLeft,Zz,nV,!0),e.lineTo(r+a-s.bottomRight,n+i),e.arc(r+a-s.bottomRight,n+i-s.bottomRight,s.bottomRight,nV,0,!0),e.lineTo(r+a,n+s.topRight),e.arc(r+a-s.topRight,n+s.topRight,s.topRight,0,-nV,!0),e.lineTo(r+s.topLeft,n)}const fK=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,pK=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function mK(e,t){const r=(""+e).match(fK);if(!r||"normal"===r[1])return 1.2*t;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100}return t*e}const gK=e=>+e||0;function xK(e,t){const r={},n=Iz(t),a=n?Object.keys(t):t,i=Iz(e)?n?r=>Dz(e[r],e[t[r]]):t=>e[t]:()=>e;for(const s of a)r[s]=gK(i(s));return r}function bK(e){return xK(e,{top:"y",right:"x",bottom:"y",left:"x"})}function yK(e){return xK(e,["topLeft","topRight","bottomLeft","bottomRight"])}function vK(e){const t=bK(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function NK(e,t){e=e||{},t=t||ZV.font;let r=Dz(e.size,t.size);"string"===typeof r&&(r=parseInt(r,10));let n=Dz(e.style,t.style);n&&!(""+n).match(pK)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Dz(e.family,t.family),lineHeight:mK(Dz(e.lineHeight,t.lineHeight),r),size:r,style:n,weight:Dz(e.weight,t.weight),string:""};return a.string=function(e){return!e||Cz(e.size)||Cz(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(a),a}function wK(e,t,r,n){let a,i,s,o=!0;for(a=0,i=e.length;a<i;++a)if(s=e[a],void 0!==s&&(void 0!==t&&"function"===typeof s&&(s=s(t),o=!1),void 0!==r&&Az(s)&&(s=s[r%s.length],o=!1),void 0!==s))return n&&!o&&(n.cacheable=!1),s}function jK(e,t){return Object.assign(Object.create(e),t)}function kK(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const a=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof r&&(r=DK("_fallback",e));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:r,_getTarget:n,override:n=>kK([n,...e],t,a,r)};return new Proxy(i,{deleteProperty:(t,r)=>(delete t[r],delete t._keys,delete e[0][r],!0),get:(r,n)=>EK(r,n,(()=>function(e,t,r,n){let a;for(const i of t)if(a=DK(OK(i,e),r),"undefined"!==typeof a)return _K(e,a)?PK(r,n,e,a):a}(n,t,e,r))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>MK(e).includes(t),ownKeys:e=>MK(e),set(e,t,r){const a=e._storage||(e._storage=n());return e[t]=a[t]=r,delete e._keys,!0}})}function TK(e,t,r,n){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:SK(e,n),setContext:t=>TK(e,t,r,n),override:a=>TK(e.override(a),t,r,n)};return new Proxy(a,{deleteProperty:(t,r)=>(delete t[r],delete e[r],!0),get:(e,t,r)=>EK(e,t,(()=>function(e,t,r){const{_proxy:n,_context:a,_subProxy:i,_descriptors:s}=e;let o=n[t];qz(o)&&s.isScriptable(t)&&(o=function(e,t,r,n){const{_proxy:a,_context:i,_subProxy:s,_stack:o}=r;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(i,s||n);o.delete(e),_K(e,l)&&(l=PK(a._scopes,a,e,l));return l}(t,o,e,r));Az(o)&&o.length&&(o=function(e,t,r,n){const{_proxy:a,_context:i,_subProxy:s,_descriptors:o}=r;if("undefined"!==typeof i.index&&n(e))return t[i.index%t.length];if(Iz(t[0])){const r=t,n=a._scopes.filter((e=>e!==r));t=[];for(const l of r){const r=PK(n,a,e,l);t.push(TK(r,i,s&&s[e],o))}}return t}(t,o,e,s.isIndexable));_K(t,o)&&(o=TK(o,a,i&&i[t],s));return o}(e,t,r))),getOwnPropertyDescriptor:(t,r)=>t._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,r)=>Reflect.has(e,r),ownKeys:()=>Reflect.ownKeys(e),set:(t,r,n)=>(e[r]=n,delete t[r],!0)})}function SK(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:r=t.scriptable,_indexable:n=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:r,indexable:n,isScriptable:qz(r)?r:()=>r,isIndexable:qz(n)?n:()=>n}}const OK=(e,t)=>e?e+Xz(t):t,_K=(e,t)=>Iz(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function EK(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const n=r();return e[t]=n,n}function CK(e,t,r){return qz(e)?e(t,r):e}const AK=(e,t)=>!0===e?t:"string"===typeof e?Wz(t,e):void 0;function IK(e,t,r,n,a){for(const i of t){const t=AK(r,i);if(t){e.add(t);const i=CK(t._fallback,r,a);if("undefined"!==typeof i&&i!==r&&i!==n)return i}else if(!1===t&&"undefined"!==typeof n&&r!==n)return null}return!1}function PK(e,t,r,n){const a=t._rootScopes,i=CK(t._fallback,r,n),s=[...e,...a],o=new Set;o.add(n);let l=HK(o,s,r,i||r,n);return null!==l&&(("undefined"===typeof i||i===r||(l=HK(o,s,i,l,n),null!==l))&&kK(Array.from(o),[""],a,i,(()=>function(e,t,r){const n=e._getTarget();t in n||(n[t]={});const a=n[t];if(Az(a)&&Iz(r))return r;return a||{}}(t,r,n))))}function HK(e,t,r,n,a){for(;r;)r=IK(e,t,r,n,a);return r}function DK(e,t){for(const r of t){if(!r)continue;const t=r[e];if("undefined"!==typeof t)return t}}function MK(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const r of e)for(const e of Object.keys(r).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}const LK=Number.EPSILON||1e-14,RK=(e,t)=>t<e.length&&!e[t].skip&&e[t],FK=e=>"x"===e?"y":"x";function UK(e,t,r,n){const a=e.skip?t:e,i=t,s=r.skip?t:r,o=gV(i,a),l=gV(s,i);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=n*c,h=n*u;return{previous:{x:i.x-d*(s.x-a.x),y:i.y-d*(s.y-a.y)},next:{x:i.x+h*(s.x-a.x),y:i.y+h*(s.y-a.y)}}}function GK(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const r=FK(t),n=e.length,a=Array(n).fill(0),i=Array(n);let s,o,l,c=RK(e,0);for(s=0;s<n;++s)if(o=l,l=c,c=RK(e,s+1),l){if(c){const e=c[t]-l[t];a[s]=0!==e?(c[r]-l[r])/e:0}i[s]=o?c?oV(a[s-1])!==oV(a[s])?0:(a[s-1]+a[s])/2:a[s-1]:a[s]}!function(e,t,r){const n=e.length;let a,i,s,o,l,c=RK(e,0);for(let u=0;u<n-1;++u)l=c,c=RK(e,u+1),l&&c&&(lV(t[u],0,LK)?r[u]=r[u+1]=0:(a=r[u]/t[u],i=r[u+1]/t[u],o=Math.pow(a,2)+Math.pow(i,2),o<=9||(s=3/Math.sqrt(o),r[u]=a*s*t[u],r[u+1]=i*s*t[u])))}(e,a,i),function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const n=FK(r),a=e.length;let i,s,o,l=RK(e,0);for(let c=0;c<a;++c){if(s=o,o=l,l=RK(e,c+1),!o)continue;const a=o[r],u=o[n];s&&(i=(a-s[r])/3,o[`cp1${r}`]=a-i,o[`cp1${n}`]=u-i*t[c]),l&&(i=(l[r]-a)/3,o[`cp2${r}`]=a+i,o[`cp2${n}`]=u+i*t[c])}}(e,i,t)}function BK(e,t,r){return Math.max(Math.min(e,r),t)}function zK(e,t,r,n,a){let i,s,o,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)GK(e,a);else{let r=n?e[e.length-1]:e[0];for(i=0,s=e.length;i<s;++i)o=e[i],l=UK(r,o,e[Math.min(i+1,s-(n?0:1))%s],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,r=o}t.capBezierPoints&&function(e,t){let r,n,a,i,s,o=aK(e[0],t);for(r=0,n=e.length;r<n;++r)s=i,i=o,o=r<n-1&&aK(e[r+1],t),i&&(a=e[r],s&&(a.cp1x=BK(a.cp1x,t.left,t.right),a.cp1y=BK(a.cp1y,t.top,t.bottom)),o&&(a.cp2x=BK(a.cp2x,t.left,t.right),a.cp2y=BK(a.cp2y,t.top,t.bottom)))}(e,r)}function VK(){return"undefined"!==typeof window&&"undefined"!==typeof document}function KK(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function $K(e,t,r){let n;return"string"===typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[r])):n=e,n}const WK=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const XK=["top","right","bottom","left"];function YK(e,t,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const i=XK[a];n[i]=parseFloat(e[t+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function qK(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:n}=t,a=WK(r),i="border-box"===a.boxSizing,s=YK(a,"padding"),o=YK(a,"border","width"),{x:l,y:c,box:u}=function(e,t){const r=e.touches,n=r&&r.length?r[0]:e,{offsetX:a,offsetY:i}=n;let s,o,l=!1;if(((e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot))(a,i,e.target))s=a,o=i;else{const e=t.getBoundingClientRect();s=n.clientX-e.left,o=n.clientY-e.top,l=!0}return{x:s,y:o,box:l}}(e,r),d=s.left+(u&&o.left),h=s.top+(u&&o.top);let{width:f,height:p}=t;return i&&(f-=s.width+o.width,p-=s.height+o.height),{x:Math.round((l-d)/f*r.width/n),y:Math.round((c-h)/p*r.height/n)}}const QK=e=>Math.round(10*e)/10;function ZK(e,t,r,n){const a=WK(e),i=YK(a,"margin"),s=$K(a.maxWidth,e,"clientWidth")||tV,o=$K(a.maxHeight,e,"clientHeight")||tV,l=function(e,t,r){let n,a;if(void 0===t||void 0===r){const i=e&&KK(e);if(i){const e=i.getBoundingClientRect(),s=WK(i),o=YK(s,"border","width"),l=YK(s,"padding");t=e.width-l.width-o.width,r=e.height-l.height-o.height,n=$K(s.maxWidth,i,"clientWidth"),a=$K(s.maxHeight,i,"clientHeight")}else t=e.clientWidth,r=e.clientHeight}return{width:t,height:r,maxWidth:n||tV,maxHeight:a||tV}}(e,t,r);let{width:c,height:u}=l;if("content-box"===a.boxSizing){const e=YK(a,"border","width"),t=YK(a,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-i.width),u=Math.max(0,n?c/n:u-i.height),c=QK(Math.min(c,s,l.maxWidth)),u=QK(Math.min(u,o,l.maxHeight)),c&&!u&&(u=QK(c/2));return(void 0!==t||void 0!==r)&&n&&l.height&&u>l.height&&(u=l.height,c=QK(Math.floor(u*n))),{width:c,height:u}}function JK(e,t,r){const n=t||1,a=Math.floor(e.height*n),i=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const s=e.canvas;return s.style&&(r||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==n||s.height!==a||s.width!==i)&&(e.currentDevicePixelRatio=n,s.height=a,s.width=i,e.ctx.setTransform(n,0,0,n,0,0),!0)}const e$=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};VK()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(fU){}return e}();function t$(e,t){const r=function(e,t){return WK(e).getPropertyValue(t)}(e,t),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function r$(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function n$(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:"middle"===n?r<.5?e.y:t.y:"after"===n?r<1?e.y:t.y:r>0?t.y:e.y}}function a$(e,t,r,n){const a={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},s=r$(e,a,r),o=r$(a,i,r),l=r$(i,t,r),c=r$(s,o,r),u=r$(o,l,r);return r$(c,u,r)}function i$(e,t,r){return e?function(e,t){return{x:r=>e+e+t-r,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,r):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function s$(e,t){let r,n;"ltr"!==t&&"rtl"!==t||(r=e.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=n)}function o$(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function l$(e){return"angle"===e?{between:yV,compare:xV,normalize:bV}:{between:NV,compare:(e,t)=>e-t,normalize:e=>e}}function c$(e){let{start:t,end:r,count:n,loop:a,style:i}=e;return{start:t%n,end:r%n,loop:a&&(r-t+1)%n===0,style:i}}function u$(e,t,r){if(!r)return[e];const{property:n,start:a,end:i}=r,s=t.length,{compare:o,between:l,normalize:c}=l$(n),{start:u,end:d,loop:h,style:f}=function(e,t,r){const{property:n,start:a,end:i}=r,{between:s,normalize:o}=l$(n),l=t.length;let c,u,{start:d,end:h,loop:f}=e;if(f){for(d+=l,h+=l,c=0,u=l;c<u&&s(o(t[d%l][n]),a,i);++c)d--,h--;d%=l,h%=l}return h<d&&(h+=l),{start:d,end:h,loop:f,style:e.style}}(e,t,r),p=[];let m,g,x,b=!1,y=null;const v=()=>b||l(a,x,m)&&0!==o(a,x),N=()=>!b||0===o(i,m)||l(i,x,m);for(let w=u,j=u;w<=d;++w)g=t[w%s],g.skip||(m=c(g[n]),m!==x&&(b=l(m,a,i),null===y&&v()&&(y=0===o(m,a)?w:j),null!==y&&N()&&(p.push(c$({start:y,end:w,loop:h,count:s,style:f})),y=null),j=w,x=m));return null!==y&&p.push(c$({start:y,end:d,loop:h,count:s,style:f})),p}function d$(e,t){const r=[],n=e.segments;for(let a=0;a<n.length;a++){const i=u$(n[a],e.points,t);i.length&&r.push(...i)}return r}function h$(e,t,r,n){return n&&n.setContext&&r?function(e,t,r,n){const a=e._chart.getContext(),i=f$(e.options),{_datasetIndex:s,options:{spanGaps:o}}=e,l=r.length,c=[];let u=i,d=t[0].start,h=d;function f(e,t,n,a){const i=o?-1:1;if(e!==t){for(e+=l;r[e%l].skip;)e-=i;for(;r[t%l].skip;)t+=i;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:n,style:a}),u=a,d=t%l)}}for(const p of t){d=o?d:p.start;let e,t=r[d%l];for(h=d+1;h<=p.end;h++){const i=r[h%l];e=f$(n.setContext(jK(a,{type:"segment",p0:t,p1:i,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:s}))),p$(e,u)&&f(d,h-1,p.loop,u),t=i,u=e}d<h-1&&f(d,h-1,p.loop,u)}return c}(e,t,r,n):t}function f$(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function p$(e,t){if(!t)return!1;const r=[],n=function(e,t){return RV(t)?(r.includes(t)||r.push(t),r.indexOf(t)):t};return JSON.stringify(e,n)!==JSON.stringify(t,n)}class m${constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,n){const a=t.listeners[n],i=t.duration;a.forEach((n=>n({chart:e,initial:t.initial,numSteps:i,currentStep:Math.min(r-t.start,i)})))}_refresh(){this._request||(this._running=!0,this._request=_V.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((r,n)=>{if(!r.running||!r.items.length)return;const a=r.items;let i,s=a.length-1,o=!1;for(;s>=0;--s)i=a[s],i._active?(i._total>r.duration&&(r.duration=i._total),i.tick(e),o=!0):(a[s]=a[a.length-1],a.pop());o&&(n.draw(),this._notify(n,r,e,"progress")),a.length||(r.running=!1,this._notify(n,r,e,"complete"),r.initial=!1),t+=a.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let n=r.length-1;for(;n>=0;--n)r[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var g$=new m$;const x$="transparent",b$={boolean:(e,t,r)=>r>.5?t:e,color(e,t,r){const n=FV(e||x$),a=n.valid&&FV(t||x$);return a&&a.valid?a.mix(n,r).hexString():t},number:(e,t,r)=>e+(t-e)*r};class y${constructor(e,t,r,n){const a=t[r];n=wK([e.to,n,a,e.from]);const i=wK([e.from,a,n]);this._active=!0,this._fn=e.fn||b$[e.type||typeof i],this._easing=LV[e.easing]||LV.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=i,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const n=this._target[this._prop],a=r-this._start,i=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=wK([e.to,t,n,e.from]),this._from=wK([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,n=this._prop,a=this._from,i=this._loop,s=this._to;let o;if(this._active=a!==s&&(i||t<r),!this._active)return this._target[n]=s,void this._notify(!0);t<0?this._target[n]=a:(o=t/r%2,o=i&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[n]=this._fn(a,s,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,r)=>{e.push({res:t,rej:r})}))}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let n=0;n<r.length;n++)r[n][t]()}}class v${constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Iz(e))return;const t=Object.keys(ZV.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach((n=>{const a=e[n];if(!Iz(a))return;const i={};for(const e of t)i[e]=a[e];(Az(a.properties)&&a.properties||[n]).forEach((e=>{e!==n&&r.has(e)||r.set(e,i)}))}))}_animateOptions(e,t){const r=t.options,n=function(e,t){if(!t)return;let r=e.options;if(!r)return void(e.options=t);r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}}));return r}(e,r);if(!n)return[];const a=this._createAnimations(n,r);return r.$shared&&function(e,t){const r=[],n=Object.keys(t);for(let a=0;a<n.length;a++){const t=e[n[a]];t&&t.active()&&r.push(t.wait())}return Promise.all(r)}(e.options.$animations,r).then((()=>{e.options=r}),(()=>{})),a}_createAnimations(e,t){const r=this._properties,n=[],a=e.$animations||(e.$animations={}),i=Object.keys(t),s=Date.now();let o;for(o=i.length-1;o>=0;--o){const l=i[o];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(e,t));continue}const c=t[l];let u=a[l];const d=r.get(l);if(u){if(d&&u.active()){u.update(d,c,s);continue}u.cancel()}d&&d.duration?(a[l]=u=new y$(d,e,l,c),n.push(u)):e[l]=c}return n}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const r=this._createAnimations(e,t);return r.length?(g$.add(this._chart,r),!0):void 0}}function N$(e,t){const r=e&&e.options||{},n=r.reverse,a=void 0===r.min?t:0,i=void 0===r.max?t:0;return{start:n?i:a,end:n?a:i}}function w$(e,t){const r=[],n=e._getSortedDatasetMetas(t);let a,i;for(a=0,i=n.length;a<i;++a)r.push(n[a].index);return r}function j$(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=e.keys,i="single"===n.mode;let s,o,l,c;if(null===t)return;let u=!1;for(s=0,o=a.length;s<o;++s){if(l=+a[s],l===r){if(u=!0,n.all)continue;break}c=e.values[l],Pz(c)&&(i||0===t||oV(t)===oV(c))&&(t+=c)}return u||n.all?t:0}function k$(e,t){const r=e&&e.options.stacked;return r||void 0===r&&void 0!==t.stack}function T$(e,t,r){const n=e[t]||(e[t]={});return n[r]||(n[r]={})}function S$(e,t,r,n){for(const a of t.getMatchingVisibleMetas(n).reverse()){const t=e[a.index];if(r&&t>0||!r&&t<0)return a.index}return null}function O$(e,t){const{chart:r,_cachedMeta:n}=e,a=r._stacks||(r._stacks={}),{iScale:i,vScale:s,index:o}=n,l=i.axis,c=s.axis,u=function(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}(i,s,n),d=t.length;let h;for(let f=0;f<d;++f){const e=t[f],{[l]:r,[c]:i}=e;h=(e._stacks||(e._stacks={}))[c]=T$(a,u,r),h[o]=i,h._top=S$(h,s,!0,n.type),h._bottom=S$(h,s,!1,n.type);(h._visualValues||(h._visualValues={}))[o]=i}}function _$(e,t){const r=e.scales;return Object.keys(r).filter((e=>r[e].axis===t)).shift()}function E$(e,t){const r=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[n]||void 0===t[n][r])return;delete t[n][r],void 0!==t[n]._visualValues&&void 0!==t[n]._visualValues[r]&&delete t[n]._visualValues[r]}}}const C$=e=>"reset"===e||"none"===e,A$=(e,t)=>t?e:Object.assign({},e);class I${static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=k$(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&E$(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),n=(e,t,r,n)=>"x"===e?t:"r"===e?n:r,a=t.xAxisID=Dz(r.xAxisID,_$(e,"x")),i=t.yAxisID=Dz(r.yAxisID,_$(e,"y")),s=t.rAxisID=Dz(r.rAxisID,_$(e,"r")),o=t.indexAxis,l=t.iAxisID=n(o,a,i,s),c=t.vAxisID=n(o,i,a,s);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(i),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&SV(this._data,this),e._stacked&&E$(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(Iz(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:r,vScale:n}=t,a="x"===r.axis?"x":"y",i="x"===n.axis?"x":"y",s=Object.keys(e),o=new Array(s.length);let l,c,u;for(l=0,c=s.length;l<c;++l)u=s[l],o[l]={[a]:u,[i]:e[u]};return o}(t,e)}else if(r!==t){if(r){SV(r,this);const e=this._cachedMeta;E$(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),TV.forEach((t=>{const r="_onData"+Xz(t),n=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];const s=n.apply(this,a);return e._chartjs.listeners.forEach((e=>{"function"===typeof e[r]&&e[r](...a)})),s}})})))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let n=!1;this._dataCheck();const a=t._stacked;t._stacked=k$(t.vScale,t),t.stack!==r.stack&&(n=!0,E$(t),t.stack=r.stack),this._resyncElements(e),(n||a!==t._stacked)&&(O$(this,t._parsed),t._stacked=k$(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:n}=this,{iScale:a,_stacked:i}=r,s=a.axis;let o,l,c,u=0===e&&t===n.length||r._sorted,d=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=n,r._sorted=!0,c=n;else{c=Az(n[e])?this.parseArrayData(r,n,e,t):Iz(n[e])?this.parseObjectData(r,n,e,t):this.parsePrimitiveData(r,n,e,t);const a=()=>null===l[s]||d&&l[s]<d[s];for(o=0;o<t;++o)r._parsed[o+e]=l=c[o],u&&(a()&&(u=!1),d=l);r._sorted=u}i&&O$(this,c)}parsePrimitiveData(e,t,r,n){const{iScale:a,vScale:i}=e,s=a.axis,o=i.axis,l=a.getLabels(),c=a===i,u=new Array(n);let d,h,f;for(d=0,h=n;d<h;++d)f=d+r,u[d]={[s]:c||a.parse(l[f],f),[o]:i.parse(t[f],f)};return u}parseArrayData(e,t,r,n){const{xScale:a,yScale:i}=e,s=new Array(n);let o,l,c,u;for(o=0,l=n;o<l;++o)c=o+r,u=t[c],s[o]={x:a.parse(u[0],c),y:i.parse(u[1],c)};return s}parseObjectData(e,t,r,n){const{xScale:a,yScale:i}=e,{xAxisKey:s="x",yAxisKey:o="y"}=this._parsing,l=new Array(n);let c,u,d,h;for(c=0,u=n;c<u;++c)d=c+r,h=t[d],l[c]={x:a.parse(Wz(h,s),d),y:i.parse(Wz(h,o),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const n=this.chart,a=this._cachedMeta,i=t[e.axis];return j$({keys:w$(n,!0),values:t._stacks[e.axis]._visualValues},i,a.index,{mode:r})}updateRangeFromParsed(e,t,r,n){const a=r[t.axis];let i=null===a?NaN:a;const s=n&&r._stacks[t.axis];n&&s&&(n.values=s,i=j$(n,a,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,t){const r=this._cachedMeta,n=r._parsed,a=r._sorted&&e===r.iScale,i=n.length,s=this._getOtherScale(e),o=((e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:w$(r,!0),values:null})(t,r,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:r,minDefined:n,maxDefined:a}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}(s);let d,h;function f(){h=n[d];const t=h[s.axis];return!Pz(h[e.axis])||c>t||u<t}for(d=0;d<i&&(f()||(this.updateRangeFromParsed(l,e,h,o),!a));++d);if(a)for(d=i-1;d>=0;--d)if(!f()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let n,a,i;for(n=0,a=t.length;n<a;++n)i=t[n][e.axis],Pz(i)&&r.push(i);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,n=t.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:n?""+n.getLabelForValue(a[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,r,n,a;return Iz(e)?(t=e.top,r=e.right,n=e.bottom,a=e.left):t=r=n=a=e,{top:t,right:r,bottom:n,left:a,disabled:!1===e}}(Dz(this.options.clip,function(e,t,r){if(!1===r)return!1;const n=N$(e,r),a=N$(t,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,n=r.data||[],a=t.chartArea,i=[],s=this._drawStart||0,o=this._drawCount||n.length-s,l=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(e,a,s,o),c=s;c<s+o;++c){const t=n[c];t.hidden||(t.active&&l?i.push(t):t.draw(e,a))}for(c=0;c<i.length;++c)i[c].draw(e,a)}getStyle(e,t){const r=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const n=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];a=t.$context||(t.$context=function(e,t,r){return jK(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),a.parsed=this.getParsed(e),a.raw=n.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=function(e,t){return jK(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=n,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2?arguments[2]:void 0;const n="active"===t,a=this._cachedDataOpts,i=e+"-"+t,s=a[i],o=this.enableOptionSharing&&Yz(r);if(s)return A$(s,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=n?[`${e}Hover`,"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),h=Object.keys(ZV.elements[e]),f=l.resolveNamedOptions(d,h,(()=>this.getContext(r,n,t)),u);return f.$shared&&(f.$shared=o,a[i]=Object.freeze(A$(f,o))),f}_resolveAnimations(e,t,r){const n=this.chart,a=this._cachedDataOpts,i=`animation-${t}`,s=a[i];if(s)return s;let o;if(!1!==n.options.animation){const n=this.chart.config,a=n.datasetAnimationScopeKeys(this._type,t),i=n.getOptionScopes(this.getDataset(),a);o=n.createResolver(i,this.getContext(e,r,t))}const l=new v$(n,o&&o.animations);return o&&o._cacheable&&(a[i]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||C$(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),n=this._sharedOptions,a=this.getSharedOptions(r),i=this.includeOptions(t,a)||a!==n;return this.updateSharedOptions(a,t,r),{sharedOptions:a,includeOptions:i}}updateElement(e,t,r,n){C$(n)?Object.assign(e,r):this._resolveAnimations(t,n).update(e,r)}updateSharedOptions(e,t,r){e&&!C$(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,n){e.active=n;const a=this.getStyle(t,n);this._resolveAnimations(t,r,n).update(e,{options:!n&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[s,o,l]of this._syncList)this[s](o,l);this._syncList=[];const n=r.length,a=t.length,i=Math.min(a,n);i&&this.parse(0,i),a>n?this._insertElements(n,a-n,e):a<n&&this._removeElements(a,n-a)}_insertElements(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=this._cachedMeta,a=n.data,i=e+t;let s;const o=e=>{for(e.length+=t,s=e.length-1;s>=i;s--)e[s]=e[s-t]};for(o(a),s=e;s<i;++s)a[s]=new this.dataElementType;this._parsing&&o(n._parsed),this.parse(e,t),r&&this.updateElements(a,e,t,"reset")}updateElements(e,t,r,n){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const n=r._parsed.splice(e,t);r._stacked&&E$(r,n)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,n]=e;this[t](r,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function P$(e){const t=e.iScale,r=function(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let n=[];for(let t=0,a=r.length;t<a;t++)n=n.concat(r[t].controller.getAllParsedValues(e));e._cache.$bar=OV(n.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let n,a,i,s,o=t._length;const l=()=>{32767!==i&&-32768!==i&&(Yz(s)&&(o=Math.min(o,Math.abs(i-s)||o)),s=i)};for(n=0,a=r.length;n<a;++n)i=t.getPixelForValue(r[n]),l();for(s=void 0,n=0,a=t.ticks.length;n<a;++n)i=t.getPixelForTick(n),l();return o}function H$(e,t,r,n){return Az(e)?function(e,t,r,n){const a=r.parse(e[0],n),i=r.parse(e[1],n),s=Math.min(a,i),o=Math.max(a,i);let l=s,c=o;Math.abs(s)>Math.abs(o)&&(l=o,c=s),t[r.axis]=c,t._custom={barStart:l,barEnd:c,start:a,end:i,min:s,max:o}}(e,t,r,n):t[r.axis]=r.parse(e,n),t}function D$(e,t,r,n){const a=e.iScale,i=e.vScale,s=a.getLabels(),o=a===i,l=[];let c,u,d,h;for(c=r,u=r+n;c<u;++c)h=t[c],d={},d[a.axis]=o||a.parse(s[c],c),l.push(H$(h,d,i,c));return l}function M$(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function L$(e,t,r,n){let a=t.borderSkipped;const i={};if(!a)return void(e.borderSkipped=i);if(!0===a)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:o,reverse:l,top:c,bottom:u}=function(e){let t,r,n,a,i;return e.horizontal?(t=e.base>e.x,r="left",n="right"):(t=e.base<e.y,r="bottom",n="top"),t?(a="end",i="start"):(a="start",i="end"),{start:r,end:n,reverse:t,top:a,bottom:i}}(e);"middle"===a&&r&&(e.enableBorderRadius=!0,(r._top||0)===n?a=c:(r._bottom||0)===n?a=u:(i[R$(u,s,o,l)]=!0,a=c)),i[R$(a,s,o,l)]=!0,e.borderSkipped=i}function R$(e,t,r,n){var a,i,s;return n?(s=r,e=F$(e=(a=e)===(i=t)?s:a===s?i:a,r,t)):e=F$(e,t,r),e}function F$(e,t,r){return"start"===e?t:"end"===e?r:e}function U$(e,t,r){let{inflateAmount:n}=t;e.inflateAmount="auto"===n?1===r?.33:0:n}class G$ extends I${static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,r,n){return D$(e,t,r,n)}parseArrayData(e,t,r,n){return D$(e,t,r,n)}parseObjectData(e,t,r,n){const{iScale:a,vScale:i}=e,{xAxisKey:s="x",yAxisKey:o="y"}=this._parsing,l="x"===a.axis?s:o,c="x"===i.axis?s:o,u=[];let d,h,f,p;for(d=r,h=r+n;d<h;++d)p=t[d],f={},f[a.axis]=a.parse(Wz(p,l),d),u.push(H$(Wz(p,c),f,i,d));return u}updateRangeFromParsed(e,t,r,n){super.updateRangeFromParsed(e,t,r,n);const a=r._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:n}=t,a=this.getParsed(e),i=a._custom,s=M$(i)?"["+i.start+", "+i.end+"]":""+n.getLabelForValue(a[n.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,n){const a="reset"===n,{index:i,_cachedMeta:{vScale:s}}=this,o=s.getBasePixel(),l=s.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,n);for(let h=t;h<t+r;h++){const t=this.getParsed(h),r=a||Cz(t[s.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),f=this._calculateBarIndexPixels(h,c),p=(t._stacks||{})[s.axis],m={horizontal:l,base:r.base,enableBorderRadius:!p||M$(t._custom)||i===p._top||i===p._bottom,x:l?r.head:f.center,y:l?f.center:r.head,height:l?f.size:Math.abs(r.size),width:l?Math.abs(r.size):f.size};d&&(m.options=u||this.resolveDataElementOptions(h,e[h].active?"active":n));const g=m.options||e[h].options;L$(m,g,p,i),U$(m,g,c.ratio),this.updateElement(e[h],h,m,n)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,n=r.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),a=r.options.stacked,i=[],s=this._cachedMeta.controller.getParsed(t),o=s&&s[r.axis],l=e=>{const t=e._parsed.find((e=>e[r.axis]===o)),n=t&&t[e.vScale.axis];if(Cz(n)||isNaN(n))return!0};for(const c of n)if((void 0===t||!l(c))&&((!1===a||-1===i.indexOf(c.stack)||void 0===a&&void 0===c.stack)&&i.push(c.stack),c.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,r){const n=this._getStacks(e,r),a=void 0!==t?n.indexOf(t):-1;return-1===a?n.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,n=[];let a,i;for(a=0,i=t.data.length;a<i;++a)n.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const s=e.barThickness;return{min:s||P$(t),pixels:n,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:s?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:n},options:{base:a,minBarLength:i}}=this,s=a||0,o=this.getParsed(e),l=o._custom,c=M$(l);let u,d,h=o[t.axis],f=0,p=r?this.applyStack(t,o,r):h;p!==h&&(f=p-h,p=h),c&&(h=l.barStart,p=l.barEnd-l.barStart,0!==h&&oV(h)!==oV(l.barEnd)&&(f=0),f+=h);const m=Cz(a)||c?f:a;let g=t.getPixelForValue(m);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(f+p):g,d=u-g,Math.abs(d)<i){d=function(e,t,r){return 0!==e?oV(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}(d,t,s)*i,h===s&&(g-=d/2);const e=t.getPixelForDecimal(0),a=t.getPixelForDecimal(1),l=Math.min(e,a),f=Math.max(e,a);g=Math.max(Math.min(g,f),l),u=g+d,r&&!c&&(o._stacks[t.axis]._visualValues[n]=t.getValueForPixel(u)-t.getValueForPixel(g))}if(g===t.getPixelForValue(s)){const e=oV(d)*t.getLineWidthForValue(s)/2;g+=e,d-=e}return{size:d,base:g,head:u,center:u+d/2}}_calculateBarIndexPixels(e,t){const r=t.scale,n=this.options,a=n.skipNull,i=Dz(n.maxBarThickness,1/0);let s,o;if(t.grouped){const r=a?this._getStackCount(e):t.stackCount,l="flex"===n.barThickness?function(e,t,r,n){const a=t.pixels,i=a[e];let s=e>0?a[e-1]:null,o=e<a.length-1?a[e+1]:null;const l=r.categoryPercentage;null===s&&(s=i-(null===o?t.end-t.start:o-i)),null===o&&(o=i+i-s);const c=i-(i-Math.min(s,o))/2*l;return{chunk:Math.abs(o-s)/2*l/n,ratio:r.barPercentage,start:c}}(e,t,n,r):function(e,t,r,n){const a=r.barThickness;let i,s;return Cz(a)?(i=t.min*r.categoryPercentage,s=r.barPercentage):(i=a*n,s=1),{chunk:i/n,ratio:s,start:t.pixels[e]-i/2}}(e,t,n,r),c=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);s=l.start+l.chunk*c+l.chunk/2,o=Math.min(i,l.chunk*l.ratio)}else s=r.getPixelForValue(this.getParsed(e)[r.axis],e),o=Math.min(i,t.min*t.ratio);return{base:s-o/2,head:s+o/2,center:s,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,n=r.length;let a=0;for(;a<n;++a)null===this.getParsed(a)[t.axis]||r[a].hidden||r[a].draw(this._ctx)}}class B$ extends I${static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:n}}=e.legend.options;return t.labels.map(((t,a)=>{const i=e.getDatasetMeta(0).controller.getStyle(a);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:n,lineWidth:i.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}}))}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=r;else{let a,i,s=e=>+r[e];if(Iz(r[e])){const{key:e="value"}=this._parsing;s=t=>+Wz(r[t],e)}for(a=e,i=e+t;a<i;++a)n._parsed[a]=s(a)}}_getRotation(){return hV(this.options.rotation-90)}_getCircumference(){return hV(this.options.circumference)}_getRotationExtents(){let e=Jz,t=-Jz;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const n=this.chart.getDatasetMeta(r).controller,a=n._getRotation(),i=n._getCircumference();e=Math.min(e,a),t=Math.max(t,a+i)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,n=this._cachedMeta,a=n.data,i=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,s=Math.max((Math.min(r.width,r.height)-i)/2,0),o=Math.min(((e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t)(this.options.cutout,s),1),l=this._getRingWeight(this.index),{circumference:c,rotation:u}=this._getRotationExtents(),{ratioX:d,ratioY:h,offsetX:f,offsetY:p}=function(e,t,r){let n=1,a=1,i=0,s=0;if(t<Jz){const o=e,l=o+t,c=Math.cos(o),u=Math.sin(o),d=Math.cos(l),h=Math.sin(l),f=(e,t,n)=>yV(e,o,l,!0)?1:Math.max(t,t*r,n,n*r),p=(e,t,n)=>yV(e,o,l,!0)?-1:Math.min(t,t*r,n,n*r),m=f(0,c,d),g=f(nV,u,h),x=p(Zz,c,d),b=p(Zz+nV,u,h);n=(m-x)/2,a=(g-b)/2,i=-(m+x)/2,s=-(g+b)/2}return{ratioX:n,ratioY:a,offsetX:i,offsetY:s}}(u,c,o),m=(r.width-i)/d,g=(r.height-i)/h,x=Math.max(Math.min(m,g)/2,0),b=Mz(this.options.radius,x),y=(b-Math.max(b*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*b,this.offsetY=p*b,n.total=this.calculateTotal(),this.outerRadius=b-y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-y*l,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const r=this.options,n=this._cachedMeta,a=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===n._parsed[e]||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*a/Jz)}updateElements(e,t,r,n){const a="reset"===n,i=this.chart,s=i.chartArea,o=i.options.animation,l=(s.left+s.right)/2,c=(s.top+s.bottom)/2,u=a&&o.animateScale,d=u?0:this.innerRadius,h=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,n);let m,g=this._getRotation();for(m=0;m<t;++m)g+=this._circumference(m,a);for(m=t;m<t+r;++m){const t=this._circumference(m,a),r=e[m],i={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:d};p&&(i.options=f||this.resolveDataElementOptions(m,r.active?"active":n)),g+=t,this.updateElement(r,m,i,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r,n=0;for(r=0;r<t.length;r++){const a=e._parsed[r];null===a||isNaN(a)||!this.chart.getDataVisibility(r)||t[r].hidden||(n+=Math.abs(a))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Jz*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,n=r.data.labels||[],a=VV(t._parsed[e],r.options.locale);return{label:n[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const r=this.chart;let n,a,i,s,o;if(!e)for(n=0,a=r.data.datasets.length;n<a;++n)if(r.isDatasetVisible(n)){i=r.getDatasetMeta(n),e=i.data,s=i.controller;break}if(!e)return 0;for(n=0,a=e.length;n<a;++n)o=s.resolveDataElementOptions(n),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,n=e.length;r<n;++r){const e=this.resolveDataElementOptions(r);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Dz(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class z$ extends I${static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:n=[],_dataset:a}=t,i=this.chart._animationsDisabled;let{start:s,count:o}=IV(t,n,i);this._drawStart=s,this._drawCount=o,PV(t)&&(s=0,o=n.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=n;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:l},e),this.updateElements(n,s,o,e)}updateElements(e,t,r,n){const a="reset"===n,{iScale:i,vScale:s,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,n),d=i.axis,h=s.axis,{spanGaps:f,segment:p}=this.options,m=uV(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||a||"none"===n,x=t+r,b=e.length;let y=t>0&&this.getParsed(t-1);for(let v=0;v<b;++v){const r=e[v],f=g?r:{};if(v<t||v>=x){f.skip=!0;continue}const b=this.getParsed(v),N=Cz(b[h]),w=f[d]=i.getPixelForValue(b[d],v),j=f[h]=a||N?s.getBasePixel():s.getPixelForValue(o?this.applyStack(s,b,o):b[h],v);f.skip=isNaN(w)||isNaN(j)||N,f.stop=v>0&&Math.abs(b[d]-y[d])>m,p&&(f.parsed=b,f.raw=l.data[v]),u&&(f.options=c||this.resolveDataElementOptions(v,r.active?"active":n)),g||this.updateElement(r,v,f,n),y=b}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return r;const a=n[0].size(this.resolveDataElementOptions(0)),i=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,a,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class V$ extends B${static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function K$(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class $${static override(e){Object.assign($$.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return K$()}parse(){return K$()}format(){return K$()}add(){return K$()}diff(){return K$()}startOf(){return K$()}endOf(){return K$()}}var W$=$$;function X$(e,t,r,n){const{controller:a,data:i,_sorted:s}=e,o=a._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&s&&i.length){const s=o._reversePixels?kV:jV;if(!n){const n=s(i,t,r);if(l){const{vScale:t}=a._cachedMeta,{_parsed:r}=e,i=r.slice(0,n.lo+1).reverse().findIndex((e=>!Cz(e[t.axis])));n.lo-=Math.max(0,i);const s=r.slice(n.hi).findIndex((e=>!Cz(e[t.axis])));n.hi+=Math.max(0,s)}return n}if(a._sharedOptions){const e=i[0],n="function"===typeof e.getRange&&e.getRange(t);if(n){const e=s(i,t,r-n),a=s(i,t,r+n);return{lo:e.lo,hi:a.hi}}}}return{lo:0,hi:i.length-1}}function Y$(e,t,r,n,a){const i=e.getSortedVisibleDatasetMetas(),s=r[t];for(let o=0,l=i.length;o<l;++o){const{index:e,data:r}=i[o],{lo:l,hi:c}=X$(i[o],t,s,a);for(let t=l;t<=c;++t){const a=r[t];a.skip||n(a,e,t)}}}function q$(e,t,r,n,a){const i=[];if(!a&&!e.isPointInArea(t))return i;return Y$(e,r,t,(function(r,s,o){(a||aK(r,e.chartArea,0))&&r.inRange(t.x,t.y,n)&&i.push({element:r,datasetIndex:s,index:o})}),!0),i}function Q$(e,t,r,n,a,i){let s=[];const o=function(e){const t=-1!==e.indexOf("x"),r=-1!==e.indexOf("y");return function(e,n){const a=t?Math.abs(e.x-n.x):0,i=r?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(i,2))}}(r);let l=Number.POSITIVE_INFINITY;return Y$(e,r,t,(function(r,c,u){const d=r.inRange(t.x,t.y,a);if(n&&!d)return;const h=r.getCenterPoint(a);if(!(!!i||e.isPointInArea(h))&&!d)return;const f=o(t,h);f<l?(s=[{element:r,datasetIndex:c,index:u}],l=f):f===l&&s.push({element:r,datasetIndex:c,index:u})})),s}function Z$(e,t,r,n,a,i){return i||e.isPointInArea(t)?"r"!==r||n?Q$(e,t,r,n,a,i):function(e,t,r,n){let a=[];return Y$(e,r,t,(function(e,r,i){const{startAngle:s,endAngle:o}=e.getProps(["startAngle","endAngle"],n),{angle:l}=mV(e,{x:t.x,y:t.y});yV(l,s,o)&&a.push({element:e,datasetIndex:r,index:i})})),a}(e,t,r,a):[]}function J$(e,t,r,n,a){const i=[],s="x"===r?"inXRange":"inYRange";let o=!1;return Y$(e,r,t,((e,n,l)=>{e[s]&&e[s](t[r],a)&&(i.push({element:e,datasetIndex:n,index:l}),o=o||e.inRange(t.x,t.y,a))})),n&&!o?[]:i}var eW={evaluateInteractionItems:Y$,modes:{index(e,t,r,n){const a=qK(t,e),i=r.axis||"x",s=r.includeInvisible||!1,o=r.intersect?q$(e,a,i,n,s):Z$(e,a,i,!1,n,s),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=o[0].index,r=e.data[t];r&&!r.skip&&l.push({element:r,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,r,n){const a=qK(t,e),i=r.axis||"xy",s=r.includeInvisible||!1;let o=r.intersect?q$(e,a,i,n,s):Z$(e,a,i,!1,n,s);if(o.length>0){const t=o[0].datasetIndex,r=e.getDatasetMeta(t).data;o=[];for(let e=0;e<r.length;++e)o.push({element:r[e],datasetIndex:t,index:e})}return o},point:(e,t,r,n)=>q$(e,qK(t,e),r.axis||"xy",n,r.includeInvisible||!1),nearest(e,t,r,n){const a=qK(t,e),i=r.axis||"xy",s=r.includeInvisible||!1;return Z$(e,a,i,r.intersect,n,s)},x:(e,t,r,n)=>J$(e,qK(t,e),"x",r.intersect,n),y:(e,t,r,n)=>J$(e,qK(t,e),"y",r.intersect,n)}};const tW=["left","top","right","bottom"];function rW(e,t){return e.filter((e=>e.pos===t))}function nW(e,t){return e.filter((e=>-1===tW.indexOf(e.pos)&&e.box.axis===t))}function aW(e,t){return e.sort(((e,r)=>{const n=t?r:e,a=t?e:r;return n.weight===a.weight?n.index-a.index:n.weight-a.weight}))}function iW(e,t){const r=function(e){const t={};for(const r of e){const{stack:e,pos:n,stackWeight:a}=r;if(!e||!tW.includes(n))continue;const i=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=a}return t}(e),{vBoxMaxWidth:n,hBoxMaxHeight:a}=t;let i,s,o;for(i=0,s=e.length;i<s;++i){o=e[i];const{fullSize:s}=o.box,l=r[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*n:s&&t.availableWidth,o.height=a):(o.width=n,o.height=c?c*a:s&&t.availableHeight)}return r}function sW(e,t,r,n){return Math.max(e[r],t[r])+Math.max(e[n],t[n])}function oW(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function lW(e,t,r,n){const{pos:a,box:i}=r,s=e.maxPadding;if(!Iz(a)){r.size&&(e[a]-=r.size);const t=n[r.stack]||{size:0,count:1};t.size=Math.max(t.size,r.horizontal?i.height:i.width),r.size=t.size/t.count,e[a]+=r.size}i.getPadding&&oW(s,i.getPadding());const o=Math.max(0,t.outerWidth-sW(s,e,"left","right")),l=Math.max(0,t.outerHeight-sW(s,e,"top","bottom")),c=o!==e.w,u=l!==e.h;return e.w=o,e.h=l,r.horizontal?{same:c,other:u}:{same:u,other:c}}function cW(e,t){const r=t.maxPadding;function n(e){const n={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{n[e]=Math.max(t[e],r[e])})),n}return n(e?["left","right"]:["top","bottom"])}function uW(e,t,r,n){const a=[];let i,s,o,l,c,u;for(i=0,s=e.length,c=0;i<s;++i){o=e[i],l=o.box,l.update(o.width||t.w,o.height||t.h,cW(o.horizontal,t));const{same:s,other:d}=lW(t,r,o,n);c|=s&&a.length,u=u||d,l.fullSize||a.push(o)}return c&&uW(a,t,r,n)||u}function dW(e,t,r,n,a){e.top=r,e.left=t,e.right=t+n,e.bottom=r+a,e.width=n,e.height=a}function hW(e,t,r,n){const a=r.padding;let{x:i,y:s}=t;for(const o of e){const e=o.box,l=n[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const n=t.w*c,i=l.size||e.height;Yz(l.start)&&(s=l.start),e.fullSize?dW(e,a.left,s,r.outerWidth-a.right-a.left,i):dW(e,t.left+l.placed,s,n,i),l.start=s,l.placed+=n,s=e.bottom}else{const n=t.h*c,s=l.size||e.width;Yz(l.start)&&(i=l.start),e.fullSize?dW(e,i,a.top,s,r.outerHeight-a.bottom-a.top):dW(e,i,t.top+l.placed,s,n),l.start=i,l.placed+=n,i=e.right}}t.x=i,t.y=s}var fW={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;-1!==r&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,n){if(!e)return;const a=vK(e.options.layout.padding),i=Math.max(t-a.width,0),s=Math.max(r-a.height,0),o=function(e){const t=function(e){const t=[];let r,n,a,i,s,o;for(r=0,n=(e||[]).length;r<n;++r)a=e[r],({position:i,options:{stack:s,stackWeight:o=1}}=a),t.push({index:r,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:s&&i+s,stackWeight:o});return t}(e),r=aW(t.filter((e=>e.box.fullSize)),!0),n=aW(rW(t,"left"),!0),a=aW(rW(t,"right")),i=aW(rW(t,"top"),!0),s=aW(rW(t,"bottom")),o=nW(t,"x"),l=nW(t,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:a.concat(l).concat(s).concat(o),chartArea:rW(t,"chartArea"),vertical:n.concat(a).concat(l),horizontal:i.concat(s).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;Rz(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,d=Object.freeze({outerWidth:t,outerHeight:r,padding:a,availableWidth:i,availableHeight:s,vBoxMaxWidth:i/2/u,hBoxMaxHeight:s/2}),h=Object.assign({},a);oW(h,vK(n));const f=Object.assign({maxPadding:h,w:i,h:s,x:a.left,y:a.top},a),p=iW(l.concat(c),d);uW(o.fullSize,f,d,p),uW(l,f,d,p),uW(c,f,d,p)&&uW(l,f,d,p),function(e){const t=e.maxPadding;function r(r){const n=Math.max(t[r]-e[r],0);return e[r]+=n,n}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}(f),hW(o.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,hW(o.rightAndBottom,f,d,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Rz(o.chartArea,(t=>{const r=t.box;Object.assign(r,e.chartArea),r.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class pW{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,n){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):r)}}isAttached(e){return!0}updateConfig(e){}}class mW extends pW{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const gW="$chartjs",xW={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},bW=e=>null===e||""===e;const yW=!!e$&&{passive:!0};function vW(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,yW)}function NW(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function wW(e,t,r){const n=e.canvas,a=new MutationObserver((e=>{let t=!1;for(const r of e)t=t||NW(r.addedNodes,n),t=t&&!NW(r.removedNodes,n);t&&r()}));return a.observe(document,{childList:!0,subtree:!0}),a}function jW(e,t,r){const n=e.canvas,a=new MutationObserver((e=>{let t=!1;for(const r of e)t=t||NW(r.removedNodes,n),t=t&&!NW(r.addedNodes,n);t&&r()}));return a.observe(document,{childList:!0,subtree:!0}),a}const kW=new Map;let TW=0;function SW(){const e=window.devicePixelRatio;e!==TW&&(TW=e,kW.forEach(((t,r)=>{r.currentDevicePixelRatio!==e&&t()})))}function OW(e,t,r){const n=e.canvas,a=n&&KK(n);if(!a)return;const i=EV(((e,t)=>{const n=a.clientWidth;r(e,t),n<a.clientWidth&&r()}),window),s=new ResizeObserver((e=>{const t=e[0],r=t.contentRect.width,n=t.contentRect.height;0===r&&0===n||i(r,n)}));return s.observe(a),function(e,t){kW.size||window.addEventListener("resize",SW),kW.set(e,t)}(e,i),s}function _W(e,t,r){r&&r.disconnect(),"resize"===t&&function(e){kW.delete(e),kW.size||window.removeEventListener("resize",SW)}(e)}function EW(e,t,r){const n=e.canvas,a=EV((t=>{null!==e.ctx&&r(function(e,t){const r=xW[e.type]||e.type,{x:n,y:a}=qK(e,t);return{type:r,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==a?a:null}}(t,e))}),e);return function(e,t,r){e&&e.addEventListener(t,r,yW)}(n,t,a),a}class CW extends pW{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(function(e,t){const r=e.style,n=e.getAttribute("height"),a=e.getAttribute("width");if(e[gW]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",bW(a)){const t=t$(e,"width");void 0!==t&&(e.width=t)}if(bW(n))if(""===e.style.height)e.height=e.width/(t||2);else{const t=t$(e,"height");void 0!==t&&(e.height=t)}}(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[gW])return!1;const r=t[gW].initial;["height","width"].forEach((e=>{const n=r[e];Cz(n)?t.removeAttribute(e):t.setAttribute(e,n)}));const n=r.style||{};return Object.keys(n).forEach((e=>{t.style[e]=n[e]})),t.width=t.width,delete t[gW],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),a={attach:wW,detach:jW,resize:OW}[t]||EW;n[t]=a(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),n=r[t];if(!n)return;({attach:_W,detach:_W,resize:_W}[t]||vW)(e,t,n),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,n){return ZK(e,t,r,n)}isAttached(e){const t=e&&KK(e);return!(!t||!t.isConnected)}}class AW{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return uV(this.x)&&uV(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const n={};return e.forEach((e=>{n[e]=r[e]&&r[e].active()?r[e]._to:this[e]})),n}}function IW(e,t){const r=e.options.ticks,n=function(e){const t=e.options.offset,r=e._tickSize(),n=e._length/r+(t?0:1),a=e._maxLength/r;return Math.floor(Math.min(n,a))}(e),a=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?function(e){const t=[];let r,n;for(r=0,n=e.length;r<n;r++)e[r].major&&t.push(r);return t}(t):[],s=i.length,o=i[0],l=i[s-1],c=[];if(s>a)return function(e,t,r,n){let a,i=0,s=r[0];for(n=Math.ceil(n),a=0;a<e.length;a++)a===s&&(t.push(e[a]),i++,s=r[i*n])}(t,c,i,s/a),c;const u=function(e,t,r){const n=function(e){const t=e.length;let r,n;if(t<2)return!1;for(n=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==n)return!1;return n}(e),a=t.length/r;if(!n)return Math.max(a,1);const i=function(e){const t=[],r=Math.sqrt(e);let n;for(n=1;n<r;n++)e%n===0&&(t.push(n),t.push(e/n));return r===(0|r)&&t.push(r),t.sort(((e,t)=>e-t)).pop(),t}(n);for(let s=0,o=i.length-1;s<o;s++){const e=i[s];if(e>a)return e}return Math.max(a,1)}(i,t,a);if(s>0){let e,r;const n=s>1?Math.round((l-o)/(s-1)):null;for(PW(t,c,u,Cz(n)?0:o-n,o),e=0,r=s-1;e<r;e++)PW(t,c,u,i[e],i[e+1]);return PW(t,c,u,l,Cz(n)?t.length:l+n),c}return PW(t,c,u),c}function PW(e,t,r,n,a){const i=Dz(n,0),s=Math.min(Dz(a,e.length),e.length);let o,l,c,u=0;for(r=Math.ceil(r),a&&(o=a-n,r=o/Math.floor(o/r)),c=i;c<0;)u++,c=Math.round(i+u*r);for(l=Math.max(i,0);l<s;l++)l===c&&(t.push(e[l]),u++,c=Math.round(i+u*r))}const HW=(e,t,r)=>"top"===t||"left"===t?e[t]+r:e[t]-r,DW=(e,t)=>Math.min(t||e,e);function MW(e,t){const r=[],n=e.length/t,a=e.length;let i=0;for(;i<a;i+=n)r.push(e[Math.floor(i)]);return r}function LW(e,t,r){const n=e.ticks.length,a=Math.min(t,n-1),i=e._startPixel,s=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(a);if(!(r&&(l=1===n?Math.max(c-i,s-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(a-1))/2,c+=a<t?l:-l,c<i-o||c>s+o)))return c}function RW(e){return e.drawTicks?e.tickLength:0}function FW(e,t){if(!e.display)return 0;const r=NK(e.font,t),n=vK(e.padding);return(Az(e.text)?e.text.length:1)*r.lineHeight+n.height}function UW(e,t,r){let n=CV(e);return(r&&"right"!==t||!r&&"right"===t)&&(n=(e=>"left"===e?"right":"right"===e?"left":e)(n)),n}class GW extends AW{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:n}=this;return e=Hz(e,Number.POSITIVE_INFINITY),t=Hz(t,Number.NEGATIVE_INFINITY),r=Hz(r,Number.POSITIVE_INFINITY),n=Hz(n,Number.NEGATIVE_INFINITY),{min:Hz(e,r),max:Hz(t,n),minDefined:Pz(e),maxDefined:Pz(t)}}getMinMax(e){let t,{min:r,max:n,minDefined:a,maxDefined:i}=this.getUserBounds();if(a&&i)return{min:r,max:n};const s=this.getMatchingVisibleMetas();for(let o=0,l=s.length;o<l;++o)t=s[o].controller.getMinMax(this,e),a||(r=Math.min(r,t.min)),i||(n=Math.max(n,t.max));return r=i&&r>n?n:r,n=a&&r>n?r:n,{min:Hz(r,Hz(n,r)),max:Hz(n,Hz(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Lz(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:n,grace:a,ticks:i}=this.options,s=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,r){const{min:n,max:a}=e,i=Mz(t,(a-n)/2),s=(e,t)=>r&&0===e?0:e+t;return{min:s(n,-Math.abs(i)),max:s(a,i)}}(this,a,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=s<this.ticks.length;this._convertTicksToLabels(o?MW(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||"auto"===i.source)&&(this.ticks=IW(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,r=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,r=!r),this._startPixel=e,this._endPixel=t,this._reversePixels=r,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Lz(this.options.afterUpdate,[this])}beforeSetDimensions(){Lz(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Lz(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Lz(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Lz(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,n,a;for(r=0,n=e.length;r<n;r++)a=e[r],a.label=Lz(t.callback,[a.value,r,e],this)}afterTickToLabelConversion(){Lz(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Lz(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=DW(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,a=t.maxRotation;let i,s,o,l=n;if(!this._isVisible()||!t.display||n>=a||r<=1||!this.isHorizontal())return void(this.labelRotation=n);const c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,h=vV(this.chart.width-u,0,this.maxWidth);i=e.offset?this.maxWidth/r:h/(r-1),u+6>i&&(i=h/(r-(e.offset?.5:1)),s=this.maxHeight-RW(e.grid)-t.padding-FW(e.title,this.chart.options.font),o=Math.sqrt(u*u+d*d),l=fV(Math.min(Math.asin(vV((c.highest.height+6)/i,-1,1)),Math.asin(vV(s/o,-1,1))-Math.asin(vV(d/o,-1,1)))),l=Math.max(n,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Lz(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Lz(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:n,grid:a}}=this,i=this._isVisible(),s=this.isHorizontal();if(i){const i=FW(n,t.options.font);if(s?(e.width=this.maxWidth,e.height=RW(a)+i):(e.height=this.maxHeight,e.width=RW(a)+i),r.display&&this.ticks.length){const{first:t,last:n,widest:a,highest:i}=this._getLabelSizes(),o=2*r.padding,l=hV(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(s){const t=r.mirror?0:u*a.width+c*i.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=r.mirror?0:c*a.width+u*i.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,n,u,c)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,n){const{ticks:{align:a,padding:i},position:s}=this.options,o=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,d=0;o?l?(u=n*e.width,d=r*t.height):(u=r*e.height,d=n*t.width):"start"===a?d=t.width:"end"===a?u=e.width:"inner"!==a&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-s+i)*this.width/(this.width-s),0),this.paddingRight=Math.max((d-c+i)*this.width/(this.width-c),0)}else{let r=t.height/2,n=e.height/2;"start"===a?(r=0,n=e.height):"end"===a&&(r=t.height,n=0),this.paddingTop=r+i,this.paddingBottom=n+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Lz(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,r=e.length;t<r;t++)Cz(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=MW(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:n,_longestTextCache:a}=this,i=[],s=[],o=Math.floor(t/DW(t,r));let l,c,u,d,h,f,p,m,g,x,b,y=0,v=0;for(l=0;l<t;l+=o){if(d=e[l].label,h=this._resolveTickFontOptions(l),n.font=f=h.string,p=a[f]=a[f]||{data:{},gc:[]},m=h.lineHeight,g=x=0,Cz(d)||Az(d)){if(Az(d))for(c=0,u=d.length;c<u;++c)b=d[c],Cz(b)||Az(b)||(g=JV(n,p.data,p.gc,g,b),x+=m)}else g=JV(n,p.data,p.gc,g,d),x=m;i.push(g),s.push(x),y=Math.max(g,y),v=Math.max(x,v)}!function(e,t){Rz(e,(e=>{const r=e.gc,n=r.length/2;let a;if(n>t){for(a=0;a<n;++a)delete e.data[r[a]];r.splice(0,n)}}))}(a,t);const N=i.indexOf(y),w=s.indexOf(v),j=e=>({width:i[e]||0,height:s[e]||0});return{first:j(0),last:j(t-1),widest:j(N),highest:j(w),widths:i,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function(e){return vV(e,-32768,32767)}(this._alignToPixels?eK(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=function(e,t,r){return jK(e,{tick:r,index:t,type:"tick"})}(this.getContext(),e,r))}return this.$context||(this.$context=jK(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=hV(this.labelRotation),r=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),a=this._getLabelSizes(),i=e.autoSkipPadding||0,s=a?a.widest.width+i:0,o=a?a.highest.height+i:0;return this.isHorizontal()?o*r>s*n?s/r:o/n:o*n<s*r?o/r:s/n}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,n=this.options,{grid:a,position:i,border:s}=n,o=a.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),u=RW(a),d=[],h=s.setContext(this.getContext()),f=h.display?h.width:0,p=f/2,m=function(e){return eK(r,e,f)};let g,x,b,y,v,N,w,j,k,T,S,O;if("top"===i)g=m(this.bottom),N=this.bottom-u,j=g-p,T=m(e.top)+p,O=e.bottom;else if("bottom"===i)g=m(this.top),T=e.top,O=m(e.bottom)-p,N=g+p,j=this.top+u;else if("left"===i)g=m(this.right),v=this.right-u,w=g-p,k=m(e.left)+p,S=e.right;else if("right"===i)g=m(this.left),k=e.left,S=m(e.right)-p,v=g+p,w=this.left+u;else if("x"===t){if("center"===i)g=m((e.top+e.bottom)/2+.5);else if(Iz(i)){const e=Object.keys(i)[0],t=i[e];g=m(this.chart.scales[e].getPixelForValue(t))}T=e.top,O=e.bottom,N=g+p,j=N+u}else if("y"===t){if("center"===i)g=m((e.left+e.right)/2);else if(Iz(i)){const e=Object.keys(i)[0],t=i[e];g=m(this.chart.scales[e].getPixelForValue(t))}v=g-p,w=v-u,k=e.left,S=e.right}const _=Dz(n.ticks.maxTicksLimit,c),E=Math.max(1,Math.ceil(c/_));for(x=0;x<c;x+=E){const e=this.getContext(x),t=a.setContext(e),n=s.setContext(e),i=t.lineWidth,c=t.color,u=n.dash||[],h=n.dashOffset,f=t.tickWidth,p=t.tickColor,m=t.tickBorderDash||[],g=t.tickBorderDashOffset;b=LW(this,x,o),void 0!==b&&(y=eK(r,b,i),l?v=w=k=S=y:N=j=T=O=y,d.push({tx1:v,ty1:N,tx2:w,ty2:j,x1:k,y1:T,x2:S,y2:O,width:i,color:c,borderDash:u,borderDashOffset:h,tickWidth:f,tickColor:p,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,d}_computeLabelItems(e){const t=this.axis,r=this.options,{position:n,ticks:a}=r,i=this.isHorizontal(),s=this.ticks,{align:o,crossAlign:l,padding:c,mirror:u}=a,d=RW(r.grid),h=d+c,f=u?-c:h,p=-hV(this.labelRotation),m=[];let g,x,b,y,v,N,w,j,k,T,S,O,_="middle";if("top"===n)N=this.bottom-f,w=this._getXAxisLabelAlignment();else if("bottom"===n)N=this.top+f,w=this._getXAxisLabelAlignment();else if("left"===n){const e=this._getYAxisLabelAlignment(d);w=e.textAlign,v=e.x}else if("right"===n){const e=this._getYAxisLabelAlignment(d);w=e.textAlign,v=e.x}else if("x"===t){if("center"===n)N=(e.top+e.bottom)/2+h;else if(Iz(n)){const e=Object.keys(n)[0],t=n[e];N=this.chart.scales[e].getPixelForValue(t)+h}w=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===n)v=(e.left+e.right)/2-h;else if(Iz(n)){const e=Object.keys(n)[0],t=n[e];v=this.chart.scales[e].getPixelForValue(t)}w=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===o?_="top":"end"===o&&(_="bottom"));const E=this._getLabelSizes();for(g=0,x=s.length;g<x;++g){b=s[g],y=b.label;const e=a.setContext(this.getContext(g));j=this.getPixelForTick(g)+a.labelOffset,k=this._resolveTickFontOptions(g),T=k.lineHeight,S=Az(y)?y.length:1;const t=S/2,r=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let d,h=w;if(i?(v=j,"inner"===w&&(h=g===x-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),O="top"===n?"near"===l||0!==p?-S*T+T/2:"center"===l?-E.highest.height/2-t*T+T:-E.highest.height+T/2:"near"===l||0!==p?T/2:"center"===l?E.highest.height/2-t*T:E.highest.height-S*T,u&&(O*=-1),0===p||e.showLabelBackdrop||(v+=T/2*Math.sin(p))):(N=j,O=(1-S)*T/2),e.showLabelBackdrop){const t=vK(e.backdropPadding),r=E.heights[g],n=E.widths[g];let a=O-t.top,i=0-t.left;switch(_){case"middle":a-=r/2;break;case"bottom":a-=r}switch(w){case"center":i-=n/2;break;case"right":i-=n;break;case"inner":g===x-1?i-=n:g>0&&(i-=n/2)}d={left:i,top:a,width:n+t.width,height:r+t.height,color:e.backdropColor}}m.push({label:y,font:k,textOffset:O,options:{rotation:p,color:r,strokeColor:o,strokeWidth:c,textAlign:h,textBaseline:_,translation:[v,N],backdrop:d}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-hV(this.labelRotation))return"top"===e?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:n,padding:a}}=this.options,i=e+a,s=this._getLabelSizes().widest.width;let o,l;return"left"===t?n?(l=this.right+a,"near"===r?o="left":"center"===r?(o="center",l+=s/2):(o="right",l+=s)):(l=this.right-i,"near"===r?o="right":"center"===r?(o="center",l-=s/2):(o="left",l=this.left)):"right"===t?n?(l=this.left+a,"near"===r?o="right":"center"===r?(o="center",l-=s/2):(o="left",l-=s)):(l=this.left+i,"near"===r?o="left":"center"===r?(o="center",l+=s/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:n,width:a,height:i}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,n,a,i),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex((t=>t.value===e));if(r>=0){return t.setContext(this.getContext(r)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,r=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,i;const s=(e,t,n)=>{n.width&&n.color&&(r.save(),r.lineWidth=n.width,r.strokeStyle=n.color,r.setLineDash(n.borderDash||[]),r.lineDashOffset=n.borderDashOffset,r.beginPath(),r.moveTo(e.x,e.y),r.lineTo(t.x,t.y),r.stroke(),r.restore())};if(t.display)for(a=0,i=n.length;a<i;++a){const e=n[a];t.drawOnChartArea&&s({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&s({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:n}}=this,a=r.setContext(this.getContext()),i=r.display?a.width:0;if(!i)return;const s=n.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,u,d;this.isHorizontal()?(l=eK(e,this.left,i)-i/2,c=eK(e,this.right,s)+s/2,u=d=o):(u=eK(e,this.top,i)-i/2,d=eK(e,this.bottom,s)+s/2,l=c=o),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,r=this._computeLabelArea();r&&iK(t,r);const n=this.getLabelItems(e);for(const a of n){const e=a.options,r=a.font;dK(t,a.label,0,a.textOffset,r,e)}r&&sK(t)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:n}}=this;if(!r.display)return;const a=NK(r.font),i=vK(r.padding),s=r.align;let o=a.lineHeight/2;"bottom"===t||"center"===t||Iz(t)?(o+=i.bottom,Az(r.text)&&(o+=a.lineHeight*(r.text.length-1))):o+=i.top;const{titleX:l,titleY:c,maxWidth:u,rotation:d}=function(e,t,r,n){const{top:a,left:i,bottom:s,right:o,chart:l}=e,{chartArea:c,scales:u}=l;let d,h,f,p=0;const m=s-a,g=o-i;if(e.isHorizontal()){if(h=AV(n,i,o),Iz(r)){const e=Object.keys(r)[0],n=r[e];f=u[e].getPixelForValue(n)+m-t}else f="center"===r?(c.bottom+c.top)/2+m-t:HW(e,r,t);d=o-i}else{if(Iz(r)){const e=Object.keys(r)[0],n=r[e];h=u[e].getPixelForValue(n)-g+t}else h="center"===r?(c.left+c.right)/2-g+t:HW(e,r,t);f=AV(n,s,a),p="left"===r?-nV:nV}return{titleX:h,titleY:f,maxWidth:d,rotation:p}}(this,o,t,s);dK(e,r.text,0,0,a,{color:r.color,maxWidth:u,rotation:d,textAlign:UW(s,t,n),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Dz(e.grid&&e.grid.z,-1),n=Dz(e.border&&e.border.z,0);return this._isVisible()&&this.draw===GW.prototype.draw?[{z:r,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",n=[];let a,i;for(a=0,i=t.length;a<i;++a){const i=t[a];i[r]!==this.id||e&&i.type!==e||n.push(i)}return n}_resolveTickFontOptions(e){return NK(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class BW{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;(function(e){return"id"in e&&"defaults"in e})(t)&&(r=this.register(t));const n=this.items,a=e.id,i=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in n||(n[a]=e,function(e,t,r){const n=zz(Object.create(null),[r?ZV.get(r):{},ZV.get(t),e.defaults]);ZV.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((r=>{const n=r.split("."),a=n.pop(),i=[e].concat(n).join("."),s=t[r].split("."),o=s.pop(),l=s.join(".");ZV.route(i,a,l,o)}))}(t,e.defaultRoutes);e.descriptors&&ZV.describe(t,e.descriptors)}(e,i,r),this.override&&ZV.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,n=this.scope;r in t&&delete t[r],n&&r in ZV[n]&&(delete ZV[n][r],this.override&&delete WV[r])}}class zW{constructor(){this.controllers=new BW(I$,"datasets",!0),this.elements=new BW(AW,"elements"),this.plugins=new BW(Object,"plugins"),this.scales=new BW(GW,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.scales)}_each(e,t,r){[...t].forEach((t=>{const n=r||this._getRegistryForType(t);r||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):Rz(t,(t=>{const n=r||this._getRegistryForType(t);this._exec(e,n,t)}))}))}_exec(e,t,r){const n=Xz(e);Lz(r["before"+n],[],r),t[e](r),Lz(r["after"+n],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const n=t.get(e);if(void 0===n)throw new Error('"'+e+'" is not a registered '+r+".");return n}}var VW=new zW;class KW{constructor(){this._init=[]}notify(e,t,r,n){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=n?this._descriptors(e).filter(n):this._descriptors(e),i=this._notify(a,e,t,r);return"afterDestroy"===t&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,t,r,n){n=n||{};for(const a of e){const e=a.plugin;if(!1===Lz(e[r],[t,n,a.options],e)&&n.cancelable)return!1}return!0}invalidate(){Cz(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,n=Dz(r.options&&r.options.plugins,{}),a=function(e){const t={},r=[],n=Object.keys(VW.plugins.items);for(let i=0;i<n.length;i++)r.push(VW.getPlugin(n[i]));const a=e.plugins||[];for(let i=0;i<a.length;i++){const e=a[i];-1===r.indexOf(e)&&(r.push(e),t[e.id]=!0)}return{plugins:r,localIds:t}}(r);return!1!==n||t?function(e,t,r,n){let{plugins:a,localIds:i}=t;const s=[],o=e.getContext();for(const l of a){const t=l.id,a=$W(r[t],n);null!==a&&s.push({plugin:l,options:WW(e.config,{plugin:l,local:i[t]},a,o)})}return s}(e,a,n,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,n=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(n(t,r),e,"stop"),this._notify(n(r,t),e,"start")}}function $W(e,t){return t||!1!==e?!0===e?{}:e:null}function WW(e,t,r,n){let{plugin:a,local:i}=t;const s=e.pluginScopeKeys(a),o=e.getOptionScopes(r,s);return i&&a.defaults&&o.push(a.defaults),e.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function XW(e,t){const r=ZV.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function YW(e){if("x"===e||"y"===e||"r"===e)return e}function qW(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function QW(e){if(YW(e))return e;for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(const a of r){const t=a.axis||qW(a.position)||e.length>1&&YW(e[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function ZW(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function JW(e,t){const r=WV[e.type]||{scales:{}},n=t.scales||{},a=XW(e.type,t),i=Object.create(null);return Object.keys(n).forEach((t=>{const s=n[t];if(!Iz(s))return console.error(`Invalid scale configuration for scale: ${t}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const o=QW(t,s,function(e,t){if(t.data&&t.data.datasets){const r=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(r.length)return ZW(e,"x",r[0])||ZW(e,"y",r[0])}return{}}(t,e),ZV.scales[s.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,a),c=r.scales||{};i[t]=Vz(Object.create(null),[{axis:o},s,c[o],c[l]])})),e.data.datasets.forEach((r=>{const a=r.type||e.type,s=r.indexAxis||XW(a,t),o=(WV[a]||{}).scales||{};Object.keys(o).forEach((e=>{const t=function(e,t){let r=e;return"_index_"===e?r=t:"_value_"===e&&(r="x"===t?"y":"x"),r}(e,s),a=r[t+"AxisID"]||t;i[a]=i[a]||Object.create(null),Vz(i[a],[{axis:t},n[a],o[e]])}))})),Object.keys(i).forEach((e=>{const t=i[e];Vz(t,[ZV.scales[t.type],ZV.scale])})),i}function eX(e){const t=e.options||(e.options={});t.plugins=Dz(t.plugins,{}),t.scales=JW(e,t)}function tX(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const rX=new Map,nX=new Set;function aX(e,t){let r=rX.get(e);return r||(r=t(),rX.set(e,r),nX.add(r)),r}const iX=(e,t,r)=>{const n=Wz(t,r);void 0!==n&&e.add(n)};class sX{constructor(e){this._config=function(e){return(e=e||{}).data=tX(e.data),eX(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=tX(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),eX(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return aX(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return aX(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return aX(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return aX(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const r=this._scopeCache;let n=r.get(e);return n&&!t||(n=new Map,r.set(e,n)),n}getOptionScopes(e,t,r){const{options:n,type:a}=this,i=this._cachedScopes(e,r),s=i.get(t);if(s)return s;const o=new Set;t.forEach((t=>{e&&(o.add(e),t.forEach((t=>iX(o,e,t)))),t.forEach((e=>iX(o,n,e))),t.forEach((e=>iX(o,WV[a]||{},e))),t.forEach((e=>iX(o,ZV,e))),t.forEach((e=>iX(o,XV,e)))}));const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),nX.has(t)&&i.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,WV[t]||{},ZV.datasets[t]||{},{type:t},ZV,XV]}resolveNamedOptions(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const a={$shared:!0},{resolver:i,subPrefixes:s}=oX(this._resolverCache,e,n);let o=i;if(function(e,t){const{isScriptable:r,isIndexable:n}=SK(e);for(const a of t){const t=r(a),i=n(a),s=(i||t)&&e[a];if(t&&(qz(s)||lX(s))||i&&Az(s))return!0}return!1}(i,t)){a.$shared=!1;o=TK(i,r=qz(r)?r():r,this.createResolver(e,r,s))}for(const l of t)a[l]=o[l];return a}createResolver(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],n=arguments.length>3?arguments[3]:void 0;const{resolver:a}=oX(this._resolverCache,e,r);return Iz(t)?TK(a,t,void 0,n):a}}function oX(e,t,r){let n=e.get(t);n||(n=new Map,e.set(t,n));const a=r.join();let i=n.get(a);if(!i){i={resolver:kK(t,r),subPrefixes:r.filter((e=>!e.toLowerCase().includes("hover")))},n.set(a,i)}return i}const lX=e=>Iz(e)&&Object.getOwnPropertyNames(e).some((t=>qz(e[t])));const cX=["top","bottom","left","right","chartArea"];function uX(e,t){return"top"===e||"bottom"===e||-1===cX.indexOf(e)&&"x"===t}function dX(e,t){return function(r,n){return r[e]===n[e]?r[t]-n[t]:r[e]-n[e]}}function hX(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),Lz(r&&r.onComplete,[e],t)}function fX(e){const t=e.chart,r=t.options.animation;Lz(r&&r.onProgress,[e],t)}function pX(e){return VK()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const mX={},gX=e=>{const t=pX(e);return Object.values(mX).filter((e=>e.canvas===t)).pop()};function xX(e,t,r){const n=Object.keys(e);for(const a of n){const n=+a;if(n>=t){const i=e[a];delete e[a],(r>0||n>t)&&(e[n+r]=i)}}}function bX(e,t,r){return e.options.clip?e[r]:t[r]}class yX{static defaults=(()=>ZV)();static instances=(()=>mX)();static overrides=(()=>WV)();static registry=(()=>VW)();static version="4.4.8";static getChart=(()=>gX)();static register(){VW.add(...arguments),vX()}static unregister(){VW.remove(...arguments),vX()}constructor(e,t){const r=this.config=new sX(t),n=pX(e),a=gX(n);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const i=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function(e){return!VK()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?mW:CW}(n)),this.platform.updateConfig(r);const s=this.platform.acquireContext(n,i.aspectRatio),o=s&&s.canvas,l=o&&o.height,c=o&&o.width;this.id=Ez(),this.ctx=s,this.canvas=o,this.width=c,this.height=l,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new KW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let r;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t?(clearTimeout(r),r=setTimeout(e,t,a)):e.apply(this,a),t}}((e=>this.update(e)),i.resizeDelay||0),this._dataChanges=[],mX[this.id]=this,s&&o?(g$.listen(this,"complete",hX),g$.listen(this,"progress",fX),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:n,_aspectRatio:a}=this;return Cz(e)?t&&a?a:n?r/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return VW}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():JK(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return tK(this.canvas,this.ctx),this}stop(){return g$.stop(this),this}resize(e,t){g$.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,n=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(n,e,t,a),s=r.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,JK(this,s,!0)&&(this.notifyPlugins("resize",{size:i}),Lz(r.onResize,[this,i],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){Rz(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,n=Object.keys(r).reduce(((e,t)=>(e[t]=!1,e)),{});let a=[];t&&(a=a.concat(Object.keys(t).map((e=>{const r=t[e],n=QW(e,r),a="r"===n,i="x"===n;return{options:r,dposition:a?"chartArea":i?"bottom":"left",dtype:a?"radialLinear":i?"category":"linear"}})))),Rz(a,(t=>{const a=t.options,i=a.id,s=QW(i,a),o=Dz(a.type,t.dtype);void 0!==a.position&&uX(a.position,s)===uX(t.dposition)||(a.position=t.dposition),n[i]=!0;let l=null;if(i in r&&r[i].type===o)l=r[i];else{l=new(VW.getScale(o))({id:i,type:o,ctx:this.ctx,chart:this}),r[l.id]=l}l.init(a,e)})),Rz(n,((e,t)=>{e||delete r[t]})),Rz(r,(e=>{fW.configure(this,e,e.options),fW.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort(((e,t)=>e.index-t.index)),r>t){for(let e=t;e<r;++e)this._destroyDatasetMeta(e);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(dX("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,r)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(r)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,n;for(this._removeUnreferencedMetasets(),r=0,n=t.length;r<n;r++){const n=t[r];let a=this.getDatasetMeta(r);const i=n.type||this.config.type;if(a.type&&a.type!==i&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=i,a.indexAxis=n.indexAxis||XW(i,this.options),a.order=n.order||0,a.index=r,a.label=""+n.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const t=VW.getController(i),{datasetElementType:n,dataElementType:s}=ZV.datasets[i];Object.assign(t,{dataElementType:VW.getElement(s),datasetElementType:n&&VW.getElement(n)}),a.controller=new t(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Rz(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!n&&-1===a.indexOf(e);e.buildOrUpdateElements(t),i=Math.max(+e.getMaxOverflow(),i)}i=this._minPadding=r.layout.autoPadding?i:0,this._updateLayout(i),n||Rz(a,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(dX("z","_idx"));const{_active:s,_lastEvent:o}=this;o?this._eventHandler(o,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){Rz(this.scales,(e=>{fW.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);Qz(t,r)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:n,count:a}of t){xX(e,n,"_removeElements"===r?-a:a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),n=r(0);for(let a=1;a<t;a++)if(!Qz(n,r(a)))return;return Array.from(n).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;fW.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Rz(this.boxes,(e=>{r&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,qz(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),n={meta:r,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(r.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(g$.has(this)?this.attached&&!g$.running(this)&&g$.start(this):(this.draw(),hX({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let n,a;for(n=0,a=t.length;n<a;++n){const a=t[n];e&&!a.visible||r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r=e._clip,n=!r.disabled,a=function(e,t){const{xScale:r,yScale:n}=e;return r&&n?{left:bX(r,t,"left"),right:bX(r,t,"right"),top:bX(n,t,"top"),bottom:bX(n,t,"bottom")}:t}(e,this.chartArea),i={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",i)&&(n&&iK(t,{left:!1===r.left?0:a.left-r.left,right:!1===r.right?this.width:a.right+r.right,top:!1===r.top?0:a.top-r.top,bottom:!1===r.bottom?this.height:a.bottom+r.bottom}),e.controller.draw(),n&&sK(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return aK(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,n){const a=eW.modes[t];return"function"===typeof a?a(this,e,r,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let n=r.filter((e=>e&&e._dataset===t)).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(n)),n}getContext(){return this.$context||(this.$context=jK(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return"boolean"===typeof r.hidden?!r.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const n=r?"show":"hide",a=this.getDatasetMeta(e),i=a.controller._resolveAnimations(void 0,n);Yz(t)?(a.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),i.update(a,{visible:r}),this.update((t=>t.datasetIndex===e?n:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),g$.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),tK(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete mX[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(r,n)=>{t.addEventListener(this,r,n),e[r]=n},n=(e,t,r)=>{e.offsetX=t,e.offsetY=r,this._eventHandler(e)};Rz(this.options.events,(e=>r(e,n)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(r,n)=>{t.addEventListener(this,r,n),e[r]=n},n=(r,n)=>{e[r]&&(t.removeEventListener(this,r,n),delete e[r])},a=(e,t)=>{this.canvas&&this.resize(e,t)};let i;const s=()=>{n("attach",s),this.attached=!0,this.resize(),r("resize",a),r("detach",i)};i=()=>{this.attached=!1,n("resize",a),this._stop(),this._resize(0,0),r("attach",s)},t.isAttached(this.canvas)?s():i()}unbindEvents(){Rz(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},Rz(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const n=r?"set":"remove";let a,i,s,o;for("dataset"===t&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+n+"DatasetHoverStyle"]()),s=0,o=e.length;s<o;++s){i=e[s];const t=i&&this.getDatasetMeta(i.datasetIndex).controller;t&&t[n+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map((e=>{let{datasetIndex:t,index:r}=e;const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[r],index:r}}));!Fz(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,r){const n=this.options.hover,a=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),i=a(t,e),s=r?e:a(e,t);i.length&&this.updateHoverStyle(i,n.mode,!1),s.length&&n.mode&&this.updateHoverStyle(s,n.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,n))return;const a=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,n),(a||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:n=[],options:a}=this,i=t,s=this._getActiveElements(e,n,r,i),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,r,n){return r&&"mouseout"!==e.type?n?t:e:null}(e,this._lastEvent,r,o);r&&(this._lastEvent=null,Lz(a.onHover,[e,s,this],this),o&&Lz(a.onClick,[e,s,this],this));const c=!Fz(s,n);return(c||t)&&(this._active=s,this._updateHoverStyles(s,n,t)),this._lastEvent=l,c}_getActiveElements(e,t,r,n){if("mouseout"===e.type)return[];if(!r)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,n)}}function vX(){return Rz(yX.instances,(e=>e._plugins.invalidate()))}function NX(e,t,r,n){const a=function(e){return xK(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),i=(r-t)/2,s=Math.min(i,n*t/2),o=e=>{const t=(r-Math.min(i,e))*n/2;return vV(e,0,Math.min(i,t))};return{outerStart:o(a.outerStart),outerEnd:o(a.outerEnd),innerStart:vV(a.innerStart,0,s),innerEnd:vV(a.innerEnd,0,s)}}function wX(e,t,r,n){return{x:r+e*Math.cos(t),y:n+e*Math.sin(t)}}function jX(e,t,r,n,a,i){const{x:s,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+n+r-c,0),h=u>0?u+n+r+c:0;let f=0;const p=a-l;if(n){const e=((u>0?u-n:0)+(d>0?d-n:0))/2;f=(p-(0!==e?p*e/(e+n):p))/2}const m=(p-Math.max(.001,p*d-r/Zz)/d)/2,g=l+m+f,x=a-m-f,{outerStart:b,outerEnd:y,innerStart:v,innerEnd:N}=NX(t,h,d,x-g),w=d-b,j=d-y,k=g+b/w,T=x-y/j,S=h+v,O=h+N,_=g+v/S,E=x-N/O;if(e.beginPath(),i){const t=(k+T)/2;if(e.arc(s,o,d,k,t),e.arc(s,o,d,t,T),y>0){const t=wX(j,T,s,o);e.arc(t.x,t.y,y,T,x+nV)}const r=wX(O,x,s,o);if(e.lineTo(r.x,r.y),N>0){const t=wX(O,E,s,o);e.arc(t.x,t.y,N,x+nV,E+Math.PI)}const n=(x-N/h+(g+v/h))/2;if(e.arc(s,o,h,x-N/h,n,!0),e.arc(s,o,h,n,g+v/h,!0),v>0){const t=wX(S,_,s,o);e.arc(t.x,t.y,v,_+Math.PI,g-nV)}const a=wX(w,g,s,o);if(e.lineTo(a.x,a.y),b>0){const t=wX(w,k,s,o);e.arc(t.x,t.y,b,g-nV,k)}}else{e.moveTo(s,o);const t=Math.cos(k)*d+s,r=Math.sin(k)*d+o;e.lineTo(t,r);const n=Math.cos(T)*d+s,a=Math.sin(T)*d+o;e.lineTo(n,a)}e.closePath()}function kX(e,t,r,n,a){const{fullCircles:i,startAngle:s,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f="inner"===l.borderAlign;if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=h,f?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let p=t.endAngle;if(i){jX(e,t,r,n,p,a);for(let t=0;t<i;++t)e.stroke();isNaN(o)||(p=s+(o%Jz||Jz))}f&&function(e,t,r){const{startAngle:n,pixelMargin:a,x:i,y:s,outerRadius:o,innerRadius:l}=t;let c=a/o;e.beginPath(),e.arc(i,s,o,n-c,r+c),l>a?(c=a/l,e.arc(i,s,l,r+c,n-c,!0)):e.arc(i,s,a,r+nV,n-nV),e.closePath(),e.clip()}(e,t,p),i||(jX(e,t,r,n,p,a),e.stroke())}class TX extends AW{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const n=this.getProps(["x","y"],r),{angle:a,distance:i}=mV(n,{x:e,y:t}),{startAngle:s,endAngle:o,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),d=(this.options.spacing+this.options.borderWidth)/2,h=Dz(u,o-s),f=yV(a,s,o)&&s!==o,p=h>=Jz||f,m=NV(i,l+d,c+d);return p&&m}getCenterPoint(e){const{x:t,y:r,startAngle:n,endAngle:a,innerRadius:i,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(n+a)/2,u=(i+s+l+o)/2;return{x:t+Math.cos(c)*u,y:r+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,n=(t.offset||0)/4,a=(t.spacing||0)/2,i=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=r>Jz?Math.floor(r/Jz):0,0===r||this.innerRadius<0||this.outerRadius<0)return;e.save();const s=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(s)*n,Math.sin(s)*n);const o=n*(1-Math.sin(Math.min(Zz,r||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,r,n,a){const{fullCircles:i,startAngle:s,circumference:o}=t;let l=t.endAngle;if(i){jX(e,t,r,n,l,a);for(let t=0;t<i;++t)e.fill();isNaN(o)||(l=s+(o%Jz||Jz))}jX(e,t,r,n,l,a),e.fill()}(e,this,o,a,i),kX(e,this,o,a,i),e.restore()}}function SX(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Dz(r.borderCapStyle,t.borderCapStyle),e.setLineDash(Dz(r.borderDash,t.borderDash)),e.lineDashOffset=Dz(r.borderDashOffset,t.borderDashOffset),e.lineJoin=Dz(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Dz(r.borderWidth,t.borderWidth),e.strokeStyle=Dz(r.borderColor,t.borderColor)}function OX(e,t,r){e.lineTo(r.x,r.y)}function _X(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.length,{start:a=0,end:i=n-1}=r,{start:s,end:o}=t,l=Math.max(a,s),c=Math.min(i,o),u=a<s&&i<s||a>o&&i>o;return{count:n,start:l,loop:t.loop,ilen:c<l&&!u?n+c-l:c-l}}function EX(e,t,r,n){const{points:a,options:i}=t,{count:s,start:o,loop:l,ilen:c}=_X(a,r,n),u=function(e){return e.stepped?oK:e.tension||"monotone"===e.cubicInterpolationMode?lK:OX}(i);let d,h,f,{move:p=!0,reverse:m}=n||{};for(d=0;d<=c;++d)h=a[(o+(m?c-d:d))%s],h.skip||(p?(e.moveTo(h.x,h.y),p=!1):u(e,f,h,m,i.stepped),f=h);return l&&(h=a[(o+(m?c:0))%s],u(e,f,h,m,i.stepped)),!!l}function CX(e,t,r,n){const a=t.points,{count:i,start:s,ilen:o}=_X(a,r,n),{move:l=!0,reverse:c}=n||{};let u,d,h,f,p,m,g=0,x=0;const b=e=>(s+(c?o-e:e))%i,y=()=>{f!==p&&(e.lineTo(g,p),e.lineTo(g,f),e.lineTo(g,m))};for(l&&(d=a[b(0)],e.moveTo(d.x,d.y)),u=0;u<=o;++u){if(d=a[b(u)],d.skip)continue;const t=d.x,r=d.y,n=0|t;n===h?(r<f?f=r:r>p&&(p=r),g=(x*g+t)/++x):(y(),e.lineTo(t,r),h=n,x=0,f=p=r),m=r}y()}function AX(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!r?CX:EX}const IX="function"===typeof Path2D;function PX(e,t,r,n){IX&&!t.options.segment?function(e,t,r,n){let a=t._path;a||(a=t._path=new Path2D,t.path(a,r,n)&&a.closePath()),SX(e,t.options),e.stroke(a)}(e,t,r,n):function(e,t,r,n){const{segments:a,options:i}=t,s=AX(t);for(const o of a)SX(e,i,o.style),e.beginPath(),s(e,t,o,{start:r,end:r+n-1})&&e.closePath(),e.stroke()}(e,t,r,n)}class HX extends AW{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||"monotone"===r.cubicInterpolationMode)&&!r.stepped&&!this._pointsUpdated){const n=r.spanGaps?this._loop:this._fullLoop;zK(this._points,r,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const r=e.points,n=e.options.spanGaps,a=r.length;if(!a)return[];const i=!!e._loop,{start:s,end:o}=function(e,t,r,n){let a=0,i=t-1;if(r&&!n)for(;a<t&&!e[a].skip;)a++;for(;a<t&&e[a].skip;)a++;for(a%=t,r&&(i+=a);i>a&&e[i%t].skip;)i--;return i%=t,{start:a,end:i}}(r,a,i,n);return h$(e,!0===n?[{start:s,end:o,loop:i}]:function(e,t,r,n){const a=e.length,i=[];let s,o=t,l=e[t];for(s=t+1;s<=r;++s){const r=e[s%a];r.skip||r.stop?l.skip||(n=!1,i.push({start:t%a,end:(s-1)%a,loop:n}),t=o=r.stop?s:null):(o=s,l.skip&&(t=s)),l=r}return null!==o&&i.push({start:t%a,end:o%a,loop:n}),i}(r,s,o<s?o+a:o,!!e._fullLoop&&0===s&&o===a-1),r,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,n=e[t],a=this.points,i=d$(this,{property:t,start:n,end:n});if(!i.length)return;const s=[],o=function(e){return e.stepped?n$:e.tension||"monotone"===e.cubicInterpolationMode?a$:r$}(r);let l,c;for(l=0,c=i.length;l<c;++l){const{start:c,end:u}=i[l],d=a[c],h=a[u];if(d===h){s.push(d);continue}const f=o(d,h,Math.abs((n-d[t])/(h[t]-d[t])),r.stepped);f[t]=e[t],s.push(f)}return 1===s.length?s[0]:s}pathSegment(e,t,r){return AX(this)(e,this,t,r)}path(e,t,r){const n=this.segments,a=AX(this);let i=this._loop;t=t||0,r=r||this.points.length-t;for(const s of n)i&=a(e,this,s,{start:t,end:t+r-1});return!!i}draw(e,t,r,n){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),PX(e,this,r,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function DX(e,t,r,n){const a=e.options,{[r]:i}=e.getProps([r],n);return Math.abs(t-i)<a.radius+a.hitRadius}class MX extends AW{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){const n=this.options,{x:a,y:i}=this.getProps(["x","y"],r);return Math.pow(e-a,2)+Math.pow(t-i,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return DX(this,e,"x",t)}inYRange(e,t){return DX(this,e,"y",t)}getCenterPoint(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const r=this.options;this.skip||r.radius<.1||!aK(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,rK(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function LX(e,t){const{x:r,y:n,base:a,width:i,height:s}=e.getProps(["x","y","base","width","height"],t);let o,l,c,u,d;return e.horizontal?(d=s/2,o=Math.min(r,a),l=Math.max(r,a),c=n-d,u=n+d):(d=i/2,o=r-d,l=r+d,c=Math.min(n,a),u=Math.max(n,a)),{left:o,top:c,right:l,bottom:u}}function RX(e,t,r,n){return e?0:vV(t,r,n)}function FX(e){const t=LX(e),r=t.right-t.left,n=t.bottom-t.top,a=function(e,t,r){const n=e.options.borderWidth,a=e.borderSkipped,i=bK(n);return{t:RX(a.top,i.top,0,r),r:RX(a.right,i.right,0,t),b:RX(a.bottom,i.bottom,0,r),l:RX(a.left,i.left,0,t)}}(e,r/2,n/2),i=function(e,t,r){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,i=yK(a),s=Math.min(t,r),o=e.borderSkipped,l=n||Iz(a);return{topLeft:RX(!l||o.top||o.left,i.topLeft,0,s),topRight:RX(!l||o.top||o.right,i.topRight,0,s),bottomLeft:RX(!l||o.bottom||o.left,i.bottomLeft,0,s),bottomRight:RX(!l||o.bottom||o.right,i.bottomRight,0,s)}}(e,r/2,n/2);return{outer:{x:t.left,y:t.top,w:r,h:n,radius:i},inner:{x:t.left+a.l,y:t.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function UX(e,t,r,n){const a=null===t,i=null===r,s=e&&!(a&&i)&&LX(e,n);return s&&(a||NV(t,s.left,s.right))&&(i||NV(r,s.top,s.bottom))}function GX(e,t){e.rect(t.x,t.y,t.w,t.h)}function BX(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.x!==r.x?-t:0,a=e.y!==r.y?-t:0,i=(e.x+e.w!==r.x+r.w?t:0)-n,s=(e.y+e.h!==r.y+r.h?t:0)-a;return{x:e.x+n,y:e.y+a,w:e.w+i,h:e.h+s,radius:e.radius}}class zX extends AW{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:n}}=this,{inner:a,outer:i}=FX(this),s=(o=i.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?hK:GX;var o;e.save(),i.w===a.w&&i.h===a.h||(e.beginPath(),s(e,BX(i,t,a)),e.clip(),s(e,BX(a,-t,i)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),s(e,BX(a,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,r){return UX(this,e,t,r)}inXRange(e,t){return UX(this,e,null,t)}inYRange(e,t){return UX(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:n,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+n)/2:t,y:a?r:(r+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}const VX=(e,t)=>{let{boxHeight:r=t,boxWidth:n=t}=e;return e.usePointStyle&&(r=Math.min(r,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(t,r)}};class KX extends AW{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Lz(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,r)=>e.sort(t,r,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const r=e.labels,n=NK(r.font),a=n.size,i=this._computeTitleHeight(),{boxWidth:s,itemHeight:o}=VX(r,a);let l,c;t.font=n.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(i,a,s,o)+10):(c=this.maxHeight,l=this._fitCols(i,n,s,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,n){const{ctx:a,maxWidth:i,options:{labels:{padding:s}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=n+s;let u=e;a.textAlign="left",a.textBaseline="middle";let d=-1,h=-c;return this.legendItems.forEach(((e,f)=>{const p=r+t/2+a.measureText(e.text).width;(0===f||l[l.length-1]+p+2*s>i)&&(u+=c,l[l.length-(f>0?0:1)]=0,h+=c,d++),o[f]={left:0,top:h,row:d,width:p,height:n},l[l.length-1]+=p+s})),u}_fitCols(e,t,r,n){const{ctx:a,maxHeight:i,options:{labels:{padding:s}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=i-e;let u=s,d=0,h=0,f=0,p=0;return this.legendItems.forEach(((e,i)=>{const{itemWidth:m,itemHeight:g}=function(e,t,r,n,a){const i=function(e,t,r,n){let a=e.text;a&&"string"!==typeof a&&(a=a.reduce(((e,t)=>e.length>t.length?e:t)));return t+r.size/2+n.measureText(a).width}(n,e,t,r),s=function(e,t,r){let n=e;"string"!==typeof t.text&&(n=$X(t,r));return n}(a,n,t.lineHeight);return{itemWidth:i,itemHeight:s}}(r,t,a,e,n);i>0&&h+g+2*s>c&&(u+=d+s,l.push({width:d,height:h}),f+=d+s,p++,d=h=0),o[i]={left:f,top:h,col:p,width:m,height:g},d=Math.max(d,m),h+=g+s})),u+=d,l.push({width:d,height:h}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:n},rtl:a}}=this,i=i$(a,this.left,this.width);if(this.isHorizontal()){let a=0,s=AV(r,this.left+n,this.right-this.lineWidths[a]);for(const o of t)a!==o.row&&(a=o.row,s=AV(r,this.left+n,this.right-this.lineWidths[a])),o.top+=this.top+e+n,o.left=i.leftForLtr(i.x(s),o.width),s+=o.width+n}else{let a=0,s=AV(r,this.top+e+n,this.bottom-this.columnSizes[a].height);for(const o of t)o.col!==a&&(a=o.col,s=AV(r,this.top+e+n,this.bottom-this.columnSizes[a].height)),o.top=s,o.left+=this.left+n,o.left=i.leftForLtr(i.x(o.left),o.width),s+=o.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;iK(e,this),this._draw(),sK(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:n}=this,{align:a,labels:i}=e,s=ZV.color,o=i$(e.rtl,this.left,this.width),l=NK(i.font),{padding:c}=i,u=l.size,d=u/2;let h;this.drawTitle(),n.textAlign=o.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:m}=VX(i,u),g=this.isHorizontal(),x=this._computeTitleHeight();h=g?{x:AV(a,this.left+c,this.right-r[0]),y:this.top+c+x,line:0}:{x:this.left+c,y:AV(a,this.top+x+c,this.bottom-t[0].height),line:0},s$(this.ctx,e.textDirection);const b=m+c;this.legendItems.forEach(((y,v)=>{n.strokeStyle=y.fontColor,n.fillStyle=y.fontColor;const N=n.measureText(y.text).width,w=o.textAlign(y.textAlign||(y.textAlign=i.textAlign)),j=f+d+N;let k=h.x,T=h.y;o.setWidth(this.width),g?v>0&&k+j+c>this.right&&(T=h.y+=b,h.line++,k=h.x=AV(a,this.left+c,this.right-r[h.line])):v>0&&T+b>this.bottom&&(k=h.x=k+t[h.line].width+c,h.line++,T=h.y=AV(a,this.top+x+c,this.bottom-t[h.line].height));if(function(e,t,r){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;n.save();const a=Dz(r.lineWidth,1);if(n.fillStyle=Dz(r.fillStyle,s),n.lineCap=Dz(r.lineCap,"butt"),n.lineDashOffset=Dz(r.lineDashOffset,0),n.lineJoin=Dz(r.lineJoin,"miter"),n.lineWidth=a,n.strokeStyle=Dz(r.strokeStyle,s),n.setLineDash(Dz(r.lineDash,[])),i.usePointStyle){const s={radius:p*Math.SQRT2/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:a},l=o.xPlus(e,f/2);nK(n,s,l,t+d,i.pointStyleWidth&&f)}else{const i=t+Math.max((u-p)/2,0),s=o.leftForLtr(e,f),l=yK(r.borderRadius);n.beginPath(),Object.values(l).some((e=>0!==e))?hK(n,{x:s,y:i,w:f,h:p,radius:l}):n.rect(s,i,f,p),n.fill(),0!==a&&n.stroke()}n.restore()}(o.x(k),T,y),k=((e,t,r,n)=>e===(n?"left":"right")?r:"center"===e?(t+r)/2:t)(w,k+f+d,g?k+j:this.right,e.rtl),function(e,t,r){dK(n,r.text,e,t+m/2,l,{strikethrough:r.hidden,textAlign:o.textAlign(r.textAlign)})}(o.x(k),T,y),g)h.x+=j+c;else if("string"!==typeof y.text){const e=l.lineHeight;h.y+=$X(y,e)+c}else h.y+=b})),o$(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=NK(t.font),n=vK(t.padding);if(!t.display)return;const a=i$(e.rtl,this.left,this.width),i=this.ctx,s=t.position,o=r.size/2,l=n.top+o;let c,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+l,u=AV(e.align,u,this.right-d);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+AV(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=AV(s,u,u+d);i.textAlign=a.textAlign(CV(s)),i.textBaseline="middle",i.strokeStyle=t.color,i.fillStyle=t.color,i.font=r.string,dK(i,t.text,h,c,r)}_computeTitleHeight(){const e=this.options.title,t=NK(e.font),r=vK(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,n,a;if(NV(e,this.left,this.right)&&NV(t,this.top,this.bottom))for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(n=a[r],NV(e,n.left,n.left+n.width)&&NV(t,n.top,n.top+n.height))return this.legendItems[r];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const n=this._hoveredItem,a=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(n,r);n&&!a&&Lz(t.onLeave,[e,n,this],this),this._hoveredItem=r,r&&!a&&Lz(t.onHover,[e,r,this],this)}else r&&Lz(t.onClick,[e,r,this],this)}}function $X(e,t){return t*(e.text?e.text.length:0)}var WX={id:"legend",_element:KX,start(e,t,r){const n=e.legend=new KX({ctx:e.ctx,options:r,chart:e});fW.configure(e,n,r),fW.addBox(e,n)},stop(e){fW.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const n=e.legend;fW.configure(e,n,r),n.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const n=t.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),t.hidden=!0):(a.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:i,useBorderRadius:s,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(r?0:void 0),c=vK(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:i,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:a||l.textAlign,borderRadius:s&&(o||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class XX extends AW{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const n=Az(r.text)?r.text.length:1;this._padding=vK(r.padding);const a=n*NK(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:r,bottom:n,right:a,options:i}=this,s=i.align;let o,l,c,u=0;return this.isHorizontal()?(l=AV(s,r,a),c=t+e,o=a-r):("left"===i.position?(l=r+e,c=AV(s,n,t),u=-.5*Zz):(l=a-e,c=AV(s,t,n),u=.5*Zz),o=n-t),{titleX:l,titleY:c,maxWidth:o,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=NK(t.font),n=r.lineHeight/2+this._padding.top,{titleX:a,titleY:i,maxWidth:s,rotation:o}=this._drawArgs(n);dK(e,t.text,0,0,r,{color:t.color,maxWidth:s,rotation:o,textAlign:CV(t.align),textBaseline:"middle",translation:[a,i]})}}var YX={id:"title",_element:XX,start(e,t,r){!function(e,t){const r=new XX({ctx:e.ctx,options:t,chart:e});fW.configure(e,r,t),fW.addBox(e,r),e.titleBlock=r}(e,r)},stop(e){const t=e.titleBlock;fW.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const n=e.titleBlock;fW.configure(e,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const qX={average(e){if(!e.length)return!1;let t,r,n=new Set,a=0,i=0;for(t=0,r=e.length;t<r;++t){const r=e[t].element;if(r&&r.hasValue()){const e=r.tooltipPosition();n.add(e.x),a+=e.y,++i}}if(0===i||0===n.size)return!1;const s=[...n].reduce(((e,t)=>e+t))/n.size;return{x:s,y:a/i}},nearest(e,t){if(!e.length)return!1;let r,n,a,i=t.x,s=t.y,o=Number.POSITIVE_INFINITY;for(r=0,n=e.length;r<n;++r){const n=e[r].element;if(n&&n.hasValue()){const e=gV(t,n.getCenterPoint());e<o&&(o=e,a=n)}}if(a){const e=a.tooltipPosition();i=e.x,s=e.y}return{x:i,y:s}}};function QX(e,t){return t&&(Az(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ZX(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function JX(e,t){const{element:r,datasetIndex:n,index:a}=t,i=e.getDatasetMeta(n).controller,{label:s,value:o}=i.getLabelAndValue(a);return{chart:e,label:s,parsed:i.getParsed(a),raw:e.data.datasets[n].data[a],formattedValue:o,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function eY(e,t){const r=e.chart.ctx,{body:n,footer:a,title:i}=e,{boxWidth:s,boxHeight:o}=t,l=NK(t.bodyFont),c=NK(t.titleFont),u=NK(t.footerFont),d=i.length,h=a.length,f=n.length,p=vK(t.padding);let m=p.height,g=0,x=n.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(x+=e.beforeBody.length+e.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),x){m+=f*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(x-f)*l.lineHeight+(x-1)*t.bodySpacing}h&&(m+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let b=0;const y=function(e){g=Math.max(g,r.measureText(e).width+b)};return r.save(),r.font=c.string,Rz(e.title,y),r.font=l.string,Rz(e.beforeBody.concat(e.afterBody),y),b=t.displayColors?s+2+t.boxPadding:0,Rz(n,(e=>{Rz(e.before,y),Rz(e.lines,y),Rz(e.after,y)})),b=0,r.font=u.string,Rz(e.footer,y),r.restore(),g+=p.width,{width:g,height:m}}function tY(e,t,r,n){const{x:a,width:i}=r,{width:s,chartArea:{left:o,right:l}}=e;let c="center";return"center"===n?c=a<=(o+l)/2?"left":"right":a<=i/2?c="left":a>=s-i/2&&(c="right"),function(e,t,r,n){const{x:a,width:i}=n,s=r.caretSize+r.caretPadding;return"left"===e&&a+i+s>t.width||"right"===e&&a-i-s<0||void 0}(c,e,t,r)&&(c="center"),c}function rY(e,t,r){const n=r.yAlign||t.yAlign||function(e,t){const{y:r,height:n}=t;return r<n/2?"top":r>e.height-n/2?"bottom":"center"}(e,r);return{xAlign:r.xAlign||t.xAlign||tY(e,t,r,n),yAlign:n}}function nY(e,t,r,n){const{caretSize:a,caretPadding:i,cornerRadius:s}=e,{xAlign:o,yAlign:l}=r,c=a+i,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=yK(s);let p=function(e,t){let{x:r,width:n}=e;return"right"===t?r-=n:"center"===t&&(r-=n/2),r}(t,o);const m=function(e,t,r){let{y:n,height:a}=e;return"top"===t?n+=r:n-="bottom"===t?a+r:a/2,n}(t,l,c);return"center"===l?"left"===o?p+=c:"right"===o&&(p-=c):"left"===o?p-=Math.max(u,h)+a:"right"===o&&(p+=Math.max(d,f)+a),{x:vV(p,0,n.width-t.width),y:vV(m,0,n.height-t.height)}}function aY(e,t,r){const n=vK(r.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function iY(e){return QX([],ZX(e))}function sY(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}const oY={beforeTitle:_z,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,n=r?r.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return r[t.dataIndex]}return""},afterTitle:_z,beforeBody:_z,beforeLabel:_z,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return Cz(r)||(t+=r),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:_z,afterBody:_z,beforeFooter:_z,footer:_z,afterFooter:_z};function lY(e,t,r,n){const a=e[t].call(r,n);return"undefined"===typeof a?oY[t].call(r,n):a}class cY extends AW{static positioners=(()=>qX)();constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),n=r.enabled&&t.options.animation&&r.animations,a=new v$(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,r=this._tooltipItems,jK(e,{tooltip:t,tooltipItems:r,type:"tooltip"})));var e,t,r}getTitle(e,t){const{callbacks:r}=t,n=lY(r,"beforeTitle",this,e),a=lY(r,"title",this,e),i=lY(r,"afterTitle",this,e);let s=[];return s=QX(s,ZX(n)),s=QX(s,ZX(a)),s=QX(s,ZX(i)),s}getBeforeBody(e,t){return iY(lY(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,n=[];return Rz(e,(e=>{const t={before:[],lines:[],after:[]},a=sY(r,e);QX(t.before,ZX(lY(a,"beforeLabel",this,e))),QX(t.lines,lY(a,"label",this,e)),QX(t.after,ZX(lY(a,"afterLabel",this,e))),n.push(t)})),n}getAfterBody(e,t){return iY(lY(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,n=lY(r,"beforeFooter",this,e),a=lY(r,"footer",this,e),i=lY(r,"afterFooter",this,e);let s=[];return s=QX(s,ZX(n)),s=QX(s,ZX(a)),s=QX(s,ZX(i)),s}_createItems(e){const t=this._active,r=this.chart.data,n=[],a=[],i=[];let s,o,l=[];for(s=0,o=t.length;s<o;++s)l.push(JX(this.chart,t[s]));return e.filter&&(l=l.filter(((t,n,a)=>e.filter(t,n,a,r)))),e.itemSort&&(l=l.sort(((t,n)=>e.itemSort(t,n,r)))),Rz(l,(t=>{const r=sY(e.callbacks,t);n.push(lY(r,"labelColor",this,t)),a.push(lY(r,"labelPointStyle",this,t)),i.push(lY(r,"labelTextColor",this,t))})),this.labelColors=n,this.labelPointStyles=a,this.labelTextColors=i,this.dataPoints=l,l}update(e,t){const r=this.options.setContext(this.getContext()),n=this._active;let a,i=[];if(n.length){const e=qX[r.position].call(this,n,this._eventPosition);i=this._createItems(r),this.title=this.getTitle(i,r),this.beforeBody=this.getBeforeBody(i,r),this.body=this.getBody(i,r),this.afterBody=this.getAfterBody(i,r),this.footer=this.getFooter(i,r);const t=this._size=eY(this,r),s=Object.assign({},e,t),o=rY(this.chart,r,s),l=nY(r,s,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,a={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=i,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,n){const a=this.getCaretPosition(e,r,n);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,r){const{xAlign:n,yAlign:a}=this,{caretSize:i,cornerRadius:s}=r,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:u}=yK(s),{x:d,y:h}=e,{width:f,height:p}=t;let m,g,x,b,y,v;return"center"===a?(y=h+p/2,"left"===n?(m=d,g=m-i,b=y+i,v=y-i):(m=d+f,g=m+i,b=y-i,v=y+i),x=m):(g="left"===n?d+Math.max(o,c)+i:"right"===n?d+f-Math.max(l,u)-i:this.caretX,"top"===a?(b=h,y=b-i,m=g-i,x=g+i):(b=h+p,y=b+i,m=g+i,x=g-i),v=b),{x1:m,x2:g,x3:x,y1:b,y2:y,y3:v}}drawTitle(e,t,r){const n=this.title,a=n.length;let i,s,o;if(a){const l=i$(r.rtl,this.x,this.width);for(e.x=aY(this,r.titleAlign,r),t.textAlign=l.textAlign(r.titleAlign),t.textBaseline="middle",i=NK(r.titleFont),s=r.titleSpacing,t.fillStyle=r.titleColor,t.font=i.string,o=0;o<a;++o)t.fillText(n[o],l.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+s,o+1===a&&(e.y+=r.titleMarginBottom-s)}}_drawColorBox(e,t,r,n,a){const i=this.labelColors[r],s=this.labelPointStyles[r],{boxHeight:o,boxWidth:l}=a,c=NK(a.bodyFont),u=aY(this,"left",a),d=n.x(u),h=o<c.lineHeight?(c.lineHeight-o)/2:0,f=t.y+h;if(a.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},r=n.leftForLtr(d,l)+l/2,c=f+o/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,rK(e,t,r,c),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,rK(e,t,r,c)}else{e.lineWidth=Iz(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const t=n.leftForLtr(d,l),r=n.leftForLtr(n.xPlus(d,1),l-2),s=yK(i.borderRadius);Object.values(s).some((e=>0!==e))?(e.beginPath(),e.fillStyle=a.multiKeyBackground,hK(e,{x:t,y:f,w:l,h:o,radius:s}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),hK(e,{x:r,y:f+1,w:l-2,h:o-2,radius:s}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(t,f,l,o),e.strokeRect(t,f,l,o),e.fillStyle=i.backgroundColor,e.fillRect(r,f+1,l-2,o-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:n}=this,{bodySpacing:a,bodyAlign:i,displayColors:s,boxHeight:o,boxWidth:l,boxPadding:c}=r,u=NK(r.bodyFont);let d=u.lineHeight,h=0;const f=i$(r.rtl,this.x,this.width),p=function(r){t.fillText(r,f.x(e.x+h),e.y+d/2),e.y+=d+a},m=f.textAlign(i);let g,x,b,y,v,N,w;for(t.textAlign=i,t.textBaseline="middle",t.font=u.string,e.x=aY(this,m,r),t.fillStyle=r.bodyColor,Rz(this.beforeBody,p),h=s&&"right"!==m?"center"===i?l/2+c:l+2+c:0,y=0,N=n.length;y<N;++y){for(g=n[y],x=this.labelTextColors[y],t.fillStyle=x,Rz(g.before,p),b=g.lines,s&&b.length&&(this._drawColorBox(t,e,y,f,r),d=Math.max(u.lineHeight,o)),v=0,w=b.length;v<w;++v)p(b[v]),d=u.lineHeight;Rz(g.after,p)}h=0,d=u.lineHeight,Rz(this.afterBody,p),e.y-=a}drawFooter(e,t,r){const n=this.footer,a=n.length;let i,s;if(a){const o=i$(r.rtl,this.x,this.width);for(e.x=aY(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=o.textAlign(r.footerAlign),t.textBaseline="middle",i=NK(r.footerFont),t.fillStyle=r.footerColor,t.font=i.string,s=0;s<a;++s)t.fillText(n[s],o.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+r.footerSpacing}}drawBackground(e,t,r,n){const{xAlign:a,yAlign:i}=this,{x:s,y:o}=e,{width:l,height:c}=r,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=yK(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(s+u,o),"top"===i&&this.drawCaret(e,t,r,n),t.lineTo(s+l-d,o),t.quadraticCurveTo(s+l,o,s+l,o+d),"center"===i&&"right"===a&&this.drawCaret(e,t,r,n),t.lineTo(s+l,o+c-f),t.quadraticCurveTo(s+l,o+c,s+l-f,o+c),"bottom"===i&&this.drawCaret(e,t,r,n),t.lineTo(s+h,o+c),t.quadraticCurveTo(s,o+c,s,o+c-h),"center"===i&&"left"===a&&this.drawCaret(e,t,r,n),t.lineTo(s,o+u),t.quadraticCurveTo(s,o,s+u,o),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,n=r&&r.x,a=r&&r.y;if(n||a){const r=qX[e.position].call(this,this._active,this._eventPosition);if(!r)return;const i=this._size=eY(this,e),s=Object.assign({},r,this._size),o=rY(t,e,s),l=nY(e,s,o,t);n._to===l.x&&a._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=i.width,this.height=i.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const i=vK(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,n,t),s$(e,t.textDirection),a.y+=i.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),o$(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,n=e.map((e=>{let{datasetIndex:t,index:r}=e;const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[r],index:r}})),a=!Fz(r,n),i=this._positionChanged(n,t);(a||i)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,a=this._active||[],i=this._getActiveElements(e,a,t,r),s=this._positionChanged(i,e),o=t||!Fz(i,a)||s;return o&&(this._active=i,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,r,n){const a=this.options;if("mouseout"===e.type)return[];if(!n)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const i=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&i.reverse(),i}_positionChanged(e,t){const{caretX:r,caretY:n,options:a}=this,i=qX[a.position].call(this,e,t);return!1!==i&&(r!==i.x||n!==i.y)}}var uY={id:"tooltip",_element:cY,positioners:qX,afterInit(e,t,r){r&&(e.tooltip=new cY({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:oY},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function dY(e,t,r,n){const a=e.indexOf(t);if(-1===a)return((e,t,r,n)=>("string"===typeof t?(r=e.push(t)-1,n.unshift({index:r,label:t})):isNaN(t)&&(r=null),r))(e,t,r,n);return a!==e.lastIndexOf(t)?r:a}function hY(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class fY extends GW{static id="category";static defaults=(()=>({ticks:{callback:hY}}))();constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:r,label:n}of t)e[r]===n&&e.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Cz(e))return null;const r=this.getLabels();return((e,t)=>null===e?null:vV(Math.round(e),0,t))(t=isFinite(t)&&r[t]===e?t:dY(r,e,Dz(t,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),t||(n=this.getLabels().length-1)),this.min=r,this.max=n}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,n=[];let a=this.getLabels();a=0===e&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let i=e;i<=t;i++)n.push({value:i});return n}getLabelForValue(e){return hY.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function pY(e,t){const r=[],{bounds:n,step:a,min:i,max:s,precision:o,count:l,maxTicks:c,maxDigits:u,includeBounds:d}=e,h=a||1,f=c-1,{min:p,max:m}=t,g=!Cz(i),x=!Cz(s),b=!Cz(l),y=(m-p)/(u+1);let v,N,w,j,k=cV((m-p)/f/h)*h;if(k<1e-14&&!g&&!x)return[{value:p},{value:m}];j=Math.ceil(m/k)-Math.floor(p/k),j>f&&(k=cV(j*k/f/h)*h),Cz(o)||(v=Math.pow(10,o),k=Math.ceil(k*v)/v),"ticks"===n?(N=Math.floor(p/k)*k,w=Math.ceil(m/k)*k):(N=p,w=m),g&&x&&a&&function(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}((s-i)/a,k/1e3)?(j=Math.round(Math.min((s-i)/k,c)),k=(s-i)/j,N=i,w=s):b?(N=g?i:N,w=x?s:w,j=l-1,k=(w-N)/j):(j=(w-N)/k,j=lV(j,Math.round(j),k/1e3)?Math.round(j):Math.ceil(j));const T=Math.max(pV(k),pV(N));v=Math.pow(10,Cz(o)?T:o),N=Math.round(N*v)/v,w=Math.round(w*v)/v;let S=0;for(g&&(d&&N!==i?(r.push({value:i}),N<i&&S++,lV(Math.round((N+S*k)*v)/v,i,mY(i,y,e))&&S++):N<i&&S++);S<j;++S){const e=Math.round((N+S*k)*v)/v;if(x&&e>s)break;r.push({value:e})}return x&&d&&w!==s?r.length&&lV(r[r.length-1].value,s,mY(s,y,e))?r[r.length-1].value=s:r.push({value:s}):x&&w!==s||r.push({value:w}),r}function mY(e,t,r){let{horizontal:n,minRotation:a}=r;const i=hV(a),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class gY extends GW{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Cz(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this;const i=e=>n=t?n:e,s=e=>a=r?a:e;if(e){const e=oV(n),t=oV(a);e<0&&t<0?s(0):e>0&&t>0&&i(0)}if(n===a){let t=0===a?1:Math.abs(.05*a);s(a+t),e||i(n-t)}this.min=n,this.max=a}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:r,stepSize:n}=e;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),r=r||11),r&&(t=Math.min(r,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const n=pY({maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&dV(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const n=(r-t)/Math.max(e.length-1,1)/2;t-=n,r+=n}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return VV(e,this.chart.options.locale,this.options.ticks.format)}}class xY extends gY{static id="linear";static defaults=(()=>({ticks:{callback:$V.formatters.numeric}}))();determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Pz(e)?e:0,this.max=Pz(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=hV(this.options.ticks.minRotation),n=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/n))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}$V.formatters.logarithmic;$V.formatters.numeric;const bY={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},yY=Object.keys(bY);function vY(e,t){return e-t}function NY(e,t){if(Cz(t))return null;const r=e._adapter,{parser:n,round:a,isoWeekday:i}=e._parseOpts;let s=t;return"function"===typeof n&&n(s),Pz(s)||("string"===typeof n?r.parse(s,n):r.parse(s)),null===s?null:(a&&("week"!==a||!uV(i)&&!0!==i?r.startOf(s,a):r.startOf(s,"isoWeek",i)),+s)}function wY(e,t,r,n){const a=yY.length;for(let i=yY.indexOf(e);i<a-1;++i){const e=bY[yY[i]],a=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((r-t)/(a*e.size))<=n)return yY[i]}return yY[a-1]}function jY(e,t,r){if(r){if(r.length){const{lo:n,hi:a}=wV(r,t);e[r[n]>=t?r[n]:r[a]]=!0}}else e[t]=!0}function kY(e,t,r){const n=[],a={},i=t.length;let s,o;for(0;s<i;++s)t[s],a[o]=s,n.push({value:o,major:!1});return 0!==i&&r?function(e,t,r,n){const a=e._adapter,i=+a.startOf(t[0].value,n),s=t[t.length-1].value;let o,l;for(i;o<=s;+a.add(o,1,n))r[o],l>=0&&(t[l].major=!0);return t}(e,n,a,r):n}class TY extends GW{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.time||(e.time={}),n=this._adapter=new W$(e.adapters.date);n.init(t),Vz(r.displayFormats,n.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:NY(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:n,max:a,minDefined:i,maxDefined:s}=this.getUserBounds();function o(e){i||isNaN(e.min)||Math.min(n,e.min),s||isNaN(e.max)||Math.max(a,e.max)}i&&s||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),Pz(n)&&!isNaN(n)?n:+t.startOf(Date.now(),r),Pz(a)&&!isNaN(a)?a:+t.endOf(Date.now(),r)+1,this.min=Math.min(n,a-1),this.max=Math.max(n+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(e[0],e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,n="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const a=this.min,i=function(e,t,r){let n=0,a=e.length;for(;n<a&&e[n]<t;)0;for(;a>n&&e[a-1]>r;)0;return n>0||a<e.length?e.slice(n,a):e}(n,a,this.max);return this._unit=t.unit||(r.autoSkip?wY(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):function(e,t,r,n,a){for(let i=yY.length-1;i>=yY.indexOf(r);i--){const r=yY[i];if(bY[r].common&&e._adapter.diff(a,n,r)>=t-1)return r}return yY[r?yY.indexOf(r):0]}(this,i.length,t.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function(e){for(let t=yY.indexOf(e)+1,r=yY.length;t<r;++t)if(bY[yY[t]].common)return yY[t]}(this._unit):void 0,this.initOffsets(n),e.reverse&&i.reverse(),kY(this,i,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=0,a=0;this.options.offset&&r.length&&(this.getDecimalForValue(r[0]),1===r.length?1-e:(this.getDecimalForValue(r[1])-e)/2,this.getDecimalForValue(r[r.length-1]),1===r.length?t:(t-this.getDecimalForValue(r[r.length-2]))/2);const i=r.length<3?.5:.25;vV(n,0,i),vV(a,0,i),this._offsets={start:n,end:a,factor:1/(n+1+a)}}_generate(){const e=this._adapter,t=this.min,r=this.max,n=this.options,a=n.time,i=a.unit||wY(a.minUnit,t,r,this._getLabelCapacity(t)),s=Dz(n.ticks.stepSize,1),o="week"===i&&a.isoWeekday,l=uV(o)||!0===o,c={};let u,d,h=t;if(l&&+e.startOf(h,"isoWeek",o),+e.startOf(h,l?"day":i),e.diff(r,t,i)>1e5*s)throw new Error(t+" and "+r+" are too far apart with stepSize of "+s+" "+i);const f="data"===n.ticks.source&&this.getDataTimestamps();for(0;u<r;+e.add(u,s,i),d++)jY(c,u,f);return u!==r&&"ticks"!==n.bounds&&1!==d||jY(c,u,f),Object.keys(c).sort(vY).map((e=>+e))}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,n=this._unit,a=t||r[n];return this._adapter.format(e,a)}_tickFormatFunction(e,t,r,n){const a=this.options,i=a.ticks.callback;if(i)return Lz(i,[e,t,r],this);const s=a.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&s[o],u=l&&s[l],d=r[t],h=l&&u&&d&&d.major;return this._adapter.format(e,n||(h?u:c))}generateTickLabels(e){let t,r,n;for(e.length;t<r;++t)e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,n=hV(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(n),i=Math.sin(n),s=this._resolveTickFontOptions(0).size;return{w:r*a+s*i,h:r*i+s*a}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,n=r[t.unit]||r.millisecond,a=this._tickFormatFunction(e,0,kY(this,[e],this._majorUnit),n),i=this._getLabelSize(a),s=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return s>0?s:1}getDataTimestamps(){let e,t,r=this._cache.data||[];if(r.length)return r;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(n.length;e<t;++e)r.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const n=this.getLabels();for(n.length;t<r;++t)e.push(NY(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return OV(e.sort(vY))}}const SY="label";function OY(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function _Y(e,t){e.labels=t}function EY(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:SY;const n=[];e.datasets=t.map((t=>{const a=e.datasets.find((e=>e[r]===t[r]));return a&&t.data&&!n.includes(a)?(n.push(a),Object.assign(a,t),a):{...t}}))}function CY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:SY;const r={labels:[],datasets:[]};return _Y(r,e.labels),EY(r,e.datasets,t),r}function AY(e,t){const{height:r=150,width:a=300,redraw:i=!1,datasetIdKey:s,type:o,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...f}=e,p=(0,n.useRef)(null),m=(0,n.useRef)(null),g=()=>{p.current&&(m.current=new yX(p.current,{type:o,data:CY(l,s),options:c&&{...c},plugins:u}),OY(t,m.current))},x=()=>{OY(t,null),m.current&&(m.current.destroy(),m.current=null)};return(0,n.useEffect)((()=>{!i&&m.current&&c&&function(e,t){const r=e.options;r&&t&&Object.assign(r,t)}(m.current,c)}),[i,c]),(0,n.useEffect)((()=>{!i&&m.current&&_Y(m.current.config.data,l.labels)}),[i,l.labels]),(0,n.useEffect)((()=>{!i&&m.current&&l.datasets&&EY(m.current.config.data,l.datasets,s)}),[i,l.datasets]),(0,n.useEffect)((()=>{m.current&&(i?(x(),setTimeout(g)):m.current.update(h))}),[i,c,l.labels,l.datasets,h]),(0,n.useEffect)((()=>{m.current&&(x(),setTimeout(g))}),[o]),(0,n.useEffect)((()=>(g(),()=>x())),[]),n.createElement("canvas",{ref:p,role:"img",height:r,width:a,...f},d)}const IY=(0,n.forwardRef)(AY);function PY(e,t){return yX.register(t),(0,n.forwardRef)(((t,r)=>n.createElement(IY,{...t,ref:r,type:e})))}const HY=PY("line",z$),DY=PY("bar",G$),MY=PY("pie",V$);yX.register(fY,xY,zX,YX,uY,WX,TX,MX,HX);const LY=e=>{if(!e)return"";const t=new Date(e),r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0");return`${t.getFullYear()}-${n}-${r}`},RY=e=>{if(!e)return null;if(e.includes("/")){const[t,r,n]=e.split("/").map(Number),a=new Date(n,r-1,t);return a.setHours(0,0,0,0),a}const t=new Date(e);return t.setHours(0,0,0,0),t},FY=e=>{if(!e)return"";const t=new Date(e);return`${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")}/${t.getFullYear()}`},UY=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[i,s]=(0,n.useState)(!0),[o,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)("overview"),[d,h]=(0,n.useState)({startDate:new Date((new Date).setDate(1)),endDate:new Date,congDoan:"",to:"",tenHang:""});(0,n.useEffect)((()=>{f()}),[]);const f=async()=>{s(!0);try{const[e,r]=await Promise.all([ut.apiRequest("BC2","Find",{}),ut.apiRequest("CONGDOAN","Find",{})]);t(e),a(r)}catch(e){console.error("Error fetching data:",e),et.error("L\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u b\xe1o c\xe1o")}finally{s(!1)}},p=(0,n.useMemo)((()=>e.filter((e=>{var t;const r=(e=>{if(!e)return null;let t;if(e.includes("/")){const[r,n,a]=e.split("/").map(Number);t=new Date(a,r-1,n)}else t=new Date(e);return t.setHours(0,0,0,0),t})(e["NG\xc0Y"]),n=d.startDate?new Date(d.startDate.setHours(0,0,0,0)):null,a=d.endDate?new Date(d.endDate.setHours(23,59,59,999)):null;let i=!0;n&&a?i=r>=n&&r<=a:n?i=r>=n:a&&(i=r<=a);const s=!d.congDoan||e["C\xd4NG \u0110O\u1ea0N"]===d.congDoan,o=!d.to||e["T\u1ed4"]===d.to,l=!d.tenHang||(null===(t=e["T\xcaN H\xc0NG"])||void 0===t?void 0:t.toLowerCase().includes(d.tenHang.toLowerCase()));return i&&s&&o&&l}))),[e,d]),m=(0,n.useMemo)((()=>{if(0===p.length)return{totalReports:0,totalVolume:0,totalValue:0,totalStaff:0,uniqueProducts:0};const e=p.reduce(((e,t)=>e+(parseFloat(t["KH\u1ed0I L\u01af\u1ee2NG"])||0)),0),t=p.reduce(((e,t)=>e+(parseFloat(t["TH\xc0NH TI\u1ec0N"])||0)),0),r=new Set;p.forEach((e=>{if(e["NH\xc2N S\u1ef0"]){const t=e["NH\xc2N S\u1ef0"].split(",").map((e=>e.trim()));t.forEach((e=>{e&&r.add(e)}))}}));const n=new Set(p.map((e=>e["T\xcaN H\xc0NG"])).filter(Boolean)).size;return{totalReports:p.length,totalVolume:e,totalValue:t,totalStaff:r.size,uniqueProducts:n}}),[p]),g=(0,n.useMemo)((()=>{const e={};return r.forEach((t=>{e[t["C\xd4NG \u0110O\u1ea0N"]]={count:0,volume:0,value:0}})),p.forEach((t=>{const r=t["C\xd4NG \u0110O\u1ea0N"];e[r]||(e[r]={count:0,volume:0,value:0}),e[r].count+=1,e[r].volume+=parseFloat(t["KH\u1ed0I L\u01af\u1ee2NG"])||0,e[r].value+=parseFloat(t["TH\xc0NH TI\u1ec0N"])||0})),Object.entries(e).map((e=>{let[t,r]=e;return{stage:t,...r}}))}),[p,r]),x=(0,n.useMemo)((()=>{const e={};return p.forEach((t=>{const r=t["T\u1ed4"]||"Ch\u01b0a ph\xe2n t\u1ed5";e[r]||(e[r]={count:0,volume:0,value:0,stages:new Set,products:new Set}),e[r].count+=1,e[r].volume+=parseFloat(t["KH\u1ed0I L\u01af\u1ee2NG"])||0,e[r].value+=parseFloat(t["TH\xc0NH TI\u1ec0N"])||0,t["C\xd4NG \u0110O\u1ea0N"]&&e[r].stages.add(t["C\xd4NG \u0110O\u1ea0N"]),t["T\xcaN H\xc0NG"]&&e[r].products.add(t["T\xcaN H\xc0NG"])})),Object.entries(e).map((e=>{let[t,r]=e;return{name:t,...r,stageCount:r.stages.size,productCount:r.products.size,stages:Array.from(r.stages),products:Array.from(r.products)}})).sort(((e,t)=>t.value-e.value))}),[p]),b=(0,n.useMemo)((()=>{const e={};return p.forEach((t=>{var r;const n=(null===(r=t["NH\xc2N S\u1ef0"])||void 0===r?void 0:r.split(",").map((e=>e.trim())))||[];n.forEach((r=>{if(!r)return;e[r]||(e[r]={count:0,volume:0,value:0,stages:new Set,teams:new Set});const a=n.length||1;e[r].count+=1,e[r].volume+=(parseFloat(t["KH\u1ed0I L\u01af\u1ee2NG"])||0)/a,e[r].value+=(parseFloat(t["TH\xc0NH TI\u1ec0N"])||0)/a,t["C\xd4NG \u0110O\u1ea0N"]&&e[r].stages.add(t["C\xd4NG \u0110O\u1ea0N"]),t["T\u1ed4"]&&e[r].teams.add(t["T\u1ed4"])}))})),Object.entries(e).map((e=>{let[t,r]=e;return{name:t,...r,stageCount:r.stages.size,teamCount:r.teams.size,stages:Array.from(r.stages),teams:Array.from(r.teams)}})).sort(((e,t)=>t.value-e.value))}),[p]),y=(0,n.useMemo)((()=>{const e={};p.forEach((t=>{const r=new Date(t["NG\xc0Y"]).toLocaleDateString("vi-VN");e[r]||(e[r]={count:0,volume:0,value:0}),e[r].count+=1,e[r].volume+=parseFloat(t["KH\u1ed0I L\u01af\u1ee2NG"])||0,e[r].value+=parseFloat(t["TH\xc0NH TI\u1ec0N"])||0}));const t=Object.entries(e).map((e=>{let[t,r]=e;return{date:t,...r}})).sort(((e,t)=>RY(e.date)-RY(t.date)));return{daily:t}}),[p]),v=[...new Set(e.map((e=>e["T\u1ed4"])).filter(Boolean))],N=(new Set(e.map((e=>e["T\xcaN H\xc0NG"])).filter(Boolean)),(0,n.useMemo)((()=>{const e=g.map((e=>e.stage));return{volume:{labels:e,datasets:[{label:"Kh\u1ed1i l\u01b0\u1ee3ng s\u1ea3n xu\u1ea5t",data:g.map((e=>e.volume)),backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},value:{labels:e,datasets:[{label:"Gi\xe1 tr\u1ecb s\u1ea3n xu\u1ea5t",data:g.map((e=>e.value)),backgroundColor:"rgba(255, 159, 64, 0.6)",borderColor:"rgba(255, 159, 64, 1)",borderWidth:1}]}}}),[g])),w=(0,n.useMemo)((()=>{const e=["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 159, 64, 0.6)","rgba(199, 199, 199, 0.6)","rgba(83, 102, 255, 0.6)","rgba(40, 159, 64, 0.6)","rgba(210, 99, 132, 0.6)"];return{value:{labels:x.map((e=>e.name)),datasets:[{label:"Gi\xe1 tr\u1ecb s\u1ea3n xu\u1ea5t",data:x.map((e=>e.value)),backgroundColor:e,borderColor:e.map((e=>e.replace("0.6","1"))),borderWidth:1}]}}}),[x]),j=(0,n.useMemo)((()=>{const e=b.slice(0,10),t=["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 159, 64, 0.6)","rgba(199, 199, 199, 0.6)","rgba(83, 102, 255, 0.6)","rgba(40, 159, 64, 0.6)","rgba(210, 99, 132, 0.6)"];return{value:{labels:e.map((e=>e.name)),datasets:[{label:"Gi\xe1 tr\u1ecb s\u1ea3n xu\u1ea5t",data:e.map((e=>e.value)),backgroundColor:t,borderColor:t.map((e=>e.replace("0.6","1"))),borderWidth:1}]}}}),[b]),k=(0,n.useMemo)((()=>({timeSeries:{labels:y.daily.map((e=>e.date)),datasets:[{label:"Gi\xe1 tr\u1ecb s\u1ea3n xu\u1ea5t",data:y.daily.map((e=>e.value)),borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)",tension:.1,yAxisID:"y"},{label:"Kh\u1ed1i l\u01b0\u1ee3ng s\u1ea3n xu\u1ea5t",data:y.daily.map((e=>e.volume)),borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)",tension:.1,yAxisID:"y1"}]}})),[y]),T={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Th\u1ed1ng k\xea s\u1ea3n xu\u1ea5t",font:{size:16}}}},S={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},title:{display:!0,text:"Bi\u1ebfn \u0111\u1ed9ng s\u1ea3n xu\u1ea5t theo th\u1eddi gian",font:{size:16}}},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Gi\xe1 tr\u1ecb"}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},title:{display:!0,text:"Kh\u1ed1i l\u01b0\u1ee3ng"}}}},O=(e,t)=>{if(t){const r=new Date(t);h((t=>({...t,[e]:r})))}else h((t=>({...t,[e]:null})))};return(0,ar.jsxs)("div",{className:"p-4 md:p-6 bg-gray-50 min-h-screen",children:[(0,ar.jsx)("div",{className:"mx-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 mb-6 border border-gray-100",children:[(0,ar.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[(0,ar.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Th\u1ed1ng k\xea B\xe1o C\xe1o S\u1ea3n Xu\u1ea5t BC2"}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ar.jsxs)("button",{onClick:()=>l(!o),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(vk,{className:"w-4 h-4"}),o?"\u1ea8n b\u1ed9 l\u1ecdc":"B\u1ed9 l\u1ecdc"]}),(0,ar.jsxs)("button",{onClick:()=>{let e=[],t="bao-cao-thong-ke-";"byStage"===c?(e=g.map((e=>({"C\xf4ng \u0111o\u1ea1n":e.stage,"S\u1ed1 l\u01b0\u1ee3ng b\xe1o c\xe1o":e.count,"Kh\u1ed1i l\u01b0\u1ee3ng":e.volume,"Gi\xe1 tr\u1ecb":e.value}))),t+="cong-doan"):"byTeam"===c?(e=x.map((e=>({"T\u1ed5":e.name,"S\u1ed1 l\u01b0\u1ee3ng b\xe1o c\xe1o":e.count,"Kh\u1ed1i l\u01b0\u1ee3ng":e.volume.toFixed(2),"Gi\xe1 tr\u1ecb":e.value.toFixed(2),"S\u1ed1 c\xf4ng \u0111o\u1ea1n":e.stageCount,"S\u1ed1 s\u1ea3n ph\u1ea9m":e.productCount,"C\xf4ng \u0111o\u1ea1n":e.stages.join(", ")}))),t+="to-san-xuat"):"byStaff"===c?(e=b.map((e=>({"Nh\xe2n vi\xean":e.name,"S\u1ed1 l\u01b0\u1ee3ng tham gia":e.count,"Kh\u1ed1i l\u01b0\u1ee3ng \u0111\xf3ng g\xf3p":e.volume.toFixed(2),"Gi\xe1 tr\u1ecb \u0111\xf3ng g\xf3p":e.value.toFixed(2),"S\u1ed1 c\xf4ng \u0111o\u1ea1n tham gia":e.stageCount,"S\u1ed1 t\u1ed5 tham gia":e.teamCount,"C\xf4ng \u0111o\u1ea1n tham gia":e.stages.join(", "),"T\u1ed5 tham gia":e.teams.join(", ")}))),t+="nhan-vien"):"byTime"===c?(e=y.daily.map((e=>({"Ng\xe0y":e.date,"S\u1ed1 l\u01b0\u1ee3ng b\xe1o c\xe1o":e.count,"Kh\u1ed1i l\u01b0\u1ee3ng":e.volume,"Gi\xe1 tr\u1ecb":e.value}))),t+="thoi-gian"):(e=p.map((e=>({"ID BC":e.IDBC,"Ng\xe0y":FY(e["NG\xc0Y"]),"ID Nh\u1eadp Bao B\xec":e.ID_NHAPBAOBI,"T\xean h\xe0ng":e["T\xcaN H\xc0NG"],"T\u1ed5":e["T\u1ed4"],"C\xf4ng \u0111o\u1ea1n":e["C\xd4NG \u0110O\u1ea0N"],"\u0110\u01a1n v\u1ecb t\xednh":e["\u0110\u01a0N V\u1eca T\xcdNH"],"PP t\xednh n\u0103ng su\u1ea5t":e["PP T\xcdNH N\u0102NG SU\u1ea4T"],"Kh\u1ed1i l\u01b0\u1ee3ng":e["KH\u1ed0I L\u01af\u1ee2NG"],"S\u1ed1 l\u01b0\u1ee3ng nh\xe2n s\u1ef1":e["S\u1ed0 L\u01af\u1ee2NG NH\xc2N S\u1ef0"],"Nh\xe2n s\u1ef1":e["NH\xc2N S\u1ef0"],"S\u1ed1 d\xe2y":e["S\u1ed0 D\xc2Y"],"Ghi ch\xfa":e["GHI CH\xda"],"Ng\u01b0\u1eddi nh\u1eadp":e["NG\u01af\u1edcI NH\u1eacP"],"\u0110\u01a1n gi\xe1":e["\u0110\u01a0N GI\xc1"],"Th\xe0nh ti\u1ec1n":e["TH\xc0NH TI\u1ec0N"]}))),t+="chi-tiet"),t+=`-${(new Date).toISOString().slice(0,10)}.xlsx`;const r=pL.json_to_sheet(e),n=pL.book_new();pL.book_append_sheet(n,r,"B\xe1o c\xe1o"),rL(n,t)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 transition-colors shadow-sm",children:[(0,ar.jsx)(Ak,{className:"w-4 h-4"}),"Xu\u1ea5t b\xe1o c\xe1o Excel"]})]})]}),o&&(0,ar.jsx)("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50 animate-fadeIn",children:(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"C\xf4ng \u0111o\u1ea1n"}),(0,ar.jsxs)("select",{value:d.congDoan,onChange:e=>h({...d,congDoan:e.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",children:[(0,ar.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3 c\xf4ng \u0111o\u1ea1n"}),r.map((e=>(0,ar.jsx)("option",{value:e["C\xd4NG \u0110O\u1ea0N"],children:e["C\xd4NG \u0110O\u1ea0N"]},e["C\xd4NG \u0110O\u1ea0N"])))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\u1ed5"}),(0,ar.jsxs)("select",{value:d.to,onChange:e=>h({...d,to:e.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",children:[(0,ar.jsx)("option",{value:"",children:"T\u1ea5t c\u1ea3 t\u1ed5"}),v.map((e=>(0,ar.jsx)("option",{value:e,children:e},e)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xean h\xe0ng"}),(0,ar.jsx)("input",{type:"text",value:d.tenHang,onChange:e=>h({...d,tenHang:e.target.value}),placeholder:"T\xecm theo t\xean h\xe0ng...",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kho\u1ea3ng th\u1eddi gian"}),(0,ar.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,ar.jsx)(Ik,{className:"w-4 h-4 text-gray-500"})}),(0,ar.jsx)("input",{type:"date",value:d.startDate?LY(d.startDate):"",onChange:e=>O("startDate",e.target.value),className:"pl-10 p-2 border rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",placeholder:"T\u1eeb ng\xe0y"})]}),(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,ar.jsx)(Ik,{className:"w-4 h-4 text-gray-500"})}),(0,ar.jsx)("input",{type:"date",value:d.endDate?LY(d.endDate):"",onChange:e=>O("endDate",e.target.value),className:"pl-10 p-2 border rounded-lg w-full focus:ring-indigo-500 focus:border-indigo-500",placeholder:"\u0110\u1ebfn ng\xe0y"})]})]})]}),(0,ar.jsx)("div",{className:"flex items-end",children:(0,ar.jsx)("button",{onClick:()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);h({startDate:t,endDate:e,congDoan:"",to:"",tenHang:""})},className:"w-full px-4 py-2 text-indigo-600 bg-indigo-50 border border-indigo-200 rounded-lg hover:bg-indigo-100 transition-colors",children:"X\xf3a b\u1ed9 l\u1ecdc"})})]})}),(0,ar.jsx)("div",{className:"mb-6 border-b border-gray-200",children:(0,ar.jsxs)("ul",{className:"flex flex-wrap -mb-px text-sm font-medium text-center",children:[(0,ar.jsx)("li",{className:"mr-2",children:(0,ar.jsxs)("button",{onClick:()=>u("overview"),className:"inline-flex items-center p-4 border-b-2 rounded-t-lg group "+("overview"===c?"text-indigo-600 border-indigo-600":"border-transparent hover:text-gray-600 hover:border-gray-300"),children:[(0,ar.jsx)(kr,{className:"w-4 h-4 mr-2 "+("overview"===c?"text-indigo-600":"text-gray-400 group-hover:text-gray-500")}),"T\u1ed5ng quan"]})}),(0,ar.jsx)("li",{className:"mr-2",children:(0,ar.jsxs)("button",{onClick:()=>u("byStage"),className:"inline-flex items-center p-4 border-b-2 rounded-t-lg group "+("byStage"===c?"text-indigo-600 border-indigo-600":"border-transparent hover:text-gray-600 hover:border-gray-300"),children:[(0,ar.jsx)(nB,{className:"w-4 h-4 mr-2 "+("byStage"===c?"text-indigo-600":"text-gray-400 group-hover:text-gray-500")}),"Theo c\xf4ng \u0111o\u1ea1n"]})}),(0,ar.jsx)("li",{className:"mr-2",children:(0,ar.jsxs)("button",{onClick:()=>u("byTeam"),className:"inline-flex items-center p-4 border-b-2 rounded-t-lg group "+("byTeam"===c?"text-indigo-600 border-indigo-600":"border-transparent hover:text-gray-600 hover:border-gray-300"),children:[(0,ar.jsx)(WB,{className:"w-4 h-4 mr-2 "+("byTeam"===c?"text-indigo-600":"text-gray-400 group-hover:text-gray-500")}),"Theo t\u1ed5"]})}),(0,ar.jsx)("li",{className:"mr-2",children:(0,ar.jsxs)("button",{onClick:()=>u("byStaff"),className:"inline-flex items-center p-4 border-b-2 rounded-t-lg group "+("byStaff"===c?"text-indigo-600 border-indigo-600":"border-transparent hover:text-gray-600 hover:border-gray-300"),children:[(0,ar.jsx)(WB,{className:"w-4 h-4 mr-2 "+("byStaff"===c?"text-indigo-600":"text-gray-400 group-hover:text-gray-500")}),"Theo nh\xe2n vi\xean"]})}),(0,ar.jsx)("li",{children:(0,ar.jsxs)("button",{onClick:()=>u("byTime"),className:"inline-flex items-center p-4 border-b-2 rounded-t-lg group "+("byTime"===c?"text-indigo-600 border-indigo-600":"border-transparent hover:text-gray-600 hover:border-gray-300"),children:[(0,ar.jsx)(Ik,{className:"w-4 h-4 mr-2 "+("byTime"===c?"text-indigo-600":"text-gray-400 group-hover:text-gray-500")}),"Theo th\u1eddi gian"]})})]})}),i?(0,ar.jsxs)("div",{className:"flex items-center justify-center p-12",children:[(0,ar.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-500 border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),(0,ar.jsx)("span",{className:"ml-2 text-gray-500",children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u..."})]}):(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,ar.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"T\u1ed5ng s\u1ed1 b\xe1o c\xe1o"}),(0,ar.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:m.totalReports})]}),(0,ar.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,ar.jsx)(XB,{className:"h-6 w-6 text-blue-600"})})]}),(0,ar.jsx)("div",{className:"mt-3 flex items-center text-sm",children:(0,ar.jsx)("span",{className:"text-gray-600",children:"B\xe1o c\xe1o s\u1ea3n xu\u1ea5t trong k\u1ef3"})})]}),(0,ar.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"T\u1ed5ng kh\u1ed1i l\u01b0\u1ee3ng"}),(0,ar.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:m.totalVolume.toFixed(2)})]}),(0,ar.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,ar.jsx)(kr,{className:"h-6 w-6 text-green-600"})})]}),(0,ar.jsx)("div",{className:"mt-3 flex items-center text-sm",children:(0,ar.jsx)("span",{className:"text-gray-600",children:"Kh\u1ed1i l\u01b0\u1ee3ng s\u1ea3n xu\u1ea5t"})})]}),(0,ar.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"T\u1ed5ng gi\xe1 tr\u1ecb"}),(0,ar.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(m.totalValue)})]}),(0,ar.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,ar.jsx)(Er,{className:"h-6 w-6 text-purple-600"})})]}),(0,ar.jsx)("div",{className:"mt-3 flex items-center text-sm",children:(0,ar.jsx)("span",{className:"text-gray-600",children:"Gi\xe1 tr\u1ecb s\u1ea3n xu\u1ea5t"})})]}),(0,ar.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Nh\xe2n s\u1ef1 tham gia"}),(0,ar.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:m.totalStaff})]}),(0,ar.jsx)("div",{className:"p-2 bg-amber-100 rounded-lg",children:(0,ar.jsx)(WB,{className:"h-6 w-6 text-amber-600"})})]}),(0,ar.jsx)("div",{className:"mt-3 flex items-center text-sm",children:(0,ar.jsxs)("span",{className:"text-gray-600",children:["S\u1ed1 s\u1ea3n ph\u1ea9m: ",m.uniqueProducts]})})]})]}),"overview"===c&&(0,ar.jsxs)("div",{className:"space-y-6",children:[(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ar.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Ph\xe2n b\u1ed1 theo c\xf4ng \u0111o\u1ea1n"}),(0,ar.jsx)("div",{className:"h-80",children:(0,ar.jsx)(MY,{data:{labels:g.filter((e=>e.count>0)).map((e=>e.stage)),datasets:[{data:g.filter((e=>e.count>0)).map((e=>e.value)),backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 159, 64, 0.6)","rgba(199, 199, 199, 0.6)","rgba(83, 102, 255, 0.6)"],borderWidth:1}]},options:T})})]}),(0,ar.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Xu h\u01b0\u1edbng s\u1ea3n xu\u1ea5t"}),(0,ar.jsx)("div",{className:"h-80",children:(0,ar.jsx)(HY,{data:k.timeSeries,options:S})})]})]}),(0,ar.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"B\xe1o c\xe1o g\u1ea7n \u0111\xe2y"}),(0,ar.jsx)("div",{className:"overflow-x-auto",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gray-50",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"ID BC"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Ng\xe0y"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"T\xean h\xe0ng"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"T\u1ed5"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"C\xf4ng \u0111o\u1ea1n"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Kh\u1ed1i l\u01b0\u1ee3ng"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"\u0110\u01a1n gi\xe1"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Th\xe0nh ti\u1ec1n"})]})}),(0,ar.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[p.slice(0,10).map((e=>(0,ar.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:e.IDBC}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:FY(e["NG\xc0Y"])}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:e["T\xcaN H\xc0NG"]}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:e["T\u1ed4"]}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:e["C\xd4NG \u0110O\u1ea0N"]}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium",children:e["KH\u1ed0I L\u01af\u1ee2NG"]}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:e["\u0110\u01a0N GI\xc1"]}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e["TH\xc0NH TI\u1ec0N"]||0)})]},e.IDBC))),0===p.length&&(0,ar.jsx)("tr",{children:(0,ar.jsx)("td",{colSpan:"8",className:"px-4 py-6 text-center text-sm text-gray-500",children:"Kh\xf4ng t\xecm th\u1ea5y b\xe1o c\xe1o n\xe0o ph\xf9 h\u1ee3p v\u1edbi ti\xeau ch\xed t\xecm ki\u1ebfm"})})]})]})})]})]}),"byStage"===c&&(0,ar.jsxs)("div",{className:"space-y-6",children:[(0,ar.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Gi\xe1 tr\u1ecb theo c\xf4ng \u0111o\u1ea1n"}),(0,ar.jsx)("div",{className:"h-80",children:(0,ar.jsx)(DY,{data:N.value,options:T})})]}),(0,ar.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Chi ti\u1ebft theo c\xf4ng \u0111o\u1ea1n"}),(0,ar.jsx)("div",{className:"overflow-x-auto",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gray-50",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"C\xf4ng \u0111o\u1ea1n"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"S\u1ed1 b\xe1o c\xe1o"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"Kh\u1ed1i l\u01b0\u1ee3ng"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"Gi\xe1 tr\u1ecb"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"% T\u1ed5ng gi\xe1 tr\u1ecb"})]})}),(0,ar.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[g.sort(((e,t)=>t.value-e.value)).map((e=>{const t=m.totalValue>0?(e.value/m.totalValue*100).toFixed(2):"0.00";return(0,ar.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:e.stage}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right",children:e.count}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right",children:e.volume.toFixed(2)}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right font-medium",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e.value)}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right",children:(0,ar.jsx)("div",{className:"flex items-center justify-end",children:(0,ar.jsxs)("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium "+(parseFloat(t)>30?"bg-green-100 text-green-800":parseFloat(t)>10?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:[t,"%"]})})})]},e.stage)})),0===g.length&&(0,ar.jsx)("tr",{children:(0,ar.jsx)("td",{colSpan:"5",className:"px-4 py-6 text-center text-sm text-gray-500",children:"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u ph\xf9 h\u1ee3p v\u1edbi ti\xeau ch\xed t\xecm ki\u1ebfm"})})]})]})})]})]}),"byTeam"===c&&(0,ar.jsxs)("div",{className:"space-y-6",children:[(0,ar.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Gi\xe1 tr\u1ecb s\u1ea3n xu\u1ea5t theo t\u1ed5"}),(0,ar.jsx)("div",{className:"h-80",children:(0,ar.jsx)(DY,{data:w.value,options:T})})]}),(0,ar.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Chi ti\u1ebft theo t\u1ed5"}),(0,ar.jsx)("div",{className:"overflow-x-auto",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gray-50",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"T\u1ed5"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"S\u1ed1 b\xe1o c\xe1o"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"Kh\u1ed1i l\u01b0\u1ee3ng"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"Gi\xe1 tr\u1ecb"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"S\u1ed1 c\xf4ng \u0111o\u1ea1n"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"S\u1ed1 s\u1ea3n ph\u1ea9m"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"C\xf4ng \u0111o\u1ea1n tham gia"})]})}),(0,ar.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[x.sort(((e,t)=>t.value-e.value)).map((e=>(0,ar.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right",children:e.count}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right",children:e.volume.toFixed(2)}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right font-medium",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e.value)}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right",children:e.stageCount}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right",children:e.productCount}),(0,ar.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:(0,ar.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.stages.slice(0,3).map(((e,t)=>(0,ar.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:e},t))),e.stages.length>3&&(0,ar.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.stages.length-3," kh\xe1c"]})]})})]},e.name))),0===x.length&&(0,ar.jsx)("tr",{children:(0,ar.jsx)("td",{colSpan:"7",className:"px-4 py-6 text-center text-sm text-gray-500",children:"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u ph\xf9 h\u1ee3p v\u1edbi ti\xeau ch\xed t\xecm ki\u1ebfm"})})]})]})})]})]}),"byStaff"===c&&(0,ar.jsxs)("div",{className:"space-y-6",children:[(0,ar.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Top 10 nh\xe2n vi\xean c\xf3 gi\xe1 tr\u1ecb \u0111\xf3ng g\xf3p cao nh\u1ea5t"}),(0,ar.jsx)("div",{className:"h-80",children:(0,ar.jsx)(DY,{data:j.value,options:T})})]}),(0,ar.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Chi ti\u1ebft theo nh\xe2n vi\xean"}),(0,ar.jsx)("div",{className:"overflow-x-auto",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gray-50",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Nh\xe2n vi\xean"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"S\u1ed1 l\u01b0\u1ee3ng tham gia"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"Kh\u1ed1i l\u01b0\u1ee3ng \u0111\xf3ng g\xf3p"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"Gi\xe1 tr\u1ecb \u0111\xf3ng g\xf3p"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"T\u1ed5 tham gia"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"C\xf4ng \u0111o\u1ea1n tham gia"})]})}),(0,ar.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[b.sort(((e,t)=>t.value-e.value)).map((e=>(0,ar.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right",children:e.count}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right",children:e.volume.toFixed(2)}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right font-medium",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e.value)}),(0,ar.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:(0,ar.jsx)("div",{className:"flex flex-wrap gap-1",children:e.teams.map(((e,t)=>(0,ar.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:e},t)))})}),(0,ar.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:(0,ar.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.stages.slice(0,2).map(((e,t)=>(0,ar.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:e},t))),e.stages.length>2&&(0,ar.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.stages.length-2]})]})})]},e.name))),0===b.length&&(0,ar.jsx)("tr",{children:(0,ar.jsx)("td",{colSpan:"6",className:"px-4 py-6 text-center text-sm text-gray-500",children:"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u ph\xf9 h\u1ee3p v\u1edbi ti\xeau ch\xed t\xecm ki\u1ebfm"})})]})]})})]})]}),"byTime"===c&&(0,ar.jsxs)("div",{className:"space-y-6",children:[(0,ar.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Bi\u1ec3u \u0111\u1ed3 s\u1ea3n xu\u1ea5t theo th\u1eddi gian"}),(0,ar.jsx)("div",{className:"h-80",children:(0,ar.jsx)(HY,{data:k.timeSeries,options:S})})]}),(0,ar.jsxs)("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Chi ti\u1ebft theo ng\xe0y"}),(0,ar.jsx)("div",{className:"overflow-x-auto",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gray-50",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-left",children:"Ng\xe0y"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"S\u1ed1 b\xe1o c\xe1o"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"Kh\u1ed1i l\u01b0\u1ee3ng"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"Gi\xe1 tr\u1ecb"}),(0,ar.jsx)("th",{scope:"col",className:"px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right",children:"% T\u1ed5ng gi\xe1 tr\u1ecb"})]})}),(0,ar.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[y.daily.sort(((e,t)=>RY(t.date)-RY(e.date))).map(((e,t)=>{const r=m.totalValue>0?(e.value/m.totalValue*100).toFixed(2):"0.00";return(0,ar.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:e.date}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right",children:e.count}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right",children:e.volume.toFixed(2)}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right font-medium",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e.value)}),(0,ar.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right",children:(0,ar.jsx)("div",{className:"flex items-center justify-end",children:(0,ar.jsxs)("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium "+(parseFloat(r)>15?"bg-green-100 text-green-800":parseFloat(r)>5?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:[r,"%"]})})})]},t)})),0===y.daily.length&&(0,ar.jsx)("tr",{children:(0,ar.jsx)("td",{colSpan:"5",className:"px-4 py-6 text-center text-sm text-gray-500",children:"Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u ph\xf9 h\u1ee3p v\u1edbi ti\xeau ch\xed t\xecm ki\u1ebfm"})})]})]})})]})]})]})]})}),(0,ar.jsx)(lt,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},GY=fr("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);r(3092);const BY=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[i,s]=(0,n.useState)([]),[o,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)(!1),[f,p]=(0,n.useState)("ALL"),[m,g]=(0,n.useState)("ALL"),[x,b]=(0,n.useState)("ALL"),[y,v]=(0,n.useState)(""),[N,w]=(0,n.useState)(""),j="C\xd4NG TY TNHH HO\xc0NG NGUY\xcaN LONG",k="\u0110\u1ecba ch\u1ec9: \u1ea4p Kinh Nh\u01b0\u1ee3ng, X\xe3 V\u1ecbnh H\xf2a, Huy\u1ec7n Ph\xfa Gi\xe1o,B\xecnh D\u01b0\u01a1ng",T="\u0110T: 0123 456 789";(0,n.useEffect)((()=>{(async()=>{try{h(!0);const e=(await ut.apiRequestKHO("XUATNHAPKHO_CHITIET","Find",{})).filter((e=>"NHAP"===e.NGHIEP_VU));t(e),a(e)}catch(e){console.error("Error fetching kien list:",e),et.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch ki\u1ec7n")}finally{h(!1)}})()}),[]),(0,n.useEffect)((()=>{let t=[...e];if(o){const e=o.toLowerCase();t=t.filter((t=>{var r,n,a;return(null===(r=t.MA_KIEN)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(n=t.NHOM_HANG)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(a=t.DOI_HANG_KHO)||void 0===a?void 0:a.toLowerCase().includes(e))}))}"ALL"!==f&&(t=t.filter((e=>e.KHO_NHAP===f))),"ALL"!==m&&(t=t.filter((e=>e.CHATLUONG===m))),"ALL"!==x&&(t=t.filter((e=>e.NHOM_HANG===x))),(y||N)&&(t=t.filter((e=>{const t=new Date(e.NGAY_NHAP_XUAT);let r=!0;if(y){const e=new Date(y);r=r&&t>=e}if(N){const e=new Date(N);e.setHours(23,59,59,999),r=r&&t<=e}return r}))),a(t)}),[o,f,m,x,y,N,e]);const S=[...new Set(e.map((e=>e.KHO_NHAP)).filter(Boolean))],O=[...new Set(e.map((e=>e.CHATLUONG)).filter(Boolean))],_=[...new Set(e.map((e=>e.NHOM_HANG)).filter(Boolean))],E=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("vi-VN")}catch(t){return e}},C=e=>{const t=`\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <meta charset="UTF-8">\n      <title>In Th\u1ebb Kho</title>\n      <style>\n        @page {\n          size: 100mm 150mm;\n          margin: 0;\n        }\n        \n        * {\n          margin: 0;\n          padding: 0;\n          box-sizing: border-box;\n        }\n        \n        body {\n          font-family: 'Arial', sans-serif;\n          background: white;\n        }\n        \n        .tag-container {\n          width: 100mm;\n          height: 150mm;\n          page-break-after: always;\n          page-break-inside: avoid;\n          position: relative;\n          border: 2px solid #000;\n          padding: 5mm;\n          display: flex;\n          flex-direction: column;\n          background: white;\n          overflow: hidden;\n        }\n        \n        .tag-container:last-child {\n          page-break-after: auto;\n        }\n        \n        /* Watermark logo */\n        .watermark {\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          opacity: 0.08;\n          z-index: 0;\n          width: 55mm;\n          height: 55mm;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .watermark img {\n          max-width: 100%;\n          max-height: 100%;\n          object-fit: contain;\n        }\n        \n        /* Content */\n        .tag-content {\n          position: relative;\n          z-index: 1;\n          display: flex;\n          flex-direction: column;\n          height: 100%;\n        }\n        \n        /* Header */\n        .tag-header {\n          text-align: center;\n          border-bottom: 2px solid #000;\n          padding-bottom: 2mm;\n          margin-bottom: 2mm;\n        }\n        \n        .header-logo {\n          width: 20mm;\n          height: auto;\n          margin: 0 auto 1mm;\n          display: block;\n        }\n        \n        .company-name {\n          font-size: 9pt;\n          font-weight: bold;\n          margin-bottom: 0.5mm;\n          text-transform: uppercase;\n          color: #0066cc;\n          line-height: 1.1;\n        }\n        \n        .company-address {\n          font-size: 6pt;\n          margin-bottom: 0.3mm;\n          color: #333;\n          line-height: 1.2;\n        }\n        \n        .company-phone {\n          font-size: 6pt;\n          margin-bottom: 1mm;\n          color: #333;\n        }\n        \n        .tag-title {\n          font-size: 14pt;\n          font-weight: bold;\n          margin-top: 1mm;\n          letter-spacing: 2px;\n          color: #0066cc;\n        }\n        \n        /* Barcode section */\n        .barcode-section {\n          text-align: center;\n          margin: 2mm 0;\n          padding: 1.5mm 0;\n          border-top: 1px dashed #666;\n          border-bottom: 1px dashed #666;\n          background: linear-gradient(to right, #f8f9fa, #ffffff, #f8f9fa);\n        }\n        \n        .barcode-wrapper {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          height: 18mm;\n        }\n        \n        .ma-kien-text {\n          font-size: 12pt;\n          font-weight: bold;\n          margin-top: 1mm;\n          letter-spacing: 1px;\n          color: #000;\n        }\n        \n        /* Info section */\n        .info-section {\n          flex: 0 0 auto;\n          display: flex;\n          flex-direction: column;\n          gap: 0.8mm;\n          margin-bottom: 2mm;\n        }\n        \n        .info-row {\n          display: flex;\n          justify-content: space-between;\n          padding: 1mm 1.5mm;\n          border-bottom: 1px solid #e0e0e0;\n          font-size: 8pt;\n          background: #fafafa;\n          line-height: 1.2;\n        }\n        \n        .info-row:nth-child(even) {\n          background: #ffffff;\n        }\n        \n        .info-row:last-child {\n          border-bottom: none;\n        }\n        \n        .info-label {\n          font-weight: bold;\n          color: #555;\n          min-width: 25mm;\n        }\n        \n        .info-value {\n          font-weight: bold;\n          color: #000;\n          text-align: right;\n          flex: 1;\n        }\n        \n        /* Size section */\n        .size-section {\n          flex: 0 0 auto;\n          margin-top: auto;\n          padding: 1.5mm;\n          background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);\n          border: 2px solid #0066cc;\n          border-radius: 1.5mm;\n        }\n        \n        .size-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 1.5mm;\n          margin-bottom: 1.5mm;\n        }\n        \n        .size-item {\n          display: flex;\n          justify-content: space-between;\n          font-size: 9pt;\n          padding: 0.8mm;\n          background: white;\n          border-radius: 1mm;\n          line-height: 1.2;\n        }\n        \n        .size-label {\n          font-weight: bold;\n          color: #0066cc;\n        }\n        \n        .size-value {\n          font-weight: bold;\n          color: #d32f2f;\n        }\n        \n        .total-volume {\n          padding: 1.5mm;\n          background: white;\n          border-radius: 1mm;\n          border: 1px solid #0066cc;\n        }\n        \n        .total-volume-inner {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n        \n        /* Footer */\n        .tag-footer {\n          flex: 0 0 auto;\n          margin-top: 2mm;\n          padding-top: 1.5mm;\n          border-top: 1px solid #000;\n          text-align: center;\n          font-size: 6pt;\n          color: #666;\n          line-height: 1.3;\n        }\n        \n        .footer-company {\n          margin-top: 0.5mm;\n          font-weight: bold;\n          color: #0066cc;\n          font-size: 7pt;\n        }\n        \n        @media print {\n          body {\n            print-color-adjust: exact;\n            -webkit-print-color-adjust: exact;\n          }\n          \n          .tag-container {\n            page-break-inside: avoid !important;\n          }\n          \n          @page {\n            margin: 0;\n          }\n        }\n      </style>\n    </head>\n    <body>\n      ${e.map((e=>`\n        <div class="tag-container">\n          \x3c!-- Watermark --\x3e\n          <div class="watermark">\n            <img src="${window.location.origin}/logo1.png" alt="Logo" />\n          </div>\n          \n          \x3c!-- Content --\x3e\n          <div class="tag-content">\n            \x3c!-- Header --\x3e\n            <div class="tag-header">\n              <img src="${window.location.origin}/logo1.png" alt="Logo" class="header-logo" />\n              <div class="company-name">${j}</div>\n              <div class="company-address">${k}</div>\n              <div class="company-phone">${T}</div>\n              <div class="tag-title">TH\u1eba KHO</div>\n            </div>\n            \n            \x3c!-- Barcode Section --\x3e\n            <div class="barcode-section">\n              <div class="barcode-wrapper">\n                <svg id="barcode-${e.MA_KIEN}"></svg>\n              </div>\n              <div class="ma-kien-text">${e.MA_KIEN}</div>\n            </div>\n            \n            \x3c!-- Info Section --\x3e\n            <div class="info-section">\n              <div class="info-row">\n                <span class="info-label">\ud83d\udcc5 Ng\xe0y nh\u1eadp:</span>\n                <span class="info-value">${E(e.NGAY_NHAP_XUAT)}</span>\n              </div>\n              <div class="info-row">\n                <span class="info-label">\u2b50 Ch\u1ea5t l\u01b0\u1ee3ng:</span>\n                <span class="info-value">${e.CHATLUONG||"\u2014"}</span>\n              </div>\n              <div class="info-row">\n                <span class="info-label">\ud83d\udce6 Nh\xf3m h\xe0ng:</span>\n                <span class="info-value">${e.NHOM_HANG||"\u2014"}</span>\n              </div>\n              <div class="info-row">\n                <span class="info-label">\ud83d\udc77 \u0110\u1ed9i h\xe0ng kh\xf4:</span>\n                <span class="info-value">${e.DOI_HANG_KHO||"\u2014"}</span>\n              </div>\n              <div class="info-row">\n                <span class="info-label">\ud83c\udfe2 Kho:</span>\n                <span class="info-value">${e.KHO_NHAP||"\u2014"}</span>\n              </div>\n            </div>\n            \n            \x3c!-- Size Section --\x3e\n            <div class="size-section">\n              <div class="size-grid">\n                <div class="size-item">\n                  <span class="size-label">D\xe0y:</span>\n                  <span class="size-value">${e.DAY} mm</span>\n                </div>\n                <div class="size-item">\n                  <span class="size-label">R\u1ed9ng:</span>\n                  <span class="size-value">${e.RONG} mm</span>\n                </div>\n                <div class="size-item">\n                  <span class="size-label">D\xe0i:</span>\n                  <span class="size-value">${e.DAI} mm</span>\n                </div>\n                <div class="size-item">\n                  <span class="size-label">S\u1ed1 thanh:</span>\n                  <span class="size-value">${e.THANH||"\u2014"}</span>\n                </div>\n              </div>\n              <div class="total-volume">\n                <div class="total-volume-inner">\n                  <span class="size-label" style="font-size: 10pt;">\ud83d\udcca Kh\u1ed1i l\u01b0\u1ee3ng:</span>\n                  <span class="size-value" style="font-size: 11pt;">${parseFloat(e.SO_KHOI||0).toFixed(4)} m\xb3</span>\n                </div>\n              </div>\n            </div>\n            \n            \x3c!-- Footer --\x3e\n            <div class="tag-footer">\n              <div>In l\xfac: ${(new Date).toLocaleString("vi-VN")}</div>\n              <div class="footer-company">HO\xc0NG NGUY\xcaN LONG</div>\n            </div>\n          </div>\n        </div>\n      `)).join("")}\n      \n      <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"><\/script>\n      <script>\n        window.onload = function() {\n          ${e.map((e=>`\n            try {\n              JsBarcode("#barcode-${e.MA_KIEN}", "${e.MA_KIEN}", {\n                format: "CODE128",\n                width: 1.8,\n                height: 45,\n                displayValue: false,\n                margin: 3\n              });\n            } catch(e) {\n              console.error('Barcode error:', e);\n            }\n          `)).join("\n")}\n          \n          setTimeout(function() {\n            window.print();\n          }, 500);\n        }\n      <\/script>\n    </body>\n    </html>\n  `,r=window.open("","_blank","width=400,height=600");r.document.write(t),r.document.close()};return(0,ar.jsxs)("div",{className:"p-3 md:p-4 bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen",children:[(0,ar.jsx)("div",{className:"mx-auto",children:(0,ar.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-3 md:p-4 mb-4 border border-gray-100",children:[(0,ar.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-3 gap-3",children:[(0,ar.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ar.jsx)("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-md",children:(0,ar.jsx)(GY,{className:"w-5 h-5 text-white"})}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:"Qu\u1ea3n L\xfd Th\u1ebb Kho"}),(0,ar.jsx)("p",{className:"text-xs md:text-sm text-gray-500 mt-0.5",children:"In th\u1ebb tag cho m\xe3 ki\u1ec7n"})]})]}),(0,ar.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ar.jsxs)("button",{onClick:()=>u(!c),className:"px-3 py-1.5 rounded-lg flex items-center gap-1.5 transition-all shadow-sm hover:shadow text-sm "+(c?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:[(0,ar.jsx)(vk,{className:"w-4 h-4"}),c?"\u1ea8n b\u1ed9 l\u1ecdc":"B\u1ed9 l\u1ecdc"]}),i.length>0&&(0,ar.jsxs)("button",{onClick:()=>{0!==i.length?C(i):et.warning("Vui l\xf2ng ch\u1ecdn \xedt nh\u1ea5t m\u1ed9t ki\u1ec7n \u0111\u1ec3 in")},className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white px-3 py-1.5 rounded-lg flex items-center gap-1.5 transition-all shadow-md hover:shadow-lg text-sm font-medium",children:[(0,ar.jsx)(xB,{className:"w-4 h-4"}),"In \u0111\xe3 ch\u1ecdn (",i.length,")"]}),(0,ar.jsxs)("button",{onClick:()=>{0!==r.length?C(r):et.warning("Kh\xf4ng c\xf3 ki\u1ec7n n\xe0o \u0111\u1ec3 in")},className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-3 py-1.5 rounded-lg flex items-center gap-1.5 transition-all shadow-md hover:shadow-lg text-sm font-medium",children:[(0,ar.jsx)(xB,{className:"w-4 h-4"}),"In t\u1ea5t c\u1ea3 (",r.length,")"]})]})]}),c&&(0,ar.jsxs)("div",{className:"mb-3 space-y-3 animate-fadeIn",children:[(0,ar.jsxs)("div",{className:"relative",children:[(0,ar.jsx)(wk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,ar.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm theo m\xe3 ki\u1ec7n, nh\xf3m h\xe0ng, \u0111\u1ed9i h\xe0ng kh\xf4...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all shadow-sm text-sm",value:o,onChange:e=>l(e.target.value)})]}),(0,ar.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-3 rounded-lg border border-gray-200 shadow-sm",children:[(0,ar.jsxs)("h3",{className:"text-xs font-semibold text-gray-700 mb-2 flex items-center gap-1.5",children:[(0,ar.jsx)(vk,{className:"w-3.5 h-3.5"}),"B\u1ed9 l\u1ecdc n\xe2ng cao:"]}),(0,ar.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-2.5",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Kho:"}),(0,ar.jsxs)("select",{value:f,onChange:e=>p(e.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white",children:[(0,ar.jsx)("option",{value:"ALL",children:"T\u1ea5t c\u1ea3"}),S.map(((e,t)=>(0,ar.jsx)("option",{value:e,children:e},t)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ch\u1ea5t l\u01b0\u1ee3ng:"}),(0,ar.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white",children:[(0,ar.jsx)("option",{value:"ALL",children:"T\u1ea5t c\u1ea3"}),O.map(((e,t)=>(0,ar.jsx)("option",{value:e,children:e},t)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nh\xf3m h\xe0ng:"}),(0,ar.jsxs)("select",{value:x,onChange:e=>b(e.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white",children:[(0,ar.jsx)("option",{value:"ALL",children:"T\u1ea5t c\u1ea3"}),_.map(((e,t)=>(0,ar.jsx)("option",{value:e,children:e},t)))]})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"T\u1eeb ng\xe0y:"}),(0,ar.jsx)("input",{type:"date",value:y,onChange:e=>v(e.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white"})]}),(0,ar.jsxs)("div",{children:[(0,ar.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"\u0110\u1ebfn ng\xe0y:"}),(0,ar.jsx)("input",{type:"date",value:N,onChange:e=>w(e.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white"})]})]}),("ALL"!==f||"ALL"!==m||"ALL"!==x||y||N)&&(0,ar.jsxs)("button",{onClick:()=>{p("ALL"),g("ALL"),b("ALL"),v(""),w("")},className:"mt-2 px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-all text-xs font-medium",children:[(0,ar.jsx)(xk,{className:"w-3.5 h-3.5 inline mr-1"}),"X\xf3a b\u1ed9 l\u1ecdc"]})]})]}),(0,ar.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2.5 mb-3",children:[(0,ar.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-lg p-2.5",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-xs font-medium text-blue-700 mb-0.5",children:"T\u1ed5ng ki\u1ec7n"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:e.length})]}),(0,ar.jsx)(yr,{className:"w-8 h-8 text-blue-500"})]})}),(0,ar.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-lg p-2.5",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-xs font-medium text-green-700 mb-0.5",children:"\u0110\xe3 l\u1ecdc"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-green-900",children:r.length})]}),(0,ar.jsx)(vk,{className:"w-8 h-8 text-green-500"})]})}),(0,ar.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-lg p-2.5",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-xs font-medium text-purple-700 mb-0.5",children:"\u0110\xe3 ch\u1ecdn"}),(0,ar.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:i.length})]}),(0,ar.jsx)(GY,{className:"w-8 h-8 text-purple-500"})]})}),(0,ar.jsx)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 border border-orange-200 rounded-lg p-2.5",children:(0,ar.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ar.jsxs)("div",{children:[(0,ar.jsx)("h3",{className:"text-xs font-medium text-orange-700 mb-0.5",children:"T\u1ed5ng m\xb3"}),(0,ar.jsx)("p",{className:"text-xl font-bold text-orange-900",children:r.reduce(((e,t)=>e+(parseFloat(t.SO_KHOI)||0)),0).toFixed(2)})]}),(0,ar.jsx)(gB,{className:"w-8 h-8 text-orange-500"})]})})]}),(0,ar.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:(0,ar.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ar.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:(0,ar.jsxs)("tr",{children:[(0,ar.jsx)("th",{className:"px-2 py-2 text-left",children:(0,ar.jsx)("input",{type:"checkbox",checked:i.length===r.length&&r.length>0,onChange:()=>{i.length===r.length?s([]):s([...r])},className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"})}),(0,ar.jsx)("th",{className:"px-2 py-2 text-left text-xs font-bold text-gray-700 uppercase",children:"M\xe3 ki\u1ec7n"}),(0,ar.jsx)("th",{className:"px-2 py-2 text-left text-xs font-bold text-gray-700 uppercase",children:"Nh\xf3m h\xe0ng"}),(0,ar.jsx)("th",{className:"px-2 py-2 text-left text-xs font-bold text-gray-700 uppercase",children:"K\xedch th\u01b0\u1edbc"}),(0,ar.jsx)("th",{className:"px-2 py-2 text-left text-xs font-bold text-gray-700 uppercase",children:"S\u1ed1 thanh"}),(0,ar.jsx)("th",{className:"px-2 py-2 text-left text-xs font-bold text-gray-700 uppercase",children:"M\xb3"}),(0,ar.jsx)("th",{className:"px-2 py-2 text-left text-xs font-bold text-gray-700 uppercase",children:"Ch\u1ea5t l\u01b0\u1ee3ng"}),(0,ar.jsx)("th",{className:"px-2 py-2 text-left text-xs font-bold text-gray-700 uppercase",children:"Ng\xe0y nh\u1eadp"}),(0,ar.jsx)("th",{className:"px-2 py-2 text-left text-xs font-bold text-gray-700 uppercase",children:"Kho"}),(0,ar.jsx)("th",{className:"px-2 py-2 text-center text-xs font-bold text-gray-700 uppercase",children:"Thao t\xe1c"})]})}),(0,ar.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length>0?r.map(((e,t)=>(0,ar.jsxs)("tr",{className:"hover:bg-blue-50 transition-colors "+(t%2===0?"bg-white":"bg-gray-50"),children:[(0,ar.jsx)("td",{className:"px-2 py-2",children:(0,ar.jsx)("input",{type:"checkbox",checked:void 0!==i.find((t=>t.ID_CT===e.ID_CT)),onChange:()=>(e=>{const t=i.find((t=>t.ID_CT===e.ID_CT));s(t?i.filter((t=>t.ID_CT!==e.ID_CT)):[...i,e])})(e),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"})}),(0,ar.jsx)("td",{className:"px-2 py-2 whitespace-nowrap",children:(0,ar.jsx)("span",{className:"px-2 py-0.5 bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 rounded text-xs font-semibold",children:e.MA_KIEN})}),(0,ar.jsx)("td",{className:"px-2 py-2 text-xs font-medium text-gray-900",children:e.NHOM_HANG}),(0,ar.jsxs)("td",{className:"px-2 py-2 text-xs text-gray-700",children:[e.DAY,"x",e.RONG,"x",e.DAI]}),(0,ar.jsx)("td",{className:"px-2 py-2 text-xs text-gray-700",children:e.THANH||"\u2014"}),(0,ar.jsx)("td",{className:"px-2 py-2 text-xs font-medium text-gray-900",children:parseFloat(e.SO_KHOI||0).toFixed(4)}),(0,ar.jsx)("td",{className:"px-2 py-2 text-xs",children:e.CHATLUONG?(0,ar.jsx)("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-800 rounded text-xs font-medium",children:e.CHATLUONG}):"\u2014"}),(0,ar.jsx)("td",{className:"px-2 py-2 text-xs text-gray-700",children:E(e.NGAY_NHAP_XUAT)}),(0,ar.jsx)("td",{className:"px-2 py-2 text-xs text-gray-700",children:e.KHO_NHAP}),(0,ar.jsx)("td",{className:"px-2 py-2 text-center",children:(0,ar.jsx)("button",{onClick:()=>(e=>{C([e])})(e),className:"text-blue-600 hover:text-blue-900 p-1 rounded-lg hover:bg-blue-100 transition-all",title:"In th\u1ebb",children:(0,ar.jsx)(xB,{className:"h-4 w-4"})})})]},e.ID_CT))):(0,ar.jsx)("tr",{children:(0,ar.jsx)("td",{colSpan:"10",className:"px-4 py-8 text-center",children:(0,ar.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[(0,ar.jsx)(yr,{className:"w-12 h-12 text-gray-300 mb-3"}),(0,ar.jsx)("p",{className:"text-sm font-medium",children:"Kh\xf4ng t\xecm th\u1ea5y ki\u1ec7n n\xe0o"})]})})})})]})})]})}),(0,ar.jsx)(lt,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,ar.jsx)("style",{children:"\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: scale(0.95);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1);\n          }\n        }\n        \n        .animate-fadeIn {\n          animation: fadeIn 0.2s ease-out;\n        }\n      "})]})},zY=e=>{let{children:t}=e;const r=Z();return ut.isAuthenticated()?t:(localStorage.setItem("returnUrl",r.pathname+r.search),(0,ar.jsx)(ge,{to:"/",replace:!0}))};const VY=function(){return(0,ar.jsxs)(ke,{children:[(0,ar.jsx)(lt,{position:"top-right"}),(0,ar.jsxs)(ye,{children:[(0,ar.jsx)(xe,{path:"/",element:(0,ar.jsx)(br,{})}),(0,ar.jsx)(xe,{path:"/*",element:(0,ar.jsx)(zY,{children:(0,ar.jsx)(dk,{children:(0,ar.jsxs)(ye,{children:[(0,ar.jsx)(xe,{path:"/home",element:(0,ar.jsx)(Ar,{})}),(0,ar.jsx)(xe,{path:"/dashboard",element:(0,ar.jsx)(ak,{})}),(0,ar.jsx)(xe,{path:"/profile",element:(0,ar.jsx)(yk,{})}),(0,ar.jsx)(xe,{path:"/users",element:(0,ar.jsx)(Ok,{})}),(0,ar.jsx)(xe,{path:"/giaban",element:(0,ar.jsx)(tB,{})}),(0,ar.jsx)(xe,{path:"/dmhh",element:(0,ar.jsx)(sB,{})}),(0,ar.jsx)(xe,{path:"/dskh",element:(0,ar.jsx)(dB,{})}),(0,ar.jsx)(xe,{path:"/hopdongnguyentac",element:(0,ar.jsx)(fB,{})}),(0,ar.jsx)(xe,{path:"/xuatnhapkho",element:(0,ar.jsx)(vB,{})}),(0,ar.jsx)(xe,{path:"/chitietxuatnhapkho",element:(0,ar.jsx)(NB,{})}),(0,ar.jsx)(xe,{path:"/tonkho",element:(0,ar.jsx)($B,{})}),(0,ar.jsx)(xe,{path:"/makien",element:(0,ar.jsx)(BY,{})}),(0,ar.jsx)(xe,{path:"/baocaoreport",element:(0,ar.jsx)(UY,{})}),(0,ar.jsx)(xe,{path:"/nhapbaobi",element:(0,ar.jsx)(RB,{})}),(0,ar.jsx)(xe,{path:"/congdoan_dongia",element:(0,ar.jsx)(wB,{})}),(0,ar.jsx)(xe,{path:"/phanbonhansu",element:(0,ar.jsx)(TB,{})}),(0,ar.jsx)(xe,{path:"/report",element:(0,ar.jsx)(BG,{})}),(0,ar.jsx)(xe,{path:"/tonghop",element:(0,ar.jsx)(YG,{})}),(0,ar.jsx)(xe,{path:"/reportMobile",element:(0,ar.jsx)(BB,{})}),(0,ar.jsx)(xe,{path:"/",element:(0,ar.jsx)(ge,{to:"/home",replace:!0})})]})})})})]})]})},KY=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,6453)).then((t=>{let{getCLS:r,getFID:n,getFCP:a,getLCP:i,getTTFB:s}=t;r(e),n(e),a(e),i(e),s(e)}))};i.createRoot(document.getElementById("root")).render((0,ar.jsx)(n.StrictMode,{children:(0,ar.jsx)(VY,{})})),KY()})()})();
//# sourceMappingURL=main.3a54564a.js.map